/*! For license information please see main.2e23d6d1.js.LICENSE.txt */
(()=>{var e={5513:(e,t,i)=>{"use strict";i.d(t,{A:()=>oe});var n=function(){function e(e){var t=this;this._insertTag=function(e){var i;i=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,i),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{i.insertRule(e,i.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,r=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,i){return e.replace(t,i)}function c(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function u(e,t,i){return e.slice(t,i)}function h(e){return e.length}function p(e){return e.length}function g(e,t){return t.push(e),e}var m=1,f=1,v=0,y=0,b=0,C="";function w(e,t,i,n,o,r,s){return{value:e,root:t,parent:i,type:n,props:o,children:r,line:m,column:f,length:s,return:""}}function x(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?d(C,--y):0,f--,10===b&&(f=1,m--),b}function R(){return b=y<v?d(C,y++):0,f++,10===b&&(f=1,m++),b}function M(){return d(C,y)}function k(){return y}function D(e,t){return u(C,e,t)}function A(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E(e){return m=f=1,v=h(C=e),y=0,[]}function T(e){return C="",e}function P(e){return a(D(y-1,L(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(b=M())&&b<33;)R();return A(e)>2||A(b)>3?"":" "}function N(e,t){for(;--t&&R()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return D(e,k()+(t<6&&32==M()&&32==R()))}function L(e){for(;R();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&L(b);break;case 40:41===e&&L(e);break;case 92:R()}return y}function I(e,t){for(;R()&&e+b!==57&&(e+b!==84||47!==M()););return"/*"+D(t,y-1)+"*"+r(47===e?e:R())}function O(e){for(;!A(M());)R();return D(e,y)}var j="-ms-",B="-moz-",_="-webkit-",G="comm",z="rule",H="decl",V="@keyframes";function W(e,t){for(var i="",n=p(e),o=0;o<n;o++)i+=t(e[o],o,e,t)||"";return i}function U(e,t,i,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case H:return e.return=e.return||e.value;case G:return"";case V:return e.return=e.value+"{"+W(e.children,n)+"}";case z:e.value=e.props.join(",")}return h(i=W(e.children,n))?e.return=e.value+"{"+i+"}":""}function Y(e){return T(K("",null,null,null,[""],e=E(e),0,[0],e))}function K(e,t,i,n,o,s,a,u,p){for(var m=0,f=0,v=a,y=0,b=0,C=0,w=1,x=1,D=1,A=0,E="",T=o,L=s,j=n,B=E;x;)switch(C=A,A=R()){case 40:if(108!=C&&58==d(B,v-1)){-1!=c(B+=l(P(A),"&","&\f"),"&\f")&&(D=-1);break}case 34:case 39:case 91:B+=P(A);break;case 9:case 10:case 13:case 32:B+=F(C);break;case 92:B+=N(k()-1,7);continue;case 47:switch(M()){case 42:case 47:g(X(I(R(),k()),t,i),p);break;default:B+="/"}break;case 123*w:u[m++]=h(B)*D;case 125*w:case 59:case 0:switch(A){case 0:case 125:x=0;case 59+f:-1==D&&(B=l(B,/\f/g,"")),b>0&&h(B)-v&&g(b>32?Z(B+";",n,i,v-1):Z(l(B," ","")+";",n,i,v-2),p);break;case 59:B+=";";default:if(g(j=q(B,t,i,m,f,o,u,E,T=[],L=[],v),s),123===A)if(0===f)K(B,t,j,j,T,s,v,u,L);else switch(99===y&&110===d(B,3)?100:y){case 100:case 108:case 109:case 115:K(e,j,j,n&&g(q(e,j,j,0,0,o,u,E,o,T=[],v),L),o,L,v,u,n?T:L);break;default:K(B,j,j,j,[""],L,0,u,L)}}m=f=b=0,w=D=1,E=B="",v=a;break;case 58:v=1+h(B),b=C;default:if(w<1)if(123==A)--w;else if(125==A&&0==w++&&125==S())continue;switch(B+=r(A),A*w){case 38:D=f>0?1:(B+="\f",-1);break;case 44:u[m++]=(h(B)-1)*D,D=1;break;case 64:45===M()&&(B+=P(R())),y=M(),f=v=h(E=B+=O(k())),A++;break;case 45:45===C&&2==h(B)&&(w=0)}}return s}function q(e,t,i,n,r,s,c,d,h,g,m){for(var f=r-1,v=0===r?s:[""],y=p(v),b=0,C=0,x=0;b<n;++b)for(var S=0,R=u(e,f+1,f=o(C=c[b])),M=e;S<y;++S)(M=a(C>0?v[S]+" "+R:l(R,/&\f/g,v[S])))&&(h[x++]=M);return w(e,t,i,0===r?z:d,h,g,m)}function X(e,t,i){return w(e,t,i,G,r(b),u(e,2,-2),0)}function Z(e,t,i,n){return w(e,t,i,H,u(e,0,n),u(e,n+1,-1),n)}var Q=function(e,t,i){for(var n=0,o=0;n=o,o=M(),38===n&&12===o&&(t[i]=1),!A(o);)R();return D(e,y)},J=function(e,t){return T(function(e,t){var i=-1,n=44;do{switch(A(n)){case 0:38===n&&12===M()&&(t[i]=1),e[i]+=Q(y-1,t,i);break;case 2:e[i]+=P(n);break;case 4:if(44===n){e[++i]=58===M()?"&\f":"",t[i]=e[i].length;break}default:e[i]+=r(n)}}while(n=R());return e}(E(e),t))},$=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,i=e.parent,n=e.column===i.column&&e.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$.get(i))&&!n){$.set(e,!0);for(var o=[],r=J(t,o),s=i.props,a=0,l=0;a<r.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?r[a].replace(/&\f/g,s[c]):s[c]+" "+r[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ie(e,t){switch(function(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}(e,t)){case 5103:return _+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _+e+B+e+j+e+e;case 6828:case 4268:return _+e+j+e+e;case 6165:return _+e+j+"flex-"+e+e;case 5187:return _+e+l(e,/(\w+).+(:[^]+)/,_+"box-$1$2"+j+"flex-$1$2")+e;case 5443:return _+e+j+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return _+e+j+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return _+e+j+l(e,"shrink","negative")+e;case 5292:return _+e+j+l(e,"basis","preferred-size")+e;case 6060:return _+"box-"+l(e,"-grow","")+_+e+j+l(e,"grow","positive")+e;case 4554:return _+l(e,/([^-])(transform)/g,"$1"+_+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,_+"$1"),/(image-set)/,_+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,_+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,_+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,_+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+_+"$2-$3$1"+B+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ie(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+_)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_+(45===d(e,14)?"inline-":"")+"box$3$1"+_+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return _+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _+e+j+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _+e+j+e+e}return e}var ne=[function(e,t,i,n){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=ie(e.value,e.length);break;case V:return W([x(e,{value:l(e.value,"@","@"+_)})],n);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return W([x(e,{props:[l(t,/:(plac\w+)/,":"+_+"input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,j+"input-$1")]})],n)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||ne;var r,s,a={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),i=1;i<t.length;i++)a[t[i]]=!0;l.push(e)}));var c,d,u=[U,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],h=function(e){var t=p(e);return function(i,n,o,r){for(var s="",a=0;a<t;a++)s+=e[a](i,n,o,r)||"";return s}}([ee,te].concat(o,u));s=function(e,t,i,n){c=i,W(Y(e?e+"{"+t.styles+"}":t.styles),h),n&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new n({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return g.sheet.hydrate(l),g}},918:(e,t,i)=>{"use strict";function n(e){var t=Object.create(null);return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}}i.d(t,{A:()=>n})},5756:(e,t,i)=>{"use strict";i.d(t,{C:()=>a,T:()=>c,i:()=>r,w:()=>l});var n=i(5043),o=i(5513),r=(i(2830),i(9436),!0),s=n.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,n.forwardRef)((function(t,i){var o=(0,n.useContext)(s);return e(t,o,i)}))};r||(l=function(e){return function(t){var i=(0,n.useContext)(s);return null===i?(i=(0,o.A)({key:"css"}),n.createElement(s.Provider,{value:i},e(t,i))):e(t,i)}});var c=n.createContext({})},3290:(e,t,i)=>{"use strict";i.d(t,{AH:()=>c,i7:()=>d,mL:()=>l});var n=i(5756),o=i(5043),r=i(1722),s=i(9436),a=i(2830),l=(i(5513),i(219),(0,n.w)((function(e,t){var i=e.styles,l=(0,a.J)([i],void 0,o.useContext(n.T));if(!n.i){for(var c,d=l.name,u=l.styles,h=l.next;void 0!==h;)d+=" "+h.name,u+=h.styles,h=h.next;var p=!0===t.compat,g=t.insert("",{name:d,styles:u},t.sheet,p);return p?null:o.createElement("style",((c={})["data-emotion"]=t.key+"-global "+d,c.dangerouslySetInnerHTML={__html:g},c.nonce=t.sheet.nonce,c))}var m=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==o&&(n=!0,o.setAttribute("data-emotion",e),i.hydrate([o])),m.current=[i,n],function(){i.flush()}}),[t]),(0,s.i)((function(){var e=m.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,r.sk)(t,l.next,!0),i.tags.length){var n=i.tags[i.tags.length-1].nextElementSibling;i.before=n,i.flush()}t.insert("",l,i,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.J)(t)}var d=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(e,t,i)=>{"use strict";i.d(t,{J:()=>g});var n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=i(918),r=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.A)((function(e){return a(e)?e:e.replace(r,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,i){return h={name:t,styles:i,next:h},t}))}return 1===n[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function u(e,t,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return h={name:i.name,styles:i.styles,next:h},i.name;if(void 0!==i.styles){var n=i.next;if(void 0!==n)for(;void 0!==n;)h={name:n.name,styles:n.styles,next:h},n=n.next;return i.styles+";"}return function(e,t,i){var n="";if(Array.isArray(i))for(var o=0;o<i.length;o++)n+=u(e,t,i[o])+";";else for(var r in i){var s=i[r];if("object"!==typeof s)null!=t&&void 0!==t[s]?n+=r+"{"+t[s]+"}":l(s)&&(n+=c(r)+":"+d(r,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=u(e,t,s);switch(r){case"animation":case"animationName":n+=c(r)+":"+a+";";break;default:n+=r+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(n+=c(r)+":"+d(r,s[h])+";")}return n}(e,t,i);case"function":if(void 0!==e){var o=h,r=i(e);return h=o,u(e,t,r)}}if(null==t)return i;var s=t[i];return void 0!==s?s:i}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(e,t,i){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";h=void 0;var r=e[0];null==r||void 0===r.raw?(n=!1,o+=u(i,t,r)):o+=r[0];for(var s=1;s<e.length;s++)o+=u(i,t,e[s]),n&&(o+=r[s]);p.lastIndex=0;for(var a,l="";null!==(a=p.exec(o));)l+="-"+a[1];var c=function(e){for(var t,i=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),i=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(o){case 3:i^=(255&e.charCodeAt(n+2))<<16;case 2:i^=(255&e.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(n)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:h}}},9436:(e,t,i)=>{"use strict";var n;i.d(t,{i:()=>a,s:()=>s});var o=i(5043),r=!!(n||(n=i.t(o,2))).useInsertionEffect&&(n||(n=i.t(o,2))).useInsertionEffect,s=r||function(e){return e()},a=r||o.useLayoutEffect},1722:(e,t,i)=>{"use strict";i.d(t,{Rk:()=>n,SF:()=>o,sk:()=>r});function n(e,t,i){var n="";return i.split(" ").forEach((function(i){void 0!==e[i]?t.push(e[i]+";"):n+=i+" "})),n}var o=function(e,t,i){var n=e.key+"-"+t.name;!1===i&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},r=function(e,t,i){o(e,t,i);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}},7201:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},5382:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},4802:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},2954:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},3471:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1132:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},5540:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},573:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHorizTwoTone")},4044:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment")},7260:(e,t,i)=>{"use strict";var n=i(4994);t.A=void 0;var o=n(i(39)),r=i(579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},39:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=i(4962)},8206:(e,t,i)=>{"use strict";i.d(t,{b:()=>o});i(5043);var n=i(3654);i(579);function o(e){return(0,n.b)(e)}},5881:(e,t)=>{"use strict";var i,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case g:case l:return e;default:return t}}case o:return t}}}i=Symbol.for("react.module.reference")},805:(e,t,i)=>{"use strict";i(5881)},8279:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var n=i(8168),o=i(8587),r=i(6632),s=i(3216),a=i(7758),l=i(8812),c=i(8280);var d=i(7266);const u={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},f={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],C={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,i,n){const o=n.light||n,r=n.dark||1.5*n;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:"light"===t?e.light=(0,d.a)(e.main,o):"dark"===t&&(e.dark=(0,d.e$)(e.main,r)))}function S(e){const{mode:t="light",contrastThreshold:i=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[700],light:f[400],dark:f[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),R=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[500],light:g[300],dark:g[700]}:{main:g[700],light:g[400],dark:g[800]}}(t),M=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),k=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),D=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function A(e){return(0,d.eM)(e,w.text.primary)>=i?w.text.primary:C.text.primary}const E=e=>{let{color:t,name:i,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,n.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,r.A)(11,i?" (".concat(i,")"):"",o));if("string"!==typeof t.main)throw new Error((0,r.A)(12,i?" (".concat(i,")"):"",JSON.stringify(t.main)));return x(t,"light",s,a),x(t,"dark",l,a),t.contrastText||(t.contrastText=A(t.main)),t},T={dark:w,light:C};return(0,s.A)((0,n.A)({common:(0,n.A)({},u),mode:t,primary:E({color:c,name:"primary"}),secondary:E({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:E({color:R,name:"error"}),warning:E({color:D,name:"warning"}),info:E({color:M,name:"info"}),success:E({color:k,name:"success"}),grey:h,contrastThreshold:i,getContrastText:A,augmentColor:E,tonalOffset:a},T[t]),l)}const R=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const M={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function D(e,t){const i="function"===typeof t?t(e):t,{fontFamily:r=k,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:d=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:p,pxToRem:g}=i,m=(0,o.A)(i,R);const f=a/14,v=g||(e=>"".concat(e/h*f,"rem")),y=(e,t,i,o,s)=>{return(0,n.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:i},r===k?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(d,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(d,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(d,14,1.75,.4,M),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,M),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,n.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:u},b),m,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const E=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],T=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function N(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function I(e){const t=(0,n.A)({},P,e.easing),i=(0,n.A)({},F,e.duration);return(0,n.A)({getAutoHeightDuration:L,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=i.standard,easing:s=t.easeInOut,delay:a=0}=n;(0,o.A)(n,T);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof r?r:N(r)," ").concat(s," ").concat("string"===typeof a?a:N(a)))).join(",")}},e,{easing:t,duration:i})}const O={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:i={},transitions:d={},typography:u={}}=e,h=(0,o.A)(e,j);if(e.vars)throw new Error((0,r.A)(18));const p=S(i),g=(0,c.A)(e);let m=(0,s.A)(g,{mixins:(f=g.breakpoints,v=t,(0,n.A)({toolbar:{minHeight:56,[f.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[f.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:E.slice(),typography:D(p,u),transitions:I(d),zIndex:(0,n.A)({},O)});var f,v;m=(0,s.A)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),C=1;C<y;C++)b[C-1]=arguments[C];return m=b.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,n.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const _=B},5170:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(0,i(8279).A)()},3375:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n="$$material"},1475:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(7123);const o=e=>(0,n.A)(e)&&"classes"!==e},7123:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},4535:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>a});var n=i(8052),o=i(5170),r=i(3375),s=i(1475);const a=(0,n.Ay)({themeId:r.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},6803:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(410).A},9662:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var n=i(8168),o=i(5043),r=i(8587),s=i(8387),a=i(8606),l=i(6803),c=i(8206),d=i(4535),u=i(7056),h=i(2400);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var g=i(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],f=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,"inherit"!==i.color&&t["color".concat((0,l.A)(i.color))],t["fontSize".concat((0,l.A)(i.fontSize))]]}})((e=>{let{theme:t,ownerState:i}=e;var n,o,r,s,a,l,c,d,u,h,p,g,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(o=n.create)?void 0:o.call(n,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[i.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[i.color])?void 0:p.main)?h:{action:null==(g=(t.vars||t).palette)||null==(g=g.action)?void 0:g.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[i.color]}})),v=o.forwardRef((function(e,t){const i=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:C=!1,titleAccess:w,viewBox:x="0 0 24 24"}=i,S=(0,r.A)(i,m),R=o.isValidElement(d)&&"svg"===d.type,M=(0,n.A)({},i,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:C,viewBox:x,hasSvgAsChild:R}),k={};C||(k.viewBox=x);const D=(e=>{const{color:t,fontSize:i,classes:n}=e,o={root:["root","inherit"!==t&&"color".concat((0,l.A)(t)),"fontSize".concat((0,l.A)(i))]};return(0,a.A)(o,p,n)})(M);return(0,g.jsxs)(f,(0,n.A)({as:v,className:(0,s.A)(D.root,u),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},k,S,R&&d.props,{ownerState:M,children:[R?d.props.children:d,w?(0,g.jsx)("title",{children:w}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function i(i,o){return(0,g.jsx)(y,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:o},i,{children:e}))}return i.muiName=y.muiName,o.memo(o.forwardRef(i))}},950:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(6440).A},4962:(e,t,i)=>{"use strict";i.r(t),i.d(t,{capitalize:()=>o.A,createChainedFunction:()=>r,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>d.A,ownerWindow:()=>u.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>g.A,unstable_useId:()=>m,unsupportedProp:()=>f,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>C.A});var n=i(5430),o=i(6803);const r=i(4708).A;var s=i(9662),a=i(950);const l=function(e,t){return()=>null};var c=i(154),d=i(2427),u=i(6078);i(8168);const h=function(e,t){return()=>null};const p=i(9184).A;var g=i(5013);const m=i(992).A;const f=function(e,t,i,n,o){return null};var v=i(5242),y=i(3319),b=i(5849),C=i(2191);const w={configure:e=>{n.A.configure(e)}}},154:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5043);const o=function(e,t){var i,o;return n.isValidElement(e)&&-1!==t.indexOf(null!=(i=e.type.muiName)?i:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},2427:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(2144).A},6078:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(6288).A},5242:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5043);const o=function(e){let{controlled:t,default:i,name:o,state:r="value"}=e;const{current:s}=n.useRef(void 0!==t),[a,l]=n.useState(i);return[s?t:a,n.useCallback((e=>{s||l(e)}),[])]}},5013:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(3844).A},3319:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(4626).A},5849:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(7042).A},2191:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(5043),o=i(1140);let r=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(r=!0)}function d(){r=!1}function u(){"hidden"===this.visibilityState&&s&&(r=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(i){}return r||function(e){const{type:t,tagName:i}=e;return!("INPUT"!==i||!l[t]||e.readOnly)||"TEXTAREA"===i&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=n.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",d,!0),t.addEventListener("pointerdown",d,!0),t.addEventListener("touchstart",d,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},869:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});i(5043);var n=i(3290),o=i(579);function r(e){const{styles:t,defaultTheme:i={}}=e,r="function"===typeof t?e=>{return t(void 0===(n=e)||null===n||0===Object.keys(n).length?i:e);var n}:t;return(0,o.jsx)(n.mL,{styles:r})}},3174:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>x,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>R,internal_processStyles:()=>M,keyframes:()=>y.i7});var n=i(8168),o=i(5043),r=i(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,r.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=i(5756),c=i(1722),d=i(2830),u=i(9436),h=a,p=function(e){return"theme"!==e},g=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},m=function(e,t,i){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof n&&i&&(n=e.__emotion_forwardProp),n},f=function(e){var t=e.cache,i=e.serialized,n=e.isStringTag;return(0,c.SF)(t,i,n),(0,u.s)((function(){return(0,c.sk)(t,i,n)})),null},v=function e(t,i){var r,s,a=t.__emotion_real===t,u=a&&t.__emotion_base||t;void 0!==i&&(r=i.label,s=i.target);var h=m(t,i,a),p=h||g(u),v=!p("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&b.push("label:"+r+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var C=y.length,w=1;w<C;w++)b.push(y[w],y[0][w])}var x=(0,l.w)((function(e,t,i){var n=v&&e.as||u,r="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=o.useContext(l.T)}"string"===typeof e.className?r=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(r=e.className+" ");var C=(0,d.J)(b.concat(a),t.registered,m);r+=t.key+"-"+C.name,void 0!==s&&(r+=" "+s);var w=v&&void 0===h?g(n):p,x={};for(var S in e)v&&"as"===S||w(S)&&(x[S]=e[S]);return x.className=r,x.ref=i,o.createElement(o.Fragment,null,o.createElement(f,{cache:t,serialized:C,isStringTag:"string"===typeof n}),o.createElement(n,x))}));return x.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=u,x.__emotion_styles=b,x.__emotion_forwardProp=h,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,o){return e(t,(0,n.A)({},i,o,{shouldForwardProp:m(x,o,!0)})).apply(void 0,b)},x}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=i(3290),b=i(5513),C=i(579);let w;function x(e){const{injectFirst:t,children:i}=e;return t&&w?(0,C.jsx)(l.C,{value:w,children:i}):i}"object"===typeof document&&(w=(0,b.A)({key:"css",prepend:!0}));var S=i(869);function R(e,t){return v(e,t)}const M=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,i)=>{"use strict";var n=i(4994);t.X4=p,t.e$=g,t.eM=function(e,t){const i=h(e),n=h(t);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)},t.a=m;var o=n(i(7245)),r=n(i(5383));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,r.default)(e,t,i)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let i=e.match(t);return i&&1===i[0].length&&(i=i.map((e=>e+e))),i?"rgb".concat(4===i.length?"a":"","(").concat(i.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),i=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error((0,o.default)(9,e));let n,r=e.substring(t+1,e.length-1);if("color"===i){if(r=r.split(" "),n=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,o.default)(10,n))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:i,values:r,colorSpace:n}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,i)=>-1!==t.type.indexOf("hsl")&&0!==i?"".concat(e,"%"):e)).join(" ")};function d(e){const{type:t,colorSpace:i}=e;let{values:n}=e;return-1!==t.indexOf("rgb")?n=n.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(i," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function u(e){e=l(e);const{values:t}=e,i=t[0],n=t[1]/100,o=t[2]/100,r=n*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+i/30)%12;return o-r*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),d({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(u(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,d(e)}function g(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let i=0;i<3;i+=1)e.values[i]*=1-t;return d(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;else if(-1!==e.type.indexOf("color"))for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return d(e)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?g(e,t):m(e,t)}},8052:(e,t,i)=>{"use strict";var n=i(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:i=m,rootShouldForwardProp:n=g,slotShouldForwardProp:l=g}=e,d=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:i,themeId:t}))}));return d.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:u,slot:p,skipVariantsResolver:m,skipSx:C,overridesResolver:w=y(f(p))}=c,x=(0,r.default)(c,h),S=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,R=C||!1;let M=g;"Root"===p||"root"===p?M=n:p?M=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(M=void 0);const k=(0,s.default)(e,(0,o.default)({shouldForwardProp:M,label:undefined},x)),D=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?n=>b(e,(0,o.default)({},n,{theme:v({theme:n.theme,defaultTheme:i,themeId:t})})):e,A=function(n){let r=D(n);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(D):[];u&&w&&c.push((e=>{const n=v((0,o.default)({},e,{defaultTheme:i,themeId:t}));if(!n.components||!n.components[u]||!n.components[u].styleOverrides)return null;const r=n.components[u].styleOverrides,s={};return Object.entries(r).forEach((t=>{let[i,r]=t;s[i]=b(r,(0,o.default)({},e,{theme:n}))})),w(e,s)})),u&&!S&&c.push((e=>{var n;const r=v((0,o.default)({},e,{defaultTheme:i,themeId:t}));return b({variants:null==r||null==(n=r.components)||null==(n=n[u])?void 0:n.variants},(0,o.default)({},e,{theme:r}))})),R||c.push(d);const h=c.length-a.length;if(Array.isArray(n)&&h>0){const e=new Array(h).fill("");r=[...n,...e],r.raw=[...n.raw,...e]}const p=k(r,...c);return e.muiName&&(p.muiName=e.muiName),p};return k.withConfig&&(A.withConfig=k.withConfig),A}};var o=n(i(4634)),r=n(i(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=p(t);if(i&&i.has(e))return i.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r]}return n.default=e,i&&i.set(e,n),n}(i(3174)),a=i(4534),l=(n(i(578)),n(i(2046)),n(i(4989))),c=n(i(3234));const d=["ownerState"],u=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(p=function(e){return e?i:t})(e)}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),f=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:i,themeId:n}=e;return o=i,0===Object.keys(o).length?t:i[n]||i;var o}function y(e){return e?(t,i)=>i[e]:null}function b(e,t){let{ownerState:i}=t,n=(0,r.default)(t,d);const s="function"===typeof e?e((0,o.default)({ownerState:i},n)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:i},n))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,r.default)(s,u);return e.forEach((e=>{let r=!0;"function"===typeof e.props?r=e.props((0,o.default)({ownerState:i},n,i)):Object.keys(e.props).forEach((t=>{(null==i?void 0:i[t])!==e.props[t]&&n[t]!==e.props[t]&&(r=!1)})),r&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:i},n,i)):e.style))})),t}return s}},3654:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,b:()=>a});var n=i(5043),o=i(2018),r=i(579);const s=n.createContext(void 0);function a(e){let{props:t,name:i}=e;return function(e){const{theme:t,name:i,props:n}=e;if(!t||!t.components||!t.components[i])return n;const r=t.components[i];return r.defaultProps?(0,o.A)(r.defaultProps,n):r.styleOverrides||r.variants?n:(0,o.A)(r,n)}({props:t,name:i,theme:{components:n.useContext(s)}})}const l=function(e){let{value:t,children:i}=e;return(0,r.jsx)(s.Provider,{value:t,children:i})}},9751:(e,t,i)=>{"use strict";i.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>d,vf:()=>l,zu:()=>o});var n=i(3216);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,i){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||r;return t.reduce(((n,o,r)=>(n[e.up(e.keys[r])]=i(t[r]),n)),{})}if("object"===typeof t){const e=n.breakpoints||r;return Object.keys(t).reduce(((n,r)=>{if(-1!==Object.keys(e.values||o).indexOf(r)){n[e.up(r)]=i(t[r],r)}else{const e=r;n[e]=t[e]}return n}),{})}return i(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,i)=>(t[e.up(i)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const i=e[t];return(!i||0===Object.keys(i).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];const s=[t,...o].reduce(((e,t)=>(0,n.A)(e,t)),{});return l(Object.keys(t),s)}function d(e){let{values:t,breakpoints:i,base:n}=e;const o=n||function(e,t){if("object"!==typeof e)return{};const i={},n=Object.keys(t);return Array.isArray(e)?n.forEach(((t,n)=>{n<e.length&&(i[t]=!0)})):n.forEach((t=>{null!=e[t]&&(i[t]=!0)})),i}(t,i),r=Object.keys(o);if(0===r.length)return t;let s;return r.reduce(((e,i,n)=>(Array.isArray(t)?(e[i]=null!=t[n]?t[n]:t[s],s=n):"object"===typeof t?(e[i]=null!=t[i]?t[i]:t[s],s=i):e[i]=t,e)),{})}},9703:(e,t,i)=>{"use strict";function n(e,t){const i=this;if(i.vars&&"function"===typeof i.getColorSchemeSelector){const n=i.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[n]:t}}return i.palette.mode===e?t:{}}i.d(t,{A:()=>n})},4853:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(8587),o=i(8168);const r=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:a=5}=e,l=(0,n.A)(e,r),c=s(t),d=Object.keys(c);function u(e){const n="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(n).concat(i,")")}function h(e){const n="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(n-a/100).concat(i,")")}function p(e,n){const o=d.indexOf(n);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[d[o]]?t[d[o]]:n)-a/100).concat(i,")")}return(0,o.A)({keys:d,values:c,up:u,down:h,between:p,only:function(e){return d.indexOf(e)+1<d.length?p(e,d[d.indexOf(e)+1]):u(e)},not:function(e){const t=d.indexOf(e);return 0===t?u(d[1]):t===d.length-1?h(d[t]):p(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},l)}},8280:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(8168),o=i(8587),r=i(3216),s=i(4853);const a={borderRadius:4};var l=i(8604);var c=i(8812),d=i(7758),u=i(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:i={},spacing:p,shape:g={}}=e,m=(0,o.A)(e,h),f=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),i=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(0===i.length?[1]:i).map((e=>{const i=t(e);return"number"===typeof i?"".concat(i,"px"):i})).join(" ")};return i.mui=!0,i}(p);let y=(0,r.A)({breakpoints:f,direction:"ltr",components:{},palette:(0,n.A)({mode:"light"},i),spacing:v,shape:(0,n.A)({},a,g)},m);y.applyStyles=u.A;for(var b=arguments.length,C=new Array(b>1?b-1:0),w=1;w<b;w++)C[w-1]=arguments[w];return y=C.reduce(((e,t)=>(0,r.A)(e,t)),y),y.unstable_sxConfig=(0,n.A)({},d.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>r.A});var n=i(8280),o=i(4853),r=i(9703)},3815:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(3216);const o=function(e,t){return t?(0,n.A)(e,t,{clone:!1}):e}},8604:(e,t,i)=>{"use strict";i.d(t,{LX:()=>g,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var n=i(9751),o=i(7162),r=i(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return i=>(void 0===t[i]&&(t[i]=e(i)),t[i])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,i]=e.split(""),n=s[t],o=a[i]||"";return Array.isArray(o)?o.map((e=>n+e)):[n+o]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...d,...u];function p(e,t,i,n){var r;const s=null!=(r=(0,o.Yn)(e,t,!1))?r:i;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function g(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const i=e(Math.abs(t));return t>=0?i:"number"===typeof i?-i:"-".concat(i)}function f(e,t,i,o){if(-1===t.indexOf(i))return null;const r=function(e,t){return i=>e.reduce(((e,n)=>(e[n]=m(t,i),e)),{})}(c(i),o),s=e[i];return(0,n.NI)(e,s,r)}function v(e,t){const i=g(e.theme);return Object.keys(e).map((n=>f(e,t,n,i))).reduce(r.A,{})}function y(e){return v(e,d)}function b(e){return v(e,u)}function C(e){return v(e,h)}y.propTypes={},y.filterProps=d,b.propTypes={},b.filterProps=u,C.propTypes={},C.filterProps=h},7162:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>r});var n=i(410),o=i(9751);function r(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&i){const i="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=i)return i}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,i){let n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return n="function"===typeof e?e(i):Array.isArray(e)?e[i]||o:r(e,i)||o,t&&(n=t(n,o,e)),n}const a=function(e){const{prop:t,cssProperty:i=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],d=r(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(d,l,e);return e===o&&"string"===typeof e&&(o=s(d,l,"".concat(t).concat("default"===e?"":(0,n.A)(e)),e)),!1===i?o:{[i]:o}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,i)=>{"use strict";i.d(t,{A:()=>L});var n=i(8604),o=i(7162),r=i(3815);const s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.reduce(((e,t)=>(t.filterProps.forEach((i=>{e[i]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,i)=>n[i]?(0,r.A)(t,n[i](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=i(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const d=c("border",l),u=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),g=c("borderLeft",l),m=c("borderColor"),f=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),C=c("outline",l),w=c("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,n.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),i=e=>({borderRadius:(0,n._W)(t,e)});return(0,a.NI)(e,e.borderRadius,i)}return null};x.propTypes={},x.filterProps=["borderRadius"];s(d,u,h,p,g,m,f,v,y,b,x,C,w);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,n.MA)(e.theme,"spacing",8,"gap"),i=e=>({gap:(0,n._W)(t,e)});return(0,a.NI)(e,e.gap,i)}return null};S.propTypes={},S.filterProps=["gap"];const R=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,n.MA)(e.theme,"spacing",8,"columnGap"),i=e=>({columnGap:(0,n._W)(t,e)});return(0,a.NI)(e,e.columnGap,i)}return null};R.propTypes={},R.filterProps=["columnGap"];const M=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,n.MA)(e.theme,"spacing",8,"rowGap"),i=e=>({rowGap:(0,n._W)(t,e)});return(0,a.NI)(e,e.rowGap,i)}return null};M.propTypes={},M.filterProps=["rowGap"];s(S,R,M,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function k(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:k}));function D(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const A=(0,o.Ay)({prop:"width",transform:D}),E=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var i,n;const o=(null==(i=e.theme)||null==(i=i.breakpoints)||null==(i=i.values)?void 0:i[t])||a.zu[t];return o?"px"!==(null==(n=e.theme)||null==(n=n.breakpoints)?void 0:n.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:D(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};E.filterProps=["maxWidth"];const T=(0,o.Ay)({prop:"minWidth",transform:D}),P=(0,o.Ay)({prop:"height",transform:D}),F=(0,o.Ay)({prop:"maxHeight",transform:D}),N=(0,o.Ay)({prop:"minHeight",transform:D}),L=((0,o.Ay)({prop:"size",cssProperty:"width",transform:D}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:D}),s(A,E,T,P,F,N,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x},color:{themeKey:"palette",transform:k},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:k},backgroundColor:{themeKey:"palette",transform:k},p:{style:n.Ms},pt:{style:n.Ms},pr:{style:n.Ms},pb:{style:n.Ms},pl:{style:n.Ms},px:{style:n.Ms},py:{style:n.Ms},padding:{style:n.Ms},paddingTop:{style:n.Ms},paddingRight:{style:n.Ms},paddingBottom:{style:n.Ms},paddingLeft:{style:n.Ms},paddingX:{style:n.Ms},paddingY:{style:n.Ms},paddingInline:{style:n.Ms},paddingInlineStart:{style:n.Ms},paddingInlineEnd:{style:n.Ms},paddingBlock:{style:n.Ms},paddingBlockStart:{style:n.Ms},paddingBlockEnd:{style:n.Ms},m:{style:n.Lc},mt:{style:n.Lc},mr:{style:n.Lc},mb:{style:n.Lc},ml:{style:n.Lc},mx:{style:n.Lc},my:{style:n.Lc},margin:{style:n.Lc},marginTop:{style:n.Lc},marginRight:{style:n.Lc},marginBottom:{style:n.Lc},marginLeft:{style:n.Lc},marginX:{style:n.Lc},marginY:{style:n.Lc},marginInline:{style:n.Lc},marginInlineStart:{style:n.Lc},marginInlineEnd:{style:n.Lc},marginBlock:{style:n.Lc},marginBlockStart:{style:n.Lc},marginBlockEnd:{style:n.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:M},columnGap:{style:R},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:D},maxWidth:{style:E},minWidth:{transform:D},height:{transform:D},maxHeight:{transform:D},minHeight:{transform:D},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(8168),o=i(8587),r=i(3216),s=i(7758);const a=["sx"],l=e=>{var t,i;const n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(i=e.theme)?void 0:i.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n};function c(e){const{sx:t}=e,i=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(i);let d;return d=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,r.Q)(e)?(0,n.A)({},s,e):s}:(0,n.A)({},s,t),(0,n.A)({},c,{sx:d})}},3234:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>n.k,unstable_defaultSxConfig:()=>r.A});var n=i(8812),o=i(8698),r=i(7758)},8812:(e,t,i)=>{"use strict";i.d(t,{A:()=>d,k:()=>l});var n=i(410),o=i(3815),r=i(7162),s=i(9751),a=i(7758);function l(){function e(e,t,i,o){const a={[e]:t,theme:i},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:d,transform:u,style:h}=l;if(null==t)return null;if("typography"===d&&"inherit"===t)return{[e]:t};const p=(0,r.Yn)(i,d)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let i=(0,r.BO)(p,u,t);return t===i&&"string"===typeof t&&(i=(0,r.BO)(p,u,"".concat(e).concat("default"===t?"":(0,n.A)(t)),t)),!1===c?i:{[c]:i}}))}return function t(i){var n;const{sx:r,theme:l={}}=i||{};if(!r)return null;const c=null!=(n=l.unstable_sxConfig)?n:a.A;function d(i){let n=i;if("function"===typeof i)n=i(l);else if("object"!==typeof i)return i;if(!n)return null;const r=(0,s.EU)(l.breakpoints),a=Object.keys(r);let d=r;return Object.keys(n).forEach((i=>{const r=(a=n[i],u=l,"function"===typeof a?a(u):a);var a,u;if(null!==r&&void 0!==r)if("object"===typeof r)if(c[i])d=(0,o.A)(d,e(i,r,l,c));else{const e=(0,s.NI)({theme:l},r,(e=>({[i]:e})));!function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(n);return t.every((e=>o.size===Object.keys(e).length))}(e,r)?d=(0,o.A)(d,e):d[i]=t({sx:r,theme:l})}else d=(0,o.A)(d,e(i,r,l,c))})),(0,s.vf)(a,d)}return Array.isArray(r)?r.map(d):d(r)}}const c=l();c.filterProps=["sx"];const d=c},5430:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});const n=e=>e,o=(()=>{let e=n;return{configure(t){e=t},generate:t=>e(t),reset(){e=n}}})()},410:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(6632);function o(e){if("string"!==typeof e)throw new Error((0,n.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},578:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A});var n=i(410)},7040:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,i))}},5383:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A});var n=i(7040)},8606:(e,t,i)=>{"use strict";function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={};return Object.keys(e).forEach((o=>{n[o]=e[o].reduce(((e,n)=>{if(n){const o=t(n);""!==o&&e.push(o),i&&i[n]&&e.push(i[n])}return e}),[]).join(" ")})),n}i.d(t,{A:()=>n})},4708:(e,t,i)=>{"use strict";function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(((e,t)=>null==t?e:function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}),(()=>{}))}i.d(t,{A:()=>n})},6440:(e,t,i)=>{"use strict";function n(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),i)}return n.clear=()=>{clearTimeout(t)},n}i.d(t,{A:()=>n})},3216:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,Q:()=>o});var n=i(8168);function o(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function r(e){if(!o(e))return e;const t={};return Object.keys(e).forEach((i=>{t[i]=r(e[i])})),t}function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=i.clone?(0,n.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((n=>{o(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&o(e[n])?a[n]=s(e[n],t[n],i):i.clone?a[n]=o(t[n])?r(t[n]):t[n]:a[n]=t[n]})),a}},4534:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A,isPlainObject:()=>n.Q});var n=i(3216)},6632:(e,t,i)=>{"use strict";function n(e){let t="https://mui.com/production-error/?code="+e;for(let i=1;i<arguments.length;i+=1)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}i.d(t,{A:()=>n})},7245:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n.A});var n=i(6632)},2400:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>r});var n=i(5430);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function r(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=o[t];return r?"".concat(i,"-").concat(r):"".concat(n.A.generate(e),"-").concat(t)}},7056:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(2400);function o(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,n.Ay)(e,t,i)})),o}},2046:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l,getFunctionName:()=>r});var n=i(9565);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||r(e)||t}function a(e,t,i){const n=s(t);return e.displayName||(""!==n?"".concat(i,"(").concat(n,")"):i)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case n.ForwardRef:return a(e,e.render,"ForwardRef");case n.Memo:return a(e,e.type,"memo");default:return}}}},8609:(e,t)=>{"use strict";var i,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case g:case l:return e;default:return t}}case o:return t}}}i=Symbol.for("react.module.reference"),t.ForwardRef=u,t.Memo=g},9565:(e,t,i)=>{"use strict";e.exports=i(8609)},2144:(e,t,i)=>{"use strict";function n(e){return e&&e.ownerDocument||document}i.d(t,{A:()=>n})},6288:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(2144);function o(e){return(0,n.A)(e).defaultView||window}},2018:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(8168);function o(e,t){const i=(0,n.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))i[r]=(0,n.A)({},e[r],i[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},a=t[r];i[r]={},a&&Object.keys(a)?s&&Object.keys(s)?(i[r]=(0,n.A)({},a),Object.keys(s).forEach((e=>{i[r][e]=o(s[e],a[e])}))):i[r]=a:i[r]=s}else void 0===i[r]&&(i[r]=e[r])})),i}},9184:(e,t,i)=>{"use strict";function n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}i.d(t,{A:()=>n})},3844:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5043);const o="undefined"!==typeof window?n.useLayoutEffect:n.useEffect},4626:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5043),o=i(3844);const r=function(e){const t=n.useRef(e);return(0,o.A)((()=>{t.current=e})),n.useRef((function(){return(0,t.current)(...arguments)})).current}},7042:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5043),o=i(9184);function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},992:(e,t,i)=>{"use strict";var n;i.d(t,{A:()=>a});var o=i(5043);let r=0;const s=(n||(n=i.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,i]=o.useState(e),n=e||t;return o.useEffect((()=>{null==t&&(r+=1,i("mui-".concat(r)))}),[t]),n}(e)}},1140:(e,t,i)=>{"use strict";i.d(t,{E:()=>s,A:()=>a});var n=i(5043);const o={};const r=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const i=n.useRef(o);return i.current===o&&(i.current=e(t)),i}(s.create).current;var t;return t=e.disposeEffect,n.useEffect(t,r),e}},1525:function(e){e.exports=function(){"use strict";return function(e,t,i){t.prototype.isBetween=function(e,t,n,o){var r=i(e),s=i(t),a="("===(o=o||"()")[0],l=")"===o[1];return(a?this.isAfter(r,n):!this.isBefore(r,n))&&(l?this.isBefore(s,n):!this.isAfter(s,n))||(a?this.isBefore(r,n):!this.isAfter(r,n))&&(l?this.isAfter(s,n):!this.isBefore(s,n))}}}()},4462:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},8933:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},199:function(e){e.exports=function(){"use strict";return function(e,t,i){var n=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},r=function(e,t,i,n,r){var s=e.name?e:e.$locale(),a=o(s[t]),l=o(s[i]),c=a||l.map((function(e){return e.slice(0,n)}));if(!r)return c;var d=s.weekStart;return c.map((function(e,t){return c[(t+(d||0))%7]}))},s=function(){return i.Ls[i.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,i){return t||i.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):r(e,"months")},monthsShort:function(t){return t?t.format("MMM"):r(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):r(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):r(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):r(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};n.localeData=function(){return l.bind(this)()},i.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},i.months=function(){return r(s(),"months")},i.monthsShort=function(){return r(s(),"monthsShort","months",3)},i.weekdays=function(e){return r(s(),"weekdays",null,null,e)},i.weekdaysShort=function(e){return r(s(),"weekdaysShort","weekdays",3,e)},i.weekdaysMin=function(e){return r(s(),"weekdaysMin","weekdays",2,e)}}}()},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,i,n){var o=i.prototype,r=o.format;n.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var i=this.$locale().formats,n=function(t,i){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,o){var r=o&&o.toUpperCase();return n||i[o]||e[o]||i[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,i){return t||i.slice(1)}))}))}(t,void 0===i?{}:i);return r.call(this,n)}}}()},7227:function(e){e.exports=function(){"use strict";return function(e,t,i){var n=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var i;1===t.length&&t[0].length>0&&(t=t[0]),i=(t=t.filter((function(e){return e})))[0];for(var n=1;n<t.length;n+=1)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i};i.max=function(){var e=[].slice.call(arguments,0);return n("isAfter",e)},i.min=function(){var e=[].slice.call(arguments,0);return n("isBefore",e)}}}()},640:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(n,o,r){var s=o.prototype;r.utc=function(e){return new o({date:e,utc:!0,args:arguments})},s.utc=function(t){var i=r(this.toDate(),{locale:this.$L,utc:!0});return t?i.add(this.utcOffset(),e):i},s.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(n,o){var r=this.$utils().u;if(r(n))return this.$u?0:r(this.$offset)?c.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var o=(""+n[0]).match(i)||["-",0,0],r=o[0],s=60*+o[1]+ +o[2];return 0===s?0:"+"===r?s:-s}(n),null===n))return this;var s=Math.abs(n)<=16?60*n:n,a=this;if(o)return a.$offset=s,a.$u=0===n,a;if(0!==n){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,e)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var d=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var u=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var h=s.diff;s.diff=function(e,t,i){if(e&&this.$u===e.$u)return h.call(this,e,t,i);var n=this.local(),o=r(e).local();return h.call(n,o,t,i)}}}()},219:(e,t,i)=>{"use strict";var n=i(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,i,n){if("string"!==typeof i){if(g){var o=p(i);o&&o!==g&&e(t,o,n)}var s=d(i);u&&(s=s.concat(u(i)));for(var a=l(t),m=l(i),f=0;f<s.length;++f){var v=s[f];if(!r[v]&&(!n||!n[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(i,v);try{c(t,v,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,f=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,y=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,C=i?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case r:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case f:case m:case l:return e;default:return t}}case o:return t}}}function x(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=r,t.Lazy=f,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||w(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===r},t.isLazy=function(e){return w(e)===f},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===u||e===a||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===C||e.$$typeof===v)},t.typeOf=w},3763:(e,t,i)=>{"use strict";e.exports=i(4983)},2740:e=>{"use strict";e.exports=function(e,t,i,n,o,r,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,o,r,s,a],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},7685:(e,t,i)=>{var n=i(7937)(i(6552),"DataView");e.exports=n},8724:(e,t,i)=>{var n=i(7615),o=i(5051),r=i(2154),s=i(8734),a=i(2662);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},7160:(e,t,i)=>{var n=i(7563),o=i(9935),r=i(4190),s=i(1946),a=i(1714);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},5204:(e,t,i)=>{var n=i(7937)(i(6552),"Map");e.exports=n},4816:(e,t,i)=>{var n=i(7251),o=i(7159),r=i(438),s=i(9394),a=i(6874);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},5387:(e,t,i)=>{var n=i(7937)(i(6552),"Promise");e.exports=n},2070:(e,t,i)=>{var n=i(7937)(i(6552),"Set");e.exports=n},8902:(e,t,i)=>{var n=i(4816),o=i(6179),r=i(6704);function s(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=r,e.exports=s},5538:(e,t,i)=>{var n=i(7160),o=i(4545),r=i(793),s=i(7760),a=i(3892),l=i(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},9812:(e,t,i)=>{var n=i(6552).Symbol;e.exports=n},2929:(e,t,i)=>{var n=i(6552).Uint8Array;e.exports=n},6600:(e,t,i)=>{var n=i(7937)(i(6552),"WeakMap");e.exports=n},1170:e=>{e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},726:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},7529:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}},3204:(e,t,i)=>{var n=i(3343),o=i(2777),r=i(4052),s=i(4543),a=i(9194),l=i(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=r(e),d=!i&&o(e),u=!i&&!d&&s(e),h=!i&&!d&&!u&&l(e),p=i||d||u||h,g=p?n(e.length,String):[],m=g.length;for(var f in e)!t&&!c.call(e,f)||p&&("length"==f||u&&("offset"==f||"parent"==f)||h&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||a(f,m))||g.push(f);return g}},149:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}},8895:e=>{e.exports=function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}},2587:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}},8420:(e,t,i)=>{var n=i(1775),o=i(3211),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){var s=e[t];r.call(e,t)&&o(s,i)&&(void 0!==i||t in e)||n(e,t,i)}},1340:(e,t,i)=>{var n=i(3211);e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return-1}},1104:(e,t,i)=>{var n=i(6614),o=i(8673);e.exports=function(e,t){return e&&n(t,o(t),e)}},5119:(e,t,i)=>{var n=i(6614),o=i(474);e.exports=function(e,t){return e&&n(t,o(t),e)}},1775:(e,t,i)=>{var n=i(5654);e.exports=function(e,t,i){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},7132:(e,t,i)=>{var n=i(5538),o=i(726),r=i(8420),s=i(1104),a=i(5119),l=i(4353),c=i(1980),d=i(8124),u=i(9075),h=i(9395),p=i(8592),g=i(6924),m=i(8268),f=i(8630),v=i(310),y=i(4052),b=i(4543),C=i(7887),w=i(6686),x=i(5921),S=i(8673),R=i(474),M="[object Arguments]",k="[object Function]",D="[object Object]",A={};A[M]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[D]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,e.exports=function e(t,i,E,T,P,F){var N,L=1&i,I=2&i,O=4&i;if(E&&(N=P?E(t,T,P,F):E(t)),void 0!==N)return N;if(!w(t))return t;var j=y(t);if(j){if(N=m(t),!L)return c(t,N)}else{var B=g(t),_=B==k||"[object GeneratorFunction]"==B;if(b(t))return l(t,L);if(B==D||B==M||_&&!P){if(N=I||_?{}:v(t),!L)return I?u(t,a(N,t)):d(t,s(N,t))}else{if(!A[B])return P?t:{};N=f(t,B,L)}}F||(F=new n);var G=F.get(t);if(G)return G;F.set(t,N),x(t)?t.forEach((function(n){N.add(e(n,i,E,n,t,F))})):C(t)&&t.forEach((function(n,o){N.set(o,e(n,i,E,o,t,F))}));var z=j?void 0:(O?I?p:h:I?R:S)(t);return o(z||t,(function(n,o){z&&(n=t[o=n]),r(N,o,e(n,i,E,o,t,F))})),N}},1817:(e,t,i)=>{var n=i(6686),o=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=r},5652:(e,t,i)=>{var n=i(4664),o=i(6516)(n);e.exports=o},5816:e=>{e.exports=function(e,t,i,n){for(var o=e.length,r=i+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},755:(e,t,i)=>{var n=i(8895),o=i(7116);e.exports=function e(t,i,r,s,a){var l=-1,c=t.length;for(r||(r=o),a||(a=[]);++l<c;){var d=t[l];i>0&&r(d)?i>1?e(d,i-1,r,s,a):n(a,d):s||(a[a.length]=d)}return a}},4258:(e,t,i)=>{var n=i(5906)();e.exports=n},4664:(e,t,i)=>{var n=i(4258),o=i(8673);e.exports=function(e,t){return e&&n(e,t,o)}},2969:(e,t,i)=>{var n=i(5324),o=i(914);e.exports=function(e,t){for(var i=0,r=(t=n(t,e)).length;null!=e&&i<r;)e=e[o(t[i++])];return i&&i==r?e:void 0}},4262:(e,t,i)=>{var n=i(8895),o=i(4052);e.exports=function(e,t,i){var r=t(e);return o(e)?r:n(r,i(e))}},6913:(e,t,i)=>{var n=i(9812),o=i(4552),r=i(6095),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},5193:(e,t,i)=>{var n=i(6913),o=i(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},6989:(e,t,i)=>{var n=i(6399),o=i(2761);e.exports=function e(t,i,r,s,a){return t===i||(null==t||null==i||!o(t)&&!o(i)?t!==t&&i!==i:n(t,i,r,s,e,a))}},6399:(e,t,i)=>{var n=i(5538),o=i(3668),r=i(9987),s=i(5752),a=i(6924),l=i(4052),c=i(4543),d=i(1268),u="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,m,f,v){var y=l(e),b=l(t),C=y?h:a(e),w=b?h:a(t),x=(C=C==u?p:C)==p,S=(w=w==u?p:w)==p,R=C==w;if(R&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(R&&!x)return v||(v=new n),y||d(e)?o(e,t,i,m,f,v):r(e,t,C,i,m,f,v);if(!(1&i)){var M=x&&g.call(e,"__wrapped__"),k=S&&g.call(t,"__wrapped__");if(M||k){var D=M?e.value():e,A=k?t.value():t;return v||(v=new n),f(D,A,i,m,v)}}return!!R&&(v||(v=new n),s(e,t,i,m,f,v))}},5791:(e,t,i)=>{var n=i(6924),o=i(2761);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},6532:(e,t,i)=>{var n=i(5538),o=i(6989);e.exports=function(e,t,i,r){var s=i.length,a=s,l=!r;if(null==e)return!a;for(e=Object(e);s--;){var c=i[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var d=(c=i[s])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new n;if(r)var g=r(u,h,d,e,t,p);if(!(void 0===g?o(h,u,3,r,p):g))return!1}}return!0}},6954:(e,t,i)=>{var n=i(1629),o=i(7857),r=i(6686),s=i(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||o(e))&&(n(e)?h:a).test(s(e))}},449:(e,t,i)=>{var n=i(6924),o=i(2761);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},5428:(e,t,i)=>{var n=i(6913),o=i(6173),r=i(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&o(e.length)&&!!s[n(e)]}},9096:(e,t,i)=>{var n=i(9256),o=i(5029),r=i(3279),s=i(4052),a=i(3932);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?o(e[0],e[1]):n(e):a(e)}},3713:(e,t,i)=>{var n=i(6140),o=i(1143),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var i in Object(e))r.call(e,i)&&"constructor"!=i&&t.push(i);return t}},8122:(e,t,i)=>{var n=i(6686),o=i(6140),r=i(3516),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=o(e),i=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&i.push(a);return i}},8883:(e,t,i)=>{var n=i(5652),o=i(6571);e.exports=function(e,t){var i=-1,r=o(e)?Array(e.length):[];return n(e,(function(e,n,o){r[++i]=t(e,n,o)})),r}},9256:(e,t,i)=>{var n=i(6532),o=i(3781),r=i(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(i){return i===e||n(i,e,t)}}},5029:(e,t,i)=>{var n=i(6989),o=i(3097),r=i(3366),s=i(2597),a=i(9417),l=i(1310),c=i(914);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(i){var s=o(i,e);return void 0===s&&s===t?r(i,e):n(t,s,3)}}},2536:(e,t,i)=>{var n=i(149),o=i(2969),r=i(9096),s=i(8883),a=i(320),l=i(7574),c=i(5893),d=i(3279),u=i(4052);e.exports=function(e,t,i){t=t.length?n(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=n(t,l(r));var p=s(e,(function(e,i,o){return{criteria:n(t,(function(t){return t(e)})),index:++h,value:e}}));return a(p,(function(e,t){return c(e,t,i)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,i)=>{var n=i(2969);e.exports=function(e){return function(t){return n(t,e)}}},9676:e=>{var t=Math.ceil,i=Math.max;e.exports=function(e,n,o,r){for(var s=-1,a=i(t((n-e)/(o||1)),0),l=Array(a);a--;)l[r?a:++s]=e,e+=o;return l}},5647:(e,t,i)=>{var n=i(3279),o=i(5636),r=i(6350);e.exports=function(e,t){return r(o(e,t,n),e+"")}},8325:(e,t,i)=>{var n=i(2541),o=i(5654),r=i(3279),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=s},3871:e=>{e.exports=function(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(o);++n<o;)r[n]=e[n+t];return r}},320:e=>{e.exports=function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}},3343:e=>{e.exports=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}},8541:(e,t,i)=>{var n=i(9812),o=i(149),r=i(4052),s=i(9841),a=n?n.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}},1141:(e,t,i)=>{var n=i(143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8140:(e,t,i)=>{var n=i(5324),o=i(4065),r=i(1676),s=i(914);e.exports=function(e,t){return t=n(t,e),null==(e=r(e,t))||delete e[s(o(t))]}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,i)=>{var n=i(4052),o=i(2597),r=i(4079),s=i(1069);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:r(s(e))}},1516:(e,t,i)=>{var n=i(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4353:(e,t,i)=>{e=i.nmd(e);var n=i(6552),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=a?a(i):new e.constructor(i);return e.copy(n),n}},6806:(e,t,i)=>{var n=i(1516);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},8962:e=>{var t=/\w*$/;e.exports=function(e){var i=new e.constructor(e.source,t.exec(e));return i.lastIndex=e.lastIndex,i}},1295:(e,t,i)=>{var n=i(9812),o=n?n.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},8710:(e,t,i)=>{var n=i(1516);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},6599:(e,t,i)=>{var n=i(9841);e.exports=function(e,t){if(e!==t){var i=void 0!==e,o=null===e,r=e===e,s=n(e),a=void 0!==t,l=null===t,c=t===t,d=n(t);if(!l&&!d&&!s&&e>t||s&&a&&c&&!l&&!d||o&&a&&c||!i&&c||!r)return 1;if(!o&&!s&&!d&&e<t||d&&i&&r&&!o&&!s||l&&i&&r||!a&&r||!c)return-1}return 0}},5893:(e,t,i)=>{var n=i(6599);e.exports=function(e,t,i){for(var o=-1,r=e.criteria,s=t.criteria,a=r.length,l=i.length;++o<a;){var c=n(r[o],s[o]);if(c)return o>=l?c:c*("desc"==i[o]?-1:1)}return e.index-t.index}},1980:e=>{e.exports=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}},6614:(e,t,i)=>{var n=i(8420),o=i(1775);e.exports=function(e,t,i,r){var s=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var c=t[a],d=r?r(i[c],e[c],c,i,e):void 0;void 0===d&&(d=e[c]),s?o(i,c,d):n(i,c,d)}return i}},8124:(e,t,i)=>{var n=i(6614),o=i(9621);e.exports=function(e,t){return n(e,o(e),t)}},9075:(e,t,i)=>{var n=i(6614),o=i(6326);e.exports=function(e,t){return n(e,o(e),t)}},3440:(e,t,i)=>{var n=i(6552)["__core-js_shared__"];e.exports=n},6516:(e,t,i)=>{var n=i(6571);e.exports=function(e,t){return function(i,o){if(null==i)return i;if(!n(i))return e(i,o);for(var r=i.length,s=t?r:-1,a=Object(i);(t?s--:++s<r)&&!1!==o(a[s],s,a););return i}}},5906:e=>{e.exports=function(e){return function(t,i,n){for(var o=-1,r=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===i(r[l],l,r))break}return t}}},3331:(e,t,i)=>{var n=i(9676),o=i(929),r=i(7303);e.exports=function(e){return function(t,i,s){return s&&"number"!=typeof s&&o(t,i,s)&&(i=s=void 0),t=r(t),void 0===i?(i=t,t=0):i=r(i),s=void 0===s?t<i?1:-1:r(s),n(t,i,s,e)}}},6761:(e,t,i)=>{var n=i(2322);e.exports=function(e){return n(e)?void 0:e}},5654:(e,t,i)=>{var n=i(7937),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},3668:(e,t,i)=>{var n=i(8902),o=i(2587),r=i(8114);e.exports=function(e,t,i,s,a,l){var c=1&i,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var g=-1,m=!0,f=2&i?new n:void 0;for(l.set(e,t),l.set(t,e);++g<d;){var v=e[g],y=t[g];if(s)var b=c?s(y,v,g,t,e,l):s(v,y,g,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(f){if(!o(t,(function(e,t){if(!r(f,t)&&(v===e||a(v,e,i,s,l)))return f.push(t)}))){m=!1;break}}else if(v!==y&&!a(v,y,i,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9987:(e,t,i)=>{var n=i(9812),o=i(2929),r=i(3211),s=i(3668),a=i(4160),l=i(2074),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,i,n,c,u,h){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var g=1&n;if(p||(p=l),e.size!=t.size&&!g)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var f=s(p(e),p(t),n,c,u,h);return h.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},5752:(e,t,i)=>{var n=i(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,r,s,a){var l=1&i,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:o.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var f=l;++u<d;){var v=e[h=c[u]],y=t[h];if(r)var b=l?r(y,v,h,t,e,a):r(v,y,h,e,t,a);if(!(void 0===b?v===y||s(v,y,i,r,a):b)){m=!1;break}f||(f="constructor"==h)}if(m&&!f){var C=e.constructor,w=t.constructor;C==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}},5857:(e,t,i)=>{var n=i(819),o=i(5636),r=i(6350);e.exports=function(e){return r(o(e,void 0,n),e+"")}},7105:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},9395:(e,t,i)=>{var n=i(4262),o=i(9621),r=i(8673);e.exports=function(e){return n(e,r,o)}},8592:(e,t,i)=>{var n=i(4262),o=i(6326),r=i(474);e.exports=function(e){return n(e,r,o)}},2622:(e,t,i)=>{var n=i(705);e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}},3781:(e,t,i)=>{var n=i(9417),o=i(8673);e.exports=function(e){for(var t=o(e),i=t.length;i--;){var r=t[i],s=e[r];t[i]=[r,s,n(s)]}return t}},7937:(e,t,i)=>{var n=i(6954),o=i(4657);e.exports=function(e,t){var i=o(e,t);return n(i)?i:void 0}},5990:(e,t,i)=>{var n=i(3028)(Object.getPrototypeOf,Object);e.exports=n},4552:(e,t,i)=>{var n=i(9812),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(l){}var o=s.call(e);return n&&(t?e[a]=i:delete e[a]),o}},9621:(e,t,i)=>{var n=i(7529),o=i(7828),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return r.call(e,t)})))}:o;e.exports=a},6326:(e,t,i)=>{var n=i(8895),o=i(5990),r=i(9621),s=i(7828),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,r(e)),e=o(e);return t}:s;e.exports=a},6924:(e,t,i)=>{var n=i(7685),o=i(5204),r=i(5387),s=i(2070),a=i(6600),l=i(6913),c=i(6996),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",m=c(n),f=c(o),v=c(r),y=c(s),b=c(a),C=l;(n&&C(new n(new ArrayBuffer(1)))!=g||o&&C(new o)!=d||r&&C(r.resolve())!=u||s&&C(new s)!=h||a&&C(new a)!=p)&&(C=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?c(i):"";if(n)switch(n){case m:return g;case f:return d;case v:return u;case y:return h;case b:return p}return t}),e.exports=C},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,i)=>{var n=i(5324),o=i(2777),r=i(4052),s=i(9194),a=i(6173),l=i(914);e.exports=function(e,t,i){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&i(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&a(d)&&s(h,d)&&(r(e)||o(e))}},7615:(e,t,i)=>{var n=i(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,i)=>{var n=i(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(t,e)?t[e]:void 0}},8734:(e,t,i)=>{var n=i(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},2662:(e,t,i)=>{var n=i(5575);e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var i=e.length,n=new e.constructor(i);return i&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},8630:(e,t,i)=>{var n=i(1516),o=i(6806),r=i(8962),s=i(1295),a=i(8710);e.exports=function(e,t,i){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,i);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Symbol]":return s(e)}}},310:(e,t,i)=>{var n=i(1817),o=i(5990),r=i(6140);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:n(o(e))}},7116:(e,t,i)=>{var n=i(9812),o=i(2777),r=i(4052),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(s&&e&&e[s])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,i){var n=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<i}},929:(e,t,i)=>{var n=i(3211),o=i(6571),r=i(9194),s=i(6686);e.exports=function(e,t,i){if(!s(i))return!1;var a=typeof t;return!!("number"==a?o(i)&&r(t,i.length):"string"==a&&t in i)&&n(i[t],e)}},2597:(e,t,i)=>{var n=i(4052),o=i(9841),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,i)=>{var n=i(3440),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||t)}},9417:(e,t,i)=>{var n=i(6686);e.exports=function(e){return e===e&&!n(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,i)=>{var n=i(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=n(t,e);return!(i<0)&&(i==t.length-1?t.pop():o.call(t,i,1),--this.size,!0)}},4190:(e,t,i)=>{var n=i(1340);e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}},1946:(e,t,i)=>{var n=i(1340);e.exports=function(e){return n(this.__data__,e)>-1}},1714:(e,t,i)=>{var n=i(1340);e.exports=function(e,t){var i=this.__data__,o=n(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}},7251:(e,t,i)=>{var n=i(8724),o=i(7160),r=i(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},7159:(e,t,i)=>{var n=i(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,i)=>{var n=i(2622);e.exports=function(e){return n(this,e).get(e)}},9394:(e,t,i)=>{var n=i(2622);e.exports=function(e){return n(this,e).has(e)}},6874:(e,t,i)=>{var n=i(2622);e.exports=function(e,t){var i=n(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}},1310:e=>{e.exports=function(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}}},8259:(e,t,i)=>{var n=i(5797);e.exports=function(e){var t=n(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}},5575:(e,t,i)=>{var n=i(7937)(Object,"create");e.exports=n},1143:(e,t,i)=>{var n=i(3028)(Object.keys,Object);e.exports=n},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},6832:(e,t,i)=>{e=i.nmd(e);var n=i(7105),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o&&n.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(i){return e(t(i))}}},5636:(e,t,i)=>{var n=i(1170),o=Math.max;e.exports=function(e,t,i){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=o(r.length-t,0),l=Array(a);++s<a;)l[s]=r[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=r[s];return c[t]=i(l),n(e,this,c)}}},1676:(e,t,i)=>{var n=i(2969),o=i(3871);e.exports=function(e,t){return t.length<2?e:n(e,o(t,0,-1))}},6552:(e,t,i)=>{var n=i(7105),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},6350:(e,t,i)=>{var n=i(8325),o=i(6578)(n);e.exports=o},6578:e=>{var t=Date.now;e.exports=function(e){var i=0,n=0;return function(){var o=t(),r=16-(o-n);if(n=o,r>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},4545:(e,t,i)=>{var n=i(7160);e.exports=function(){this.__data__=new n,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,i)=>{var n=i(7160),o=i(5204),r=i(4816);e.exports=function(e,t){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(e,t),this.size=i.size,this}},4079:(e,t,i)=>{var n=i(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,i,n,o){t.push(n?o.replace(r,"$1"):i||e)})),t}));e.exports=s},914:(e,t,i)=>{var n=i(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(i){}try{return e+""}catch(i){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},7084:(e,t,i)=>{var n=i(3871),o=i(929),r=i(9140),s=Math.ceil,a=Math.max;e.exports=function(e,t,i){t=(i?o(e,t,i):void 0===t)?1:a(r(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,d=0,u=Array(s(l/t));c<l;)u[d++]=n(e,c,c+=t);return u}},2541:e=>{e.exports=function(e){return function(){return e}}},1163:(e,t,i)=>{var n=i(5647),o=i(3211),r=i(929),s=i(474),a=Object.prototype,l=a.hasOwnProperty,c=n((function(e,t){e=Object(e);var i=-1,n=t.length,c=n>2?t[2]:void 0;for(c&&r(t[0],t[1],c)&&(n=1);++i<n;)for(var d=t[i],u=s(d),h=-1,p=u.length;++h<p;){var g=u[h],m=e[g];(void 0===m||o(m,a[g])&&!l.call(e,g))&&(e[g]=d[g])}return e}));e.exports=c},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},2520:(e,t,i)=>{var n=i(5816),o=i(9096),r=i(9140),s=Math.max;e.exports=function(e,t,i){var a=null==e?0:e.length;if(!a)return-1;var l=null==i?0:r(i);return l<0&&(l=s(a+l,0)),n(e,o(t,3),l)}},819:(e,t,i)=>{var n=i(755);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},3097:(e,t,i)=>{var n=i(2969);e.exports=function(e,t,i){var o=null==e?void 0:n(e,t);return void 0===o?i:o}},3366:(e,t,i)=>{var n=i(7894),o=i(9057);e.exports=function(e,t){return null!=e&&o(e,t,n)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,i)=>{var n=i(5193),o=i(2761),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,i)=>{var n=i(1629),o=i(6173);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4543:(e,t,i)=>{e=i.nmd(e);var n=i(6552),o=i(14),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,a=s&&s.exports===r?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},9853:(e,t,i)=>{var n=i(6989);e.exports=function(e,t){return n(e,t)}},1629:(e,t,i)=>{var n=i(6913),o=i(6686);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7887:(e,t,i)=>{var n=i(5791),o=i(7574),r=i(6832),s=r&&r.isMap,a=s?o(s):n;e.exports=a},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,i)=>{var n=i(6913),o=i(5990),r=i(2761),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var i=c.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==d}},5921:(e,t,i)=>{var n=i(449),o=i(7574),r=i(6832),s=r&&r.isSet,a=s?o(s):n;e.exports=a},9841:(e,t,i)=>{var n=i(6913),o=i(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},1268:(e,t,i)=>{var n=i(5428),o=i(7574),r=i(6832),s=r&&r.isTypedArray,a=s?o(s):n;e.exports=a},8673:(e,t,i)=>{var n=i(3204),o=i(3713),r=i(6571);e.exports=function(e){return r(e)?n(e):o(e)}},474:(e,t,i)=>{var n=i(3204),o=i(8122),r=i(6571);e.exports=function(e){return r(e)?n(e,!0):o(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},1733:(e,t,i)=>{var n=i(1775),o=i(4664),r=i(9096);e.exports=function(e,t){var i={};return t=r(t,3),o(e,(function(e,o,r){n(i,o,t(e,o,r))})),i}},5797:(e,t,i)=>{var n=i(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(o.Cache||n),i}o.Cache=n,e.exports=o},1488:(e,t,i)=>{var n=i(149),o=i(7132),r=i(8140),s=i(5324),a=i(6614),l=i(6761),c=i(5857),d=i(8592),u=c((function(e,t){var i={};if(null==e)return i;var c=!1;t=n(t,(function(t){return t=s(t,e),c||(c=t.length>1),t})),a(e,d(e),i),c&&(i=o(i,7,l));for(var u=t.length;u--;)r(i,t[u]);return i}));e.exports=u},3932:(e,t,i)=>{var n=i(396),o=i(2866),r=i(2597),s=i(914);e.exports=function(e){return r(e)?n(s(e)):o(e)}},6604:(e,t,i)=>{var n=i(3331)();e.exports=n},7424:(e,t,i)=>{var n=i(755),o=i(2536),r=i(5647),s=i(929),a=r((function(e,t){if(null==e)return[];var i=t.length;return i>1&&s(e,t[0],t[1])?t=[]:i>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),o(e,n(t,1),[])}));e.exports=a},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},7303:(e,t,i)=>{var n=i(801),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,i)=>{var n=i(7303);e.exports=function(e){var t=n(e),i=t%1;return t===t?i?t-i:t:0}},801:(e,t,i)=>{var n=i(1141),o=i(6686),r=i(9841),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=a.test(e);return i||l.test(e)?c(e.slice(2),i?2:8):s.test(e)?NaN:+e}},1069:(e,t,i)=>{var n=i(8541);e.exports=function(e){return null==e?"":n(e)}},2717:(e,t,i)=>{var n=i(726),o=i(1817),r=i(4664),s=i(9096),a=i(5990),l=i(4052),c=i(4543),d=i(1629),u=i(6686),h=i(1268);e.exports=function(e,t,i){var p=l(e),g=p||c(e)||h(e);if(t=s(t,4),null==i){var m=e&&e.constructor;i=g?p?new m:[]:u(e)&&d(m)?o(a(e)):{}}return(g?n:r)(e,(function(e,n,o){return t(i,e,n,o)})),i}},4788:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(i(5457));function s(e){let t,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const a=()=>n(this,void 0,void 0,(function*(){if(void 0!==t)return;const a=a=>n(this,void 0,void 0,(function*(){o=r.default();const n=a[1][s]-Date.now();return n<=0?(e.delete(a[0]),void o.resolve()):(t=a[0],i=setTimeout((()=>{e.delete(a[0]),o&&o.resolve()}),n),"function"===typeof i.unref&&i.unref(),o.promise)}));try{for(const t of e)yield a(t)}catch(l){}t=void 0})),l=e.set.bind(e);return e.set=(n,r)=>{e.has(n)&&e.delete(n);const s=l(n,r);return t&&t===n&&(t=void 0,void 0!==i&&(clearTimeout(i),i=void 0),void 0!==o&&(o.reject(void 0),o=void 0)),a(),s},a(),e}t.default=s,e.exports=s,e.exports.default=s},6922:(e,t,i)=>{"use strict";const n=i(9149),o=i(4788),r=new WeakMap,s=new WeakMap,a=function(e){let{cacheKey:t,cache:i=new Map,maxAge:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof r&&o(i);const a=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];const a=t?t(o):o[0],l=i.get(a);if(l)return l.data;const c=e.apply(this,o);return i.set(a,{data:c,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),c};return n(a,e,{ignoreNonConfigurable:!0}),s.set(a,i),a};a.decorator=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,i,n)=>{const o=t[i];if("function"!==typeof o)throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!r.has(this)){const t=a(o,e);return r.set(this,t),t}return r.get(this)}}},a.clear=e=>{const t=s.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},e.exports=a},9149:e=>{"use strict";const t=(e,t,n,o)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const r=Object.getOwnPropertyDescriptor(e,n),s=Object.getOwnPropertyDescriptor(t,n);!i(r,s)&&o||Object.defineProperty(e,n,s)},i=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),r=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,i){let{ignoreNonConfigurable:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:a}=e;for(const n of Reflect.ownKeys(i))t(e,i,n,s);return((e,t)=>{const i=Object.getPrototypeOf(t);i!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,i)})(e,i),((e,t,i)=>{const s=""===i?"":"with ".concat(i.trim(),"() "),a=n.bind(null,s,t.toString());Object.defineProperty(a,"name",r),Object.defineProperty(e,"toString",{...o,value:a})})(e,i,a),e}},6178:function(e,t,i){(e=i.nmd(e)).exports=function(){"use strict";var t,i;function n(){return t.apply(null,arguments)}function o(e){t=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function d(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var i,n=[],o=e.length;for(i=0;i<o;++i)n.push(t(e[i],i));return n}function p(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,i,n){return Ki(e,t,i,n,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){var t=null,n=!1,o=e._d&&!isNaN(e._d.getTime());return o&&(t=f(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),o=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?o:(e._isValid=o,e._isValid)}function y(e){var t=g(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var b=n.momentProperties=[],C=!1;function w(e,t){var i,n,o,r=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=f(t)),c(t._locale)||(e._locale=t._locale),r>0)for(i=0;i<r;i++)c(o=t[n=b[i]])||(e[n]=o);return e}function x(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===C&&(C=!0,n.updateOffset(this),C=!1)}function S(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function R(e){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var i=!0;return p((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){var o,r,s,l=[],c=arguments.length;for(r=0;r<c;r++){if(o="","object"===typeof arguments[r]){for(s in o+="\n["+r+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[r];l.push(o)}R(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var k,D={};function A(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),D[e]||(R(t),D[e]=!0)}function E(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,i;for(i in e)a(e,i)&&(E(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var i,n=p({},e);for(i in t)a(t,i)&&(s(e[i])&&s(t[i])?(n[i]={},p(n[i],e[i]),p(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)a(e,i)&&!a(t,i)&&s(e[i])&&(n[i]=p({},n[i]));return n}function F(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i};var N={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,i):n}function I(e,t,i){var n=""+Math.abs(e),o=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var O=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},_={};function G(e,t,i,n){var o=n;"string"===typeof n&&(o=function(){return this[n]()}),e&&(_[e]=o),t&&(_[t[0]]=function(){return I(o.apply(this,arguments),t[1],t[2])}),i&&(_[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,i,n=e.match(O);for(t=0,i=n.length;t<i;t++)_[n[t]]?n[t]=_[n[t]]:n[t]=z(n[t]);return function(t){var o,r="";for(o=0;o<i;o++)r+=E(n[o])?n[o].call(t,e):n[o];return r}}function V(e,t){return e.isValid()?(t=W(t,e.localeData()),B[t]=B[t]||H(t),B[t](e)):e.localeData().invalidDate()}function W(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;i>=0&&j.test(e);)e=e.replace(j,n),j.lastIndex=0,i-=1;return e}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(O).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function q(){return this._invalidDate}var X="%d",Z=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,i,n){var o=this._relativeTime[i];return E(o)?o(e,t,i,n):o.replace(/%d/i,e)}function ee(e,t){var i=this._relativeTime[e>0?"future":"past"];return E(i)?i(t):i.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ie(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ne(e){var t,i,n={};for(i in e)a(e,i)&&(t=ie(i))&&(n[t]=e[i]);return n}var oe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function re(e){var t,i=[];for(t in e)a(e,t)&&i.push({unit:t,priority:oe[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}var se,ae=/\d/,le=/\d\d/,ce=/\d{3}/,de=/\d{4}/,ue=/[+-]?\d{6}/,he=/\d\d?/,pe=/\d\d\d\d?/,ge=/\d\d\d\d\d\d?/,me=/\d{1,3}/,fe=/\d{1,4}/,ve=/[+-]?\d{1,6}/,ye=/\d+/,be=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,we=/Z|[+-]\d\d(?::?\d\d)?/gi,xe=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Re=/^[1-9]\d?/,Me=/^([1-9]\d|\d)/;function ke(e,t,i){se[e]=E(t)?t:function(e,n){return e&&i?i:t}}function De(e,t){return a(se,e)?se[e](t._strict,t._locale):new RegExp(Ae(e))}function Ae(e){return Ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,o){return t||i||n||o})))}function Ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Te(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Pe(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Te(t)),i}se={};var Fe={};function Ne(e,t){var i,n,o=t;for("string"===typeof e&&(e=[e]),d(t)&&(o=function(e,i){i[t]=Pe(e)}),n=e.length,i=0;i<n;i++)Fe[e[i]]=o}function Le(e,t){Ne(e,(function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function Ie(e,t,i){null!=t&&a(Fe,e)&&Fe[e](t,i._a,i,e)}function Oe(e){return e%4===0&&e%100!==0||e%400===0}var je=0,Be=1,_e=2,Ge=3,ze=4,He=5,Ve=6,We=7,Ue=8;function Ye(e){return Oe(e)?366:365}G("Y",0,0,(function(){var e=this.year();return e<=9999?I(e,4):"+"+e})),G(0,["YY",2],0,(function(){return this.year()%100})),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),ke("Y",be),ke("YY",he,le),ke("YYYY",fe,de),ke("YYYYY",ve,ue),ke("YYYYYY",ve,ue),Ne(["YYYYY","YYYYYY"],je),Ne("YYYY",(function(e,t){t[je]=2===e.length?n.parseTwoDigitYear(e):Pe(e)})),Ne("YY",(function(e,t){t[je]=n.parseTwoDigitYear(e)})),Ne("Y",(function(e,t){t[je]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return Pe(e)+(Pe(e)>68?1900:2e3)};var Ke,qe=Ze("FullYear",!0);function Xe(){return Oe(this.year())}function Ze(e,t){return function(i){return null!=i?(Je(this,e,i),n.updateOffset(this,t),this):Qe(this,e)}}function Qe(e,t){if(!e.isValid())return NaN;var i=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return n?i.getUTCSeconds():i.getSeconds();case"Minutes":return n?i.getUTCMinutes():i.getMinutes();case"Hours":return n?i.getUTCHours():i.getHours();case"Date":return n?i.getUTCDate():i.getDate();case"Day":return n?i.getUTCDay():i.getDay();case"Month":return n?i.getUTCMonth():i.getMonth();case"FullYear":return n?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Je(e,t,i){var n,o,r,s,a;if(e.isValid()&&!isNaN(i)){switch(n=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?n.setUTCMilliseconds(i):n.setMilliseconds(i));case"Seconds":return void(o?n.setUTCSeconds(i):n.setSeconds(i));case"Minutes":return void(o?n.setUTCMinutes(i):n.setMinutes(i));case"Hours":return void(o?n.setUTCHours(i):n.setHours(i));case"Date":return void(o?n.setUTCDate(i):n.setDate(i));case"FullYear":break;default:return}r=i,s=e.month(),a=29!==(a=e.date())||1!==s||Oe(r)?a:28,o?n.setUTCFullYear(r,s,a):n.setFullYear(r,s,a)}}function $e(e){return E(this[e=ie(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var i,n=re(e=ne(e)),o=n.length;for(i=0;i<o;i++)this[n[i].unit](e[n[i].unit])}else if(E(this[e=ie(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function it(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=tt(t,12);return e+=(t-i)/12,1===i?Oe(e)?29:28:31-i%7%2}Ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},G("M",["MM",2],"Mo",(function(){return this.month()+1})),G("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),G("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ke("M",he,Re),ke("MM",he,le),ke("MMM",(function(e,t){return t.monthsShortRegex(e)})),ke("MMMM",(function(e,t){return t.monthsRegex(e)})),Ne(["M","MM"],(function(e,t){t[Be]=Pe(e)-1})),Ne(["MMM","MMMM"],(function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[Be]=o:f(i).invalidMonth=e}));var nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Se,at=Se;function lt(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function ct(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(e,t,i){var n,o,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=g([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=Ke.call(this._shortMonthsParse,s))?o:null:-1!==(o=Ke.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=Ke.call(this._shortMonthsParse,s))||-1!==(o=Ke.call(this._longMonthsParse,s))?o:null:-1!==(o=Ke.call(this._longMonthsParse,s))||-1!==(o=Ke.call(this._shortMonthsParse,s))?o:null}function ut(e,t,i){var n,o,r;if(this._monthsParseExact)return dt.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=g([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Pe(t);else if(!d(t=e.localeData().monthsParse(t)))return e;var i=t,n=e.date();return n=n<29?n:Math.min(n,it(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,n):e._d.setMonth(i,n),e}function pt(e){return null!=e?(ht(this,e),n.updateOffset(this,!0),this):Qe(this,"Month")}function gt(){return it(this.year(),this.month())}function mt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,i,n,o,r=[],s=[],a=[];for(t=0;t<12;t++)i=g([2e3,t]),n=Ee(this.monthsShort(i,"")),o=Ee(this.months(i,"")),r.push(n),s.push(o),a.push(o),a.push(n);r.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function yt(e,t,i,n,o,r,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,n,o,r,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,n,o,r,s),a}function bt(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ct(e,t,i){var n=7+t-i;return-(7+bt(e,0,n).getUTCDay()-t)%7+n-1}function wt(e,t,i,n,o){var r,s,a=1+7*(t-1)+(7+i-n)%7+Ct(e,n,o);return a<=0?s=Ye(r=e-1)+a:a>Ye(e)?(r=e+1,s=a-Ye(e)):(r=e,s=a),{year:r,dayOfYear:s}}function xt(e,t,i){var n,o,r=Ct(e.year(),t,i),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?n=s+St(o=e.year()-1,t,i):s>St(e.year(),t,i)?(n=s-St(e.year(),t,i),o=e.year()+1):(o=e.year(),n=s),{week:n,year:o}}function St(e,t,i){var n=Ct(e,t,i),o=Ct(e+1,t,i);return(Ye(e)-n+o)/7}function Rt(e){return xt(e,this._week.dow,this._week.doy).week}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),ke("w",he,Re),ke("ww",he,le),ke("W",he,Re),ke("WW",he,le),Le(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=Pe(e)}));var Mt={dow:0,doy:6};function kt(){return this._week.dow}function Dt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Et(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ft(e,t){return e.slice(t,7).concat(e.slice(0,t))}G("d",0,"do","day"),G("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),G("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),G("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),ke("d",he),ke("e",he),ke("E",he),ke("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ke("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ke("dddd",(function(e,t){return t.weekdaysRegex(e)})),Le(["dd","ddd","dddd"],(function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:f(i).invalidWeekday=e})),Le(["d","e","E"],(function(e,t,i,n){t[n]=Pe(e)}));var Nt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),It="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ot=Se,jt=Se,Bt=Se;function _t(e,t){var i=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ft(i,this._week.dow):e?i[e.day()]:i}function Gt(e){return!0===e?Ft(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Ft(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,i){var n,o,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=g([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=Ke.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Ke.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Ke.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=Ke.call(this._weekdaysParse,s))||-1!==(o=Ke.call(this._shortWeekdaysParse,s))||-1!==(o=Ke.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Ke.call(this._shortWeekdaysParse,s))||-1!==(o=Ke.call(this._weekdaysParse,s))||-1!==(o=Ke.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Ke.call(this._minWeekdaysParse,s))||-1!==(o=Ke.call(this._weekdaysParse,s))||-1!==(o=Ke.call(this._shortWeekdaysParse,s))?o:null}function Vt(e,t,i){var n,o,r;if(this._weekdaysParseExact)return Ht.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=g([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=Qe(this,"Day");return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ot),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,i,n,o,r,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)i=g([2e3,1]).day(t),n=Ee(this.weekdaysMin(i,"")),o=Ee(this.weekdaysShort(i,"")),r=Ee(this.weekdays(i,"")),s.push(n),a.push(o),l.push(r),c.push(n),c.push(o),c.push(r);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function $t(e,t){G(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ei(e,t){return t._meridiemParse}function ti(e){return"p"===(e+"").toLowerCase().charAt(0)}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Qt),G("k",["kk",2],0,Jt),G("hmm",0,0,(function(){return""+Qt.apply(this)+I(this.minutes(),2)})),G("hmmss",0,0,(function(){return""+Qt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),G("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),G("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),$t("a",!0),$t("A",!1),ke("a",ei),ke("A",ei),ke("H",he,Me),ke("h",he,Re),ke("k",he,Re),ke("HH",he,le),ke("hh",he,le),ke("kk",he,le),ke("hmm",pe),ke("hmmss",ge),ke("Hmm",pe),ke("Hmmss",ge),Ne(["H","HH"],Ge),Ne(["k","kk"],(function(e,t,i){var n=Pe(e);t[Ge]=24===n?0:n})),Ne(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),Ne(["h","hh"],(function(e,t,i){t[Ge]=Pe(e),f(i).bigHour=!0})),Ne("hmm",(function(e,t,i){var n=e.length-2;t[Ge]=Pe(e.substr(0,n)),t[ze]=Pe(e.substr(n)),f(i).bigHour=!0})),Ne("hmmss",(function(e,t,i){var n=e.length-4,o=e.length-2;t[Ge]=Pe(e.substr(0,n)),t[ze]=Pe(e.substr(n,2)),t[He]=Pe(e.substr(o)),f(i).bigHour=!0})),Ne("Hmm",(function(e,t,i){var n=e.length-2;t[Ge]=Pe(e.substr(0,n)),t[ze]=Pe(e.substr(n))})),Ne("Hmmss",(function(e,t,i){var n=e.length-4,o=e.length-2;t[Ge]=Pe(e.substr(0,n)),t[ze]=Pe(e.substr(n,2)),t[He]=Pe(e.substr(o))}));var ii=/[ap]\.?m?\.?/i,ni=Ze("Hours",!0);function oi(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var ri,si={calendar:N,longDateFormat:U,invalidDate:K,ordinal:X,dayOfMonthOrdinalParse:Z,relativeTime:J,months:nt,monthsShort:ot,week:Mt,weekdays:Nt,weekdaysMin:It,weekdaysShort:Lt,meridiemParse:ii},ai={},li={};function ci(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function di(e){return e?e.toLowerCase().replace("_","-"):e}function ui(e){for(var t,i,n,o,r=0;r<e.length;){for(t=(o=di(e[r]).split("-")).length,i=(i=di(e[r+1]))?i.split("-"):null;t>0;){if(n=pi(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&ci(o,i)>=t-1)break;t--}r++}return ri}function hi(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pi(t){var i=null;if(void 0===ai[t]&&e&&e.exports&&hi(t))try{i=ri._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),gi(i)}catch(n){ai[t]=null}return ai[t]}function gi(e,t){var i;return e&&((i=c(t)?vi(e):mi(e,t))?ri=i:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ri._abbr}function mi(e,t){if(null!==t){var i,n=si;if(t.abbr=e,null!=ai[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ai[e]._config;else if(null!=t.parentLocale)if(null!=ai[t.parentLocale])n=ai[t.parentLocale]._config;else{if(null==(i=pi(t.parentLocale)))return li[t.parentLocale]||(li[t.parentLocale]=[]),li[t.parentLocale].push({name:e,config:t}),null;n=i._config}return ai[e]=new F(P(n,t)),li[e]&&li[e].forEach((function(e){mi(e.name,e.config)})),gi(e),ai[e]}return delete ai[e],null}function fi(e,t){if(null!=t){var i,n,o=si;null!=ai[e]&&null!=ai[e].parentLocale?ai[e].set(P(ai[e]._config,t)):(null!=(n=pi(e))&&(o=n._config),t=P(o,t),null==n&&(t.abbr=e),(i=new F(t)).parentLocale=ai[e],ai[e]=i),gi(e)}else null!=ai[e]&&(null!=ai[e].parentLocale?(ai[e]=ai[e].parentLocale,e===gi()&&gi(e)):null!=ai[e]&&delete ai[e]);return ai[e]}function vi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ri;if(!r(e)){if(t=pi(e))return t;e=[e]}return ui(e)}function yi(){return k(ai)}function bi(e){var t,i=e._a;return i&&-2===f(e).overflow&&(t=i[Be]<0||i[Be]>11?Be:i[_e]<1||i[_e]>it(i[je],i[Be])?_e:i[Ge]<0||i[Ge]>24||24===i[Ge]&&(0!==i[ze]||0!==i[He]||0!==i[Ve])?Ge:i[ze]<0||i[ze]>59?ze:i[He]<0||i[He]>59?He:i[Ve]<0||i[Ve]>999?Ve:-1,f(e)._overflowDayOfYear&&(t<je||t>_e)&&(t=_e),f(e)._overflowWeeks&&-1===t&&(t=We),f(e)._overflowWeekday&&-1===t&&(t=Ue),f(e).overflow=t),e}var Ci=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xi=/Z|[+-]\d\d(?::?\d\d)?/,Si=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mi=/^\/?Date\((-?\d+)/i,ki=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Di={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ai(e){var t,i,n,o,r,s,a=e._i,l=Ci.exec(a)||wi.exec(a),c=Si.length,d=Ri.length;if(l){for(f(e).iso=!0,t=0,i=c;t<i;t++)if(Si[t][1].exec(l[1])){o=Si[t][0],n=!1!==Si[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=d;t<i;t++)if(Ri[t][1].exec(l[3])){r=(l[2]||" ")+Ri[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!xi.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),Gi(e)}else e._isValid=!1}function Ei(e,t,i,n,o,r){var s=[Ti(e),ot.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function Ti(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Fi(e,t,i){return!e||Lt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}function Ni(e,t,i){if(e)return Di[e];if(t)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function Li(e){var t,i=ki.exec(Pi(e._i));if(i){if(t=Ei(i[4],i[3],i[2],i[5],i[6],i[7]),!Fi(i[1],t,e))return;e._a=t,e._tzm=Ni(i[8],i[9],i[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Ii(e){var t=Mi.exec(e._i);null===t?(Ai(e),!1===e._isValid&&(delete e._isValid,Li(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Oi(e,t,i){return null!=e?e:null!=t?t:i}function ji(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bi(e){var t,i,n,o,r,s=[];if(!e._d){for(n=ji(e),e._w&&null==e._a[_e]&&null==e._a[Be]&&_i(e),null!=e._dayOfYear&&(r=Oi(e._a[je],n[je]),(e._dayOfYear>Ye(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=bt(r,0,e._dayOfYear),e._a[Be]=i.getUTCMonth(),e._a[_e]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[ze]&&0===e._a[He]&&0===e._a[Ve]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?bt:yt).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}function _i(e){var t,i,n,o,r,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,s=4,i=Oi(t.GG,e._a[je],xt(qi(),1,4).year),n=Oi(t.W,1),((o=Oi(t.E,1))<1||o>7)&&(l=!0)):(r=e._locale._week.dow,s=e._locale._week.doy,c=xt(qi(),r,s),i=Oi(t.gg,e._a[je],c.year),n=Oi(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(l=!0)):o=r),n<1||n>St(i,r,s)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(a=wt(i,n,o,r,s),e._a[je]=a.year,e._dayOfYear=a.dayOfYear)}function Gi(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],f(e).empty=!0;var t,i,o,r,s,a,l,c=""+e._i,d=c.length,u=0;for(l=(o=W(e._f,e._locale).match(O)||[]).length,t=0;t<l;t++)r=o[t],(i=(c.match(De(r,e))||[])[0])&&((s=c.substr(0,c.indexOf(i))).length>0&&f(e).unusedInput.push(s),c=c.slice(c.indexOf(i)+i.length),u+=i.length),_[r]?(i?f(e).empty=!1:f(e).unusedTokens.push(r),Ie(r,i,e)):e._strict&&!i&&f(e).unusedTokens.push(r);f(e).charsLeftOver=d-u,c.length>0&&f(e).unusedInput.push(c),e._a[Ge]<=12&&!0===f(e).bigHour&&e._a[Ge]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Ge]=zi(e._locale,e._a[Ge],e._meridiem),null!==(a=f(e).era)&&(e._a[je]=e._locale.erasConvertYear(a,e._a[je])),Bi(e),bi(e)}else Li(e);else Ai(e)}function zi(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function Hi(e){var t,i,n,o,r,s,a=!1,l=e._f.length;if(0===l)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<l;o++)r=0,s=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Gi(t),v(t)&&(s=!0),r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,a?r<n&&(n=r,i=t):(null==n||r<n||s)&&(n=r,i=t,s&&(a=!0));p(e,i||t)}function Vi(e){if(!e._d){var t=ne(e._i),i=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bi(e)}}function Wi(e){var t=new x(bi(Ui(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ui(e){var t=e._i,i=e._f;return e._locale=e._locale||vi(e._l),null===t||void 0===i&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new x(bi(t)):(u(t)?e._d=t:r(i)?Hi(e):i?Gi(e):Yi(e),v(e)||(e._d=null),e))}function Yi(e){var t=e._i;c(t)?e._d=new Date(n.now()):u(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ii(e):r(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Bi(e)):s(t)?Vi(e):d(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Ki(e,t,i,n,o){var a={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(s(e)&&l(e)||r(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=i,a._i=e,a._f=t,a._strict=n,Wi(a)}function qi(e,t,i,n){return Ki(e,t,i,n,!1)}n.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Xi=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=qi.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Zi=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=qi.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Qi(e,t){var i,n;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return qi();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}function Ji(){return Qi("isBefore",[].slice.call(arguments,0))}function $i(){return Qi("isAfter",[].slice.call(arguments,0))}var en=function(){return Date.now?Date.now():+new Date},tn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nn(e){var t,i,n=!1,o=tn.length;for(t in e)if(a(e,t)&&(-1===Ke.call(tn,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<o;++i)if(e[tn[i]]){if(n)return!1;parseFloat(e[tn[i]])!==Pe(e[tn[i]])&&(n=!0)}return!0}function on(){return this._isValid}function rn(){return An(NaN)}function sn(e){var t=ne(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=nn(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=vi(),this._bubble()}function an(e){return e instanceof sn}function ln(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cn(e,t,i){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&Pe(e[n])!==Pe(t[n]))&&s++;return s+r}function dn(e,t){G(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+I(~~(e/60),2)+t+I(~~e%60,2)}))}dn("Z",":"),dn("ZZ",""),ke("Z",we),ke("ZZ",we),Ne(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=hn(we,e)}));var un=/([\+\-]|\d\d)/gi;function hn(e,t){var i,n,o=(t||"").match(e);return null===o?null:0===(n=60*(i=((o[o.length-1]||[])+"").match(un)||["-",0,0])[1]+Pe(i[2]))?0:"+"===i[0]?n:-n}function pn(e,t){var i,o;return t._isUTC?(i=t.clone(),o=(S(e)||u(e)?e.valueOf():qi(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):qi(e).local()}function gn(e){return-Math.round(e._d.getTimezoneOffset())}function mn(e,t,i){var o,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hn(we,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(o=gn(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?Nn(this,An(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:gn(this)}function fn(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vn(e){return this.utcOffset(0,e)}function yn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(gn(this),"m")),this}function bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hn(Ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Cn(e){return!!this.isValid()&&(e=e?qi(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xn(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Ui(t))._a?(e=t._isUTC?g(t._a):qi(t._a),this._isDSTShifted=this.isValid()&&cn(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sn(){return!!this.isValid()&&!this._isUTC}function Rn(){return!!this.isValid()&&this._isUTC}function Mn(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var kn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Dn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function An(e,t){var i,n,o,r=e,s=null;return an(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=kn.exec(e))?(i="-"===s[1]?-1:1,r={y:0,d:Pe(s[_e])*i,h:Pe(s[Ge])*i,m:Pe(s[ze])*i,s:Pe(s[He])*i,ms:Pe(ln(1e3*s[Ve]))*i}):(s=Dn.exec(e))?(i="-"===s[1]?-1:1,r={y:En(s[2],i),M:En(s[3],i),w:En(s[4],i),d:En(s[5],i),h:En(s[6],i),m:En(s[7],i),s:En(s[8],i)}):null==r?r={}:"object"===typeof r&&("from"in r||"to"in r)&&(o=Pn(qi(r.from),qi(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),n=new sn(r),an(e)&&a(e,"_locale")&&(n._locale=e._locale),an(e)&&a(e,"_isValid")&&(n._isValid=e._isValid),n}function En(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Tn(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Pn(e,t){var i;return e.isValid()&&t.isValid()?(t=pn(t,e),e.isBefore(t)?i=Tn(e,t):((i=Tn(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Fn(e,t){return function(i,n){var o;return null===n||isNaN(+n)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=n,n=o),Nn(this,An(i,n),e),this}}function Nn(e,t,i,o){var r=t._milliseconds,s=ln(t._days),a=ln(t._months);e.isValid()&&(o=null==o||o,a&&ht(e,Qe(e,"Month")+a*i),s&&Je(e,"Date",Qe(e,"Date")+s*i),r&&e._d.setTime(e._d.valueOf()+r*i),o&&n.updateOffset(e,s||a))}An.fn=sn.prototype,An.invalid=rn;var Ln=Fn(1,"add"),In=Fn(-1,"subtract");function On(e){return"string"===typeof e||e instanceof String}function jn(e){return S(e)||u(e)||On(e)||d(e)||_n(e)||Bn(e)||null===e||void 0===e}function Bn(e){var t,i,n=s(e)&&!l(e),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=r.length;for(t=0;t<c;t+=1)i=r[t],o=o||a(e,i);return n&&o}function _n(e){var t=r(e),i=!1;return t&&(i=0===e.filter((function(t){return!d(t)&&On(e)})).length),t&&i}function Gn(e){var t,i,n=s(e)&&!l(e),o=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=r[t],o=o||a(e,i);return n&&o}function zn(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Hn(e,t){1===arguments.length&&(arguments[0]?jn(arguments[0])?(e=arguments[0],t=void 0):Gn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||qi(),o=pn(i,this).startOf("day"),r=n.calendarFormat(this,o)||"sameElse",s=t&&(E(t[r])?t[r].call(this,i):t[r]);return this.format(s||this.localeData().calendar(r,this,qi(i)))}function Vn(){return new x(this)}function Wn(e,t){var i=S(e)?e:qi(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function Un(e,t){var i=S(e)?e:qi(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function Yn(e,t,i,n){var o=S(e)?e:qi(e),r=S(t)?t:qi(t);return!!(this.isValid()&&o.isValid()&&r.isValid())&&("("===(n=n||"()")[0]?this.isAfter(o,i):!this.isBefore(o,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i))}function Kn(e,t){var i,n=S(e)?e:qi(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function qn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zn(e,t,i){var n,o,r;if(!this.isValid())return NaN;if(!(n=pn(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=ie(t)){case"year":r=Qn(this,n)/12;break;case"month":r=Qn(this,n);break;case"quarter":r=Qn(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:Te(r)}function Qn(e,t){if(e.date()<t.date())return-Qn(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function Jn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $n(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(i,"Z")):V(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n,o="moment",r="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(e+t+i+n)}function to(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function io(e,t){return this.isValid()&&(S(e)&&e.isValid()||qi(e).isValid())?An({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function no(e){return this.from(qi(),e)}function oo(e,t){return this.isValid()&&(S(e)&&e.isValid()||qi(e).isValid())?An({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ro(e){return this.to(qi(),e)}function so(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vi(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ao=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lo(){return this._locale}var co=1e3,uo=60*co,ho=60*uo,po=3506328*ho;function go(e,t){return(e%t+t)%t}function mo(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-po:new Date(e,t,i).valueOf()}function fo(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-po:Date.UTC(e,t,i)}function vo(e){var t,i;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?fo:mo,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=go(t+(this._isUTC?0:this.utcOffset()*uo),ho);break;case"minute":t=this._d.valueOf(),t-=go(t,uo);break;case"second":t=this._d.valueOf(),t-=go(t,co)}return this._d.setTime(t),n.updateOffset(this,!0),this}function yo(e){var t,i;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?fo:mo,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ho-go(t+(this._isUTC?0:this.utcOffset()*uo),ho)-1;break;case"minute":t=this._d.valueOf(),t+=uo-go(t,uo)-1;break;case"second":t=this._d.valueOf(),t+=co-go(t,co)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function Co(){return Math.floor(this.valueOf()/1e3)}function wo(){return new Date(this.valueOf())}function xo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function So(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ro(){return this.isValid()?this.toISOString():null}function Mo(){return v(this)}function ko(){return p({},f(this))}function Do(){return f(this).overflow}function Ao(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Eo(e,t){var i,o,r,s=this._eras||vi("en")._eras;for(i=0,o=s.length;i<o;++i)switch("string"===typeof s[i].since&&(r=n(s[i].since).startOf("day"),s[i].since=r.valueOf()),typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":r=n(s[i].until).startOf("day").valueOf(),s[i].until=r.valueOf()}return s}function To(e,t,i){var n,o,r,s,a,l=this.eras();for(e=e.toUpperCase(),n=0,o=l.length;n<o;++n)if(r=l[n].name.toUpperCase(),s=l[n].abbr.toUpperCase(),a=l[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[n];break;case"NNNN":if(r===e)return l[n];break;case"NNNNN":if(a===e)return l[n]}else if([r,s,a].indexOf(e)>=0)return l[n]}function Po(e,t){var i=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*i}function Fo(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""}function No(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""}function Lo(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""}function Io(){var e,t,i,o,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=r[e].since<=r[e].until?1:-1,o=this.clone().startOf("day").valueOf(),r[e].since<=o&&o<=r[e].until||r[e].until<=o&&o<=r[e].since)return(this.year()-n(r[e].since).year())*i+r[e].offset;return this.year()}function Oo(e){return a(this,"_erasNameRegex")||Vo.call(this),e?this._erasNameRegex:this._erasRegex}function jo(e){return a(this,"_erasAbbrRegex")||Vo.call(this),e?this._erasAbbrRegex:this._erasRegex}function Bo(e){return a(this,"_erasNarrowRegex")||Vo.call(this),e?this._erasNarrowRegex:this._erasRegex}function _o(e,t){return t.erasAbbrRegex(e)}function Go(e,t){return t.erasNameRegex(e)}function zo(e,t){return t.erasNarrowRegex(e)}function Ho(e,t){return t._eraYearOrdinalRegex||ye}function Vo(){var e,t,i,n,o,r=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)i=Ee(c[e].name),n=Ee(c[e].abbr),o=Ee(c[e].narrow),s.push(i),r.push(n),a.push(o),l.push(i),l.push(n),l.push(o);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Wo(e,t){G(0,[e,e.length],0,t)}function Uo(e){return Qo.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Yo(e){return Qo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ko(){return St(this.year(),1,4)}function qo(){return St(this.isoWeekYear(),1,4)}function Xo(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Zo(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Qo(e,t,i,n,o){var r;return null==e?xt(this,n,o).year:(t>(r=St(e,n,o))&&(t=r),Jo.call(this,e,t,i,n,o))}function Jo(e,t,i,n,o){var r=wt(e,t,i,n,o),s=bt(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function $o(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}G("N",0,0,"eraAbbr"),G("NN",0,0,"eraAbbr"),G("NNN",0,0,"eraAbbr"),G("NNNN",0,0,"eraName"),G("NNNNN",0,0,"eraNarrow"),G("y",["y",1],"yo","eraYear"),G("y",["yy",2],0,"eraYear"),G("y",["yyy",3],0,"eraYear"),G("y",["yyyy",4],0,"eraYear"),ke("N",_o),ke("NN",_o),ke("NNN",_o),ke("NNNN",Go),ke("NNNNN",zo),Ne(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,n){var o=i._locale.erasParse(e,n,i._strict);o?f(i).era=o:f(i).invalidEra=e})),ke("y",ye),ke("yy",ye),ke("yyy",ye),ke("yyyy",ye),ke("yo",Ho),Ne(["y","yy","yyy","yyyy"],je),Ne(["yo"],(function(e,t,i,n){var o;i._locale._eraYearOrdinalRegex&&(o=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[je]=i._locale.eraYearOrdinalParse(e,o):t[je]=parseInt(e,10)})),G(0,["gg",2],0,(function(){return this.weekYear()%100})),G(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wo("gggg","weekYear"),Wo("ggggg","weekYear"),Wo("GGGG","isoWeekYear"),Wo("GGGGG","isoWeekYear"),ke("G",be),ke("g",be),ke("GG",he,le),ke("gg",he,le),ke("GGGG",fe,de),ke("gggg",fe,de),ke("GGGGG",ve,ue),ke("ggggg",ve,ue),Le(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=Pe(e)})),Le(["gg","GG"],(function(e,t,i,o){t[o]=n.parseTwoDigitYear(e)})),G("Q",0,"Qo","quarter"),ke("Q",ae),Ne("Q",(function(e,t){t[Be]=3*(Pe(e)-1)})),G("D",["DD",2],"Do","date"),ke("D",he,Re),ke("DD",he,le),ke("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ne(["D","DD"],_e),Ne("Do",(function(e,t){t[_e]=Pe(e.match(he)[0])}));var er=Ze("Date",!0);function tr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}G("DDD",["DDDD",3],"DDDo","dayOfYear"),ke("DDD",me),ke("DDDD",ce),Ne(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=Pe(e)})),G("m",["mm",2],0,"minute"),ke("m",he,Me),ke("mm",he,le),Ne(["m","mm"],ze);var ir=Ze("Minutes",!1);G("s",["ss",2],0,"second"),ke("s",he,Me),ke("ss",he,le),Ne(["s","ss"],He);var nr,or,rr=Ze("Seconds",!1);for(G("S",0,0,(function(){return~~(this.millisecond()/100)})),G(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),G(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),G(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),G(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),G(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),G(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ke("S",me,ae),ke("SS",me,le),ke("SSS",me,ce),nr="SSSS";nr.length<=9;nr+="S")ke(nr,ye);function sr(e,t){t[Ve]=Pe(1e3*("0."+e))}for(nr="S";nr.length<=9;nr+="S")Ne(nr,sr);function ar(){return this._isUTC?"UTC":""}function lr(){return this._isUTC?"Coordinated Universal Time":""}or=Ze("Milliseconds",!1),G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var cr=x.prototype;function dr(e){return qi(1e3*e)}function ur(){return qi.apply(null,arguments).parseZone()}function hr(e){return e}cr.add=Ln,cr.calendar=Hn,cr.clone=Vn,cr.diff=Zn,cr.endOf=yo,cr.format=to,cr.from=io,cr.fromNow=no,cr.to=oo,cr.toNow=ro,cr.get=$e,cr.invalidAt=Do,cr.isAfter=Wn,cr.isBefore=Un,cr.isBetween=Yn,cr.isSame=Kn,cr.isSameOrAfter=qn,cr.isSameOrBefore=Xn,cr.isValid=Mo,cr.lang=ao,cr.locale=so,cr.localeData=lo,cr.max=Zi,cr.min=Xi,cr.parsingFlags=ko,cr.set=et,cr.startOf=vo,cr.subtract=In,cr.toArray=xo,cr.toObject=So,cr.toDate=wo,cr.toISOString=$n,cr.inspect=eo,"undefined"!==typeof Symbol&&null!=Symbol.for&&(cr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),cr.toJSON=Ro,cr.toString=Jn,cr.unix=Co,cr.valueOf=bo,cr.creationData=Ao,cr.eraName=Fo,cr.eraNarrow=No,cr.eraAbbr=Lo,cr.eraYear=Io,cr.year=qe,cr.isLeapYear=Xe,cr.weekYear=Uo,cr.isoWeekYear=Yo,cr.quarter=cr.quarters=$o,cr.month=pt,cr.daysInMonth=gt,cr.week=cr.weeks=At,cr.isoWeek=cr.isoWeeks=Et,cr.weeksInYear=Xo,cr.weeksInWeekYear=Zo,cr.isoWeeksInYear=Ko,cr.isoWeeksInISOWeekYear=qo,cr.date=er,cr.day=cr.days=Wt,cr.weekday=Ut,cr.isoWeekday=Yt,cr.dayOfYear=tr,cr.hour=cr.hours=ni,cr.minute=cr.minutes=ir,cr.second=cr.seconds=rr,cr.millisecond=cr.milliseconds=or,cr.utcOffset=mn,cr.utc=vn,cr.local=yn,cr.parseZone=bn,cr.hasAlignedHourOffset=Cn,cr.isDST=wn,cr.isLocal=Sn,cr.isUtcOffset=Rn,cr.isUtc=Mn,cr.isUTC=Mn,cr.zoneAbbr=ar,cr.zoneName=lr,cr.dates=M("dates accessor is deprecated. Use date instead.",er),cr.months=M("months accessor is deprecated. Use month instead",pt),cr.years=M("years accessor is deprecated. Use year instead",qe),cr.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fn),cr.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xn);var pr=F.prototype;function gr(e,t,i,n){var o=vi(),r=g().set(n,t);return o[i](r,e)}function mr(e,t,i){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return gr(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=gr(e,n,i,"month");return o}function fr(e,t,i,n){"boolean"===typeof e?(d(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,d(t)&&(i=t,t=void 0),t=t||"");var o,r=vi(),s=e?r._week.dow:0,a=[];if(null!=i)return gr(t,(i+s)%7,n,"day");for(o=0;o<7;o++)a[o]=gr(t,(o+s)%7,n,"day");return a}function vr(e,t){return mr(e,t,"months")}function yr(e,t){return mr(e,t,"monthsShort")}function br(e,t,i){return fr(e,t,i,"weekdays")}function Cr(e,t,i){return fr(e,t,i,"weekdaysShort")}function wr(e,t,i){return fr(e,t,i,"weekdaysMin")}pr.calendar=L,pr.longDateFormat=Y,pr.invalidDate=q,pr.ordinal=Q,pr.preparse=hr,pr.postformat=hr,pr.relativeTime=$,pr.pastFuture=ee,pr.set=T,pr.eras=Eo,pr.erasParse=To,pr.erasConvertYear=Po,pr.erasAbbrRegex=jo,pr.erasNameRegex=Oo,pr.erasNarrowRegex=Bo,pr.months=lt,pr.monthsShort=ct,pr.monthsParse=ut,pr.monthsRegex=ft,pr.monthsShortRegex=mt,pr.week=Rt,pr.firstDayOfYear=Dt,pr.firstDayOfWeek=kt,pr.weekdays=_t,pr.weekdaysMin=zt,pr.weekdaysShort=Gt,pr.weekdaysParse=Vt,pr.weekdaysRegex=Kt,pr.weekdaysShortRegex=qt,pr.weekdaysMinRegex=Xt,pr.isPM=ti,pr.meridiem=oi,gi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Pe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=M("moment.lang is deprecated. Use moment.locale instead.",gi),n.langData=M("moment.langData is deprecated. Use moment.localeData instead.",vi);var xr=Math.abs;function Sr(){var e=this._data;return this._milliseconds=xr(this._milliseconds),this._days=xr(this._days),this._months=xr(this._months),e.milliseconds=xr(e.milliseconds),e.seconds=xr(e.seconds),e.minutes=xr(e.minutes),e.hours=xr(e.hours),e.months=xr(e.months),e.years=xr(e.years),this}function Rr(e,t,i,n){var o=An(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function Mr(e,t){return Rr(this,e,t,1)}function kr(e,t){return Rr(this,e,t,-1)}function Dr(e){return e<0?Math.floor(e):Math.ceil(e)}function Ar(){var e,t,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Dr(Tr(a)+s),s=0,a=0),l.milliseconds=r%1e3,e=Te(r/1e3),l.seconds=e%60,t=Te(e/60),l.minutes=t%60,i=Te(t/60),l.hours=i%24,s+=Te(i/24),a+=o=Te(Er(s)),s-=Dr(Tr(o)),n=Te(a/12),a%=12,l.days=s,l.months=a,l.years=n,this}function Er(e){return 4800*e/146097}function Tr(e){return 146097*e/4800}function Pr(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=ie(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+Er(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Tr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function Fr(e){return function(){return this.as(e)}}var Nr=Fr("ms"),Lr=Fr("s"),Ir=Fr("m"),Or=Fr("h"),jr=Fr("d"),Br=Fr("w"),_r=Fr("M"),Gr=Fr("Q"),zr=Fr("y"),Hr=Nr;function Vr(){return An(this)}function Wr(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function Ur(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yr=Ur("milliseconds"),Kr=Ur("seconds"),qr=Ur("minutes"),Xr=Ur("hours"),Zr=Ur("days"),Qr=Ur("months"),Jr=Ur("years");function $r(){return Te(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function is(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function ns(e,t,i,n){var o=An(e).abs(),r=es(o.as("s")),s=es(o.as("m")),a=es(o.as("h")),l=es(o.as("d")),c=es(o.as("M")),d=es(o.as("w")),u=es(o.as("y")),h=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||s<=1&&["m"]||s<i.m&&["mm",s]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(h=h||d<=1&&["w"]||d<i.w&&["ww",d]),(h=h||c<=1&&["M"]||c<i.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,h[3]=+e>0,h[4]=n,is.apply(null,h)}function os(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function rs(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,o=!1,r=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(o=e),"object"===typeof t&&(r=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),n=ns(this,!o,r,i=this.localeData()),o&&(n=i.pastFuture(+this,n)),i.postformat(n)}var as=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,o,r,s,a,l=as(this._milliseconds)/1e3,c=as(this._days),d=as(this._months),u=this.asSeconds();return u?(e=Te(l/60),t=Te(e/60),l%=60,e%=60,i=Te(d/12),d%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=u<0?"-":"",r=ls(this._months)!==ls(u)?"-":"",s=ls(this._days)!==ls(u)?"-":"",a=ls(this._milliseconds)!==ls(u)?"-":"",o+"P"+(i?r+i+"Y":"")+(d?r+d+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+n+"S":"")):"P0D"}var ds=sn.prototype;return ds.isValid=on,ds.abs=Sr,ds.add=Mr,ds.subtract=kr,ds.as=Pr,ds.asMilliseconds=Nr,ds.asSeconds=Lr,ds.asMinutes=Ir,ds.asHours=Or,ds.asDays=jr,ds.asWeeks=Br,ds.asMonths=_r,ds.asQuarters=Gr,ds.asYears=zr,ds.valueOf=Hr,ds._bubble=Ar,ds.clone=Vr,ds.get=Wr,ds.milliseconds=Yr,ds.seconds=Kr,ds.minutes=qr,ds.hours=Xr,ds.days=Zr,ds.weeks=$r,ds.months=Qr,ds.years=Jr,ds.humanize=ss,ds.toISOString=cs,ds.toString=cs,ds.toJSON=cs,ds.locale=so,ds.localeData=lo,ds.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),ds.lang=ao,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ke("x",be),ke("X",xe),Ne("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),Ne("x",(function(e,t,i){i._d=new Date(Pe(e))})),n.version="2.30.1",o(qi),n.fn=cr,n.min=Ji,n.max=$i,n.now=en,n.utc=g,n.unix=dr,n.months=vr,n.isDate=u,n.locale=gi,n.invalid=y,n.duration=An,n.isMoment=S,n.weekdays=br,n.parseZone=ur,n.localeData=vi,n.isDuration=an,n.monthsShort=yr,n.weekdaysMin=wr,n.defineLocale=mi,n.updateLocale=fi,n.locales=yi,n.weekdaysShort=Cr,n.normalizeUnits=ie,n.relativeTimeRounding=os,n.relativeTimeThreshold=rs,n.calendarFormat=zn,n.prototype=cr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()},5457:e=>{"use strict";e.exports=()=>{const e={};return e.promise=new Promise(((t,i)=>{e.resolve=t,e.reject=i})),e}},1497:(e,t,i)=>{"use strict";var n=i(3218);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}},5173:(e,t,i)=>{e.exports=i(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,i)=>{"use strict";var n=i(5043),o=i(8853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function m(e,t,i,n,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,i,n){var o=f.hasOwnProperty(t)?f[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,o,n)&&(i=null),n||null===o?function(e){return!!u.call(g,e)||!u.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):o.mustUseProperty?e[o.propertyName]=null===i?3!==o.type&&"":i:(t=o.attributeName,n=o.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);f[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,j=Object.assign;function B(e){if(void 0===O)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var _=!1;function G(e,t){if(!e||_)return"";_=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),r=n.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{_=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case M:return"Profiler";case R:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return H(e(t))}catch(i){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var o=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=U(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Z(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=W(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var i=W(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&q(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&n&&(e[i].defaultSelected=!0)}else{for(i=""+W(i),t=null,o=0;o<e.length;o++){if(e[o].value===i)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(r(92));if(te(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:W(i)}}function re(e,t){var i=W(t.value),n=W(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),o=me(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,o):e[i]=o}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Re=null;function Me(e){if(e=Co(e)){if("function"!==typeof xe)throw Error(r(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function ke(e){Se?Re?Re.push(e):Re=[e]:Se=e}function De(){if(Se){var e=Se,t=Re;if(Re=Se=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Ae(e,t){return e(t)}function Ee(){}var Te=!1;function Pe(e,t,i){if(Te)return e(t,i);Te=!0;try{return Ae(e,t,i)}finally{Te=!1,(null!==Se||null!==Re)&&(Ee(),De())}}function Fe(e,t){var i=e.stateNode;if(null===i)return null;var n=xo(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(r(231,t,typeof i));return i}var Ne=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Ne=!1}function Ie(e,t,i,n,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(d){this.onError(d)}}var Oe=!1,je=null,Be=!1,_e=null,Ge={onError:function(e){Oe=!0,je=e}};function ze(e,t,i,n,o,r,s,a,l){Oe=!1,je=null,Ie.apply(Ge,arguments)}function He(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(r(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(r(188));return t!==e?null:e}for(var i=e,n=t;;){var o=i.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(n=o.return)){i=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===i)return We(o),e;if(s===n)return We(o),t;s=s.sibling}throw Error(r(188))}if(i.return!==n.return)i=o,n=s;else{for(var a=!1,l=o.child;l;){if(l===i){a=!0,i=o,n=s;break}if(l===n){a=!0,n=o,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,n=o;break}if(l===n){a=!0,n=s,i=o;break}l=l.sibling}if(!a)throw Error(r(189))}}if(i.alternate!==n)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,$e=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,it=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&i;if(0!==s){var a=s&~o;0!==a?n=ut(a):0!==(r&=s)&&(n=ut(r))}else 0!==(s=i&~o)?n=ut(s):0!==r&&(n=ut(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(r=t&-t)||16===o&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(i=31-st(t)),n|=e[i],t&=~o;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=i}function yt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-st(i),o=1<<n;o&t|e[n]&t&&(e[n]|=t),i&=~o}}var bt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Rt,Mt,kt=!1,Dt=[],At=null,Et=null,Tt=null,Pt=new Map,Ft=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Ot(e,t,i,n,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=Co(t))&&xt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function jt(e){var t=bo(e.target);if(null!==t){var i=He(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ve(i)))return e.blockedOn=t,void Mt(e.priority,(function(){St(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=Co(i))&&xt(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);Ce=n,i.target.dispatchEvent(n),Ce=null,t.shift()}return!0}function _t(e,t,i){Bt(e)&&i.delete(t)}function Gt(){kt=!1,null!==At&&Bt(At)&&(At=null),null!==Et&&Bt(Et)&&(Et=null),null!==Tt&&Bt(Tt)&&(Tt=null),Pt.forEach(_t),Ft.forEach(_t)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gt)))}function Ht(e){function t(t){return zt(t,e)}if(0<Dt.length){zt(Dt[0],e);for(var i=1;i<Dt.length;i++){var n=Dt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Et&&zt(Et,e),null!==Tt&&zt(Tt,e),Pt.forEach(t),Ft.forEach(t),i=0;i<Nt.length;i++)(n=Nt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Nt.length&&null===(i=Nt[0]).blockedOn;)jt(i),null===i.blockedOn&&Nt.shift()}var Vt=C.ReactCurrentBatchConfig,Wt=!0;function Ut(e,t,i,n){var o=bt,r=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,i,n)}finally{bt=o,Vt.transition=r}}function Yt(e,t,i,n){var o=bt,r=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,i,n)}finally{bt=o,Vt.transition=r}}function Kt(e,t,i,n){if(Wt){var o=Xt(e,t,i,n);if(null===o)Wn(e,t,n,qt,i),It(e,n);else if(function(e,t,i,n,o){switch(t){case"focusin":return At=Ot(At,e,t,i,n,o),!0;case"dragenter":return Et=Ot(Et,e,t,i,n,o),!0;case"mouseover":return Tt=Ot(Tt,e,t,i,n,o),!0;case"pointerover":var r=o.pointerId;return Pt.set(r,Ot(Pt.get(r)||null,e,t,i,n,o)),!0;case"gotpointercapture":return r=o.pointerId,Ft.set(r,Ot(Ft.get(r)||null,e,t,i,n,o)),!0}return!1}(o,e,t,i,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var r=Co(o);if(null!==r&&wt(r),null===(r=Xt(e,t,i,n))&&Wn(e,t,n,qt,i),r===o)break;o=r}null!==o&&n.stopPropagation()}else Wn(e,t,n,null,i)}}var qt=null;function Xt(e,t,i,n){if(qt=null,null!==(e=bo(e=we(n))))if(null===(t=He(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function ei(){if($t)return $t;var e,t,i=Jt,n=i.length,o="value"in Qt?Qt.value:Qt.textContent,r=o.length;for(e=0;e<n&&i[e]===o[e];e++);var s=n-e;for(t=1;t<=s&&i[n-t]===o[r-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function oi(e){function t(t,i,n,o,r){for(var s in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var ri,si,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=oi(li),di=j({},li,{view:0,detail:0}),ui=oi(di),hi=j({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(ri=e.screenX-ai.screenX,si=e.screenY-ai.screenY):si=ri=0,ai=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:si}}),pi=oi(hi),gi=oi(j({},hi,{dataTransfer:0})),mi=oi(j({},di,{relatedTarget:0})),fi=oi(j({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=j({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yi=oi(vi),bi=oi(j({},li,{data:0})),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xi[e])&&!!t[e]}function Ri(){return Si}var Mi=j({},di,{key:function(e){if(e.key){var t=Ci[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ki=oi(Mi),Di=oi(j({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ai=oi(j({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri})),Ei=oi(j({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ti=j({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=oi(Ti),Fi=[9,13,27,32],Ni=d&&"CompositionEvent"in window,Li=null;d&&"documentMode"in document&&(Li=document.documentMode);var Ii=d&&"TextEvent"in window&&!Li,Oi=d&&(!Ni||Li&&8<Li&&11>=Li),ji=String.fromCharCode(32),Bi=!1;function _i(e,t){switch(e){case"keyup":return-1!==Fi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zi=!1;var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hi[e.type]:"textarea"===t}function Wi(e,t,i,n){ke(n),0<(t=Yn(t,"onChange")).length&&(i=new ci("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Ui=null,Yi=null;function Ki(e){Bn(e,0)}function qi(e){if(K(wo(e)))return e}function Xi(e,t){if("change"===e)return t}var Zi=!1;if(d){var Qi;if(d){var Ji="oninput"in document;if(!Ji){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Ji="function"===typeof $i.oninput}Qi=Ji}else Qi=!1;Zi=Qi&&(!document.documentMode||9<document.documentMode)}function en(){Ui&&(Ui.detachEvent("onpropertychange",tn),Yi=Ui=null)}function tn(e){if("value"===e.propertyName&&qi(Yi)){var t=[];Wi(t,Yi,e,we(e)),Pe(Ki,t)}}function nn(e,t,i){"focusin"===e?(en(),Yi=i,(Ui=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qi(Yi)}function rn(e,t){if("click"===e)return qi(t)}function sn(e,t){if("input"===e||"change"===e)return qi(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var o=i[n];if(!u.call(t,o)||!an(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var i,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=q((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=hn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&un(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=i.textContent.length,r=Math.min(n.start,o);n=void 0===n.end?r:Math.min(n.end,o),!e.extend&&r>n&&(o=n,n=r,r=o),o=dn(i,r);var s=dn(i,n);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,fn=null,vn=null,yn=null,bn=!1;function Cn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==fn||fn!==q(n)||("selectionStart"in(n=fn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Yn(vn,"onSelect")).length&&(t=new ci("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=fn)))}function wn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var xn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Sn={},Rn={};function Mn(e){if(Sn[e])return Sn[e];if(!xn[e])return e;var t,i=xn[e];for(t in i)if(i.hasOwnProperty(t)&&t in Rn)return Sn[e]=i[t];return e}d&&(Rn=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var kn=Mn("animationend"),Dn=Mn("animationiteration"),An=Mn("animationstart"),En=Mn("transitionend"),Tn=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){Tn.set(e,t),l(t,[e])}for(var Nn=0;Nn<Pn.length;Nn++){var Ln=Pn[Nn];Fn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Fn(kn,"onAnimationEnd"),Fn(Dn,"onAnimationIteration"),Fn(An,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function jn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,o,s,a,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var d=je;Oe=!1,je=null,Be||(Be=!0,_e=d)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],o=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;jn(o,a,c),r=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;jn(o,a,c),r=l}}}if(Be)throw e=_e,Be=!1,_e=null,e}function _n(e,t){var i=t[fo];void 0===i&&(i=t[fo]=new Set);var n=e+"__bubble";i.has(n)||(Vn(t,e,2,!1),i.add(n))}function Gn(e,t,i){var n=0;t&&(n|=4),Vn(i,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[zn]){e[zn]=!0,s.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Gn(t,!1,e),Gn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Gn("selectionchange",!1,t))}}function Vn(e,t,i,n){switch(Zt(t)){case 1:var o=Ut;break;case 4:o=Yt;break;default:o=Kt}i=o.bind(null,t,i,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):void 0!==o?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Wn(e,t,i,n,o){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){n=r=s;continue e}a=a.parentNode}}n=n.return}Pe((function(){var n=r,o=we(i),s=[];e:{var a=Tn.get(e);if(void 0!==a){var l=ci,c=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=ki;break;case"focusin":c="focus",l=mi;break;case"focusout":c="blur",l=mi;break;case"beforeblur":case"afterblur":l=mi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ai;break;case kn:case Dn:case An:l=fi;break;case En:l=Ei;break;case"scroll":l=ui;break;case"wheel":l=Pi;break;case"copy":case"cut":case"paste":l=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Di}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=n;null!==g;){var m=(p=g).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Fe(g,h))&&d.push(Un(g,m,p)))),u)break;g=g.return}0<d.length&&(a=new l(a,c,null,i,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===Ce||!(c=i.relatedTarget||i.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?bo(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=pi,m="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Di,m="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?a:wo(l),p=null==c?a:wo(c),(a=new d(m,g+"leave",l,i,o)).target=u,a.relatedTarget=p,m=null,bo(o)===n&&((d=new d(h,g+"enter",c,i,o)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,g=0,p=d=l;p;p=Kn(p))g++;for(p=0,m=h;m;m=Kn(m))p++;for(;0<g-p;)d=Kn(d),g--;for(;0<p-g;)h=Kn(h),p--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kn(d),h=Kn(h)}d=null}else d=null;null!==l&&qn(s,a,l,d,!1),null!==c&&null!==u&&qn(s,u,c,d,!0)}if("select"===(l=(a=n?wo(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var f=Xi;else if(Vi(a))if(Zi)f=sn;else{f=on;var v=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(f=rn);switch(f&&(f=f(e,n))?Wi(s,f,i,o):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=n?wo(n):window,e){case"focusin":(Vi(v)||"true"===v.contentEditable)&&(fn=v,vn=n,yn=null);break;case"focusout":yn=vn=fn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,Cn(s,i,o);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":Cn(s,i,o)}var y;if(Ni)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zi?_i(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(Oi&&"ko"!==i.locale&&(zi||"onCompositionStart"!==b?"onCompositionEnd"===b&&zi&&(y=ei()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,zi=!0)),0<(v=Yn(n,b)).length&&(b=new bi(b,e,null,i,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Gi(i))&&(b.data=y))),(y=Ii?function(e,t){switch(e){case"compositionend":return Gi(t);case"keypress":return 32!==t.which?null:(Bi=!0,ji);case"textInput":return(e=t.data)===ji&&Bi?null:e;default:return null}}(e,i):function(e,t){if(zi)return"compositionend"===e||!Ni&&_i(e,t)?(e=ei(),$t=Jt=Qt=null,zi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Yn(n,"onBeforeInput")).length&&(o=new bi("onBeforeInput","beforeinput",null,i,o),s.push({event:o,listeners:n}),o.data=y))}Bn(s,t)}))}function Un(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Yn(e,t){for(var i=t+"Capture",n=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Fe(e,i))&&n.unshift(Un(e,r,o)),null!=(r=Fe(e,t))&&n.push(Un(e,r,o))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qn(e,t,i,n,o){for(var r=t._reactName,s=[];null!==i&&i!==n;){var a=i,l=a.alternate,c=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Fe(i,r))&&s.unshift(Un(i,l,a)):o||null!=(l=Fe(i,r))&&s.push(Un(i,l,a))),i=i.return}0!==s.length&&e.push({event:t,listeners:s})}var Xn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Zn,"")}function Jn(e,t,i){if(t=Qn(t),Qn(e)!==t&&i)throw Error(r(425))}function $n(){}var eo=null,to=null;function io(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ro="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ro?function(e){return ro.resolve(null).then(e).catch(ao)}:no;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var i=t,n=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&8===o.nodeType)if("/$"===(i=o.data)){if(0===n)return e.removeChild(o),void Ht(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=o}while(i);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,go="__reactProps$"+ho,mo="__reactContainer$"+ho,fo="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var i=e.parentNode;i;){if(t=i[mo]||i[po]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=uo(e);null!==e;){if(i=e[po])return i;e=uo(e)}return t}i=(e=i).parentNode}return null}function Co(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xo(e){return e[go]||null}var So=[],Ro=-1;function Mo(e){return{current:e}}function ko(e){0>Ro||(e.current=So[Ro],So[Ro]=null,Ro--)}function Do(e,t){Ro++,So[Ro]=e.current,e.current=t}var Ao={},Eo=Mo(Ao),To=Mo(!1),Po=Ao;function Fo(e,t){var i=e.type.contextTypes;if(!i)return Ao;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in i)r[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){ko(To),ko(Eo)}function Io(e,t,i){if(Eo.current!==Ao)throw Error(r(168));Do(Eo,t),Do(To,i)}function Oo(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in t))throw Error(r(108,V(e)||"Unknown",o));return j({},i,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Po=Eo.current,Do(Eo,e),Do(To,To.current),!0}function Bo(e,t,i){var n=e.stateNode;if(!n)throw Error(r(169));i?(e=Oo(e,t,Po),n.__reactInternalMemoizedMergedChildContext=e,ko(To),ko(Eo),Do(Eo,e)):ko(To),Do(To,i)}var _o=null,Go=!1,zo=!1;function Ho(e){null===_o?_o=[e]:_o.push(e)}function Vo(){if(!zo&&null!==_o){zo=!0;var e=0,t=bt;try{var i=_o;for(bt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}_o=null,Go=!1}catch(o){throw null!==_o&&(_o=_o.slice(e+1)),Ke($e,Vo),o}finally{bt=t,zo=!1}}return null}var Wo=[],Uo=0,Yo=null,Ko=0,qo=[],Xo=0,Zo=null,Qo=1,Jo="";function $o(e,t){Wo[Uo++]=Ko,Wo[Uo++]=Yo,Yo=e,Ko=t}function er(e,t,i){qo[Xo++]=Qo,qo[Xo++]=Jo,qo[Xo++]=Zo,Zo=e;var n=Qo;e=Jo;var o=32-st(n)-1;n&=~(1<<o),i+=1;var r=32-st(t)+o;if(30<r){var s=o-o%5;r=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Qo=1<<32-st(t)+o|i<<o|n,Jo=r+e}else Qo=1<<r|i<<o|n,Jo=e}function tr(e){null!==e.return&&($o(e,1),er(e,1,0))}function ir(e){for(;e===Yo;)Yo=Wo[--Uo],Wo[Uo]=null,Ko=Wo[--Uo],Wo[Uo]=null;for(;e===Zo;)Zo=qo[--Xo],qo[Xo]=null,Jo=qo[--Xo],qo[Xo]=null,Qo=qo[--Xo],qo[Xo]=null}var nr=null,or=null,rr=!1,sr=null;function ar(e,t){var i=Pc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function lr(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,or=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,or=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Zo?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Pc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,nr=e,or=null,!0);default:return!1}}function cr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function dr(e){if(rr){var t=or;if(t){var i=t;if(!lr(e,t)){if(cr(e))throw Error(r(418));t=co(i.nextSibling);var n=nr;t&&lr(e,t)?ar(n,i):(e.flags=-4097&e.flags|2,rr=!1,nr=e)}}else{if(cr(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,nr=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function hr(e){if(e!==nr)return!1;if(!rr)return ur(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!io(e.type,e.memoizedProps)),t&&(t=or)){if(cr(e))throw pr(),Error(r(418));for(;t;)ar(e,t),t=co(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){or=co(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}or=null}}else or=nr?co(e.stateNode.nextSibling):null;return!0}function pr(){for(var e=or;e;)e=co(e.nextSibling)}function gr(){or=nr=null,rr=!1}function mr(e){null===sr?sr=[e]:sr.push(e)}var fr=C.ReactCurrentBatchConfig;function vr(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var n=i.stateNode}if(!n)throw Error(r(147,e));var o=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function yr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function Cr(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=jc(i,e.mode,n)).return=e,t):((t=o(t,i)).return=e,t)}function c(e,t,i,n){var r=i.type;return r===S?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===F&&br(r)===t.type)?((n=o(t,i.props)).ref=vr(e,t,i),n.return=e,n):((n=Lc(i.type,i.key,i.props,null,e.mode,n)).ref=vr(e,t,i),n.return=e,n)}function d(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Bc(i,e.mode,n)).return=e,t):((t=o(t,i.children||[])).return=e,t)}function u(e,t,i,n,r){return null===t||7!==t.tag?((t=Ic(i,e.mode,n,r)).return=e,t):((t=o(t,i)).return=e,t)}function h(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(i=Lc(t.type,t.key,t.props,null,e.mode,i)).ref=vr(e,null,t),i.return=e,i;case x:return(t=Bc(t,e.mode,i)).return=e,t;case F:return h(e,(0,t._init)(t._payload),i)}if(te(t)||I(t))return(t=Ic(t,e.mode,i,null)).return=e,t;yr(e,t)}return null}function p(e,t,i,n){var o=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==o?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return i.key===o?c(e,t,i,n):null;case x:return i.key===o?d(e,t,i,n):null;case F:return p(e,t,(o=i._init)(i._payload),n)}if(te(i)||I(i))return null!==o?null:u(e,t,i,n,null);yr(e,i)}return null}function g(e,t,i,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?i:n.key)||null,n,o);case x:return d(t,e=e.get(null===n.key?i:n.key)||null,n,o);case F:return g(e,t,i,(0,n._init)(n._payload),o)}if(te(n)||I(n))return u(t,e=e.get(i)||null,n,o,null);yr(t,n)}return null}function m(o,r,a,l){for(var c=null,d=null,u=r,m=r=0,f=null;null!==u&&m<a.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var v=p(o,u,a[m],l);if(null===v){null===u&&(u=f);break}e&&u&&null===v.alternate&&t(o,u),r=s(v,r,m),null===d?c=v:d.sibling=v,d=v,u=f}if(m===a.length)return i(o,u),rr&&$o(o,m),c;if(null===u){for(;m<a.length;m++)null!==(u=h(o,a[m],l))&&(r=s(u,r,m),null===d?c=u:d.sibling=u,d=u);return rr&&$o(o,m),c}for(u=n(o,u);m<a.length;m++)null!==(f=g(u,o,m,a[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),r=s(f,r,m),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(o,e)})),rr&&$o(o,m),c}function f(o,a,l,c){var d=I(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,m=a,f=a=0,v=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,f),null===u?d=b:u.sibling=b,u=b,m=v}if(y.done)return i(o,m),rr&&$o(o,f),d;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,f),null===u?d=y:u.sibling=y,u=y);return rr&&$o(o,f),d}for(m=n(o,m);!y.done;f++,y=l.next())null!==(y=g(m,o,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),a=s(y,a,f),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(o,e)})),rr&&$o(o,f),d}return function e(n,r,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=r;null!==d;){if(d.key===c){if((c=s.type)===S){if(7===d.tag){i(n,d.sibling),(r=o(d,s.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&br(c)===d.type){i(n,d.sibling),(r=o(d,s.props)).ref=vr(n,d,s),r.return=n,n=r;break e}i(n,d);break}t(n,d),d=d.sibling}s.type===S?((r=Ic(s.props.children,n.mode,l,s.key)).return=n,n=r):((l=Lc(s.type,s.key,s.props,null,n.mode,l)).ref=vr(n,r,s),l.return=n,n=l)}return a(n);case x:e:{for(d=s.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){i(n,r.sibling),(r=o(r,s.children||[])).return=n,n=r;break e}i(n,r);break}t(n,r),r=r.sibling}(r=Bc(s,n.mode,l)).return=n,n=r}return a(n);case F:return e(n,r,(d=s._init)(s._payload),l)}if(te(s))return m(n,r,s,l);if(I(s))return f(n,r,s,l);yr(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(i(n,r.sibling),(r=o(r,s)).return=n,n=r):(i(n,r),(r=jc(s,n.mode,l)).return=n,n=r),a(n)):i(n,r)}}var wr=Cr(!0),xr=Cr(!1),Sr=Mo(null),Rr=null,Mr=null,kr=null;function Dr(){kr=Mr=Rr=null}function Ar(e){var t=Sr.current;ko(Sr),e._currentValue=t}function Er(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Tr(e,t){Rr=e,kr=Mr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(kr!==e)if(e={context:e,memoizedValue:t,next:null},null===Mr){if(null===Rr)throw Error(r(308));Mr=e,Rr.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var Fr=null;function Nr(e){null===Fr?Fr=[e]:Fr.push(e)}function Lr(e,t,i,n){var o=t.interleaved;return null===o?(i.next=i,Nr(t)):(i.next=o.next,o.next=i),t.interleaved=i,Ir(e,n)}function Ir(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Or=!1;function jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Br(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Al)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ir(e,i)}return null===(o=n.interleaved)?(t.next=t,Nr(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ir(e,i)}function zr(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,yt(e,i)}}function Hr(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var o=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?o=r=s:r=r.next=s,i=i.next}while(null!==i);null===r?o=r=t:r=r.next=t}else o=r=t;return i={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Vr(e,t,i,n){var o=e.updateQueue;Or=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=o.baseState;for(s=0,d=c=l=null,a=r;;){var h=a.lane,p=a.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=i,m.tag){case 1:if("function"===typeof(g=m.payload)){u=g.call(p,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(p,u,h):g)||void 0===h)break e;u=j({},u,h);break e;case 2:Or=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=u}}function Wr(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=i,"function"!==typeof o)throw Error(r(191,o));o.call(n)}}}var Ur={},Yr=Mo(Ur),Kr=Mo(Ur),qr=Mo(Ur);function Xr(e){if(e===Ur)throw Error(r(174));return e}function Zr(e,t){switch(Do(qr,t),Do(Kr,e),Do(Yr,Ur),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(Yr),Do(Yr,t)}function Qr(){ko(Yr),ko(Kr),ko(qr)}function Jr(e){Xr(qr.current);var t=Xr(Yr.current),i=le(t,e.type);t!==i&&(Do(Kr,e),Do(Yr,i))}function $r(e){Kr.current===e&&(ko(Yr),ko(Kr))}var es=Mo(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function ns(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var os=C.ReactCurrentDispatcher,rs=C.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,ds=!1,us=!1,hs=0,ps=0;function gs(){throw Error(r(321))}function ms(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function fs(e,t,i,n,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?$s:ea,e=i(n,o),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(r(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=i(n,o)}while(us)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,ds=!1,t)throw Error(r(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function Cs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=ls,o=n.baseQueue,s=i.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}n.baseQueue=o=s,i.pending=null}if(null!==o){s=o.next,n=n.baseState;var l=a=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,a=n):c=c.next=h,as.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==s);null===c?a=n:c.next=l,an(n,t.memoizedState)||(ba=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ol|=s,o=o.next}while(o!==e)}else null===o&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function xs(e){var t=bs(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=i.dispatch,o=i.pending,s=t.memoizedState;if(null!==o){i.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);an(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),i.lastRenderedState=s}return[s,n]}function Ss(){}function Rs(e,t){var i=as,n=bs(),o=t(),s=!an(n.memoizedState,o);if(s&&(n.memoizedState=o,ba=!0),n=n.queue,Os(Ds.bind(null,i,n,e),[e]),n.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(i.flags|=2048,Ps(9,ks.bind(null,i,n,o,t),void 0,null),null===El)throw Error(r(349));0!==(30&ss)||Ms(i,t,o)}return o}function Ms(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function ks(e,t,i,n){t.value=i,t.getSnapshot=n,As(t)&&Es(e)}function Ds(e,t,i){return i((function(){As(t)&&Es(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch(n){return!0}}function Es(e){var t=Ir(e,1);null!==t&&ic(t,e,1,-1)}function Ts(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Fs(){return bs().memoizedState}function Ns(e,t,i,n){var o=ys();as.flags|=e,o.memoizedState=Ps(1|t,i,void 0,void 0===n?null:n)}function Ls(e,t,i,n){var o=bs();n=void 0===n?null:n;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==n&&ms(n,s.deps))return void(o.memoizedState=Ps(t,i,r,n))}as.flags|=e,o.memoizedState=Ps(1|t,i,r,n)}function Is(e,t){return Ns(8390656,8,e,t)}function Os(e,t){return Ls(2048,8,e,t)}function js(e,t){return Ls(4,2,e,t)}function Bs(e,t){return Ls(4,4,e,t)}function _s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Ls(4,4,_s.bind(null,t,e),i)}function zs(){}function Hs(e,t){var i=bs();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Vs(e,t){var i=bs();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Ws(e,t,i){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=i):(an(i,t)||(i=mt(),as.lanes|=i,Ol|=i,e.baseState=!0),t)}function Us(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var n=rs.transition;rs.transition={};try{e(!1),t()}finally{bt=i,rs.transition=n}}function Ys(){return bs().memoizedState}function Ks(e,t,i){var n=tc(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Xs(e))Zs(t,i);else if(null!==(i=Lr(e,t,i,n))){ic(i,e,n,ec()),Qs(i,t,n)}}function qs(e,t,i){var n=tc(e),o={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Zs(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,i);if(o.hasEagerState=!0,o.eagerState=a,an(a,s)){var l=t.interleaved;return null===l?(o.next=o,Nr(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(i=Lr(e,t,o,n))&&(ic(i,e,n,o=ec()),Qs(i,t,n))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Zs(e,t){us=ds=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Qs(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,yt(e,i)}}var Js={readContext:Pr,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},$s={readContext:Pr,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:Is,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Ns(4194308,4,_s.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var i=ys();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=ys();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ks.bind(null,as,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ts,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Us.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=as,o=ys();if(rr){if(void 0===i)throw Error(r(407));i=i()}else{if(i=t(),null===El)throw Error(r(349));0!==(30&ss)||Ms(n,t,i)}o.memoizedState=i;var s={value:i,getSnapshot:t};return o.queue=s,Is(Ds.bind(null,n,s,e),[e]),n.flags|=2048,Ps(9,ks.bind(null,n,s,i,t),void 0,null),i},useId:function(){var e=ys(),t=El.identifierPrefix;if(rr){var i=Jo;t=":"+t+"R"+(i=(Qo&~(1<<32-st(Qo)-1)).toString(32)+i),0<(i=hs++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pr,useCallback:Hs,useContext:Pr,useEffect:Os,useImperativeHandle:Gs,useInsertionEffect:js,useLayoutEffect:Bs,useMemo:Vs,useReducer:ws,useRef:Fs,useState:function(){return ws(Cs)},useDebugValue:zs,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(Cs)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Rs,useId:Ys,unstable_isNewReconciler:!1},ta={readContext:Pr,useCallback:Hs,useContext:Pr,useEffect:Os,useImperativeHandle:Gs,useInsertionEffect:js,useLayoutEffect:Bs,useMemo:Vs,useReducer:xs,useRef:Fs,useState:function(){return xs(Cs)},useDebugValue:zs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[xs(Cs)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Rs,useId:Ys,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var i in t=j({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function na(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:j({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=ec(),o=tc(e),r=_r(n,o);r.payload=t,void 0!==i&&null!==i&&(r.callback=i),null!==(t=Gr(e,r,o))&&(ic(t,e,o,n),zr(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=ec(),o=tc(e),r=_r(n,o);r.tag=1,r.payload=t,void 0!==i&&null!==i&&(r.callback=i),null!==(t=Gr(e,r,o))&&(ic(t,e,o,n),zr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ec(),n=tc(e),o=_r(i,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Gr(e,o,n))&&(ic(t,e,n,i),zr(t,e,n))}};function ra(e,t,i,n,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(o,r))}function sa(e,t,i){var n=!1,o=Ao,r=t.contextType;return"object"===typeof r&&null!==r?r=Pr(r):(o=No(t)?Po:Eo.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?Fo(e,o):Ao),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function aa(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,i,n){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},jr(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=Pr(r):(r=No(t)?Po:Eo.current,o.context=Fo(e,r)),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(na(e,t,r,i),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Vr(e,i,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var i="",n=t;do{i+=z(n),n=n.return}while(n);var o=i}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o,digest:null}}function da(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,i){(i=_r(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Wl||(Wl=!0,Ul=n),ua(0,t)},i}function ga(e,t,i){(i=_r(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;i.payload=function(){return n(o)},i.callback=function(){ua(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(i.callback=function(){ua(0,t),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ma(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new ha;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(i)||(o.add(i),e=Mc.bind(null,e,t,i),t.then(e,e))}function fa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,i,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=_r(-1,1)).tag=2,Gr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=C.ReactCurrentOwner,ba=!1;function Ca(e,t,i,n){t.child=null===e?xr(t,null,i,n):wr(t,e.child,i,n)}function wa(e,t,i,n,o){i=i.render;var r=t.ref;return Tr(t,o),n=fs(e,t,i,n,r,o),i=vs(),null===e||ba?(rr&&i&&tr(t),t.flags|=1,Ca(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function xa(e,t,i,n,o){if(null===e){var r=i.type;return"function"!==typeof r||Fc(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Lc(i.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Sa(e,t,r,n,o))}if(r=e.child,0===(e.lanes&o)){var s=r.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(s,n)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Nc(r,n)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,i,n,o){if(null!==e){var r=e.memoizedProps;if(ln(r,n)&&e.ref===t.ref){if(ba=!1,t.pendingProps=n=r,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,i,n,o)}function Ra(e,t,i){var n=t.pendingProps,o=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Do(Nl,Fl),Fl|=i;else{if(0===(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Do(Nl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:i,Do(Nl,Fl),Fl|=n}else null!==r?(n=r.baseLanes|i,t.memoizedState=null):n=i,Do(Nl,Fl),Fl|=n;return Ca(e,t,o,i),t.child}function Ma(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,i,n,o){var r=No(i)?Po:Eo.current;return r=Fo(t,r),Tr(t,o),i=fs(e,t,i,n,r,o),n=vs(),null===e||ba?(rr&&n&&tr(t),t.flags|=1,Ca(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Da(e,t,i,n,o){if(No(i)){var r=!0;jo(t)}else r=!1;if(Tr(t,o),null===t.stateNode)Va(e,t),sa(t,i,n),la(t,i,n,o),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=i.contextType;"object"===typeof c&&null!==c?c=Pr(c):c=Fo(t,c=No(i)?Po:Eo.current);var d=i.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||l!==c)&&aa(t,s,n,c),Or=!1;var h=t.memoizedState;s.state=h,Vr(t,n,s,o),l=t.memoizedState,a!==n||h!==l||To.current||Or?("function"===typeof d&&(na(t,i,d,n),l=t.memoizedState),(a=Or||ra(t,i,a,n,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Br(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ia(t.type,a),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=i.contextType)&&null!==l?l=Pr(l):l=Fo(t,l=No(i)?Po:Eo.current);var p=i.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,s,n,l),Or=!1,h=t.memoizedState,s.state=h,Vr(t,n,s,o);var g=t.memoizedState;a!==u||h!==g||To.current||Or?("function"===typeof p&&(na(t,i,p,n),g=t.memoizedState),(c=Or||ra(t,i,c,n,h,g,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Aa(e,t,i,n,r,o)}function Aa(e,t,i,n,o,r){Ma(e,t);var s=0!==(128&t.flags);if(!n&&!s)return o&&Bo(t,i,!1),Wa(e,t,r);n=t.stateNode,ya.current=t;var a=s&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=wr(t,e.child,null,r),t.child=wr(t,null,a,r)):Ca(e,t,a,r),t.memoizedState=n.state,o&&Bo(t,i,!0),t.child}function Ea(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Zr(e,t.containerInfo)}function Ta(e,t,i,n,o){return gr(),mr(o),t.flags|=256,Ca(e,t,i,n),t.child}var Pa,Fa,Na,La,Ia={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,i){var n,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Do(es,1&s),null===e)return dr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,o,0,null),e=Ic(e,o,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(i),t.memoizedState=Ia,e):Ba(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,i,n,o,s,a){if(i)return 256&t.flags?(t.flags&=-257,_a(e,t,a,n=da(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=Oc({mode:"visible",children:n.children},o,0,null),(s=Ic(s,o,a,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&wr(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ia,s);if(0===(1&t.mode))return _a(e,t,a,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,_a(e,t,a,n=da(s=Error(r(419)),n,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(n=El)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Ir(e,o),ic(n,e,o,-1))}return mc(),_a(e,t,a,n=da(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,or=co(o.nextSibling),nr=t,rr=!0,sr=null,null!==e&&(qo[Xo++]=Qo,qo[Xo++]=Jo,qo[Xo++]=Zo,Qo=e.id,Jo=e.overflow,Zo=t),t=Ba(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,s,i);if(a){a=o.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Nc(n,a):(a=Ic(a,l,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Ia,o}return e=(a=e.child).sibling,o=Nc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=i),o.return=t,o.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Ba(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function _a(e,t,i,n){return null!==n&&mr(n),wr(t,e.child,null,i),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Er(e.return,t,i)}function za(e,t,i,n,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=o)}function Ha(e,t,i){var n=t.pendingProps,o=n.revealOrder,r=n.tail;if(Ca(e,t,n.children,i),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,i,t);else if(19===e.tag)Ga(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Do(es,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(i=t.child,o=null;null!==i;)null!==(e=i.alternate)&&null===ts(e)&&(o=i),i=i.sibling;null===(i=o)?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),za(t,!1,o,i,r);break;case"backwards":for(i=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}za(t,!0,i,null,r);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(i=Nc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Nc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ua(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Ka(e,t,i){var n=t.pendingProps;switch(ir(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return No(t.type)&&Lo(),Ya(t),null;case 3:return n=t.stateNode,Qr(),ko(To),ko(Eo),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sr&&(sc(sr),sr=null))),Fa(e,t),Ya(t),null;case 5:$r(t);var o=Xr(qr.current);if(i=t.type,null!==e&&null!=t.stateNode)Na(e,t,i,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return Ya(t),null}if(e=Xr(Yr.current),hr(t)){n=t.stateNode,i=t.type;var s=t.memoizedProps;switch(n[po]=t,n[go]=s,e=0!==(1&t.mode),i){case"dialog":_n("cancel",n),_n("close",n);break;case"iframe":case"object":case"embed":_n("load",n);break;case"video":case"audio":for(o=0;o<In.length;o++)_n(In[o],n);break;case"source":_n("error",n);break;case"img":case"image":case"link":_n("error",n),_n("load",n);break;case"details":_n("toggle",n);break;case"input":Z(n,s),_n("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},_n("invalid",n);break;case"textarea":oe(n,s),_n("invalid",n)}for(var l in ye(i,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&_n("scroll",n)}switch(i){case"input":Y(n),$(n,s,!0);break;case"textarea":Y(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=$n)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[po]=t,e[go]=n,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(i,n),i){case"dialog":_n("cancel",e),_n("close",e),o=n;break;case"iframe":case"object":case"embed":_n("load",e),o=n;break;case"video":case"audio":for(o=0;o<In.length;o++)_n(In[o],e);o=n;break;case"source":_n("error",e),o=n;break;case"img":case"image":case"link":_n("error",e),_n("load",e),o=n;break;case"details":_n("toggle",e),o=n;break;case"input":Z(e,n),o=X(e,n),_n("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=j({},n,{value:void 0}),_n("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),_n("invalid",e)}for(s in ye(i,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?fe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==i||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=d&&"onScroll"===s&&_n("scroll",e):null!=d&&b(e,s,d,l))}switch(i){case"input":Y(e),$(e,n,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ie(e,!!n.multiple,s,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(i=Xr(qr.current),Xr(Yr.current),hr(t)){if(n=t.stateNode,i=t.memoizedProps,n[po]=t,(s=n.nodeValue!==i)&&null!==(e=nr))switch(e.tag){case 3:Jn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[po]=t,t.stateNode=n}return Ya(t),null;case 13:if(ko(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==or&&0!==(1&t.mode)&&0===(128&t.flags))pr(),gr(),t.flags|=98560,s=!1;else if(s=hr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[po]=t}else gr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==sr&&(sc(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return Qr(),Fa(e,t),null===e&&Hn(t.stateNode.containerInfo),Ya(t),null;case 10:return Ar(t.type._context),Ya(t),null;case 19:if(ko(es),null===(s=t.memoizedState))return Ya(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Ua(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ua(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(s=i).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Do(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Hl&&(t.flags|=128,n=!0,Ua(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Ua(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return Ya(t),null}else 2*Qe()-s.renderingStartTime>Hl&&1073741824!==i&&(t.flags|=128,n=!0,Ua(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=s.last)?i.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,i=es.current,Do(es,n?1&i|2:1&i),t):(Ya(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function qa(e,t){switch(ir(t),t.tag){case 1:return No(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qr(),ko(To),ko(Eo),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $r(t),null;case 13:if(ko(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));gr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(es),null;case 4:return Qr(),null;case 10:return Ar(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Pa=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Fa=function(){},Na=function(e,t,i,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Xr(Yr.current);var r,s=null;switch(i){case"input":o=X(e,o),n=X(e,n),s=[];break;case"select":o=j({},o,{value:void 0}),n=j({},n,{value:void 0}),s=[];break;case"textarea":o=ne(e,o),n=ne(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(d in ye(i,n),i=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(i||(i={}),i[r]=c[r])}else i||(s||(s=[]),s.push(d,i)),i=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&_n("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}i&&(s=s||[]).push("style",i);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},La=function(e,t,i,n){i!==n&&(t.flags|=4)};var Xa=!1,Za=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function $a(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Rc(e,t,n)}else i.current=null}function el(e,t,i){try{i()}catch(n){Rc(e,t,n)}}var tl=!1;function il(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&el(t,i,r)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function ol(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[go],delete t[fo],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function cl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,i),e=e.sibling;null!==e;)cl(e,t,i),e=e.sibling}var dl=null,ul=!1;function hl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(ot,i)}catch(a){}switch(i.tag){case 5:Za||$a(i,t);case 6:var n=dl,o=ul;dl=null,hl(e,t,i),ul=o,null!==(dl=n)&&(ul?(e=dl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):dl.removeChild(i.stateNode));break;case 18:null!==dl&&(ul?(e=dl,i=i.stateNode,8===e.nodeType?lo(e.parentNode,i):1===e.nodeType&&lo(e,i),Ht(e)):lo(dl,i.stateNode));break;case 4:n=dl,o=ul,dl=i.stateNode.containerInfo,ul=!0,hl(e,t,i),dl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(i,t,s),o=o.next}while(o!==n)}hl(e,t,i);break;case 1:if(!Za&&($a(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){Rc(i,t,a)}hl(e,t,i);break;case 21:hl(e,t,i);break;case 22:1&i.mode?(Za=(n=Za)||null!==i.memoizedState,hl(e,t,i),Za=n):hl(e,t,i);break;default:hl(e,t,i)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Qa),t.forEach((function(t){var n=Ac.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function ml(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var o=i[n];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(r(160));pl(s,a,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Rc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&n){try{il(3,e,e.return),nl(3,e)}catch(f){Rc(e,e.return,f)}try{il(5,e,e.return)}catch(f){Rc(e,e.return,f)}}break;case 1:ml(t,e),vl(e),512&n&&null!==i&&$a(i,i.return);break;case 5:if(ml(t,e),vl(e),512&n&&null!==i&&$a(i,i.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(f){Rc(e,e.return,f)}}if(4&n&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==i?i.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(o,s),be(l,a);var d=be(l,s);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];"style"===u?fe(o,h):"dangerouslySetInnerHTML"===u?ue(o,h):"children"===u?he(o,h):b(o,u,h,d)}switch(l){case"input":J(o,s);break;case"textarea":re(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ie(o,!!s.multiple,g,!1):p!==!!s.multiple&&(null!=s.defaultValue?ie(o,!!s.multiple,s.defaultValue,!0):ie(o,!!s.multiple,s.multiple?[]:"",!1))}o[go]=s}catch(f){Rc(e,e.return,f)}}break;case 6:if(ml(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(f){Rc(e,e.return,f)}}break;case 3:if(ml(t,e),vl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){Rc(e,e.return,f)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Qe())),4&n&&gl(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?(Za=(d=Za)||u,ml(t,e),Za=d):ml(t,e),vl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ja=e,u=e.child;null!==u;){for(h=Ja=u;null!==Ja;){switch(g=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:$a(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){n=p,i=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){Rc(n,i,f)}}break;case 5:$a(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==g?(g.return=p,Ja=g):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{o=h.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(f){Rc(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){Rc(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&n&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(sl(i)){var n=i;break e}i=i.return}throw Error(r(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(he(o,""),n.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(r(161))}}catch(a){Rc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,i){Ja=e,bl(e,t,i)}function bl(e,t,i){for(var n=0!==(1&e.mode);null!==Ja;){var o=Ja,r=o.child;if(22===o.tag&&n){var s=null!==o.memoizedState||Xa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Xa;var c=Za;if(Xa=s,(Za=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?xl(o):null!==l?(l.return=s,Ja=l):xl(o);for(;null!==r;)Ja=r,bl(r,t,i),r=r.sibling;Ja=o,Xa=a,Za=c}Cl(e)}else 0!==(8772&o.subtreeFlags)&&null!==r?(r.return=o,Ja=r):Cl(e)}}function Cl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Za)if(null===i)n.componentDidMount();else{var o=t.elementType===t.type?i.memoizedProps:ia(t.type,i.memoizedProps);n.componentDidUpdate(o,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wr(t,s,n);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Wr(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(r(163))}Za||512&t.flags&&ol(t)}catch(p){Rc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(i=t.sibling)){i.return=t.return,Ja=i;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ja=i;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){Rc(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Rc(t,o,l)}}var r=t.return;try{ol(t)}catch(l){Rc(t,r,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Rc(t,s,l)}}}catch(l){Rc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,Rl=Math.ceil,Ml=C.ReactCurrentDispatcher,kl=C.ReactCurrentOwner,Dl=C.ReactCurrentBatchConfig,Al=0,El=null,Tl=null,Pl=0,Fl=0,Nl=Mo(0),Ll=0,Il=null,Ol=0,jl=0,Bl=0,_l=null,Gl=null,zl=0,Hl=1/0,Vl=null,Wl=!1,Ul=null,Yl=null,Kl=!1,ql=null,Xl=0,Zl=0,Ql=null,Jl=-1,$l=0;function ec(){return 0!==(6&Al)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==fr.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ic(e,t,i,n){if(50<Zl)throw Zl=0,Ql=null,Error(r(185));vt(e,i,n),0!==(2&Al)&&e===El||(e===El&&(0===(2&Al)&&(jl|=i),4===Ll&&ac(e,Pl)),nc(e,n),1===i&&0===Al&&0===(1&t.mode)&&(Hl=Qe()+500,Go&&Vo()))}function nc(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=o[s];-1===l?0!==(a&i)&&0===(a&n)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var n=ht(e,e===El?Pl:0);if(0===n)null!==i&&qe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&qe(i),1===t)0===e.tag?function(e){Go=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),so((function(){0===(6&Al)&&Vo()})),i=null;else{switch(Ct(n)){case 1:i=$e;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Ec(i,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function oc(e,t){if(Jl=-1,$l=0,0!==(6&Al))throw Error(r(327));var i=e.callbackNode;if(xc()&&e.callbackNode!==i)return null;var n=ht(e,e===El?Pl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var o=Al;Al|=2;var s=gc();for(El===e&&Pl===t||(Vl=null,Hl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Dr(),Ml.current=s,Al=o,null!==Tl?t=0:(El=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(n=o,t=rc(e,o))),1===t)throw i=Il,hc(e,0),ac(e,n),nc(e,Qe()),i;if(6===t)ac(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var o=i[n],r=o.getSnapshot;o=o.value;try{if(!an(r(),o))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=fc(e,n))&&(0!==(s=gt(e))&&(n=s,t=rc(e,s))),1===t))throw i=Il,hc(e,0),ac(e,n),nc(e,Qe()),i;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Gl,Vl);break;case 3:if(ac(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(wc.bind(null,e,Gl,Vl),t);break}wc(e,Gl,Vl);break;case 4:if(ac(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-st(n);s=1<<a,(a=t[a])>o&&(o=a),n&=~s}if(n=o,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rl(n/1960))-n)){e.timeoutHandle=no(wc.bind(null,e,Gl,Vl),n);break}wc(e,Gl,Vl);break;default:throw Error(r(329))}}}return nc(e,Qe()),e.callbackNode===i?oc.bind(null,e):null}function rc(e,t){var i=_l;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Gl,Gl=i,null!==t&&sc(t)),e}function sc(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function ac(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-st(t),n=1<<i;e[i]=-1,t&=~n}}function lc(e){if(0!==(6&Al))throw Error(r(327));xc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var i=fc(e,t);if(0!==e.tag&&2===i){var n=gt(e);0!==n&&(t=n,i=rc(e,n))}if(1===i)throw i=Il,hc(e,0),ac(e,t),nc(e,Qe()),i;if(6===i)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Gl,Vl),nc(e,Qe()),null}function cc(e,t){var i=Al;Al|=1;try{return e(t)}finally{0===(Al=i)&&(Hl=Qe()+500,Go&&Vo())}}function dc(e){null!==ql&&0===ql.tag&&0===(6&Al)&&xc();var t=Al;Al|=1;var i=Dl.transition,n=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=n,Dl.transition=i,0===(6&(Al=t))&&Vo()}}function uc(){Fl=Nl.current,ko(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,oo(i)),null!==Tl)for(i=Tl.return;null!==i;){var n=i;switch(ir(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Lo();break;case 3:Qr(),ko(To),ko(Eo),ns();break;case 5:$r(n);break;case 4:Qr();break;case 13:case 19:ko(es);break;case 10:Ar(n.type._context);break;case 22:case 23:uc()}i=i.return}if(El=e,Tl=e=Nc(e.current,null),Pl=Fl=t,Ll=0,Il=null,Bl=jl=Ol=0,Gl=_l=null,null!==Fr){for(t=0;t<Fr.length;t++)if(null!==(n=(i=Fr[t]).interleaved)){i.interleaved=null;var o=n.next,r=i.pending;if(null!==r){var s=r.next;r.next=o,n.next=s}i.pending=n}Fr=null}return e}function pc(e,t){for(;;){var i=Tl;try{if(Dr(),os.current=Js,ds){for(var n=as.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ds=!1}if(ss=0,cs=ls=as=null,us=!1,hs=0,kl.current=null,null===i||null===i.return){Ll=1,Il=t,Tl=null;break}e:{var s=e,a=i.return,l=i,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=fa(a);if(null!==g){g.flags&=-257,va(g,a,l,0,t),1&g.mode&&ma(s,d,t),c=d;var m=(t=g).updateQueue;if(null===m){var f=new Set;f.add(c),t.updateQueue=f}else m.add(c);break e}if(0===(1&t)){ma(s,d,t),mc();break e}c=Error(r(426))}else if(rr&&1&l.mode){var v=fa(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mr(ca(c,l));break e}}s=c=ca(c,l),4!==Ll&&(Ll=2),null===_l?_l=[s]:_l.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hr(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Hr(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}Cc(i)}catch(C){t=C,Tl===i&&null!==i&&(Tl=i=i.return);continue}break}}function gc(){var e=Ml.current;return Ml.current=Js,null===e?Js:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===El||0===(268435455&Ol)&&0===(268435455&jl)||ac(El,Pl)}function fc(e,t){var i=Al;Al|=2;var n=gc();for(El===e&&Pl===t||(Vl=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Dr(),Al=i,Ml.current=n,null!==Tl)throw Error(r(261));return El=null,Pl=0,Ll}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Xe();)bc(Tl)}function bc(e){var t=Sl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Cc(e):Tl=t,kl.current=null}function Cc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Ka(i,t,Fl)))return void(Tl=i)}else{if(null!==(i=qa(i,t)))return i.flags&=32767,void(Tl=i);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,i){var n=bt,o=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,i,n){do{xc()}while(null!==ql);if(0!==(6&Al))throw Error(r(327));i=e.finishedWork;var o=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-st(i),r=1<<o;t[o]=0,n[o]=-1,e[o]=-1,i&=~r}}(e,s),e===El&&(Tl=El=null,Pl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Kl||(Kl=!0,Ec(tt,(function(){return xc(),null}))),s=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||s){s=Dl.transition,Dl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(eo=Wt,pn(e=hn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{i.nodeType,s.nodeType}catch(w){i=null;break e}var a=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var g;h!==i||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==n&&3!==h.nodeType||(c=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===i&&++d===o&&(l=a),p===s&&++u===n&&(c=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(to={focusedElem:e,selectionRange:i},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:ia(t.type,f),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(r(163))}}catch(w){Rc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,i),fl(i,e),gn(to),Wt=!!eo,to=eo=null,e.current=i,yl(i,e,o),Ze(),Al=l,bt=a,Dl.transition=s}else e.current=i;if(Kl&&(Kl=!1,ql=e,Xl=o),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)o=t[i],n(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Ul,Ul=null,e;0!==(1&Xl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Ql?Zl++:(Zl=0,Ql=e):Zl=0,Vo()}(e,t,i,n)}finally{Dl.transition=o,bt=n}return null}function xc(){if(null!==ql){var e=Ct(Xl),t=Dl.transition,i=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===ql)var n=!1;else{if(e=ql,ql=null,Xl=0,0!==(6&Al))throw Error(r(331));var o=Al;for(Al|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Ja=d;null!==Ja;){var u=Ja;switch(u.tag){case 0:case 11:case 15:il(8,u,s)}var h=u.child;if(null!==h)h.return=u,Ja=h;else for(;null!==Ja;){var p=(u=Ja).sibling,g=u.return;if(rl(u),u===d){Ja=null;break}if(null!==p){p.return=g,Ja=p;break}Ja=g}}}var m=s.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(null!==f)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var C=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Ja=C;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(x){Rc(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Al=o,Vo(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(ot,e)}catch(x){}n=!0}return n}finally{bt=i,Dl.transition=t}}return!1}function Sc(e,t,i){e=Gr(e,t=pa(0,t=ca(i,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Rc(e,t,i){if(3===e.tag)Sc(e,e,i);else for(;null!==t;){if(3===t.tag){Sc(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){t=Gr(t,e=ga(t,e=ca(i,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Mc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&i,El===e&&(Pl&i)===i&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Qe()-zl?hc(e,0):Bl|=i),nc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var i=ec();null!==(e=Ir(e,t))&&(vt(e,t,i),nc(e,i))}function Dc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),kc(e,i)}function Ac(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(i=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),kc(e,i)}function Ec(e,t){return Ke(e,t)}function Tc(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,i,n){return new Tc(e,t,i,n)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var i=e.alternate;return null===i?((i=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Lc(e,t,i,n,o,s){var a=2;if(n=e,"function"===typeof e)Fc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Ic(i.children,o,s,t);case R:a=8,o|=8;break;case M:return(e=Pc(12,i,t,2|o)).elementType=M,e.lanes=s,e;case E:return(e=Pc(13,i,t,o)).elementType=E,e.lanes=s,e;case T:return(e=Pc(19,i,t,o)).elementType=T,e.lanes=s,e;case N:return Oc(i,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case D:a=9;break e;case A:a=11;break e;case P:a=14;break e;case F:a=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Pc(a,i,t,o)).elementType=e,t.type=n,t.lanes=s,t}function Ic(e,t,i,n){return(e=Pc(7,e,n,t)).lanes=i,e}function Oc(e,t,i,n){return(e=Pc(22,e,n,t)).elementType=N,e.lanes=i,e.stateNode={isHidden:!1},e}function jc(e,t,i){return(e=Pc(6,e,null,t)).lanes=i,e}function Bc(e,t,i){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _c(e,t,i,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gc(e,t,i,n,o,r,s,a,l){return e=new _c(e,t,i,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Pc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},jr(r),e}function zc(e){if(!e)return Ao;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var i=e.type;if(No(i))return Oo(e,i,t)}return t}function Hc(e,t,i,n,o,r,s,a,l){return(e=Gc(i,n,!0,e,0,r,0,a,l)).context=zc(null),i=e.current,(r=_r(n=ec(),o=tc(i))).callback=void 0!==t&&null!==t?t:null,Gr(i,r,o),e.current.lanes=o,vt(e,o,n),nc(e,n),e}function Vc(e,t,i,n){var o=t.current,r=ec(),s=tc(o);return i=zc(i),null===t.context?t.context=i:t.pendingContext=i,(t=_r(r,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Gr(o,t,s))&&(ic(e,o,s,r),zr(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Yc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}Sl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)ba=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return ba=!1,function(e,t,i){switch(t.tag){case 3:Ea(t),gr();break;case 5:Jr(t);break;case 1:No(t.type)&&jo(t);break;case 4:Zr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Do(Sr,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Do(es,1&es.current),t.flags|=128,null):0!==(i&t.child.childLanes)?ja(e,t,i):(Do(es,1&es.current),null!==(e=Wa(e,t,i))?e.sibling:null);Do(es,1&es.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return Ha(e,t,i);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Do(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,i)}return Wa(e,t,i)}(e,t,i);ba=0!==(131072&e.flags)}else ba=!1,rr&&0!==(1048576&t.flags)&&er(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Va(e,t),e=t.pendingProps;var o=Fo(t,Eo.current);Tr(t,i),o=fs(null,t,n,e,o,i);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(n)?(s=!0,jo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,jr(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,n,e,i),t=Aa(null,t,n,!0,s,i)):(t.tag=0,rr&&s&&tr(t),Ca(null,t,o,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(n),e=ia(n,e),o){case 0:t=ka(null,t,n,e,i);break e;case 1:t=Da(null,t,n,e,i);break e;case 11:t=wa(null,t,n,e,i);break e;case 14:t=xa(null,t,n,ia(n.type,e),i);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,ka(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 1:return n=t.type,o=t.pendingProps,Da(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 3:e:{if(Ea(t),null===e)throw Error(r(387));n=t.pendingProps,o=(s=t.memoizedState).element,Br(e,t),Vr(t,n,null,i);var a=t.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ta(e,t,n,i,o=ca(Error(r(423)),t));break e}if(n!==o){t=Ta(e,t,n,i,o=ca(Error(r(424)),t));break e}for(or=co(t.stateNode.containerInfo.firstChild),nr=t,rr=!0,sr=null,i=xr(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(gr(),n===o){t=Wa(e,t,i);break e}Ca(e,t,n,i)}t=t.child}return t;case 5:return Jr(t),null===e&&dr(t),n=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,io(n,o)?a=null:null!==s&&io(n,s)&&(t.flags|=32),Ma(e,t),Ca(e,t,a,i),t.child;case 6:return null===e&&dr(t),null;case 13:return ja(e,t,i);case 4:return Zr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=wr(t,null,n,i):Ca(e,t,n,i),t.child;case 11:return n=t.type,o=t.pendingProps,wa(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 7:return Ca(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Do(Sr,n._currentValue),n._currentValue=a,null!==s)if(an(s.value,a)){if(s.children===o.children&&!To.current){t=Wa(e,t,i);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=_r(-1,i&-i)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=i,null!==(c=s.alternate)&&(c.lanes|=i),Er(s.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Er(a,i,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ca(e,t,o.children,i),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Tr(t,i),n=n(o=Pr(o)),t.flags|=1,Ca(e,t,n,i),t.child;case 14:return o=ia(n=t.type,t.pendingProps),xa(e,t,n,o=ia(n.type,o),i);case 15:return Sa(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:ia(n,o),Va(e,t),t.tag=1,No(n)?(e=!0,jo(t)):e=!1,Tr(t,i),sa(t,n,o),la(t,n,o,i),Aa(null,t,n,!0,e,i);case 19:return Ha(e,t,i);case 22:return Ra(e,t,i)}throw Error(r(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,i,n,o){var r=i._reactRootContainer;if(r){var s=r;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}Vc(t,s,e,o)}else s=function(e,t,i,n,o){if(o){if("function"===typeof n){var r=n;n=function(){var e=Wc(s);r.call(e)}}var s=Hc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Hn(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var a=n;n=function(){var e=Wc(l);a.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Hn(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,l,i,n)})),l}(i,t,e,o,n);return Wc(s)}Xc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Vc(e,t,null,null)},Xc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Nt.length&&0!==t&&t<Nt[i].priority;i++);Nt.splice(i,0,e),0===i&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(yt(t,1|i),nc(t,Qe()),0===(6&Al)&&(Hl=Qe()+500,Vo()))}break;case 13:dc((function(){var t=Ir(e,1);if(null!==t){var i=ec();ic(t,e,1,i)}})),Yc(e,1)}},xt=function(e){if(13===e.tag){var t=Ir(e,134217728);if(null!==t)ic(t,e,134217728,ec());Yc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),i=Ir(e,t);if(null!==i)ic(i,e,t,ec());Yc(e,t)}},Rt=function(){return bt},Mt=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},xe=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var o=xo(n);if(!o)throw Error(r(90));K(n),J(n,o)}}}break;case"textarea":re(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Ae=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[Co,wo,xo,ke,De,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},id={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ot=nd.inject(id),rt=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(r(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Zc(e))throw Error(r(299));var i=!1,n="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Gc(e,1,!1,null,0,i,0,n,o),e[mo]=t.current,Hn(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,i){if(!Qc(t))throw Error(r(200));return $c(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Zc(e))throw Error(r(405));var n=null!=i&&i.hydratedSources||null,o=!1,s="",a=Kc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(o=!0),void 0!==i.identifierPrefix&&(s=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Hc(t,null,e,1,null!=i?i:null,o,0,s,a),e[mo]=t.current,Hn(e),n)for(e=0;e<n.length;e++)o=(o=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,o]:t.mutableSourceEagerHydrationData.push(i,o);return new Xc(t)},t.render=function(e,t,i){if(!Qc(t))throw Error(r(200));return $c(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Qc(i))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return $c(e,t,i,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,i)=>{"use strict";var n=i(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(2730)},1153:(e,t,i)=>{"use strict";var n=i(5043),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,r={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:r,_owner:a.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function v(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||g}function y(){}function b(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var C=b.prototype=new y;C.constructor=b,m(C,v.prototype),C.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var o,r={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,o)&&!R.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:i,type:e,key:s,ref:a,props:r,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return s=s(l=e),e=""===r?"."+A(l,0):r,w(s)?(o="",null!=e&&(o=e.replace(D,"$&/")+"/"),E(s,t,o,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(D,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+A(a=e[c],c);l+=E(a,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=E(a=a.value,t,o,d=r+A(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,i){if(null==e)return e;var n=[],o=0;return E(e,n,"","",(function(e){return t.call(i,e,o++)})),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},N={transition:null},L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,i){T(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!R.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:r,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,i){return F.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,i){return F.current.useReducer(e,t,i)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return F.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},5043:(e,t,i)=>{"use strict";e.exports=i(4202)},579:(e,t,i)=>{"use strict";e.exports=i(1153)},7234:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,o=e[n];if(!(0<r(o,t)))break e;e[n]=t,e[i]=o,i=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,l=e[a],c=a+1,d=e[c];if(0>r(l,i))c<o&&0>r(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[a]=i,n=a);else{if(!(c<o&&0>r(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,p=3,g=!1,m=!1,f=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,i(c,t)}t=n(d)}}function w(e){if(f=!1,C(e),!m)if(null!==n(c))m=!0,N(x);else{var t=n(d);null!==t&&L(w,t.startTime-e)}}function x(e,i){m=!1,f&&(f=!1,y(k),k=-1),g=!0;var r=p;try{for(C(i),h=n(c);null!==h&&(!(h.expirationTime>i)||e&&!E());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?h.callback=a:h===n(c)&&o(c),C(i)}else o(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&L(w,u.startTime-i),l=!1}return l}finally{h=null,p=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,R=!1,M=null,k=-1,D=5,A=-1;function E(){return!(t.unstable_now()-A<D)}function T(){if(null!==M){var e=t.unstable_now();A=e;var i=!0;try{i=M(!0,e)}finally{i?S():(R=!1,M=null)}}else R=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=T,S=function(){F.postMessage(null)}}else S=function(){v(T,0)};function N(e){M=e,R||(R=!0,S())}function L(e,i){k=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,N(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,i(d,e),null===n(c)&&e===n(d)&&(f?(y(k),k=-1):f=!0,L(w,r-s))):(e.sortIndex=a,i(c,e),m||g||(m=!0,N(x))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},8853:(e,t,i)=>{"use strict";e.exports=i(7234)},4059:e=>{"use strict";var t=function(){};e.exports=t},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,i)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(null,arguments)}i.d(t,{A:()=>n})},8587:(e,t,i)=>{"use strict";function n(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}i.d(t,{A:()=>n})},8387:(e,t,i)=>{"use strict";function n(e){var t,i,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(i=n(e[t]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}i.d(t,{A:()=>o});const o=function(){for(var e,t,i=0,o="",r=arguments.length;i<r;i++)(e=arguments[i])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);i.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(r,s),r}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".f871c161.chunk.js",i.miniCssF=e=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="weberp:";i.l=(n,o,r,s)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/ERPweb/",(()=>{var e={792:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((i,n)=>o=e[t]=[i,n]));n.push(o[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,s=n[0],a=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)l(i)}for(t&&t(n);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkweberp=self.webpackChunkweberp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{add:()=>tc,century:()=>Sc,date:()=>bc,day:()=>yc,decade:()=>xc,diff:()=>Mc,endOf:()=>oc,eq:()=>rc,gt:()=>ac,gte:()=>lc,hours:()=>vc,inRange:()=>pc,lt:()=>cc,lte:()=>dc,max:()=>hc,milliseconds:()=>gc,min:()=>uc,minutes:()=>fc,month:()=>Cc,neq:()=>sc,seconds:()=>mc,startOf:()=>nc,subtract:()=>ic,weekday:()=>Rc,year:()=>wc});var t,n=i(5043),o=i.t(n,2),r=i(4391),s=i(7950),a=i.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(i){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,i,n){return void 0===i&&(i=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:i,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f(e,i,n,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:s=!1}=o,a=r.history,u=t.Pop,m=null,f=v();function v(){return(a.state||{idx:null}).idx}function y(){u=t.Pop;let e=v(),i=null==e?null:e-f;f=e,m&&m({action:u,location:C.location,delta:i})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,i="string"===typeof e?e:g(e);return i=i.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}null==f&&(f=0,a.replaceState(l({},a.state,{idx:f}),""));let C={get action(){return u},get location(){return e(r,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(c,y),m=e,()=>{r.removeEventListener(c,y),m=null}},createHref:e=>i(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,i){u=t.Push;let o=p(C.location,e,i);n&&n(o,e),f=v()+1;let l=h(o,f),c=C.createHref(o);try{a.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(c)}s&&m&&m({action:u,location:C.location,delta:1})},replace:function(e,i){u=t.Replace;let o=p(C.location,e,i);n&&n(o,e),f=v();let r=h(o,f),l=C.createHref(o);a.replaceState(r,"",l),s&&m&&m({action:u,location:C.location,delta:0})},go:e=>a.go(e)};return C}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,i){return void 0===i&&(i="/"),b(e,t,i,!1)}function b(e,t,i,n){let o=N(("string"===typeof t?m(t):t).pathname||"/",i);if(null==o)return null;let r=C(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let i=e.length===t.length&&e.slice(0,-1).every(((e,i)=>e===t[i]));return i?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=F(o);s=T(r[a],e,n)}return s}function C(e,t,i,n){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n="");let o=(e,o,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let a=B([n,s.relativePath]),l=i.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),C(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:E(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var i;if(""!==e.path&&null!=(i=e.path)&&i.includes("?"))for(let n of w(e.path))o(e,t,n);else o(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[i,...n]=t,o=i.endsWith("?"),r=i.replace(/\?$/,"");if(0===n.length)return o?[r,""]:[r];let s=w(n.join("/")),a=[];return a.push(...s.map((e=>""===e?r:[r,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,S=3,R=2,M=1,k=10,D=-2,A=e=>"*"===e;function E(e,t){let i=e.split("/"),n=i.length;return i.some(A)&&(n+=D),t&&(n+=R),i.filter((e=>!A(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?M:k)),n)}function T(e,t,i){void 0===i&&(i=!1);let{routesMeta:n}=e,o={},r="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],l=a===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&i&&!n[n.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:B([r,d.pathname]),pathnameBase:_(B([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=B([r,d.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,i)=>(n.push({paramName:t,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let r=new RegExp(o,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=n.reduce(((e,t,i)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=a[i]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[i];return e[n]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:r,pathnameBase:s,pattern:e}}function F(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&"/"!==n?null:e.slice(i)||"/"}function L(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let i=I(e);return t?i.map(((e,t)=>t===i.length-1?e.pathname:e.pathnameBase)):i.map((e=>e.pathnameBase))}function j(e,t,i,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=m(e):(o=l({},e),d(!o.pathname||!o.pathname.includes("?"),L("?","pathname","search",o)),d(!o.pathname||!o.pathname.includes("#"),L("#","pathname","hash",o)),d(!o.search||!o.search.includes("#"),L("#","search","hash",o)));let r,s=""===e||""===o.pathname,a=s?"/":o.pathname;if(null==a)r=i;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:i,search:n="",hash:o=""}="string"===typeof e?m(e):e,r=i?i.startsWith("/")?i:function(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)})),i.length>1?i.join("/"):"/"}(i,t):t;return{pathname:r,search:G(n),hash:z(o)}}(o,r),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&i.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},U.apply(this,arguments)}const Y=n.createContext(null);const K=n.createContext(null);const q=n.createContext(null);const X=n.createContext(null);const Z=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=n.createContext(null);function J(){return null!=n.useContext(X)}function $(){return J()||d(!1),n.useContext(X).location}function ee(e){n.useContext(q).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(Z);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=pe(de.UseNavigateStable),i=n.useRef(!1);ee((()=>{i.current=!0}));let o=n.useCallback((function(n,o){void 0===o&&(o={}),i.current&&("number"===typeof n?e.navigate(n):e.navigate(n,U({fromRouteId:t},o)))}),[e,t]);return o}():function(){J()||d(!1);let e=n.useContext(Y),{basename:t,future:i,navigator:o}=n.useContext(q),{matches:r}=n.useContext(Z),{pathname:s}=$(),a=JSON.stringify(O(r,i.v7_relativeSplatPath)),l=n.useRef(!1);ee((()=>{l.current=!0}));let c=n.useCallback((function(i,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof i)return void o.go(i);let r=j(i,JSON.parse(a),s,"path"===n.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:B([t,r.pathname])),(n.replace?o.replace:o.push)(r,n.state,n)}),[t,o,a,s,e]);return c}()}function ie(e,t){let{relative:i}=void 0===t?{}:t,{future:o}=n.useContext(q),{matches:r}=n.useContext(Z),{pathname:s}=$(),a=JSON.stringify(O(r,o.v7_relativeSplatPath));return n.useMemo((()=>j(e,JSON.parse(a),s,"path"===i)),[e,a,s,i])}function ne(e,i,o,r){J()||d(!1);let{navigator:s}=n.useContext(q),{matches:a}=n.useContext(Z),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=$();if(i){var g;let e="string"===typeof i?m(i):i;"/"===u||(null==(g=e.pathname)?void 0:g.startsWith(u))||d(!1),h=e}else h=p;let f=h.pathname||"/",v=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let C=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,o,r);return i&&C?n.createElement(X.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},C):C}function oe(){let e=function(){var e;let t=n.useContext(Q),i=he(de.UseRouteError),o=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=i.errors)?void 0:e[o]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),i?n.createElement("pre",{style:r},i):null,null)}const re=n.createElement(oe,null);class se extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Z.Provider,{value:this.props.routeContext},n.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:i,children:o}=e,r=n.useContext(Y);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),n.createElement(Z.Provider,{value:t},o)}function le(e,t,i,o){var r;if(void 0===t&&(t=[]),void 0===i&&(i=null),void 0===o&&(o=null),null==e){var s;if(null==(s=i)||!s.errors)return null;e=i.matches}let a=e,l=null==(r=i)?void 0:r.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(i&&o&&o.v7_partialHydration)for(let n=0;n<a.length;n++){let e=a[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:n}=i,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,o,r)=>{let s,d=!1,h=null,p=null;var g;i&&(s=l&&o.route.id?l[o.route.id]:void 0,h=o.route.errorElement||re,c&&(u<0&&0===r?(g="route-fallback",!1||ge[g]||(ge[g]=!0),d=!0,p=null):u===r&&(d=!0,p=o.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,r+1)),f=()=>{let t;return t=s?h:d?p:o.route.Component?n.createElement(o.route.Component,null):o.route.element?o.route.element:e,n.createElement(ae,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=i},children:t})};return i&&(o.route.ErrorBoundary||o.route.errorElement||0===r)?n.createElement(se,{location:i.location,revalidation:i.revalidation,component:h,error:s,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=n.useContext(Y);return t||d(!1),t}function he(e){let t=n.useContext(K);return t||d(!1),t}function pe(e){let t=function(e){let t=n.useContext(Z);return t||d(!1),t}(),i=t.matches[t.matches.length-1];return i.route.id||d(!1),i.route.id}const ge={};o.startTransition;function me(e){d(!1)}function fe(e){let{basename:i="/",children:o=null,location:r,navigationType:s=t.Pop,navigator:a,static:l=!1,future:c}=e;J()&&d(!1);let u=i.replace(/^\/*/,"/"),h=n.useMemo((()=>({basename:u,navigator:a,static:l,future:U({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof r&&(r=m(r));let{pathname:p="/",search:g="",hash:f="",state:v=null,key:y="default"}=r,b=n.useMemo((()=>{let e=N(p,u);return null==e?null:{location:{pathname:e,search:g,hash:f,state:v,key:y},navigationType:s}}),[u,p,g,f,v,y,s]);return null==b?null:n.createElement(q.Provider,{value:h},n.createElement(X.Provider,{children:o,value:b}))}function ve(e){let{children:t,location:i}=e;return ne(ye(t),i)}new Promise((()=>{}));n.Component;function ye(e,t){void 0===t&&(t=[]);let i=[];return n.Children.forEach(e,((e,o)=>{if(!n.isValidElement(e))return;let r=[...t,o];if(e.type===n.Fragment)return void i.push.apply(i,ye(e.props.children,r));e.type!==me&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,r)),i.push(s)})),i}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},be.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(YQ){}new Map;const xe=o.startTransition;a.flushSync,o.useId;function Se(e){let{basename:t,children:i,future:o,window:r}=e,s=n.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:i,search:n,hash:o}=e.location;return p("",{pathname:i,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,e)}({window:r,v5Compat:!0}));let a=s.current,[l,c]=n.useState({action:a.action,location:a.location}),{v7_startTransition:d}=o||{},u=n.useCallback((e=>{d&&xe?xe((()=>c(e))):c(e)}),[c,d]);return n.useLayoutEffect((()=>a.listen(u)),[a,u]),n.createElement(fe,{basename:t,children:i,location:l.location,navigationType:l.action,navigator:a,future:o})}const Re="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=n.forwardRef((function(e,t){let i,{onClick:o,relative:r,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:p}=e,m=Ce(e,we),{basename:f}=n.useContext(q),v=!1;if("string"===typeof u&&Me.test(u)&&(i=u,Re))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),i=N(t.pathname,f);t.origin===e.origin&&null!=i?u=i+t.search+t.hash:v=!0}catch(YQ){}let y=function(e,t){let{relative:i}=void 0===t?{}:t;J()||d(!1);let{basename:o,navigator:r}=n.useContext(q),{hash:s,pathname:a,search:l}=ie(e,{relative:i}),c=a;return"/"!==o&&(c="/"===a?o:B([o,a])),r.createHref({pathname:c,search:l,hash:s})}(u,{relative:r}),b=function(e,t){let{target:i,replace:o,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=te(),d=$(),u=ie(e,{relative:a});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let i=void 0!==o?o:g(d)===g(u);c(e,{replace:i,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[d,c,u,o,r,i,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:r,unstable_viewTransition:p});return n.createElement("a",be({},m,{href:i||y,onClick:v||s?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var De,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));var Ee=i(8587),Te=i(8168),Pe=i(8387),Fe=i(2400),Ne=i(8606),Le=i(410),Ie=i(2018);var Oe=i(8280),je=i(5756);const Be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=n.useContext(je.T);return t&&(i=t,0!==Object.keys(i).length)?t:e;var i},_e=(0,Oe.A)();const Ge=function(){return Be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e)};function ze(e){let{props:t,name:i,defaultTheme:n,themeId:o}=e,r=Ge(n);o&&(r=r[o]||r);const s=function(e){const{theme:t,name:i,props:n}=e;return t&&t.components&&t.components[i]&&t.components[i].defaultProps?(0,Ie.A)(t.components[i].defaultProps,n):n}({theme:r,name:i,props:t});return s}var He=i(3174),Ve=i(3216),We=i(8812);const Ue=["ownerState"],Ye=["variants"],Ke=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qe(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Xe=(0,Oe.A)(),Ze=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Qe(e){let{defaultTheme:t,theme:i,themeId:n}=e;return o=i,0===Object.keys(o).length?t:i[n]||i;var o}function Je(e){return e?(t,i)=>i[e]:null}function $e(e,t){let{ownerState:i}=t,n=(0,Ee.A)(t,Ue);const o="function"===typeof e?e((0,Te.A)({ownerState:i},n)):e;if(Array.isArray(o))return o.flatMap((e=>$e(e,(0,Te.A)({ownerState:i},n))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Ee.A)(o,Ye);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,Te.A)({ownerState:i},n,i)):Object.keys(e.props).forEach((t=>{(null==i?void 0:i[t])!==e.props[t]&&n[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,Te.A)({ownerState:i},n,i)):e.style))})),t}return o}const et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:i=Xe,rootShouldForwardProp:n=qe,slotShouldForwardProp:o=qe}=e,r=e=>(0,We.A)((0,Te.A)({},e,{theme:Qe((0,Te.A)({},e,{defaultTheme:i,themeId:t}))}));return r.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,He.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:u=Je(Ze(l))}=s,h=(0,Ee.A)(s,Ke),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,g=d||!1;let m=qe;"Root"===l||"root"===l?m=n:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=(0,He.default)(e,(0,Te.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,Ve.Q)(e)?n=>$e(e,(0,Te.A)({},n,{theme:Qe({theme:n.theme,defaultTheme:i,themeId:t})})):e,y=function(n){let o=v(n);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const d=l?l.map(v):[];a&&u&&d.push((e=>{const n=Qe((0,Te.A)({},e,{defaultTheme:i,themeId:t}));if(!n.components||!n.components[a]||!n.components[a].styleOverrides)return null;const o=n.components[a].styleOverrides,r={};return Object.entries(o).forEach((t=>{let[i,o]=t;r[i]=$e(o,(0,Te.A)({},e,{theme:n}))})),u(e,r)})),a&&!p&&d.push((e=>{var n;const o=Qe((0,Te.A)({},e,{defaultTheme:i,themeId:t}));return $e({variants:null==o||null==(n=o.components)||null==(n=n[a])?void 0:n.variants},(0,Te.A)({},e,{theme:o}))})),g||d.push(r);const h=d.length-l.length;if(Array.isArray(n)&&h>0){const e=new Array(h).fill("");o=[...n,...e],o.raw=[...n.raw,...e]}const m=f(o,...d);return e.muiName&&(m.muiName=e.muiName),m};return f.withConfig&&(y.withConfig=f.withConfig),y}}(),tt=et;var it=i(579);const nt=["className","component","disableGutters","fixed","maxWidth","classes"],ot=(0,Oe.A)(),rt=tt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["maxWidth".concat((0,Le.A)(String(i.maxWidth)))],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),st=e=>ze({props:e,name:"MuiContainer",defaultTheme:ot});var at=i(6803),lt=i(4535),ct=i(8206);const dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=rt,useThemeProps:i=st,componentName:o="MuiContainer"}=e,r=t((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!i.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:i}=e;return i.fixed&&Object.keys(t.breakpoints.values).reduce(((e,i)=>{const n=i,o=t.breakpoints.values[n];return 0!==o&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},"xs"===i.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},i.maxWidth&&"xs"!==i.maxWidth&&{[t.breakpoints.up(i.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[i.maxWidth]).concat(t.breakpoints.unit)}})})),s=n.forwardRef((function(e,t){const n=i(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:d="lg"}=n,u=(0,Ee.A)(n,nt),h=(0,Te.A)({},n,{component:a,disableGutters:l,fixed:c,maxWidth:d}),p=((e,t)=>{const{classes:i,fixed:n,disableGutters:o,maxWidth:r}=e,s={root:["root",r&&"maxWidth".concat((0,Le.A)(String(r))),n&&"fixed",o&&"disableGutters"]};return(0,Ne.A)(s,(e=>(0,Fe.Ay)(t,e)),i)})(h,o);return(0,it.jsx)(r,(0,Te.A)({as:a,ownerState:h,className:(0,Pe.A)(p.root,s),ref:t},u))}));return s}({createStyledComponent:(0,lt.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["maxWidth".concat((0,at.A)(String(i.maxWidth)))],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,ct.b)({props:e,name:"MuiContainer"})}),ut=dt;var ht=i(869);const pt=function(e){let{styles:t,themeId:i,defaultTheme:n={}}=e;const o=Ge(n),r="function"===typeof t?t(i&&o[i]||o):t;return(0,it.jsx)(ht.A,{styles:r})};var gt=i(5170),mt=i(3375);const ft=function(e){return(0,it.jsx)(pt,(0,Te.A)({},e,{defaultTheme:gt.A,themeId:mt.A}))},vt=(e,t)=>(0,Te.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),yt=e=>(0,Te.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const bt=function(e){const t=(0,ct.b)({props:e,name:"MuiCssBaseline"}),{children:i,enableColorScheme:o=!1}=t;return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(ft,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[i,o]=t;var r;n[e.getColorSchemeSelector(i).replace(/\s*&/,"")]={colorScheme:null==(r=o.palette)?void 0:r.mode}}));let o=(0,Te.A)({html:vt(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,Te.A)({margin:0},yt(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const r=null==(i=e.components)||null==(i=i.MuiCssBaseline)?void 0:i.styleOverrides;return r&&(o=[o,r]),o}(e,o)}),i]})};var Ct=i(8698);const wt=["className","component"];var xt=i(5430),St=i(8279),Rt=i(7056);const Mt=(0,Rt.A)("MuiBox",["root"]),kt=(0,St.A)(),Dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:i,defaultClassName:o="MuiBox-root",generateClassName:r}=e,s=(0,He.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(We.A),a=n.forwardRef((function(e,n){const a=Ge(i),l=(0,Ct.A)(e),{className:c,component:d="div"}=l,u=(0,Ee.A)(l,wt);return(0,it.jsx)(s,(0,Te.A)({as:d,ref:n,className:(0,Pe.A)(c,r?r(o):o),theme:t&&a[t]||a},u))}));return a}({themeId:mt.A,defaultTheme:kt,defaultClassName:Mt.root,generateClassName:xt.A.generate}),At=Dt;var Et=i(9662);const Tt=(0,Et.A)((0,it.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Pt(e){return(0,Fe.Ay)("MuiAvatar",e)}(0,Rt.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Ft=i(7042);function Nt(e,t,i){return"function"===typeof e?e(t,i):e}function Lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const i={};return Object.keys(e).filter((i=>i.match(/^on[A-Z]/)&&"function"===typeof e[i]&&!t.includes(i))).forEach((t=>{i[t]=e[t]})),i}function It(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((i=>{t[i]=e[i]})),t}function Ot(e){const{getSlotProps:t,additionalProps:i,externalSlotProps:n,externalForwardedProps:o,className:r}=e;if(!t){const e=(0,Pe.A)(null==i?void 0:i.className,r,null==o?void 0:o.className,null==n?void 0:n.className),t=(0,Te.A)({},null==i?void 0:i.style,null==o?void 0:o.style,null==n?void 0:n.style),s=(0,Te.A)({},i,o,n);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=Lt((0,Te.A)({},o,n)),a=It(n),l=It(o),c=t(s),d=(0,Pe.A)(null==c?void 0:c.className,null==i?void 0:i.className,r,null==o?void 0:o.className,null==n?void 0:n.className),u=(0,Te.A)({},null==c?void 0:c.style,null==i?void 0:i.style,null==o?void 0:o.style,null==n?void 0:n.style),h=(0,Te.A)({},c,i,l,a);return d.length>0&&(h.className=d),Object.keys(u).length>0&&(h.style=u),{props:h,internalRef:c.ref}}function jt(e){return"string"===typeof e}function Bt(e,t,i){return void 0===e||jt(e)?t:(0,Te.A)({},t,{ownerState:(0,Te.A)({},t.ownerState,i)})}const _t=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Gt=["component","slots","slotProps"],zt=["component"];const Ht=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Vt=(0,lt.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],i.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,Te.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,Te.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),Wt=(0,lt.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ut=(0,lt.Ay)(Tt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const Yt=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiAvatar"}),{alt:o,children:r,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:d,sizes:u,src:h,srcSet:p,variant:g="circular"}=i,m=(0,Ee.A)(i,Ht);let f=null;const v=function(e){let{crossOrigin:t,referrerPolicy:i,src:o,srcSet:r}=e;const[s,a]=n.useState(!1);return n.useEffect((()=>{if(!o&&!r)return;a(!1);let e=!0;const n=new Image;return n.onload=()=>{e&&a("loaded")},n.onerror=()=>{e&&a("error")},n.crossOrigin=t,n.referrerPolicy=i,n.src=o,r&&(n.srcset=r),()=>{e=!1}}),[t,i,o,r]),s}((0,Te.A)({},d,{src:h,srcSet:p})),y=h||p,b=y&&"error"!==v,C=(0,Te.A)({},i,{colorDefault:!b,component:a,variant:g}),w=(e=>{const{classes:t,variant:i,colorDefault:n}=e,o={root:["root",i,n&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Ne.A)(o,Pt,t)})(C),[x,S]=function(e,t){const{className:i,elementType:n,ownerState:o,externalForwardedProps:r,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,Ee.A)(t,_t),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=r,h=(0,Ee.A)(r,Gt),p=d[e]||n,g=Nt(u[e],o),m=Ot((0,Te.A)({className:i},l,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:g})),{props:{component:f},internalRef:v}=m,y=(0,Ee.A)(m.props,zt),b=(0,Ft.A)(v,null==g?void 0:g.ref,t.ref),C=s?s(y):{},w=(0,Te.A)({},o,C),x="root"===e?f||c:f,S=Bt(p,(0,Te.A)({},"root"===e&&!c&&!d[e]&&a,"root"!==e&&!d[e]&&a,y,x&&{as:x},{ref:b}),w);return Object.keys(C).forEach((e=>{delete S[e]})),[p,S]}("img",{className:w.img,elementType:Wt,externalForwardedProps:{slots:l,slotProps:{img:(0,Te.A)({},d,c.img)}},additionalProps:{alt:o,src:h,srcSet:p,sizes:u},ownerState:C});return f=b?(0,it.jsx)(x,(0,Te.A)({},S)):r||0===r?r:y&&o?o[0]:(0,it.jsx)(Ut,{ownerState:C,className:w.fallback}),(0,it.jsx)(Vt,(0,Te.A)({as:a,ownerState:C,className:(0,Pe.A)(w.root,s),ref:t},m,{children:f}))})),Kt=Yt;function qt(e){return(0,Fe.Ay)("MuiTypography",e)}(0,Rt.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Xt=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Zt=(0,lt.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.variant&&t[i.variant],"inherit"!==i.align&&t["align".concat((0,at.A)(i.align))],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({margin:0},"inherit"===i.variant&&{font:"inherit"},"inherit"!==i.variant&&t.typography[i.variant],"inherit"!==i.align&&{textAlign:i.align},i.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i.gutterBottom&&{marginBottom:"0.35em"},i.paragraph&&{marginBottom:16})})),Qt={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Jt={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$t=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTypography"}),n=(e=>Jt[e]||e)(i.color),o=(0,Ct.A)((0,Te.A)({},i,{color:n})),{align:r="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:u="body1",variantMapping:h=Qt}=o,p=(0,Ee.A)(o,Xt),g=(0,Te.A)({},o,{align:r,color:n,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:d,variant:u,variantMapping:h}),m=a||(d?"p":h[u]||Qt[u])||"span",f=(e=>{const{align:t,gutterBottom:i,noWrap:n,paragraph:o,variant:r,classes:s}=e,a={root:["root",r,"inherit"!==e.align&&"align".concat((0,at.A)(t)),i&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return(0,Ne.A)(a,qt,s)})(g);return(0,it.jsx)(Zt,(0,Te.A)({as:m,ref:t,ownerState:g,className:(0,Pe.A)(f.root,s)},p))})),ei=$t;var ti=i(992),ii=i(6632),ni=i(6288),oi=i(3844),ri=i(6440);const si=["onChange","maxRows","minRows","style","value"];function ai(e){return parseInt(e,10)||0}const li={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const ci=n.forwardRef((function(e,t){const{onChange:i,maxRows:o,minRows:r=1,style:s,value:a}=e,l=(0,Ee.A)(e,si),{current:c}=n.useRef(null!=a),d=n.useRef(null),u=(0,Ft.A)(t,d),h=n.useRef(null),p=n.useCallback((()=>{const t=d.current,i=(0,ni.A)(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};const n=h.current;n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=i.boxSizing,a=ai(i.paddingBottom)+ai(i.paddingTop),l=ai(i.borderBottomWidth)+ai(i.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let p=c;r&&(p=Math.max(Number(r)*u,p)),o&&(p=Math.min(Number(o)*u,p)),p=Math.max(p,u);return{outerHeightStyle:p+("border-box"===s?a+l:0),overflowing:Math.abs(p-c)<=1}}),[o,r,e.placeholder]),g=n.useCallback((()=>{const e=p();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const i=d.current;i.style.height="".concat(e.outerHeightStyle,"px"),i.style.overflow=e.overflowing?"hidden":""}),[p]);(0,oi.A)((()=>{const e=()=>{g()};let t;const i=(0,ri.A)(e),n=d.current,o=(0,ni.A)(n);let r;return o.addEventListener("resize",i),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(e),r.observe(n)),()=>{i.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",i),r&&r.disconnect()}}),[p,g]),(0,oi.A)((()=>{g()}));return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)("textarea",(0,Te.A)({value:a,onChange:e=>{c||g(),i&&i(e)},ref:u,rows:r,style:s},l)),(0,it.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,Te.A)({},li,s,{paddingTop:0,paddingBottom:0})})]})}));function di(e){let{props:t,states:i,muiFormControl:n}=e;return i.reduce(((e,i)=>(e[i]=t[i],n&&"undefined"===typeof t[i]&&(e[i]=n[i]),e)),{})}const ui=n.createContext(void 0);function hi(){return n.useContext(ui)}var pi=i(5849),gi=i(5013);function mi(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function fi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(mi(e.value)&&""!==e.value||t&&mi(e.defaultValue)&&""!==e.defaultValue)}function vi(e){return(0,Fe.Ay)("MuiInputBase",e)}const yi=(0,Rt.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),bi=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Ci=(e,t)=>{const{ownerState:i}=e;return[t.root,i.formControl&&t.formControl,i.startAdornment&&t.adornedStart,i.endAdornment&&t.adornedEnd,i.error&&t.error,"small"===i.size&&t.sizeSmall,i.multiline&&t.multiline,i.color&&t["color".concat((0,at.A)(i.color))],i.fullWidth&&t.fullWidth,i.hiddenLabel&&t.hiddenLabel]},wi=(e,t)=>{const{ownerState:i}=e;return[t.input,"small"===i.size&&t.inputSizeSmall,i.multiline&&t.inputMultiline,"search"===i.type&&t.inputTypeSearch,i.startAdornment&&t.inputAdornedStart,i.endAdornment&&t.inputAdornedEnd,i.hiddenLabel&&t.inputHiddenLabel]},xi=(0,lt.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ci})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(yi.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},i.multiline&&(0,Te.A)({padding:"4px 0 5px"},"small"===i.size&&{paddingTop:1}),i.fullWidth&&{width:"100%"})})),Si=(0,lt.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:wi})((e=>{let{theme:t,ownerState:i}=e;const n="light"===t.palette.mode,o=(0,Te.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,Te.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(yi.formControl," &")]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(yi.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield"})})),Ri=(0,it.jsx)(ft,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Mi=n.forwardRef((function(e,t){var i;const o=(0,ct.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:d={},defaultValue:u,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:m=!1,id:f,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:C,minRows:w,multiline:x=!1,name:S,onBlur:R,onChange:M,onClick:k,onFocus:D,onKeyDown:A,onKeyUp:E,placeholder:T,readOnly:P,renderSuffix:F,rows:N,slotProps:L={},slots:I={},startAdornment:O,type:j="text",value:B}=o,_=(0,Ee.A)(o,bi),G=null!=y.value?y.value:B,{current:z}=n.useRef(null!=G),H=n.useRef(),V=n.useCallback((e=>{0}),[]),W=(0,pi.A)(H,b,y.ref,V),[U,Y]=n.useState(!1),K=hi();const q=di({props:o,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=K?K.focused:U,n.useEffect((()=>{!K&&h&&U&&(Y(!1),R&&R())}),[K,h,U,R]);const X=K&&K.onFilled,Z=K&&K.onEmpty,Q=n.useCallback((e=>{fi(e)?X&&X():Z&&Z()}),[X,Z]);(0,gi.A)((()=>{z&&Q({value:G})}),[G,Q,z]);n.useEffect((()=>{Q(H.current)}),[]);let J=v,$=y;x&&"input"===J&&($=N?(0,Te.A)({type:void 0,minRows:N,maxRows:N},$):(0,Te.A)({type:void 0,maxRows:C,minRows:w},$),J=ci);n.useEffect((()=>{K&&K.setAdornedStart(Boolean(O))}),[K,O]);const ee=(0,Te.A)({},o,{color:q.color||"primary",disabled:q.disabled,endAdornment:g,error:q.error,focused:q.focused,formControl:K,fullWidth:m,hiddenLabel:q.hiddenLabel,multiline:x,size:q.size,startAdornment:O,type:j}),te=(e=>{const{classes:t,color:i,disabled:n,error:o,endAdornment:r,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:h,startAdornment:p,type:g}=e,m={root:["root","color".concat((0,at.A)(i)),n&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,at.A)(h)),d&&"multiline",p&&"adornedStart",r&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",n&&"disabled","search"===g&&"inputTypeSearch",d&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",r&&"inputAdornedEnd",u&&"readOnly"]};return(0,Ne.A)(m,vi,t)})(ee),ie=I.root||c.Root||xi,ne=L.root||d.root||{},oe=I.input||c.Input||Si;return $=(0,Te.A)({},$,null!=(i=L.input)?i:d.input),(0,it.jsxs)(n.Fragment,{children:[!p&&Ri,(0,it.jsxs)(ie,(0,Te.A)({},ne,!jt(ie)&&{ownerState:(0,Te.A)({},ee,ne.ownerState)},{ref:t,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),k&&k(e)}},_,{className:(0,Pe.A)(te.root,ne.className,l,P&&"MuiInputBase-readOnly"),children:[O,(0,it.jsx)(ui.Provider,{value:null,children:(0,it.jsx)(oe,(0,Te.A)({ownerState:ee,"aria-invalid":q.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:u,disabled:q.disabled,id:f,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:S,placeholder:T,readOnly:P,required:q.required,rows:N,value:G,onKeyDown:A,onKeyUp:E,type:j},$,!jt(oe)&&{as:J,ownerState:(0,Te.A)({},ee,$.ownerState)},{ref:W,className:(0,Pe.A)(te.input,$.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{R&&R(e),y.onBlur&&y.onBlur(e),K&&K.onBlur?K.onBlur(e):Y(!1)},onChange:function(e){if(!z){const t=e.target||H.current;if(null==t)throw new Error((0,ii.A)(1));Q({value:t.value})}for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];y.onChange&&y.onChange(e,...i),M&&M(e,...i)},onFocus:e=>{q.disabled?e.stopPropagation():(D&&D(e),y.onFocus&&y.onFocus(e),K&&K.onFocus?K.onFocus(e):Y(!0))}}))}),g,F?F((0,Te.A)({},q,{startAdornment:O})):null]}))]})})),ki=Mi;var Di=i(1475);function Ai(e){return(0,Fe.Ay)("MuiInput",e)}const Ei=(0,Te.A)({},yi,(0,Rt.A)("MuiInput",["root","underline","input"])),Ti=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Pi=(0,lt.Ay)(xi,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...Ci(e,t),!i.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:i}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,Te.A)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Ei.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Ei.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Ei.disabled,", .").concat(Ei.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(Ei.disabled,":before")]:{borderBottomStyle:"dotted"}})})),Fi=(0,lt.Ay)(Si,{name:"MuiInput",slot:"Input",overridesResolver:wi})({}),Ni=n.forwardRef((function(e,t){var i,n,o,r;const s=(0,ct.b)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:g={},type:m="text"}=s,f=(0,Ee.A)(s,Ti),v=(e=>{const{classes:t,disableUnderline:i}=e,n={root:["root",!i&&"underline"],input:["input"]},o=(0,Ne.A)(n,Ai,t);return(0,Te.A)({},t,o)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=p?p:c)?(0,Ve.A)(null!=p?p:c,y):y,C=null!=(i=null!=(n=g.root)?n:l.Root)?i:Pi,w=null!=(o=null!=(r=g.input)?r:l.Input)?o:Fi;return(0,it.jsx)(ki,(0,Te.A)({slots:{root:C,input:w},slotProps:b,fullWidth:d,inputComponent:u,multiline:h,ref:t,type:m},f,{classes:v}))}));Ni.muiName="Input";const Li=Ni;function Ii(e){return(0,Fe.Ay)("MuiFilledInput",e)}const Oi=(0,Te.A)({},yi,(0,Rt.A)("MuiFilledInput",["root","underline","input"])),ji=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Bi=(0,lt.Ay)(xi,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...Ci(e,t),!i.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:i}=e;var n;const o="light"===t.palette.mode,r=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,Te.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},["&.".concat(Oi.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},["&.".concat(Oi.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!i.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(n=(t.vars||t).palette[i.color||"primary"])?void 0:n.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Oi.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Oi.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Oi.disabled,", .").concat(Oi.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(Oi.disabled,":before")]:{borderBottomStyle:"dotted"}},i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&(0,Te.A)({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.hiddenLabel&&"small"===i.size&&{paddingTop:8,paddingBottom:9}))})),_i=(0,lt.Ay)(Si,{name:"MuiFilledInput",slot:"Input",overridesResolver:wi})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0},i.hiddenLabel&&"small"===i.size&&{paddingTop:8,paddingBottom:9},i.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Gi=n.forwardRef((function(e,t){var i,n,o,r;const s=(0,ct.b)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:u=!1,slotProps:h,slots:p={},type:g="text"}=s,m=(0,Ee.A)(s,ji),f=(0,Te.A)({},s,{fullWidth:c,inputComponent:d,multiline:u,type:g}),v=(e=>{const{classes:t,disableUnderline:i}=e,n={root:["root",!i&&"underline"],input:["input"]},o=(0,Ne.A)(n,Ii,t);return(0,Te.A)({},t,o)})(s),y={root:{ownerState:f},input:{ownerState:f}},b=(null!=h?h:l)?(0,Ve.A)(y,null!=h?h:l):y,C=null!=(i=null!=(n=p.root)?n:a.Root)?i:Bi,w=null!=(o=null!=(r=p.input)?r:a.Input)?o:_i;return(0,it.jsx)(ki,(0,Te.A)({slots:{root:C,input:w},componentsProps:b,fullWidth:c,inputComponent:d,multiline:u,ref:t,type:g},m,{classes:v}))}));Gi.muiName="Input";const zi=Gi;var Hi;const Vi=["children","classes","className","label","notched"],Wi=(0,lt.Ay)("fieldset",{shouldForwardProp:Di.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ui=(0,lt.Ay)("legend",{shouldForwardProp:Di.A})((e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})},t.withLabel&&(0,Te.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}))}));function Yi(e){return(0,Fe.Ay)("MuiOutlinedInput",e)}const Ki=(0,Te.A)({},yi,(0,Rt.A)("MuiOutlinedInput",["root","notchedOutline","input"])),qi=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Xi=(0,lt.Ay)(xi,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ci})((e=>{let{theme:t,ownerState:i}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,Te.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(Ki.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(Ki.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}},["&.".concat(Ki.focused," .").concat(Ki.notchedOutline)]:{borderColor:(t.vars||t).palette[i.color].main,borderWidth:2},["&.".concat(Ki.error," .").concat(Ki.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(Ki.disabled," .").concat(Ki.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&(0,Te.A)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),Zi=(0,lt.Ay)((function(e){const{className:t,label:i,notched:n}=e,o=(0,Ee.A)(e,Vi),r=null!=i&&""!==i,s=(0,Te.A)({},e,{notched:n,withLabel:r});return(0,it.jsx)(Wi,(0,Te.A)({"aria-hidden":!0,className:t,ownerState:s},o,{children:(0,it.jsx)(Ui,{ownerState:s,children:r?(0,it.jsx)("span",{children:i}):Hi||(Hi=(0,it.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const i="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):i}})),Qi=(0,lt.Ay)(Si,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:wi})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===i.size&&{padding:"8.5px 14px"},i.multiline&&{padding:0},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0})})),Ji=n.forwardRef((function(e,t){var i,o,r,s,a;const l=(0,ct.b)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:u="input",label:h,multiline:p=!1,notched:g,slots:m={},type:f="text"}=l,v=(0,Ee.A)(l,qi),y=(e=>{const{classes:t}=e,i=(0,Ne.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Yi,t);return(0,Te.A)({},t,i)})(l),b=hi(),C=di({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=(0,Te.A)({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:b,fullWidth:d,hiddenLabel:C.hiddenLabel,multiline:p,size:C.size,type:f}),x=null!=(i=null!=(o=m.root)?o:c.Root)?i:Xi,S=null!=(r=null!=(s=m.input)?s:c.Input)?r:Qi;return(0,it.jsx)(ki,(0,Te.A)({slots:{root:x,input:S},renderSuffix:e=>(0,it.jsx)(Zi,{ownerState:w,className:y.notchedOutline,label:null!=h&&""!==h&&C.required?a||(a=(0,it.jsxs)(n.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:d,inputComponent:u,multiline:p,ref:t,type:f},v,{classes:(0,Te.A)({},y,{notchedOutline:null})}))}));Ji.muiName="Input";const $i=Ji;function en(e){return(0,Fe.Ay)("MuiFormLabel",e)}const tn=(0,Rt.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),nn=["children","className","color","component","disabled","error","filled","focused","required"],on=(0,lt.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return(0,Te.A)({},t.root,"secondary"===i.color&&t.colorSecondary,i.filled&&t.filled)}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(tn.focused)]:{color:(t.vars||t).palette[i.color].main},["&.".concat(tn.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(tn.error)]:{color:(t.vars||t).palette.error.main}})})),rn=(0,lt.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(tn.error)]:{color:(t.vars||t).palette.error.main}}})),sn=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiFormLabel"}),{children:n,className:o,component:r="label"}=i,s=(0,Ee.A)(i,nn),a=di({props:i,muiFormControl:hi(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Te.A)({},i,{color:a.color||"primary",component:r,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:i,focused:n,disabled:o,error:r,filled:s,required:a}=e,l={root:["root","color".concat((0,at.A)(i)),o&&"disabled",r&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",r&&"error"]};return(0,Ne.A)(l,en,t)})(l);return(0,it.jsxs)(on,(0,Te.A)({as:r,ownerState:l,className:(0,Pe.A)(c.root,o),ref:t},s,{children:[n,a.required&&(0,it.jsxs)(rn,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),an=sn;function ln(e){return(0,Fe.Ay)("MuiInputLabel",e)}(0,Rt.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const cn=["disableAnimation","margin","shrink","variant","className"],dn=(0,lt.Ay)(an,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{["& .".concat(tn.asterisk)]:t.asterisk},t.root,i.formControl&&t.formControl,"small"===i.size&&t.sizeSmall,i.shrink&&t.shrink,!i.disableAnimation&&t.animated,i.focused&&t.focused,t[i.variant]]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},i.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===i.size&&{transform:"translate(0, 17px) scale(1)"},i.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!i.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===i.variant&&(0,Te.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===i.size&&{transform:"translate(12px, 13px) scale(1)"},i.shrink&&(0,Te.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===i.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===i.variant&&(0,Te.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===i.size&&{transform:"translate(14px, 9px) scale(1)"},i.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),un=n.forwardRef((function(e,t){const i=(0,ct.b)({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,shrink:o,className:r}=i,s=(0,Ee.A)(i,cn),a=hi();let l=o;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=di({props:i,muiFormControl:a,states:["size","variant","required","focused"]}),d=(0,Te.A)({},i,{disableAnimation:n,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),u=(e=>{const{classes:t,formControl:i,size:n,shrink:o,disableAnimation:r,variant:s,required:a}=e,l={root:["root",i&&"formControl",!r&&"animated",o&&"shrink",n&&"normal"!==n&&"size".concat((0,at.A)(n)),s],asterisk:[a&&"asterisk"]},c=(0,Ne.A)(l,ln,t);return(0,Te.A)({},t,c)})(d);return(0,it.jsx)(dn,(0,Te.A)({"data-shrink":l,ownerState:d,ref:t,className:(0,Pe.A)(u.root,r)},s,{classes:u}))})),hn=un;var pn=i(154);function gn(e){return(0,Fe.Ay)("MuiFormControl",e)}(0,Rt.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const mn=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],fn=(0,lt.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return(0,Te.A)({},t.root,t["margin".concat((0,at.A)(i.margin))],i.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),vn=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiFormControl"}),{children:o,className:r,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:m="medium",variant:f="outlined"}=i,v=(0,Ee.A)(i,mn),y=(0,Te.A)({},i,{color:s,component:a,disabled:l,error:c,fullWidth:u,hiddenLabel:h,margin:p,required:g,size:m,variant:f}),b=(e=>{const{classes:t,margin:i,fullWidth:n}=e,o={root:["root","none"!==i&&"margin".concat((0,at.A)(i)),n&&"fullWidth"]};return(0,Ne.A)(o,gn,t)})(y),[C,w]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{if(!(0,pn.A)(t,["Input","Select"]))return;const i=(0,pn.A)(t,["Select"])?t.props.input:t;i&&i.props.startAdornment&&(e=!0)})),e})),[x,S]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{(0,pn.A)(t,["Input","Select"])&&(fi(t.props,!0)||fi(t.props.inputProps,!0))&&(e=!0)})),e})),[R,M]=n.useState(!1);l&&R&&M(!1);const k=void 0===d||l?R:d;let D;const A=n.useMemo((()=>({adornedStart:C,setAdornedStart:w,color:s,disabled:l,error:c,filled:x,focused:k,fullWidth:u,hiddenLabel:h,size:m,onBlur:()=>{M(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{M(!0)},registerEffect:D,required:g,variant:f})),[C,s,l,c,x,k,u,h,D,g,m,f]);return(0,it.jsx)(ui.Provider,{value:A,children:(0,it.jsx)(fn,(0,Te.A)({as:a,ownerState:y,className:(0,Pe.A)(b.root,r),ref:t},v,{children:o}))})})),yn=vn;function bn(e){return(0,Fe.Ay)("MuiFormHelperText",e)}const Cn=(0,Rt.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var wn;const xn=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Sn=(0,lt.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.size&&t["size".concat((0,at.A)(i.size))],i.contained&&t.contained,i.filled&&t.filled]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Cn.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Cn.error)]:{color:(t.vars||t).palette.error.main}},"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),Rn=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiFormHelperText"}),{children:n,className:o,component:r="p"}=i,s=(0,Ee.A)(i,xn),a=di({props:i,muiFormControl:hi(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,Te.A)({},i,{component:r,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:i,size:n,disabled:o,error:r,filled:s,focused:a,required:l}=e,c={root:["root",o&&"disabled",r&&"error",n&&"size".concat((0,at.A)(n)),i&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,Ne.A)(c,bn,t)})(l);return(0,it.jsx)(Sn,(0,Te.A)({as:r,ownerState:l,className:(0,Pe.A)(c.root,o),ref:t},s,{children:" "===n?wn||(wn=(0,it.jsx)("span",{className:"notranslate",children:"\u200b"})):n}))})),Mn=Rn;i(805);var kn=i(2427);const Dn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function An(e){var t;const{elementType:i,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:r=!1}=e,s=(0,Ee.A)(e,Dn),a=r?{}:Nt(n,o),{props:l,internalRef:c}=Ot((0,Te.A)({},s,{externalSlotProps:a})),d=(0,Ft.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return Bt(i,(0,Te.A)({},l,{ref:d}),o)}const En=["value"],Tn=n.createContext();const Pn=function(e){let{value:t}=e,i=(0,Ee.A)(e,En);return(0,it.jsx)(Tn.Provider,(0,Te.A)({value:null==t||t},i))};const Fn=n.createContext({});function Nn(e){return(0,Fe.Ay)("MuiList",e)}(0,Rt.A)("MuiList",["root","padding","dense","subheader"]);const Ln=["children","className","component","dense","disablePadding","subheader"],In=(0,lt.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),On=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiList"}),{children:o,className:r,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=i,d=(0,Ee.A)(i,Ln),u=n.useMemo((()=>({dense:a})),[a]),h=(0,Te.A)({},i,{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:i,dense:n,subheader:o}=e,r={root:["root",!i&&"padding",n&&"dense",o&&"subheader"]};return(0,Ne.A)(r,Nn,t)})(h);return(0,it.jsx)(Fn.Provider,{value:u,children:(0,it.jsxs)(In,(0,Te.A)({as:s,className:(0,Pe.A)(p.root,r),ref:t,ownerState:h},d,{children:[c,o]}))})})),jn=On;function Bn(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const _n=Bn,Gn=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function zn(e,t,i){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:e.firstChild}function Hn(e,t,i){return e===t?i?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:e.lastChild}function Vn(e,t){if(void 0===t)return!0;let i=e.innerText;return void 0===i&&(i=e.textContent),i=i.trim().toLowerCase(),0!==i.length&&(t.repeating?i[0]===t.keys[0]:0===i.indexOf(t.keys.join("")))}function Wn(e,t,i,n,o,r){let s=!1,a=o(e,t,!!t&&i);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!n&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Vn(a,r)&&!t)return a.focus(),!0;a=o(e,a,i)}return!1}const Un=n.forwardRef((function(e,t){const{actions:i,autoFocus:o=!1,autoFocusItem:r=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,h=(0,Ee.A)(e,Gn),p=n.useRef(null),g=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,gi.A)((()=>{o&&p.current.focus()}),[o]),n.useImperativeHandle(i,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:i}=t;const n=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&n){const t="".concat(_n((0,kn.A)(e)),"px");p.current.style["rtl"===i?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}})),[]);const m=(0,pi.A)(p,t);let f=-1;n.Children.forEach(s,((e,t)=>{n.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===f)&&(f=t),f===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(f+=1,f>=s.length&&(f=-1))):f===t&&(f+=1,f>=s.length&&(f=-1))}));const v=n.Children.map(s,((e,t)=>{if(t===f){const t={};return r&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(t.tabIndex=0),n.cloneElement(e,t)}return e}));return(0,it.jsx)(jn,(0,Te.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,i=e.key,n=(0,kn.A)(t).activeElement;if("ArrowDown"===i)e.preventDefault(),Wn(t,n,c,l,zn);else if("ArrowUp"===i)e.preventDefault(),Wn(t,n,c,l,Hn);else if("Home"===i)e.preventDefault(),Wn(t,null,c,l,zn);else if("End"===i)e.preventDefault(),Wn(t,null,c,l,Hn);else if(1===i.length){const o=g.current,r=i.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&r!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(r);const a=n&&!o.repeating&&Vn(n,o);o.previousKeyMatched&&(a||Wn(t,n,!1,l,zn,o))?e.preventDefault():o.previousKeyMatched=!1}d&&d(e)},tabIndex:o?0:-1},h,{children:v}))})),Yn=Un;var Kn=i(950),qn=i(6078),Xn=i(1140);function Zn(e,t){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zn(e,t)}function Qn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zn(e,t)}const Jn=!1,$n=n.createContext(null);var eo="unmounted",to="exited",io="entering",no="entered",oo="exiting",ro=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;var o,r=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(o=to,n.appearStatus=io):o=no:o=t.unmountOnExit||t.mountOnEnter?eo:to,n.state={status:o},n.nextCallback=null,n}Qn(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===eo?{status:to}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==io&&i!==no&&(t=io):i!==io&&i!==no||(t=oo)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===io){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);i&&function(e){e.scrollTop}(i)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===to&&this.setState({status:eo})},i.performEnter=function(e){var t=this,i=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[s.findDOMNode(this),n],r=o[0],a=o[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!i||Jn?this.safeSetState({status:no},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,a),this.safeSetState({status:io},(function(){t.props.onEntering(r,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:no},(function(){t.props.onEntered(r,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!Jn?(this.props.onExit(n),this.safeSetState({status:oo},(function(){e.props.onExiting(n),e.onTransitionEnd(i.exit,(function(){e.safeSetState({status:to},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:to},(function(){e.props.onExited(n)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(i&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],r=o[0],a=o[1];this.props.addEndListener(r,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===eo)return null;var t=this.props,i=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Ee.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement($n.Provider,{value:null},"function"===typeof i?i(e,o):n.cloneElement(n.Children.only(i),o))},t}(n.Component);function so(){}ro.contextType=$n,ro.propTypes={},ro.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:so,onEntering:so,onEntered:so,onExit:so,onExiting:so,onExited:so},ro.UNMOUNTED=eo,ro.EXITED=to,ro.ENTERING=io,ro.ENTERED=no,ro.EXITING=oo;const ao=ro;function lo(){const e=Ge(gt.A);return e[mt.A]||e}const co=e=>e.scrollTop;function uo(e,t){var i,n;const{timeout:o,easing:r,style:s={}}=e;return{duration:null!=(i=s.transitionDuration)?i:"number"===typeof o?o:o[t.mode]||0,easing:null!=(n=s.transitionTimingFunction)?n:"object"===typeof r?r[t.mode]:r,delay:s.transitionDelay}}const ho=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function po(e){return"scale(".concat(e,", ").concat(e**2,")")}const go={entering:{opacity:1,transform:po(1)},entered:{opacity:1,transform:"none"}},mo="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),fo=n.forwardRef((function(e,t){const{addEndListener:i,appear:o=!0,children:r,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:h,onExiting:p,style:g,timeout:m="auto",TransitionComponent:f=ao}=e,v=(0,Ee.A)(e,ho),y=(0,Xn.A)(),b=n.useRef(),C=lo(),w=n.useRef(null),x=(0,pi.A)(w,r.ref,t),S=e=>t=>{if(e){const i=w.current;void 0===t?e(i):e(i,t)}},R=S(d),M=S(((e,t)=>{co(e);const{duration:i,delay:n,easing:o}=uo({style:g,timeout:m,easing:s},{mode:"enter"});let r;"auto"===m?(r=C.transitions.getAutoHeightDuration(e.clientHeight),b.current=r):r=i,e.style.transition=[C.transitions.create("opacity",{duration:r,delay:n}),C.transitions.create("transform",{duration:mo?r:.666*r,delay:n,easing:o})].join(","),l&&l(e,t)})),k=S(c),D=S(p),A=S((e=>{const{duration:t,delay:i,easing:n}=uo({style:g,timeout:m,easing:s},{mode:"exit"});let o;"auto"===m?(o=C.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[C.transitions.create("opacity",{duration:o,delay:i}),C.transitions.create("transform",{duration:mo?o:.666*o,delay:mo?i:i||.333*o,easing:n})].join(","),e.style.opacity=0,e.style.transform=po(.75),u&&u(e)})),E=S(h);return(0,it.jsx)(f,(0,Te.A)({appear:o,in:a,nodeRef:w,onEnter:M,onEntered:k,onEntering:R,onExit:A,onExited:E,onExiting:D,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),i&&i(w.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>n.cloneElement(r,(0,Te.A)({style:(0,Te.A)({opacity:0,transform:po(.75),visibility:"exited"!==e||a?void 0:"hidden"},go[e],g,r.props.style),ref:x},t))}))}));fo.muiSupportAuto=!0;const vo=fo;var yo=i(2144),bo=i(4626),Co=i(4708);function wo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xo(e){return parseInt((0,ni.A)(e).getComputedStyle(e).paddingRight,10)||0}function So(e,t,i,n,o){const r=[t,i,...n];[].forEach.call(e.children,(e=>{const t=-1===r.indexOf(e),i=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),i="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||i}(e);t&&i&&wo(e,o)}))}function Ro(e,t){let i=-1;return e.some(((e,n)=>!!t(e)&&(i=n,!0))),i}function Mo(e,t){const i=[],n=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,yo.A)(e);return t.body===e?(0,ni.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=Bn((0,yo.A)(n));i.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight="".concat(xo(n)+e,"px");const t=(0,yo.A)(n).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{i.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(xo(t)+e,"px")}))}let e;if(n.parentNode instanceof DocumentFragment)e=(0,yo.A)(n).body;else{const t=n.parentElement,i=(0,ni.A)(n);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===i.getComputedStyle(t).overflowY?t:n}i.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{i.forEach((e=>{let{value:t,el:i,property:n}=e;t?i.style.setProperty(n,t):i.style.removeProperty(n)}))}}const ko=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(-1!==i)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&wo(e.modalRef,!1);const n=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);So(t,e.mount,e.modalRef,n,!0);const o=Ro(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),i)}mount(e,t){const i=Ro(this.containers,(t=>-1!==t.modals.indexOf(e))),n=this.containers[i];n.restore||(n.restore=Mo(n,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.modals.indexOf(e);if(-1===i)return i;const n=Ro(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&wo(e.modalRef,t),So(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&wo(e.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Do(e){const{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:o=!1,manager:r=ko,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:h}=e,p=n.useRef({}),g=n.useRef(null),m=n.useRef(null),f=(0,Ft.A)(m,h),[v,y]=n.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let C=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(C=!1);const w=()=>(p.current.modalRef=m.current,p.current.mount=g.current,p.current),x=()=>{r.mount(w(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},S=(0,bo.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,yo.A)(g.current).body;r.add(w(),e),m.current&&x()})),R=n.useCallback((()=>r.isTopModal(w())),[r]),M=(0,bo.A)((e=>{g.current=e,e&&(u&&R()?x():m.current&&wo(m.current,C))})),k=n.useCallback((()=>{r.remove(w(),C)}),[C,r]);n.useEffect((()=>()=>{k()}),[k]),n.useEffect((()=>{u?S():b&&s||k()}),[u,k,b,s,S]);const D=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&R()&&(i||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},A=e=>t=>{var i;null==(i=e.onClick)||i.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=Lt(e);delete i.onTransitionEnter,delete i.onTransitionExited;const n=(0,Te.A)({},i,t);return(0,Te.A)({role:"presentation"},n,{onKeyDown:D(n),ref:f})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Te.A)({"aria-hidden":!0},e,{onClick:A(e),open:u})},getTransitionProps:()=>({onEnter:(0,Co.A)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,Co.A)((()=>{y(!0),l&&l(),s&&k()}),null==c?void 0:c.props.onExited)}),rootRef:f,portalRef:M,isTopModal:R,exited:v,hasTransition:b}}const Ao=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Eo(e){const t=[],i=[];return Array.from(e.querySelectorAll(Ao)).forEach(((e,n)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let i=t('[name="'.concat(e.name,'"]:checked'));return i||(i=t('[name="'.concat(e.name,'"]'))),i!==e}(e))}(e)&&(0===o?t.push(e):i.push({documentOrder:n,tabIndex:o,node:e}))})),i.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function To(){return!0}function Po(e){const{children:t,disableAutoFocus:i=!1,disableEnforceFocus:o=!1,disableRestoreFocus:r=!1,getTabbable:s=Eo,isEnabled:a=To,open:l}=e,c=n.useRef(!1),d=n.useRef(null),u=n.useRef(null),h=n.useRef(null),p=n.useRef(null),g=n.useRef(!1),m=n.useRef(null),f=(0,Ft.A)(t.ref,m),v=n.useRef(null);n.useEffect((()=>{l&&m.current&&(g.current=!i)}),[i,l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,yo.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),g.current&&m.current.focus()),()=>{r||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,yo.A)(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},i=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!g.current)return;let i=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(i=s(m.current)),i.length>0){var n,r;const e=Boolean((null==(n=v.current)?void 0:n.shiftKey)&&"Tab"===(null==(r=v.current)?void 0:r.key)),t=i[0],o=i[i.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",i),e.addEventListener("keydown",t,!0);const n=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&i()}),50);return()=>{clearInterval(n),e.removeEventListener("focusin",i),e.removeEventListener("keydown",t,!0)}}),[i,o,r,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0};return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelStart"}),n.cloneElement(t,{ref:f,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0,p.current=e.target;const i=t.props.onFocus;i&&i(e)}}),(0,it.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})}var Fo=i(9184);const No=n.forwardRef((function(e,t){const{children:i,container:o,disablePortal:r=!1}=e,[a,l]=n.useState(null),c=(0,Ft.A)(n.isValidElement(i)?i.ref:null,t);if((0,oi.A)((()=>{r||l(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,r]),(0,oi.A)((()=>{if(a&&!r)return(0,Fo.A)(t,a),()=>{(0,Fo.A)(t,null)}}),[t,a,r]),r){if(n.isValidElement(i)){const e={ref:c};return n.cloneElement(i,e)}return(0,it.jsx)(n.Fragment,{children:i})}return(0,it.jsx)(n.Fragment,{children:a?s.createPortal(i,a):a})}));const Lo=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Io={entering:{opacity:1},entered:{opacity:1}},Oo=n.forwardRef((function(e,t){const i=lo(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:u,onEntering:h,onExit:p,onExited:g,onExiting:m,style:f,timeout:v=o,TransitionComponent:y=ao}=e,b=(0,Ee.A)(e,Lo),C=n.useRef(null),w=(0,pi.A)(C,a.ref,t),x=e=>t=>{if(e){const i=C.current;void 0===t?e(i):e(i,t)}},S=x(h),R=x(((e,t)=>{co(e);const n=uo({style:f,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=i.transitions.create("opacity",n),e.style.transition=i.transitions.create("opacity",n),d&&d(e,t)})),M=x(u),k=x(m),D=x((e=>{const t=uo({style:f,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=i.transitions.create("opacity",t),e.style.transition=i.transitions.create("opacity",t),p&&p(e)})),A=x(g);return(0,it.jsx)(y,(0,Te.A)({appear:s,in:c,nodeRef:C,onEnter:R,onEntered:M,onEntering:S,onExit:D,onExited:A,onExiting:k,addEndListener:e=>{r&&r(C.current,e)},timeout:v},b,{children:(e,t)=>n.cloneElement(a,(0,Te.A)({style:(0,Te.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},Io[e],f,a.props.style),ref:w},t))}))})),jo=Oo;function Bo(e){return(0,Fe.Ay)("MuiBackdrop",e)}(0,Rt.A)("MuiBackdrop",["root","invisible"]);const _o=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Go=(0,lt.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),zo=n.forwardRef((function(e,t){var i,n,o;const r=(0,ct.b)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:d={},invisible:u=!1,open:h,slotProps:p={},slots:g={},TransitionComponent:m=jo,transitionDuration:f}=r,v=(0,Ee.A)(r,_o),y=(0,Te.A)({},r,{component:l,invisible:u}),b=(e=>{const{classes:t,invisible:i}=e,n={root:["root",i&&"invisible"]};return(0,Ne.A)(n,Bo,t)})(y),C=null!=(i=p.root)?i:d.root;return(0,it.jsx)(m,(0,Te.A)({in:h,timeout:f},v,{children:(0,it.jsx)(Go,(0,Te.A)({"aria-hidden":!0},C,{as:null!=(n=null!=(o=g.root)?o:c.Root)?n:l,className:(0,Pe.A)(b.root,a,null==C?void 0:C.className),ownerState:(0,Te.A)({},y,null==C?void 0:C.ownerState),classes:b,ref:t,children:s}))}))})),Ho=zo;function Vo(e){return(0,Fe.Ay)("MuiModal",e)}(0,Rt.A)("MuiModal",["root","hidden","backdrop"]);const Wo=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Uo=(0,lt.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.open&&i.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!i.open&&i.exited&&{visibility:"hidden"})})),Yo=(0,lt.Ay)(Ho,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ko=n.forwardRef((function(e,t){var i,o,r,s,a,l;const c=(0,ct.b)({name:"MuiModal",props:e}),{BackdropComponent:d=Yo,BackdropProps:u,className:h,closeAfterTransition:p=!1,children:g,container:m,component:f,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:w=!1,disablePortal:x=!1,disableRestoreFocus:S=!1,disableScrollLock:R=!1,hideBackdrop:M=!1,keepMounted:k=!1,onBackdropClick:D,open:A,slotProps:E,slots:T}=c,P=(0,Ee.A)(c,Wo),F=(0,Te.A)({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:C,disableEscapeKeyDown:w,disablePortal:x,disableRestoreFocus:S,disableScrollLock:R,hideBackdrop:M,keepMounted:k}),{getRootProps:N,getBackdropProps:L,getTransitionProps:I,portalRef:O,isTopModal:j,exited:B,hasTransition:_}=Do((0,Te.A)({},F,{rootRef:t})),G=(0,Te.A)({},F,{exited:B}),z=(e=>{const{open:t,exited:i,classes:n}=e,o={root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]};return(0,Ne.A)(o,Vo,n)})(G),H={};if(void 0===g.props.tabIndex&&(H.tabIndex="-1"),_){const{onEnter:e,onExited:t}=I();H.onEnter=e,H.onExited=t}const V=null!=(i=null!=(o=null==T?void 0:T.root)?o:v.Root)?i:Uo,W=null!=(r=null!=(s=null==T?void 0:T.backdrop)?s:v.Backdrop)?r:d,U=null!=(a=null==E?void 0:E.root)?a:y.root,Y=null!=(l=null==E?void 0:E.backdrop)?l:y.backdrop,K=An({elementType:V,externalSlotProps:U,externalForwardedProps:P,getSlotProps:N,additionalProps:{ref:t,as:f},ownerState:G,className:(0,Pe.A)(h,null==U?void 0:U.className,null==z?void 0:z.root,!G.open&&G.exited&&(null==z?void 0:z.hidden))}),q=An({elementType:W,externalSlotProps:Y,additionalProps:u,getSlotProps:e=>L((0,Te.A)({},e,{onClick:t=>{D&&D(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Pe.A)(null==Y?void 0:Y.className,null==u?void 0:u.className,null==z?void 0:z.backdrop),ownerState:G});return k||A||_&&!B?(0,it.jsx)(No,{ref:O,container:m,disablePortal:x,children:(0,it.jsxs)(V,(0,Te.A)({},K,{children:[!M&&d?(0,it.jsx)(W,(0,Te.A)({},q)):null,(0,it.jsx)(Po,{disableEnforceFocus:C,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:j,open:A,children:n.cloneElement(g,H)})]}))}):null})),qo=Ko;var Xo=i(7266);const Zo=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Qo(e){return(0,Fe.Ay)("MuiPaper",e)}(0,Rt.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jo=["className","component","elevation","square","variant"],$o=(0,lt.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],!i.square&&t.rounded,"elevation"===i.variant&&t["elevation".concat(i.elevation)]]}})((e=>{let{theme:t,ownerState:i}=e;var n;return(0,Te.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!i.square&&{borderRadius:t.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===i.variant&&(0,Te.A)({boxShadow:(t.vars||t).shadows[i.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Xo.X4)("#fff",Zo(i.elevation)),", ").concat((0,Xo.X4)("#fff",Zo(i.elevation)),")")},t.vars&&{backgroundImage:null==(n=t.vars.overlays)?void 0:n[i.elevation]}))})),er=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiPaper"}),{className:n,component:o="div",elevation:r=1,square:s=!1,variant:a="elevation"}=i,l=(0,Ee.A)(i,Jo),c=(0,Te.A)({},i,{component:o,elevation:r,square:s,variant:a}),d=(e=>{const{square:t,elevation:i,variant:n,classes:o}=e,r={root:["root",n,!t&&"rounded","elevation"===n&&"elevation".concat(i)]};return(0,Ne.A)(r,Qo,o)})(c);return(0,it.jsx)($o,(0,Te.A)({as:o,ownerState:c,className:(0,Pe.A)(d.root,n),ref:t},l))})),tr=er;function ir(e){return(0,Fe.Ay)("MuiPopover",e)}(0,Rt.A)("MuiPopover",["root","paper"]);const nr=["onEntering"],or=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],rr=["slotProps"];function sr(e,t){let i=0;return"number"===typeof t?i=t:"center"===t?i=e.height/2:"bottom"===t&&(i=e.height),i}function ar(e,t){let i=0;return"number"===typeof t?i=t:"center"===t?i=e.width/2:"right"===t&&(i=e.width),i}function lr(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function cr(e){return"function"===typeof e?e():e}const dr=(0,lt.Ay)(qo,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ur=(0,lt.Ay)(tr,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),hr=n.forwardRef((function(e,t){var i,o,r;const s=(0,ct.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:u="anchorEl",children:h,className:p,container:g,elevation:m=8,marginThreshold:f=16,open:v,PaperProps:y={},slots:b,slotProps:C,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:x=vo,transitionDuration:S="auto",TransitionProps:{onEntering:R}={},disableScrollLock:M=!1}=s,k=(0,Ee.A)(s.TransitionProps,nr),D=(0,Ee.A)(s,or),A=null!=(i=null==C?void 0:C.paper)?i:y,E=n.useRef(),T=(0,pi.A)(E,A.ref),P=(0,Te.A)({},s,{anchorOrigin:c,anchorReference:u,elevation:m,marginThreshold:f,externalPaperSlotProps:A,transformOrigin:w,TransitionComponent:x,transitionDuration:S,TransitionProps:k}),F=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"],paper:["paper"]},ir,t)})(P),N=n.useCallback((()=>{if("anchorPosition"===u)return d;const e=cr(l),t=(e&&1===e.nodeType?e:(0,kn.A)(E.current).body).getBoundingClientRect();return{top:t.top+sr(t,c.vertical),left:t.left+ar(t,c.horizontal)}}),[l,c.horizontal,c.vertical,d,u]),L=n.useCallback((e=>({vertical:sr(e,w.vertical),horizontal:ar(e,w.horizontal)})),[w.horizontal,w.vertical]),I=n.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},i=L(t);if("none"===u)return{top:null,left:null,transformOrigin:lr(i)};const n=N();let o=n.top-i.vertical,r=n.left-i.horizontal;const s=o+t.height,a=r+t.width,c=(0,qn.A)(cr(l)),d=c.innerHeight-f,h=c.innerWidth-f;if(null!==f&&o<f){const e=o-f;o-=e,i.vertical+=e}else if(null!==f&&s>d){const e=s-d;o-=e,i.vertical+=e}if(null!==f&&r<f){const e=r-f;r-=e,i.horizontal+=e}else if(a>h){const e=a-h;r-=e,i.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(r),"px"),transformOrigin:lr(i)}}),[l,u,N,L,f]),[O,j]=n.useState(v),B=n.useCallback((()=>{const e=E.current;if(!e)return;const t=I(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[I]);n.useEffect((()=>(M&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[l,M,B]);n.useEffect((()=>{v&&B()})),n.useImperativeHandle(a,(()=>v?{updatePosition:()=>{B()}}:null),[v,B]),n.useEffect((()=>{if(!v)return;const e=(0,Kn.A)((()=>{B()})),t=(0,qn.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,B]);let _=S;"auto"!==S||x.muiSupportAuto||(_=void 0);const G=g||(l?(0,kn.A)(cr(l)).body:void 0),z=null!=(o=null==b?void 0:b.root)?o:dr,H=null!=(r=null==b?void 0:b.paper)?r:ur,V=An({elementType:H,externalSlotProps:(0,Te.A)({},A,{style:O?A.style:(0,Te.A)({},A.style,{opacity:0})}),additionalProps:{elevation:m,ref:T},ownerState:P,className:(0,Pe.A)(F.paper,null==A?void 0:A.className)}),W=An({elementType:z,externalSlotProps:(null==C?void 0:C.root)||{},externalForwardedProps:D,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:G,open:v},ownerState:P,className:(0,Pe.A)(F.root,p)}),{slotProps:U}=W,Y=(0,Ee.A)(W,rr);return(0,it.jsx)(z,(0,Te.A)({},Y,!jt(z)&&{slotProps:U,disableScrollLock:M},{children:(0,it.jsx)(x,(0,Te.A)({appear:!0,in:v,onEntering:(e,t)=>{R&&R(e,t),B()},onExited:()=>{j(!1)},timeout:_},k,{children:(0,it.jsx)(H,(0,Te.A)({},V,{children:h}))}))}))})),pr=hr;function gr(e){return(0,Fe.Ay)("MuiMenu",e)}(0,Rt.A)("MuiMenu",["root","paper","list"]);const mr=["onEntering"],fr=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],vr={vertical:"top",horizontal:"right"},yr={vertical:"top",horizontal:"left"},br=(0,lt.Ay)(pr,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Cr=(0,lt.Ay)(ur,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wr=(0,lt.Ay)(Yn,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),xr=n.forwardRef((function(e,t){var i,o;const r=(0,ct.b)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:f}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=r,C=(0,Ee.A)(r.TransitionProps,mr),w=(0,Ee.A)(r,fr),x=(()=>{const e=n.useContext(Tn);return null!=e&&e})(),S=(0,Te.A)({},r,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:d,onEntering:f,PaperProps:p,transitionDuration:m,TransitionProps:C,variant:v}),R=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"],paper:["paper"],list:["list"]},gr,t)})(S),M=s&&!c&&h,k=n.useRef(null);let D=-1;n.Children.map(a,((e,t)=>{n.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===D)&&(D=t))}));const A=null!=(i=y.paper)?i:Cr,E=null!=(o=b.paper)?o:p,T=An({elementType:y.root,externalSlotProps:b.root,ownerState:S,className:[R.root,l]}),P=An({elementType:A,externalSlotProps:E,ownerState:S,className:R.paper});return(0,it.jsx)(br,(0,Te.A)({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?vr:yr,slots:{paper:A,root:y.root},slotProps:{root:T,paper:P},open:h,ref:t,transitionDuration:m,TransitionProps:(0,Te.A)({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:x?"rtl":"ltr"}),f&&f(e,t)}},C),ownerState:S},w,{classes:g,children:(0,it.jsx)(wr,(0,Te.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:k,autoFocus:s&&(-1===D||c),autoFocusItem:M,variant:v},d,{className:(0,Pe.A)(R.list,d.className),children:a}))}))})),Sr=xr;function Rr(e){return(0,Fe.Ay)("MuiNativeSelect",e)}const Mr=(0,Rt.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),kr=["className","disabled","error","IconComponent","inputRef","variant"],Dr=e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,Te.A)({},i.vars?{backgroundColor:"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(Mr.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}})},Ar=(0,lt.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Di.A,overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.select,t[i.variant],i.error&&t.error,{["&.".concat(Mr.multiple)]:t.multiple}]}})(Dr),Er=e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,["&.".concat(Mr.disabled)]:{color:(i.vars||i).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Tr=(0,lt.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t["icon".concat((0,at.A)(i.variant))],i.open&&t.iconOpen]}})(Er),Pr=n.forwardRef((function(e,t){const{className:i,disabled:o,error:r,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,Ee.A)(e,kr),d=(0,Te.A)({},e,{disabled:o,variant:l,error:r}),u=(e=>{const{classes:t,variant:i,disabled:n,multiple:o,open:r,error:s}=e,a={select:["select",i,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,at.A)(i)),r&&"iconOpen",n&&"disabled"]};return(0,Ne.A)(a,Rr,t)})(d);return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(Ar,(0,Te.A)({ownerState:d,className:(0,Pe.A)(u.select,i),disabled:o,ref:a||t},c)),e.multiple?null:(0,it.jsx)(Tr,{as:s,ownerState:d,className:u.icon})]})})),Fr=Pr;var Nr=i(7123),Lr=i(5242);function Ir(e){return(0,Fe.Ay)("MuiSelect",e)}const Or=(0,Rt.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var jr;const Br=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],_r=(0,lt.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{["&.".concat(Or.select)]:t.select},{["&.".concat(Or.select)]:t[i.variant]},{["&.".concat(Or.error)]:t.error},{["&.".concat(Or.multiple)]:t.multiple}]}})(Dr,{["&.".concat(Or.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Gr=(0,lt.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t["icon".concat((0,at.A)(i.variant))],i.open&&t.iconOpen]}})(Er),zr=(0,lt.Ay)("input",{shouldForwardProp:e=>(0,Nr.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Hr(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Vr(e){return null==e||"string"===typeof e&&!e.trim()}const Wr=n.forwardRef((function(e,t){var i;const{"aria-describedby":o,"aria-label":r,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:u,disabled:h,displayEmpty:p,error:g=!1,IconComponent:m,inputRef:f,labelId:v,MenuProps:y={},multiple:b,name:C,onBlur:w,onChange:x,onClose:S,onFocus:R,onOpen:M,open:k,readOnly:D,renderValue:A,SelectDisplayProps:E={},tabIndex:T,value:P,variant:F="standard"}=e,N=(0,Ee.A)(e,Br),[L,I]=(0,Lr.A)({controlled:P,default:u,name:"Select"}),[O,j]=(0,Lr.A)({controlled:k,default:d,name:"Select"}),B=n.useRef(null),_=n.useRef(null),[G,z]=n.useState(null),{current:H}=n.useRef(null!=k),[V,W]=n.useState(),U=(0,pi.A)(t,f),Y=n.useCallback((e=>{_.current=e,e&&z(e)}),[]),K=null==G?void 0:G.parentNode;n.useImperativeHandle(U,(()=>({focus:()=>{_.current.focus()},node:B.current,value:L})),[L]),n.useEffect((()=>{d&&O&&G&&!H&&(W(a?null:K.clientWidth),_.current.focus())}),[G,a]),n.useEffect((()=>{s&&_.current.focus()}),[s]),n.useEffect((()=>{if(!v)return;const e=(0,kn.A)(_.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&_.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const q=(e,t)=>{e?M&&M(t):S&&S(t),H||(W(a?null:K.clientWidth),j(e))},X=n.Children.toArray(l),Z=e=>t=>{let i;if(t.currentTarget.hasAttribute("tabindex")){if(b){i=Array.isArray(L)?L.slice():[];const t=L.indexOf(e.props.value);-1===t?i.push(e.props.value):i.splice(t,1)}else i=e.props.value;if(e.props.onClick&&e.props.onClick(t),L!==i&&(I(i),x)){const n=t.nativeEvent||t,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:i,name:C}}),x(o,e)}b||q(!1,t)}},Q=null!==G&&O;let J,$;delete N["aria-invalid"];const ee=[];let te=!1,ie=!1;(fi({value:L})||p)&&(A?J=A(L):te=!0);const ne=X.map((e=>{if(!n.isValidElement(e))return null;let t;if(b){if(!Array.isArray(L))throw new Error((0,ii.A)(2));t=L.some((t=>Hr(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=Hr(L,e.props.value),t&&te&&($=e.props.children);return t&&(ie=!0),n.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Z(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,i)=>(e.push(t),i<ee.length-1&&e.push(", "),e)),[]):$);let oe,re=V;!a&&H&&G&&(re=K.clientWidth),oe="undefined"!==typeof T?T:h?null:0;const se=E.id||(C?"mui-component-select-".concat(C):void 0),ae=(0,Te.A)({},e,{variant:F,value:L,open:Q,error:g}),le=(e=>{const{classes:t,variant:i,disabled:n,multiple:o,open:r,error:s}=e,a={select:["select",i,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,at.A)(i)),r&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return(0,Ne.A)(a,Ir,t)})(ae),ce=(0,Te.A)({},y.PaperProps,null==(i=y.slotProps)?void 0:i.paper),de=(0,ti.A)();return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(_r,(0,Te.A)({ref:Y,tabIndex:oe,role:"combobox","aria-controls":de,"aria-disabled":h?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!D){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),q(!0,e))}},onMouseDown:h||D?null:e=>{0===e.button&&(e.preventDefault(),_.current.focus(),q(!0,e))},onBlur:e=>{!Q&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:L,name:C}}),w(e))},onFocus:R},E,{ownerState:ae,className:(0,Pe.A)(E.className,le.select,c),id:se,children:Vr(J)?jr||(jr=(0,it.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,it.jsx)(zr,(0,Te.A)({"aria-invalid":g,value:Array.isArray(L)?L.join(","):L,name:C,ref:B,"aria-hidden":!0,onChange:e=>{const t=X.find((t=>t.props.value===e.target.value));void 0!==t&&(I(t.props.value),x&&x(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},N)),(0,it.jsx)(Gr,{as:m,className:le.icon,ownerState:ae}),(0,it.jsx)(Sr,(0,Te.A)({id:"menu-".concat(C||""),anchorEl:K,open:Q,onClose:e=>{q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,Te.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:de},y.MenuListProps),slotProps:(0,Te.A)({},y.slotProps,{paper:(0,Te.A)({},ce,{style:(0,Te.A)({minWidth:re},null!=ce?ce.style:null)})}),children:ne}))]})})),Ur=Wr,Yr=(0,Et.A)((0,it.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Kr=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qr=["root"],Xr={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,Di.A)(e)&&"variant"!==e,slot:"Root"},Zr=(0,lt.Ay)(Li,Xr)(""),Qr=(0,lt.Ay)($i,Xr)(""),Jr=(0,lt.Ay)(zi,Xr)(""),$r=n.forwardRef((function(e,t){const i=(0,ct.b)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:r,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=Yr,id:u,input:h,inputProps:p,label:g,labelId:m,MenuProps:f,multiple:v=!1,native:y=!1,onClose:b,onOpen:C,open:w,renderValue:x,SelectDisplayProps:S,variant:R="outlined"}=i,M=(0,Ee.A)(i,Kr),k=y?Fr:Ur,D=di({props:i,muiFormControl:hi(),states:["variant","error"]}),A=D.variant||R,E=(0,Te.A)({},i,{variant:A,classes:s}),T=(e=>{const{classes:t}=e;return t})(E),P=(0,Ee.A)(T,qr),F=h||{standard:(0,it.jsx)(Zr,{ownerState:E}),outlined:(0,it.jsx)(Qr,{label:g,ownerState:E}),filled:(0,it.jsx)(Jr,{ownerState:E})}[A],N=(0,pi.A)(t,F.ref);return(0,it.jsx)(n.Fragment,{children:n.cloneElement(F,(0,Te.A)({inputComponent:k,inputProps:(0,Te.A)({children:r,error:D.error,IconComponent:d,variant:A,type:void 0,multiple:v},y?{id:u}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:f,onClose:b,onOpen:C,open:w,renderValue:x,SelectDisplayProps:(0,Te.A)({id:u},S)},p,{classes:p?(0,Ve.A)(P,p.classes):P},h?h.props.inputProps:{})},(v&&y||c)&&"outlined"===A?{notched:!0}:{},{ref:N,className:(0,Pe.A)(F.props.className,a,T.root)},!h&&{variant:A},M))})}));$r.muiName="Select";const es=$r;function ts(e){return(0,Fe.Ay)("MuiTextField",e)}(0,Rt.A)("MuiTextField",["root"]);const is=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],ns={standard:Li,filled:zi,outlined:$i},os=(0,lt.Ay)(yn,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rs=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:o=!1,children:r,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:h=!1,helperText:p,id:g,InputLabelProps:m,inputProps:f,InputProps:v,inputRef:y,label:b,maxRows:C,minRows:w,multiline:x=!1,name:S,onBlur:R,onChange:M,onFocus:k,placeholder:D,required:A=!1,rows:E,select:T=!1,SelectProps:P,type:F,value:N,variant:L="outlined"}=i,I=(0,Ee.A)(i,is),O=(0,Te.A)({},i,{autoFocus:o,color:a,disabled:c,error:d,fullWidth:h,multiline:x,required:A,select:T,variant:L}),j=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},ts,t)})(O);const B={};"outlined"===L&&(m&&"undefined"!==typeof m.shrink&&(B.notched=m.shrink),B.label=b),T&&(P&&P.native||(B.id=void 0),B["aria-describedby"]=void 0);const _=(0,ti.A)(g),G=p&&_?"".concat(_,"-helper-text"):void 0,z=b&&_?"".concat(_,"-label"):void 0,H=ns[L],V=(0,it.jsx)(H,(0,Te.A)({"aria-describedby":G,autoComplete:n,autoFocus:o,defaultValue:l,fullWidth:h,multiline:x,name:S,rows:E,maxRows:C,minRows:w,type:F,value:N,id:_,inputRef:y,onBlur:R,onChange:M,onFocus:k,placeholder:D,inputProps:f},B,v));return(0,it.jsxs)(os,(0,Te.A)({className:(0,Pe.A)(j.root,s),disabled:c,error:d,fullWidth:h,ref:t,required:A,color:a,variant:L,ownerState:O},I,{children:[null!=b&&""!==b&&(0,it.jsx)(hn,(0,Te.A)({htmlFor:_,id:z},m,{children:b})),T?(0,it.jsx)(es,(0,Te.A)({"aria-describedby":G,id:_,labelId:z,value:N,input:V},P,{children:r})):V,p&&(0,it.jsx)(Mn,(0,Te.A)({id:G},u,{children:p}))]}))})),ss=rs;var as=i(3319),ls=i(2191);function cs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e,t){var i=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),i}function hs(e,t,i){return null!=i[t]?i[t]:e.props[t]}function ps(e,t,i){var o=us(e.children),r=function(e,t){function i(i){return i in t?t[i]:e[i]}e=e||{},t=t||{};var n,o=Object.create(null),r=[];for(var s in e)s in t?r.length&&(o[s]=r,r=[]):r.push(s);var a={};for(var l in t){if(o[l])for(n=0;n<o[l].length;n++){var c=o[l][n];a[o[l][n]]=i(c)}a[l]=i(l)}for(n=0;n<r.length;n++)a[r[n]]=i(r[n]);return a}(t,o);return Object.keys(r).forEach((function(s){var a=r[s];if((0,n.isValidElement)(a)){var l=s in t,c=s in o,d=t[s],u=(0,n.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,n.isValidElement)(d)&&(r[s]=(0,n.cloneElement)(a,{onExited:i.bind(null,a),in:d.props.in,exit:hs(a,"exit",e),enter:hs(a,"enter",e)})):r[s]=(0,n.cloneElement)(a,{in:!1}):r[s]=(0,n.cloneElement)(a,{onExited:i.bind(null,a),in:!0,exit:hs(a,"exit",e),enter:hs(a,"enter",e)})}})),r}var gs=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ms=function(e){function t(t,i){var n,o=(n=e.call(this,t,i)||this).handleExited.bind(ds(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n}Qn(t,e);var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var i,o,r=t.children,s=t.handleExited;return{children:t.firstRender?(i=e,o=s,us(i.children,(function(e){return(0,n.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:hs(e,"appear",i),enter:hs(e,"enter",i),exit:hs(e,"exit",i)})}))):ps(e,r,s),firstRender:!1}},i.handleExited=function(e,t){var i=us(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var i=(0,Te.A)({},t.children);return delete i[e.key],{children:i}})))},i.render=function(){var e=this.props,t=e.component,i=e.childFactory,o=(0,Ee.A)(e,["component","childFactory"]),r=this.state.contextValue,s=gs(this.state.children).map(i);return delete o.appear,delete o.enter,delete o.exit,null===t?n.createElement($n.Provider,{value:r},s):n.createElement($n.Provider,{value:r},n.createElement(t,o,s))},t}(n.Component);ms.propTypes={},ms.defaultProps={component:"div",childFactory:function(e){return e}};const fs=ms;var vs=i(3290);const ys=function(e){const{className:t,classes:i,pulsate:o=!1,rippleX:r,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,h]=n.useState(!1),p=(0,Pe.A)(t,i.ripple,i.rippleVisible,o&&i.ripplePulsate),g={width:a,height:a,top:-a/2+s,left:-a/2+r},m=(0,Pe.A)(i.child,u&&i.childLeaving,o&&i.childPulsate);return l||u||h(!0),n.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}}),[c,l,d]),(0,it.jsx)("span",{className:p,style:g,children:(0,it.jsx)("span",{className:m})})};const bs=(0,Rt.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Cs,ws,xs,Ss;const Rs=["center","classes","className"];let Ms,ks,Ds,As;const Es=(0,vs.i7)(Ms||(Ms=Cs||(Cs=cs(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ts=(0,vs.i7)(ks||(ks=ws||(ws=cs(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ps=(0,vs.i7)(Ds||(Ds=xs||(xs=cs(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Fs=(0,lt.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ns=(0,lt.Ay)(ys,{name:"MuiTouchRipple",slot:"Ripple"})(As||(As=Ss||(Ss=cs(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),bs.rippleVisible,Es,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),bs.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),bs.child,bs.childLeaving,Ts,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),bs.childPulsate,Ps,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Ls=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:r={},className:s}=i,a=(0,Ee.A)(i,Rs),[l,c]=n.useState([]),d=n.useRef(0),u=n.useRef(null);n.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[l]);const h=n.useRef(!1),p=(0,Xn.A)(),g=n.useRef(null),m=n.useRef(null),f=n.useCallback((e=>{const{pulsate:t,rippleX:i,rippleY:n,rippleSize:o,cb:s}=e;c((e=>[...e,(0,it.jsx)(Ns,{classes:{ripple:(0,Pe.A)(r.ripple,bs.ripple),rippleVisible:(0,Pe.A)(r.rippleVisible,bs.rippleVisible),ripplePulsate:(0,Pe.A)(r.ripplePulsate,bs.ripplePulsate),child:(0,Pe.A)(r.child,bs.child),childLeaving:(0,Pe.A)(r.childLeaving,bs.childLeaving),childPulsate:(0,Pe.A)(r.childPulsate,bs.childPulsate)},timeout:550,pulsate:t,rippleX:i,rippleY:n,rippleSize:o},d.current)])),d.current+=1,u.current=s}),[r]),v=n.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:n=!1,center:r=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(r||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:i}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(i-l.top)}if(r)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{f({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:i})},p.start(80,(()=>{g.current&&(g.current(),g.current=null)}))):f({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:i})}),[o,f,p]),y=n.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=n.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void p.start(0,(()=>{b(e,t)}));g.current=null,c((e=>e.length>0?e.slice(1):e)),u.current=t}),[p]);return n.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,it.jsx)(Fs,(0,Te.A)({className:(0,Pe.A)(bs.root,r.root,s),ref:m},a,{children:(0,it.jsx)(fs,{component:null,exit:!0,children:l})}))})),Is=Ls;function Os(e){return(0,Fe.Ay)("MuiButtonBase",e)}const js=(0,Rt.A)("MuiButtonBase",["root","disabled","focusVisible"]),Bs=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_s=(0,lt.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(js.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gs=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:r=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:f,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:C,onKeyUp:w,onMouseDown:x,onMouseLeave:S,onMouseUp:R,onTouchEnd:M,onTouchMove:k,onTouchStart:D,tabIndex:A=0,TouchRippleProps:E,touchRippleRef:T,type:P}=i,F=(0,Ee.A)(i,Bs),N=n.useRef(null),L=n.useRef(null),I=(0,pi.A)(L,T),{isFocusVisibleRef:O,onFocus:j,onBlur:B,ref:_}=(0,ls.A)(),[G,z]=n.useState(!1);c&&G&&z(!1),n.useImperativeHandle(o,(()=>({focusVisible:()=>{z(!0),N.current.focus()}})),[]);const[H,V]=n.useState(!1);n.useEffect((()=>{V(!0)}),[]);const W=H&&!d&&!c;function U(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return(0,as.A)((n=>{t&&t(n);return!i&&L.current&&L.current[e](n),!0}))}n.useEffect((()=>{G&&h&&!d&&H&&L.current.pulsate()}),[d,h,G,H]);const Y=U("start",x),K=U("stop",f),q=U("stop",v),X=U("stop",R),Z=U("stop",(e=>{G&&e.preventDefault(),S&&S(e)})),Q=U("start",D),J=U("stop",M),$=U("stop",k),ee=U("stop",(e=>{B(e),!1===O.current&&z(!1),g&&g(e)}),!1),te=(0,as.A)((e=>{N.current||(N.current=e.currentTarget),j(e),!0===O.current&&(z(!0),b&&b(e)),y&&y(e)})),ie=()=>{const e=N.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ne=n.useRef(!1),oe=(0,as.A)((e=>{h&&!ne.current&&G&&L.current&&" "===e.key&&(ne.current=!0,L.current.stop(e,(()=>{L.current.start(e)}))),e.target===e.currentTarget&&ie()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&ie()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),re=(0,as.A)((e=>{h&&" "===e.key&&L.current&&G&&!e.defaultPrevented&&(ne.current=!1,L.current.stop(e,(()=>{L.current.pulsate(e)}))),w&&w(e),m&&e.target===e.currentTarget&&ie()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(F.href||F.to)&&(se=p);const ae={};"button"===se?(ae.type=void 0===P?"button":P,ae.disabled=c):(F.href||F.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,pi.A)(t,_,N);const ce=(0,Te.A)({},i,{centerRipple:r,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:h,tabIndex:A,focusVisible:G}),de=(e=>{const{disabled:t,focusVisible:i,focusVisibleClassName:n,classes:o}=e,r={root:["root",t&&"disabled",i&&"focusVisible"]},s=(0,Ne.A)(r,Os,o);return i&&n&&(s.root+=" ".concat(n)),s})(ce);return(0,it.jsxs)(_s,(0,Te.A)({as:se,className:(0,Pe.A)(de.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:K,onFocus:te,onKeyDown:oe,onKeyUp:re,onMouseDown:Y,onMouseLeave:Z,onMouseUp:X,onDragLeave:q,onTouchEnd:J,onTouchMove:$,onTouchStart:Q,ref:le,tabIndex:c?-1:A,type:P},ae,F,{children:[s,W?(0,it.jsx)(Is,(0,Te.A)({ref:I,center:r},E)):null]}))})),zs=Gs;function Hs(e){return(0,Fe.Ay)("MuiIconButton",e)}const Vs=(0,Rt.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ws=["edge","children","className","color","disabled","disableFocusRipple","size"],Us=(0,lt.Ay)(zs,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,"default"!==i.color&&t["color".concat((0,at.A)(i.color))],i.edge&&t["edge".concat((0,at.A)(i.edge))],t["size".concat((0,at.A)(i.size))]]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!i.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===i.edge&&{marginLeft:"small"===i.size?-3:-12},"end"===i.edge&&{marginRight:"small"===i.size?-3:-12})}),(e=>{let{theme:t,ownerState:i}=e;var n;const o=null==(n=(t.vars||t).palette)?void 0:n[i.color];return(0,Te.A)({},"inherit"===i.color&&{color:"inherit"},"inherit"!==i.color&&"default"!==i.color&&(0,Te.A)({color:null==o?void 0:o.main},!i.disableRipple&&{"&:hover":(0,Te.A)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===i.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===i.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(Vs.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Ys=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:o,className:r,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=i,d=(0,Ee.A)(i,Ws),u=(0,Te.A)({},i,{edge:n,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:i,color:n,edge:o,size:r}=e,s={root:["root",i&&"disabled","default"!==n&&"color".concat((0,at.A)(n)),o&&"edge".concat((0,at.A)(o)),"size".concat((0,at.A)(r))]};return(0,Ne.A)(s,Hs,t)})(u);return(0,it.jsx)(Us,(0,Te.A)({className:(0,Pe.A)(h.root,r),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},d,{ownerState:u,children:o}))})),Ks=Ys;function qs(e){return(0,Fe.Ay)("MuiButton",e)}const Xs=(0,Rt.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Zs=n.createContext({});const Qs=n.createContext(void 0),Js=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],$s=e=>(0,Te.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ea=(0,lt.Ay)(zs,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t["".concat(i.variant).concat((0,at.A)(i.color))],t["size".concat((0,at.A)(i.size))],t["".concat(i.variant,"Size").concat((0,at.A)(i.size))],"inherit"===i.color&&t.colorInherit,i.disableElevation&&t.disableElevation,i.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:i}=e;var n,o;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Te.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,Te.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===i.variant&&"inherit"!==i.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[i.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)(t.palette[i.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===i.variant&&"inherit"!==i.color&&{border:"1px solid ".concat((t.vars||t).palette[i.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[i.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)(t.palette[i.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===i.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===i.variant&&"inherit"!==i.color&&{backgroundColor:(t.vars||t).palette[i.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[i.color].main}}),"&:active":(0,Te.A)({},"contained"===i.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(Xs.focusVisible)]:(0,Te.A)({},"contained"===i.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(Xs.disabled)]:(0,Te.A)({color:(t.vars||t).palette.action.disabled},"outlined"===i.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===i.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===i.variant&&{padding:"6px 8px"},"text"===i.variant&&"inherit"!==i.color&&{color:(t.vars||t).palette[i.color].main},"outlined"===i.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===i.variant&&"inherit"!==i.color&&{color:(t.vars||t).palette[i.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[i.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Xo.X4)(t.palette[i.color].main,.5))},"contained"===i.variant&&{color:t.vars?t.vars.palette.text.primary:null==(n=(o=t.palette).getContrastText)?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},"contained"===i.variant&&"inherit"!==i.color&&{color:(t.vars||t).palette[i.color].contrastText,backgroundColor:(t.vars||t).palette[i.color].main},"inherit"===i.color&&{color:"inherit",borderColor:"currentColor"},"small"===i.size&&"text"===i.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===i.size&&"text"===i.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===i.size&&"outlined"===i.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===i.size&&"outlined"===i.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===i.size&&"contained"===i.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===i.size&&"contained"===i.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Xs.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Xs.disabled)]:{boxShadow:"none"}}})),ta=(0,lt.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.startIcon,t["iconSize".concat((0,at.A)(i.size))]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},$s(t))})),ia=(0,lt.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.endIcon,t["iconSize".concat((0,at.A)(i.size))]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},$s(t))})),na=n.forwardRef((function(e,t){const i=n.useContext(Zs),o=n.useContext(Qs),r=(0,Ie.A)(i,e),s=(0,ct.b)({props:r,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:u=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:f=!1,size:v="medium",startIcon:y,type:b,variant:C="text"}=s,w=(0,Ee.A)(s,Js),x=(0,Te.A)({},s,{color:l,component:c,disabled:u,disableElevation:h,disableFocusRipple:p,fullWidth:f,size:v,type:b,variant:C}),S=(e=>{const{color:t,disableElevation:i,fullWidth:n,size:o,variant:r,classes:s}=e,a={root:["root",r,"".concat(r).concat((0,at.A)(t)),"size".concat((0,at.A)(o)),"".concat(r,"Size").concat((0,at.A)(o)),"color".concat((0,at.A)(t)),i&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,at.A)(o))],endIcon:["icon","endIcon","iconSize".concat((0,at.A)(o))]},l=(0,Ne.A)(a,qs,s);return(0,Te.A)({},s,l)})(x),R=y&&(0,it.jsx)(ta,{className:S.startIcon,ownerState:x,children:y}),M=g&&(0,it.jsx)(ia,{className:S.endIcon,ownerState:x,children:g}),k=o||"";return(0,it.jsxs)(ea,(0,Te.A)({ownerState:x,className:(0,Pe.A)(i.className,S.root,d,k),component:c,disabled:u,focusRipple:!p,focusVisibleClassName:(0,Pe.A)(S.focusVisible,m),ref:t,type:b},w,{classes:S,children:[R,a,M]}))})),oa=na;var ra=i(9751);const sa=n.createContext();function aa(e){return(0,Fe.Ay)("MuiGrid",e)}const la=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ca=(0,Rt.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...la.map((e=>"grid-xs-".concat(e))),...la.map((e=>"grid-sm-".concat(e))),...la.map((e=>"grid-md-".concat(e))),...la.map((e=>"grid-lg-".concat(e))),...la.map((e=>"grid-xl-".concat(e)))]),da=ca,ua=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ha(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function pa(e){let{breakpoints:t,values:i}=e,n="";Object.keys(i).forEach((e=>{""===n&&0!==i[e]&&(n=e)}));const o=Object.keys(t).sort(((e,i)=>t[e]-t[i]));return o.slice(0,o.indexOf(n))}const ga=(0,lt.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{container:n,direction:o,item:r,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=i;let d=[];n&&(d=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[i["spacing-xs-".concat(String(e))]];const n=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&n.push(i["spacing-".concat(t,"-").concat(String(o))])})),n}(s,c,t));const u=[];return c.forEach((e=>{const n=i[e];n&&u.push(t["grid-".concat(e,"-").concat(String(n))])})),[t.root,n&&t.container,r&&t.item,l&&t.zeroMinWidth,...d,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...u]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:i}=e;const n=(0,ra.kW)({values:i.direction,breakpoints:t.breakpoints.values});return(0,ra.NI)({theme:t},n,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(da.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:i}=e;const{container:n,rowSpacing:o}=i;let r={};if(n&&0!==o){const e=(0,ra.kW)({values:o,breakpoints:t.breakpoints.values});let i;"object"===typeof e&&(i=pa({breakpoints:t.breakpoints.values,values:e})),r=(0,ra.NI)({theme:t},e,((e,n)=>{var o;const r=t.spacing(e);return"0px"!==r?{marginTop:"-".concat(ha(r)),["& > .".concat(da.item)]:{paddingTop:ha(r)}}:null!=(o=i)&&o.includes(n)?{}:{marginTop:0,["& > .".concat(da.item)]:{paddingTop:0}}}))}return r}),(function(e){let{theme:t,ownerState:i}=e;const{container:n,columnSpacing:o}=i;let r={};if(n&&0!==o){const e=(0,ra.kW)({values:o,breakpoints:t.breakpoints.values});let i;"object"===typeof e&&(i=pa({breakpoints:t.breakpoints.values,values:e})),r=(0,ra.NI)({theme:t},e,((e,n)=>{var o;const r=t.spacing(e);return"0px"!==r?{width:"calc(100% + ".concat(ha(r),")"),marginLeft:"-".concat(ha(r)),["& > .".concat(da.item)]:{paddingLeft:ha(r)}}:null!=(o=i)&&o.includes(n)?{}:{width:"100%",marginLeft:0,["& > .".concat(da.item)]:{paddingLeft:0}}}))}return r}),(function(e){let t,{theme:i,ownerState:n}=e;return i.breakpoints.keys.reduce(((e,o)=>{let r={};if(n[o]&&(t=n[o]),!t)return e;if(!0===t)r={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,ra.kW)({values:n.columns,breakpoints:i.breakpoints.values}),a="object"===typeof s?s[o]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(n.container&&n.item&&0!==n.columnSpacing){const e=i.spacing(n.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(ha(e),")");c={flexBasis:t,maxWidth:t}}}r=(0,Te.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===i.breakpoints.values[o]?Object.assign(e,r):e[i.breakpoints.up(o)]=r,e}),{})}));const ma=e=>{const{classes:t,container:i,direction:n,item:o,spacing:r,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];i&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const i=[];return t.forEach((t=>{const n=e[t];if(Number(n)>0){const e="spacing-".concat(t,"-").concat(String(n));i.push(e)}})),i}(r,l));const d=[];l.forEach((t=>{const i=e[t];i&&d.push("grid-".concat(t,"-").concat(String(i)))}));const u={root:["root",i&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==n&&"direction-xs-".concat(String(n)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...d]};return(0,Ne.A)(u,aa,t)},fa=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiGrid"}),{breakpoints:o}=lo(),r=(0,Ct.A)(i),{className:s,columns:a,columnSpacing:l,component:c="div",container:d=!1,direction:u="row",item:h=!1,rowSpacing:p,spacing:g=0,wrap:m="wrap",zeroMinWidth:f=!1}=r,v=(0,Ee.A)(r,ua),y=p||g,b=l||g,C=n.useContext(sa),w=d?a||12:C,x={},S=(0,Te.A)({},v);o.keys.forEach((e=>{null!=v[e]&&(x[e]=v[e],delete S[e])}));const R=(0,Te.A)({},r,{columns:w,container:d,direction:u,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:f,spacing:g},x,{breakpoints:o.keys}),M=ma(R);return(0,it.jsx)(sa.Provider,{value:w,children:(0,it.jsx)(ga,(0,Te.A)({ownerState:R,className:(0,Pe.A)(M.root,s),as:c,ref:t},S))})}));const va=fa;function ya(e){return(0,Fe.Ay)("MuiLink",e)}const ba=(0,Rt.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var Ca=i(7162);const wa={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},xa=e=>{let{theme:t,ownerState:i}=e;const n=(e=>wa[e]||e)(i.color),o=(0,Ca.Yn)(t,"palette.".concat(n),!1)||i.color,r=(0,Ca.Yn)(t,"palette.".concat(n,"Channel"));return"vars"in t&&r?"rgba(".concat(r," / 0.4)"):(0,Xo.X4)(o,.4)},Sa=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Ra=(0,lt.Ay)(ei,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["underline".concat((0,at.A)(i.underline))],"button"===i.component&&t.button]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},"none"===i.underline&&{textDecoration:"none"},"hover"===i.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===i.underline&&(0,Te.A)({textDecoration:"underline"},"inherit"!==i.color&&{textDecorationColor:xa({theme:t,ownerState:i})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===i.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(ba.focusVisible)]:{outline:"auto"}})})),Ma=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiLink"}),{className:o,color:r="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:d="always",variant:u="inherit",sx:h}=i,p=(0,Ee.A)(i,Sa),{isFocusVisibleRef:g,onBlur:m,onFocus:f,ref:v}=(0,ls.A)(),[y,b]=n.useState(!1),C=(0,pi.A)(t,v),w=(0,Te.A)({},i,{color:r,component:s,focusVisible:y,underline:d,variant:u}),x=(e=>{const{classes:t,component:i,focusVisible:n,underline:o}=e,r={root:["root","underline".concat((0,at.A)(o)),"button"===i&&"button",n&&"focusVisible"]};return(0,Ne.A)(r,ya,t)})(w);return(0,it.jsx)(Ra,(0,Te.A)({color:r,className:(0,Pe.A)(x.root,o),classes:c,component:s,onBlur:e=>{m(e),!1===g.current&&b(!1),a&&a(e)},onFocus:e=>{f(e),!0===g.current&&b(!0),l&&l(e)},ref:C,ownerState:w,variant:u,sx:[...Object.keys(wa).includes(r)?[]:[{color:r}],...Array.isArray(h)?h:[h]]},p))})),ka=Ma,Da=(0,Et.A)((0,it.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Aa=(0,Et.A)((0,it.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const Ea=n.createContext(null);function Ta(){return n.useContext(Ea)}const Pa="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Fa=function(e){const{children:t,theme:i}=e,o=Ta(),r=n.useMemo((()=>{const e=null===o?i:function(e,t){if("function"===typeof t)return t(e);return(0,Te.A)({},e,t)}(o,i);return null!=e&&(e[Pa]=null!==o),e}),[i,o]);return(0,it.jsx)(Ea.Provider,{value:r,children:t})};var Na=i(3654);const La={};function Ia(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.useMemo((()=>{const n=e&&t[e]||t;if("function"===typeof i){const r=i(n),s=e?(0,Te.A)({},t,{[e]:r}):r;return o?()=>s:s}return e?(0,Te.A)({},t,{[e]:i}):(0,Te.A)({},t,i)}),[e,t,i,o])}const Oa=function(e){const{children:t,theme:i,themeId:n}=e,o=Be(La),r=Ta()||La,s=Ia(n,o,i),a=Ia(n,r,i,!0),l="rtl"===s.direction;return(0,it.jsx)(Fa,{theme:a,children:(0,it.jsx)(je.T.Provider,{value:s,children:(0,it.jsx)(Pn,{value:l,children:(0,it.jsx)(Na.A,{value:null==s?void 0:s.components,children:t})})})})},ja=["theme"];function Ba(e){let{theme:t}=e,i=(0,Ee.A)(e,ja);const n=t[mt.A];return(0,it.jsx)(Oa,(0,Te.A)({},i,{themeId:n?mt.A:void 0,theme:n||t}))}const _a=i.p+"static/media/erp.d655ce952b9da6e17f3c.png",Ga="http://localhost:5000",za=(0,St.A)(),Ha=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(!0),a=te();return(0,it.jsx)(Ba,{theme:za,children:(0,it.jsxs)(ut,{component:"main",maxWidth:"xs",children:[(0,it.jsx)(bt,{}),(0,it.jsxs)(At,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,it.jsx)(Kt,{lg:{m:1},children:(0,it.jsx)("img",{src:_a,alt:"Logo",style:{height:40,width:40}})}),(0,it.jsx)(ei,{component:"h1",variant:"h5",children:"Login here"}),(0,it.jsx)(ei,{variant:"body2",color:"textSecondary",align:"center",children:"Get access to your ERP and more"}),(0,it.jsxs)(At,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,it.jsx)(ss,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,it.jsx)(ss,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:r?"password":"text",id:"password",autoComplete:"current-password",value:i,onChange:e=>o(e.target.value),InputProps:{endAdornment:(0,it.jsx)(Ks,{onClick:()=>{s(!r)},edge:"end",children:r?(0,it.jsx)(Da,{}):(0,it.jsx)(Aa,{})})}}),(0,it.jsx)(oa,{fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},onClick:async()=>{await(async(e,t)=>{try{const i=await fetch("".concat(Ga,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:e,password:t})}),n=await i.json();if(!i.ok)throw new Error("Login not working");localStorage.setItem("userProfile",JSON.stringify(n.result)),"student"===n.result.profile_type?a("/Student/Student-Dashboard"):"teacher"===n.result.profile_type?a("/Teacher/Teacher-Dashboard"):a("/Admin/Admin-Dashboard")}catch(i){console.log("Login not working",i)}})(e,i)},children:"Login"}),(0,it.jsxs)(va,{container:!0,children:[(0,it.jsx)(va,{item:!0,xs:!0,children:(0,it.jsx)(ka,{href:"/forgotpassword",variant:"body2",children:"Forgot password?"})}),(0,it.jsx)(va,{item:!0,children:(0,it.jsx)(ka,{href:"/sign",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})})},Va=i.p+"static/media/man.5b6adb8e38ee506fde52.png",Wa=()=>(0,it.jsx)("header",{className:"sticky top-0 left-0 w-full bg-white shadow-md z-10",children:(0,it.jsxs)("div",{className:"container mx-auto flex justify-between items-center p-4 pl-20",children:[(0,it.jsx)("img",{src:_a,alt:"Logo",className:"w-10 h-10"}),(0,it.jsx)("input",{type:"text",placeholder:"Search",className:"bg-gray-200 rounded-full px-4 py-2 flex-1 mx-4"}),(0,it.jsx)("img",{src:Va,alt:"User Avatar",className:"w-10 h-10 rounded-full"})]})}),Ua=(0,Et.A)((0,it.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ya=(0,Et.A)((0,it.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Ka=(0,Et.A)((0,it.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),qa=(0,Et.A)((0,it.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"AssignmentTurnedIn"),Xa=(0,Et.A)((0,it.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),Za=(0,Et.A)((0,it.jsx)("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),Qa=(0,Et.A)((0,it.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn"),Ja=(0,Et.A)((0,it.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),$a=(0,Et.A)((0,it.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),el=(0,Et.A)((0,it.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks"),tl=(0,Et.A)((0,it.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),il=(0,Et.A)((0,it.jsx)("path",{d:"M19 5v14H5V5zm1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt"),nl=(0,Et.A)((0,it.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),ol=(0,Et.A)((0,it.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),rl=(0,Et.A)((0,it.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),sl=(0,Et.A)((0,it.jsx)("path",{d:"M12 4H5C3.34 4 2 5.34 2 7v8c0 1.66 1.34 3 3 3l-1 1v1h1l2-2.03L9 18v-5H4V5.98L13 6v2h2V7c0-1.66-1.34-3-3-3M5 14c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m15.57-4.34c-.14-.4-.52-.66-.97-.66h-7.19c-.46 0-.83.26-.98.66L10 13.77l.01 5.51c0 .38.31.72.69.72h.62c.38 0 .68-.38.68-.76V18h8v1.24c0 .38.31.76.69.76h.61c.38 0 .69-.34.69-.72l.01-1.37v-4.14zm-8.16.34h7.19l1.03 3h-9.25zM12 16c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m8 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Commute"),al=(0,Et.A)((0,it.jsx)("path",{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3m12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4"}),"Hotel"),ll=(0,Et.A)((0,it.jsx)("path",{d:"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55M12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"}),"LocalLibrary"),cl=e=>{let{icon:t,title:i,isOpen:n}=e;return(0,it.jsxs)("div",{className:"flex items-center text-white mb-4",children:[t,n&&(0,it.jsx)("span",{className:"ml-4",children:i})]})},dl=()=>{const[e,t]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"flex ".concat(e?"w-64":"w-16"," bg-primary h-screen p-4 flex-col"),children:[(0,it.jsx)(Ks,{onClick:()=>{t(!e)},className:"text-white mb-4 absolute top-0 right-0 z-50",children:e?(0,it.jsx)(Ua,{}):(0,it.jsx)(Ya,{})}),(0,it.jsxs)("div",{className:"flex flex-col flex-grow mt-12",children:[(0,it.jsxs)(ke,{to:"/Student/Student-Dashboard",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ka,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Dashboard"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Attendence",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Attendance"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Teacher",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Xa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Teacher"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Enquiry",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Za,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Enquiry"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Fees",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Fees"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Dues",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ja,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Dues"})]}),(0,it.jsx)(cl,{icon:(0,it.jsx)($a,{}),title:"Refund",isOpen:e}),(0,it.jsxs)(ke,{to:"/Student/Student-Certificate",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(el,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Certificate"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Examination",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(tl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Examination"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Homework",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(il,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Homework"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Result",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Result"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Timetable",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(nl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Time-Table"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Events",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ol,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Event"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Holiday",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(rl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Holiday"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Leaves",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ja,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"leave"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Buses",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(sl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Bus"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Hostel",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(al,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Hostel"})]}),(0,it.jsxs)(ke,{to:"/Student/Student-Library",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ll,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Libray"})]})]})]})},ul=()=>(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:[(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Upcoming Exams"}),(0,it.jsx)("p",{className:"text-2xl",children:"3"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Assignments Due"}),(0,it.jsx)("p",{className:"text-2xl",children:"5"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Enrolled Courses"}),(0,it.jsx)("p",{className:"text-2xl",children:"8"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Attendance Percentage"}),(0,it.jsx)("p",{className:"text-2xl",children:"95%"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Library Books Issued"}),(0,it.jsx)("p",{className:"text-2xl",children:"2"})]})]}),(0,it.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Holidays"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{children:"Holiday 1 - Date"}),(0,it.jsx)("li",{children:"Holiday 2 - Date"}),(0,it.jsx)("li",{children:"Holiday 3 - Date"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Events"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{children:"Event 1 - Date"}),(0,it.jsx)("li",{children:"Event 2 - Date"}),(0,it.jsx)("li",{children:"Event 3 - Date"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Announcements"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{children:"Announcement 1"}),(0,it.jsx)("li",{children:"Announcement 2"}),(0,it.jsx)("li",{children:"Announcement 3"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Calendar"}),(0,it.jsx)("p",{children:"Calendar content here"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold",children:"Birthdays"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{children:"Student 1 - Date"}),(0,it.jsx)("li",{children:"Student 2 - Date"}),(0,it.jsx)("li",{children:"Student 3 - Date"})]})]})]})]});function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}function pl(e){var t=function(e,t){if("object"!=hl(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hl(t)?t:t+""}function gl(e,t,i){return(t=pl(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ml(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fl(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(i),!0).forEach((function(t){gl(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ml(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function vl(e,t){if(null==e)return{};var i,n,o=(0,Ee.A)(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function yl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pl(n.key),n)}}function Cl(e,t,i){return t&&bl(e.prototype,t),i&&bl(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wl(e)}function xl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xl=function(){return!!e})()}function Sl(e,t,i){return t=wl(t),function(e,t){if(t&&("object"==hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ds(e)}(e,xl()?Reflect.construct(t,i||[],wl(e).constructor):t.apply(e,i))}function Rl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zn(e,t)}function Ml(e){if(Array.isArray(e))return e}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function Dl(e,t){if(e){if("string"==typeof e)return kl(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kl(e,t):void 0}}function Al(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function El(e,t){return Ml(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,r,s,a=[],l=!0,c=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(e,t)||Dl(e,t)||Al()}var Tl=i(2740),Pl=i.n(Tl),Fl=function(){};function Nl(e,t){return void 0!==e[t]}function Ll(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Il(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ol(e){this.setState(function(t){var i=this.constructor.getDerivedStateFromProps(e,t);return null!==i&&void 0!==i?i:null}.bind(this))}function jl(e,t){try{var i=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,n)}finally{this.props=i,this.state=n}}Il.__suppressDeprecationWarning=!0,Ol.__suppressDeprecationWarning=!0,jl.__suppressDeprecationWarning=!0;function Bl(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Bl(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const _l=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=Bl(e))&&(n&&(n+=" "),n+=t);return n};var Gl=i(5173),zl=i.n(Gl),Hl="milliseconds",Vl="seconds",Wl="minutes",Ul="hours",Yl="day",Kl="week",ql="month",Xl="year",Zl="decade",Ql="century",Jl={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},$l={month:1,year:12,decade:120,century:1200};function ec(e){return e%4===0&&e%100!==0||e%400===0?29:28}function tc(e,t,i){switch(e=new Date(e),i){case Hl:case Vl:case Wl:case Ul:case Yl:case Kl:return function(e,t){var i=new Date(+e+t);return function(e,t){var i=e.getTimezoneOffset(),n=t.getTimezoneOffset();return new Date(+t+(n-i)*Jl.minutes)}(e,i)}(e,t*Jl[i]);case ql:case Xl:case Zl:case Ql:return function(e,t){var i=e.getFullYear(),n=e.getMonth(),o=e.getDate(),r=12*i+n+t,s=Math.trunc(r/12),a=r%12,l=Math.min(o,function(e){return[31,ec(e),31,30,31,30,31,31,30,31,30,31]}(s)[a]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(a),c.setDate(l),c}(e,t*$l[i])}throw new TypeError('Invalid units: "'+i+'"')}function ic(e,t,i){return tc(e,-t,i)}function nc(e,t,i){switch(e=new Date(e),t){case Ql:case Zl:case Xl:e=Cc(e,0);case ql:e=bc(e,1);case Kl:case Yl:e=vc(e,0);case Ul:e=fc(e,0);case Wl:e=mc(e,0);case Vl:e=gc(e,0)}return t===Zl&&(e=ic(e,wc(e)%10,"year")),t===Ql&&(e=ic(e,wc(e)%100,"year")),t===Kl&&(e=Rc(e,0,i)),e}function oc(e,t,i){switch(e=nc(e=new Date(e),t,i),t){case Ql:case Zl:case Xl:case ql:case Kl:(e=ic(e=tc(e,1,t),1,Yl)).setHours(23,59,59,999);break;case Yl:e.setHours(23,59,59,999);break;case Ul:case Wl:case Vl:e=ic(e=tc(e,1,t),1,Hl)}return e}var rc=Dc((function(e,t){return e===t})),sc=Dc((function(e,t){return e!==t})),ac=Dc((function(e,t){return e>t})),lc=Dc((function(e,t){return e>=t})),cc=Dc((function(e,t){return e<t})),dc=Dc((function(e,t){return e<=t}));function uc(){return new Date(Math.min.apply(Math,arguments))}function hc(){return new Date(Math.max.apply(Math,arguments))}function pc(e,t,i,n){return n=n||"day",(!t||lc(e,t,n))&&(!i||dc(e,i,n))}var gc=kc("Milliseconds"),mc=kc("Seconds"),fc=kc("Minutes"),vc=kc("Hours"),yc=kc("Day"),bc=kc("Date"),Cc=kc("Month"),wc=kc("FullYear");function xc(e,t){return void 0===t?wc(nc(e,Zl)):tc(e,t+10,Xl)}function Sc(e,t){return void 0===t?wc(nc(e,Ql)):tc(e,t+100,Xl)}function Rc(e,t,i){var n=(yc(e)+7-(i||0))%7;return void 0===t?n:tc(e,t-n,Yl)}function Mc(e,t,i,n){var o,r,s;switch(i){case Hl:case Vl:case Wl:case Ul:case Yl:case Kl:o=t.getTime()-e.getTime();break;case ql:case Xl:case Zl:case Ql:o=12*(wc(t)-wc(e))+Cc(t)-Cc(e);break;default:throw new TypeError('Invalid units: "'+i+'"')}switch(i){case Hl:r=1;break;case Vl:r=1e3;break;case Wl:r=6e4;break;case Ul:r=36e5;break;case Yl:r=864e5;break;case Kl:r=6048e5;break;case ql:r=1;break;case Xl:r=12;break;case Zl:r=120;break;case Ql:r=1200;break;default:throw new TypeError('Invalid units: "'+i+'"')}return s=o/r,n?s:Math.round(s)}function kc(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(i,n){if(void 0===n)return i["get"+e]();var o=new Date(i);return o["set"+e](n),t&&o["get"+e]()!=n&&("Hours"===e||n>=t&&o.getHours()-i.getHours()<Math.floor(n/t))&&o["set"+e](n+t),o}}function Dc(e){return function(t,i,n){return e(+nc(t,n),+nc(i,n))}}function Ac(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ec(e){return function(e){if(Array.isArray(e))return kl(e)}(e)||Ac(e)||Dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tc=i(7084),Pc=i.n(Tc);function Fc(e){return e&&e.ownerDocument||document}function Nc(e,t){return function(e){var t=Fc(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Lc=/([A-Z])/g;var Ic=/^ms-/;function Oc(e){return function(e){return e.replace(Lc,"-$1").toLowerCase()}(e).replace(Ic,"-ms-")}var jc=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Bc=function(e,t){var i="",n="";if("string"===typeof t)return e.style.getPropertyValue(Oc(t))||Nc(e).getPropertyValue(Oc(t));Object.keys(t).forEach((function(o){var r=t[o];r||0===r?!function(e){return!(!e||!jc.test(e))}(o)?i+=Oc(o)+": "+r+";":n+=o+"("+r+") ":e.style.removeProperty(Oc(o))})),n&&(i+="transform: "+n+";"),e.style.cssText+=";"+i};function _c(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Gc(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function zc(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(i,n){var o=Gc(i);if(void 0===n)return o?o[e]:i[t];o?o.scrollTo(o[e],n):i[t]=n}}const Hc=zc("pageXOffset"),Vc=zc("pageYOffset");function Wc(e){var t=Fc(e),i={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return n&&_c(n,e)?(void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),i={top:i.top+Vc(n)-(n.clientTop||0),left:i.left+Hc(n)-(n.clientLeft||0),width:i.width,height:i.height}):i}var Uc=function(e){return!!e&&"offsetParent"in e};function Yc(e,t){var i,n={top:0,left:0};if("fixed"===Bc(e,"position"))i=e.getBoundingClientRect();else{var o=t||function(e){for(var t=Fc(e),i=e&&e.offsetParent;Uc(i)&&"HTML"!==i.nodeName&&"static"===Bc(i,"position");)i=i.offsetParent;return i||t.documentElement}(e);i=Wc(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(o)&&(n=Wc(o));var r=String(Bc(o,"borderTopWidth")||0);n.top+=parseInt(r,10)-Vc(o)||0;var s=String(Bc(o,"borderLeftWidth")||0);n.left+=parseInt(s,10)-Hc(o)||0}var a=String(Bc(e,"marginTop")||0),l=String(Bc(e,"marginLeft")||0);return(0,Te.A)({},i,{top:i.top-n.top-(parseInt(a,10)||0),left:i.left-n.left-(parseInt(l,10)||0)})}const Kc=!("undefined"===typeof window||!window.document||!window.document.createElement);var qc=(new Date).getTime();var Xc="clearTimeout",Zc=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-qc)),n=setTimeout(e,i);return qc=t,n},Qc=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Kc&&["","webkit","moz","o","ms"].some((function(e){var t=Qc(e,"request");return t in window&&(Xc=Qc(e,"cancel"),Zc=function(e){return window[t](e)}),!!Zc}));var Jc=function(e){"function"===typeof window[Xc]&&window[Xc](e)},$c=Zc;function ed(){return(0,n.useState)(null)}const td=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const id=function(e,t){return(0,n.useMemo)((()=>function(e,t){const i=td(e),n=td(t);return e=>{i&&i(e),n&&n(e)}}(e,t)),[e,t])};var nd="top",od="bottom",rd="right",sd="left",ad="auto",ld=[nd,od,rd,sd],cd="start",dd="end",ud="clippingParents",hd="viewport",pd="popper",gd="reference",md=ld.reduce((function(e,t){return e.concat([t+"-"+cd,t+"-"+dd])}),[]),fd=[].concat(ld,[ad]).reduce((function(e,t){return e.concat([t,t+"-"+cd,t+"-"+dd])}),[]),vd=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const yd=function(e){const t=function(){const e=(0,n.useRef)(!0),t=(0,n.useRef)((()=>e.current));return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}();return[e[0],(0,n.useCallback)((i=>{if(t())return e[1](i)}),[t,e[1]])]};function bd(e){return e.split("-")[0]}function Cd(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wd(e){return e instanceof Cd(e).Element||e instanceof Element}function xd(e){return e instanceof Cd(e).HTMLElement||e instanceof HTMLElement}function Sd(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Cd(e).ShadowRoot||e instanceof ShadowRoot)}var Rd=Math.max,Md=Math.min,kd=Math.round;function Dd(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ad(){return!/^((?!chrome|android).)*safari/i.test(Dd())}function Ed(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),o=1,r=1;t&&xd(e)&&(o=e.offsetWidth>0&&kd(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&kd(n.height)/e.offsetHeight||1);var s=(wd(e)?Cd(e):window).visualViewport,a=!Ad()&&i,l=(n.left+(a&&s?s.offsetLeft:0))/o,c=(n.top+(a&&s?s.offsetTop:0))/r,d=n.width/o,u=n.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Td(e){var t=Ed(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Pd(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Sd(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Fd(e){return e?(e.nodeName||"").toLowerCase():null}function Nd(e){return Cd(e).getComputedStyle(e)}function Ld(e){return["table","td","th"].indexOf(Fd(e))>=0}function Id(e){return((wd(e)?e.ownerDocument:e.document)||window.document).documentElement}function Od(e){return"html"===Fd(e)?e:e.assignedSlot||e.parentNode||(Sd(e)?e.host:null)||Id(e)}function jd(e){return xd(e)&&"fixed"!==Nd(e).position?e.offsetParent:null}function Bd(e){for(var t=Cd(e),i=jd(e);i&&Ld(i)&&"static"===Nd(i).position;)i=jd(i);return i&&("html"===Fd(i)||"body"===Fd(i)&&"static"===Nd(i).position)?t:i||function(e){var t=/firefox/i.test(Dd());if(/Trident/i.test(Dd())&&xd(e)&&"fixed"===Nd(e).position)return null;var i=Od(e);for(Sd(i)&&(i=i.host);xd(i)&&["html","body"].indexOf(Fd(i))<0;){var n=Nd(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function _d(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Gd(e,t,i){return Rd(e,Md(t,i))}function zd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Hd(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}const Vd={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=bd(i.placement),l=_d(a),c=[sd,rd].indexOf(a)>=0?"height":"width";if(r&&s){var d=function(e,t){return zd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Hd(e,ld))}(o.padding,i),u=Td(r),h="y"===l?nd:sd,p="y"===l?od:rd,g=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],m=s[l]-i.rects.reference[l],f=Bd(r),v=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,y=g/2-m/2,b=d[h],C=v-u[c]-d[p],w=v/2-u[c]/2+y,x=Gd(b,w,C),S=l;i.modifiersData[n]=((t={})[S]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&Pd(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wd(e){return e.split("-")[1]}var Ud={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yd(e){var t,i=e.popper,n=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=s.x,p=void 0===h?0:h,g=s.y,m=void 0===g?0:g,f="function"===typeof d?d({x:p,y:m}):{x:p,y:m};p=f.x,m=f.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=sd,C=nd,w=window;if(c){var x=Bd(i),S="clientHeight",R="clientWidth";if(x===Cd(i)&&"static"!==Nd(x=Id(i)).position&&"absolute"===a&&(S="scrollHeight",R="scrollWidth"),o===nd||(o===sd||o===rd)&&r===dd)C=od,m-=(u&&x===w&&w.visualViewport?w.visualViewport.height:x[S])-n.height,m*=l?1:-1;if(o===sd||(o===nd||o===od)&&r===dd)b=rd,p-=(u&&x===w&&w.visualViewport?w.visualViewport.width:x[R])-n.width,p*=l?1:-1}var M,k=Object.assign({position:a},c&&Ud),D=!0===d?function(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:kd(i*o)/o||0,y:kd(n*o)/o||0}}({x:p,y:m},Cd(i)):{x:p,y:m};return p=D.x,m=D.y,l?Object.assign({},k,((M={})[C]=y?"0":"",M[b]=v?"0":"",M.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M)):Object.assign({},k,((t={})[C]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Kd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,r=i.adaptive,s=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,c={placement:bd(t.placement),variation:Wd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Yd(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Yd(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var qd={passive:!0};const Xd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,r=void 0===o||o,s=n.resize,a=void 0===s||s,l=Cd(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",i.update,qd)})),a&&l.addEventListener("resize",i.update,qd),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",i.update,qd)})),a&&l.removeEventListener("resize",i.update,qd)}},data:{}};var Zd={left:"right",right:"left",bottom:"top",top:"bottom"};function Qd(e){return e.replace(/left|right|bottom|top/g,(function(e){return Zd[e]}))}var Jd={start:"end",end:"start"};function $d(e){return e.replace(/start|end/g,(function(e){return Jd[e]}))}function eu(e){var t=Cd(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tu(e){return Ed(Id(e)).left+eu(e).scrollLeft}function iu(e){var t=Nd(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function nu(e){return["html","body","#document"].indexOf(Fd(e))>=0?e.ownerDocument.body:xd(e)&&iu(e)?e:nu(Od(e))}function ou(e,t){var i;void 0===t&&(t=[]);var n=nu(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),r=Cd(n),s=o?[r].concat(r.visualViewport||[],iu(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(ou(Od(s)))}function ru(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function su(e,t,i){return t===hd?ru(function(e,t){var i=Cd(e),n=Id(e),o=i.visualViewport,r=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;var c=Ad();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a+tu(e),y:l}}(e,i)):wd(t)?function(e,t){var i=Ed(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):ru(function(e){var t,i=Id(e),n=eu(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=Rd(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Rd(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+tu(e),l=-n.scrollTop;return"rtl"===Nd(o||i).direction&&(a+=Rd(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(Id(e)))}function au(e,t,i,n){var o="clippingParents"===t?function(e){var t=ou(Od(e)),i=["absolute","fixed"].indexOf(Nd(e).position)>=0&&xd(e)?Bd(e):e;return wd(i)?t.filter((function(e){return wd(e)&&Pd(e,i)&&"body"!==Fd(e)})):[]}(e):[].concat(t),r=[].concat(o,[i]),s=r[0],a=r.reduce((function(t,i){var o=su(e,i,n);return t.top=Rd(o.top,t.top),t.right=Md(o.right,t.right),t.bottom=Md(o.bottom,t.bottom),t.left=Rd(o.left,t.left),t}),su(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function lu(e){var t,i=e.reference,n=e.element,o=e.placement,r=o?bd(o):null,s=o?Wd(o):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case nd:t={x:a,y:i.y-n.height};break;case od:t={x:a,y:i.y+i.height};break;case rd:t={x:i.x+i.width,y:l};break;case sd:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?_d(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case cd:t[c]=t[c]-(i[d]/2-n[d]/2);break;case dd:t[c]=t[c]+(i[d]/2-n[d]/2)}}return t}function cu(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,r=i.strategy,s=void 0===r?e.strategy:r,a=i.boundary,l=void 0===a?ud:a,c=i.rootBoundary,d=void 0===c?hd:c,u=i.elementContext,h=void 0===u?pd:u,p=i.altBoundary,g=void 0!==p&&p,m=i.padding,f=void 0===m?0:m,v=zd("number"!==typeof f?f:Hd(f,ld)),y=h===pd?gd:pd,b=e.rects.popper,C=e.elements[g?y:h],w=au(wd(C)?C:C.contextElement||Id(e.elements.popper),l,d,s),x=Ed(e.elements.reference),S=lu({reference:x,element:b,strategy:"absolute",placement:o}),R=ru(Object.assign({},b,S)),M=h===pd?R:x,k={top:w.top-M.top+v.top,bottom:M.bottom-w.bottom+v.bottom,left:w.left-M.left+v.left,right:M.right-w.right+v.right},D=e.modifiersData.offset;if(h===pd&&D){var A=D[o];Object.keys(k).forEach((function(e){var t=[rd,od].indexOf(e)>=0?1:-1,i=[nd,od].indexOf(e)>=0?"y":"x";k[e]+=A[i]*t}))}return k}const du={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,g=void 0===p||p,m=i.allowedAutoPlacements,f=t.options.placement,v=bd(f),y=l||(v===f||!g?[Qd(f)]:function(e){if(bd(e)===ad)return[];var t=Qd(e);return[$d(e),t,$d(t)]}(f)),b=[f].concat(y).reduce((function(e,i){return e.concat(bd(i)===ad?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?fd:l,d=Wd(n),u=d?a?md:md.filter((function(e){return Wd(e)===d})):ld,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,i){return t[i]=cu(e,{placement:i,boundary:o,rootBoundary:r,padding:s})[bd(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:m}):i)}),[]),C=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,R=b[0],M=0;M<b.length;M++){var k=b[M],D=bd(k),A=Wd(k)===cd,E=[nd,od].indexOf(D)>=0,T=E?"width":"height",P=cu(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),F=E?A?rd:sd:A?od:nd;C[T]>w[T]&&(F=Qd(F));var N=Qd(F),L=[];if(r&&L.push(P[D]<=0),a&&L.push(P[F]<=0,P[N]<=0),L.every((function(e){return e}))){R=k,S=!1;break}x.set(k,L)}if(S)for(var I=function(e){var t=b.find((function(t){var i=x.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},O=g?3:1;O>0;O--){if("break"===I(O))break}t.placement!==R&&(t.modifiersData[n]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uu(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function hu(e){return[nd,rd,od,sd].some((function(t){return e[t]>=0}))}const pu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=void 0===o?[0,0]:o,s=fd.reduce((function(e,i){return e[i]=function(e,t,i){var n=bd(e),o=[sd,nd].indexOf(n)>=0?-1:1,r="function"===typeof i?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[sd,rd].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}};const gu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,u=i.padding,h=i.tether,p=void 0===h||h,g=i.tetherOffset,m=void 0===g?0:g,f=cu(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=bd(t.placement),y=Wd(t.placement),b=!y,C=_d(v),w="x"===C?"y":"x",x=t.modifiersData.popperOffsets,S=t.rects.reference,R=t.rects.popper,M="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"===typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(r){var E,T="y"===C?nd:sd,P="y"===C?od:rd,F="y"===C?"height":"width",N=x[C],L=N+f[T],I=N-f[P],O=p?-R[F]/2:0,j=y===cd?S[F]:R[F],B=y===cd?-R[F]:-S[F],_=t.elements.arrow,G=p&&_?Td(_):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[T],V=z[P],W=Gd(0,S[F],G[F]),U=b?S[F]/2-O-W-H-k.mainAxis:j-W-H-k.mainAxis,Y=b?-S[F]/2+O+W+V+k.mainAxis:B+W+V+k.mainAxis,K=t.elements.arrow&&Bd(t.elements.arrow),q=K?"y"===C?K.clientTop||0:K.clientLeft||0:0,X=null!=(E=null==D?void 0:D[C])?E:0,Z=N+Y-X,Q=Gd(p?Md(L,N+U-X-q):L,N,p?Rd(I,Z):I);x[C]=Q,A[C]=Q-N}if(a){var J,$="x"===C?nd:sd,ee="x"===C?od:rd,te=x[w],ie="y"===w?"height":"width",ne=te+f[$],oe=te-f[ee],re=-1!==[nd,sd].indexOf(v),se=null!=(J=null==D?void 0:D[w])?J:0,ae=re?ne:te-S[ie]-R[ie]-se+k.altAxis,le=re?te+S[ie]+R[ie]-se-k.altAxis:oe,ce=p&&re?function(e,t,i){var n=Gd(e,t,i);return n>i?i:n}(ae,te,le):Gd(p?ae:ne,te,p?le:oe);x[w]=ce,A[w]=ce-te}t.modifiersData[n]=A}},requiresIfExists:["offset"]};function mu(e,t,i){void 0===i&&(i=!1);var n=xd(t),o=xd(t)&&function(e){var t=e.getBoundingClientRect(),i=kd(t.width)/e.offsetWidth||1,n=kd(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),r=Id(t),s=Ed(e,o,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==Fd(t)||iu(r))&&(a=function(e){return e!==Cd(e)&&xd(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:eu(e);var t}(t)),xd(t)?((l=Ed(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=tu(r))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fu(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||o(e)})),n}function vu(e){var t;return function(){return t||(t=new Promise((function(i){Promise.resolve().then((function(){t=void 0,i(e())}))}))),t}}var yu={placement:"bottom",modifiers:[],strategy:"absolute"};function bu(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Cu(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,r=void 0===o?yu:o;return function(e,t,i){void 0===i&&(i=r);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},yu,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(i){var a="function"===typeof i?i(o.options):i;c(),o.options=Object.assign({},r,o.options,a),o.scrollParents={reference:wd(e)?ou(e):e.contextElement?ou(e.contextElement):[],popper:ou(t)};var d=function(e){var t=fu(e);return vd.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,o.options.modifiers)));return o.orderedModifiers=d.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,r=e.effect;if("function"===typeof r){var a=r({state:o,name:t,instance:l,options:n}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,i=e.popper;if(bu(t,i)){o.rects={reference:mu(t,Bd(i),"fixed"===o.options.strategy),popper:Td(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var r=o.orderedModifiers[n],s=r.fn,c=r.options,d=void 0===c?{}:c,u=r.name;"function"===typeof s&&(o=s({state:o,options:d,name:u,instance:l})||o)}else o.reset=!1,n=-1}}},update:vu((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!bu(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(i).then((function(e){!a&&i.onFirstUpdate&&i.onFirstUpdate(e)})),l}}var wu=Cu({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=cu(t,{elementContext:"reference"}),a=cu(t,{altBoundary:!0}),l=uu(s,n),c=uu(a,o,r),d=hu(l),u=hu(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=lu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Kd,Xd,pu,du,gu,Vd]}),xu=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Su={name:"applyStyles",enabled:!1},Ru={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,i=e.reference,n=e.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==n.id}));o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,i=e.state.elements,n=i.popper,o=i.reference,r=null==(t=n.getAttribute("role"))?void 0:t.toLowerCase();if(n.id&&"tooltip"===r&&"setAttribute"in o){var s=o.getAttribute("aria-describedby");if(s&&-1!==s.split(",").indexOf(n.id))return;o.setAttribute("aria-describedby",s?s+","+n.id:n.id)}}},Mu=[];const ku=function(e,t,i){var o=void 0===i?{}:i,r=o.enabled,s=void 0===r||r,a=o.placement,l=void 0===a?"bottom":a,c=o.strategy,d=void 0===c?"absolute":c,u=o.modifiers,h=void 0===u?Mu:u,p=(0,Ee.A)(o,["enabled","placement","strategy","modifiers"]),g=(0,n.useRef)(),m=(0,n.useCallback)((function(){var e;null==(e=g.current)||e.update()}),[]),f=(0,n.useCallback)((function(){var e;null==(e=g.current)||e.forceUpdate()}),[]),v=yd((0,n.useState)({placement:l,update:m,forceUpdate:f,attributes:{},styles:{popper:xu(d),arrow:{}}})),y=v[0],b=v[1],C=(0,n.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,i={},n={};Object.keys(t.elements).forEach((function(e){i[e]=t.styles[e],n[e]=t.attributes[e]})),b({state:t,styles:i,attributes:n,update:m,forceUpdate:f,placement:t.placement})}}}),[m,f,b]);return(0,n.useEffect)((function(){g.current&&s&&g.current.setOptions({placement:l,strategy:d,modifiers:[].concat(h,[C,Su])})}),[d,l,C,s]),(0,n.useEffect)((function(){if(s&&null!=e&&null!=t)return g.current=wu(e,t,(0,Te.A)({},p,{placement:l,strategy:d,modifiers:[].concat(h,[Ru,C])})),function(){null!=g.current&&(g.current.destroy(),g.current=void 0,b((function(e){return(0,Te.A)({},e,{attributes:{},styles:{popper:xu(d)}})})))}}),[s,e,t]),y};var Du=!1,Au=!1;try{var Eu={get passive(){return Du=!0},get once(){return Au=Du=!0}};Kc&&(window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,!0))}catch(YQ){}const Tu=function(e,t,i,n){if(n&&"boolean"!==typeof n&&!Au){var o=n.once,r=n.capture,s=i;!Au&&o&&(s=i.__once||function e(n){this.removeEventListener(t,e,r),i.call(this,n)},i.__once=s),e.addEventListener(t,s,Du?n:r)}e.addEventListener(t,i,n)};const Pu=function(e,t,i,n){var o=n&&"boolean"!==typeof n?n.capture:n;e.removeEventListener(t,i,o),i.__once&&e.removeEventListener(t,i.__once,o)};const Fu=function(e,t,i,n){return Tu(e,t,i,n),function(){Pu(e,t,i,n)}};const Nu=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t};function Lu(e){const t=Nu(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}var Iu=i(4059),Ou=i.n(Iu);const ju=function(e){return Fc(function(e){return e&&"setState"in e?s.findDOMNode(e):null!=e?e:null}(e))};var Bu=function(){};var _u=function(e){return e&&("current"in e?e.current:e)};const Gu=function(e,t,i){var o=void 0===i?{}:i,r=o.disabled,s=o.clickTrigger,a=void 0===s?"click":s,l=(0,n.useRef)(!1),c=t||Bu,d=(0,n.useCallback)((function(t){var i,n,o=_u(e);Ou()(!!o,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!o||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!_c(o,null!=(i=null==t.composedPath?void 0:t.composedPath()[0])?i:t.target)}),[e]),u=Lu((function(e){l.current||c(e)})),h=Lu((function(e){27===e.keyCode&&c(e)}));(0,n.useEffect)((function(){if(!r&&null!=e){var t=window.event,i=ju(_u(e)),n=Fu(i,a,d,!0),o=Fu(i,a,(function(e){e!==t?u(e):t=void 0})),s=Fu(i,"keyup",(function(e){e!==t?h(e):t=void 0})),l=[];return"ontouchstart"in i.documentElement&&(l=[].slice.call(i.body.children).map((function(e){return Fu(e,"mousemove",Bu)}))),function(){n(),o(),s(),l.forEach((function(e){return e()}))}}}),[e,r,a,d,u,h])};var zu=function(e){var t;return"undefined"===typeof document?null:null==e?Fc().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function Hu(e,t){var i=(0,n.useState)((function(){return zu(e)})),o=i[0],r=i[1];if(!o){var s=zu(e);s&&r(s)}return(0,n.useEffect)((function(){t&&o&&t(o)}),[t,o]),(0,n.useEffect)((function(){var t=zu(e);t!==o&&r(t)}),[e,o]),o}function Vu(e){var t,i,n,o,r,s=e.enabled,a=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,u=e.fixed,h=e.containerPadding,p=e.arrowElement,g=e.popperConfig,m=void 0===g?{}:g,f=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(m.modifiers);return(0,Te.A)({},m,{placement:l,enabled:s,strategy:u?"fixed":m.strategy,modifiers:(r=(0,Te.A)({},f,{eventListeners:{enabled:a},preventOverflow:(0,Te.A)({},f.preventOverflow,{options:h?(0,Te.A)({padding:h},null==(t=f.preventOverflow)?void 0:t.options):null==(i=f.preventOverflow)?void 0:i.options}),offset:{options:(0,Te.A)({offset:d},null==(n=f.offset)?void 0:n.options)},arrow:(0,Te.A)({},f.arrow,{enabled:!!p,options:(0,Te.A)({},null==(o=f.arrow)?void 0:o.options,{element:p})}),flip:(0,Te.A)({enabled:!!c},f.flip)}),void 0===r&&(r={}),Array.isArray(r)?r:Object.keys(r).map((function(e){return r[e].name=e,r[e]})))})}var Wu=n.forwardRef((function(e,t){var i=e.flip,o=e.offset,r=e.placement,a=e.containerPadding,l=void 0===a?5:a,c=e.popperConfig,d=void 0===c?{}:c,u=e.transition,h=ed(),p=h[0],g=h[1],m=ed(),f=m[0],v=m[1],y=id(g,t),b=Hu(e.container),C=Hu(e.target),w=(0,n.useState)(!e.show),x=w[0],S=w[1],R=ku(C,p,Vu({placement:r,enableEvents:!!e.show,containerPadding:l||5,flip:i,offset:o,arrowElement:f,popperConfig:d})),M=R.styles,k=R.attributes,D=(0,Ee.A)(R,["styles","attributes"]);e.show?x&&S(!1):e.transition||x||S(!0);var A=e.show||u&&!x;if(Gu(p,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!A)return null;var E=e.children((0,Te.A)({},D,{show:!!e.show,props:(0,Te.A)({},k.popper,{style:M.popper,ref:y}),arrowProps:(0,Te.A)({},k.arrow,{style:M.arrow,ref:v})}));if(u){var T=e.onExit,P=e.onExiting,F=e.onEnter,N=e.onEntering,L=e.onEntered;E=n.createElement(u,{in:e.show,appear:!0,onExit:T,onExiting:P,onExited:function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:F,onEntering:N,onEntered:L},E)}return b?s.createPortal(E,b):null}));Wu.displayName="Overlay",Wu.propTypes={show:zl().bool,placement:zl().oneOf(fd),target:zl().any,container:zl().any,flip:zl().bool,children:zl().func.isRequired,containerPadding:zl().number,popperConfig:zl().object,rootClose:zl().bool,rootCloseEvent:zl().oneOf(["click","mousedown"]),rootCloseDisabled:zl().bool,onHide:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o;return e.rootClose?(o=zl().func).isRequired.apply(o,[e].concat(i)):zl().func.apply(zl(),[e].concat(i))},transition:zl().elementType,onEnter:zl().func,onEntering:zl().func,onEntered:zl().func,onExit:zl().func,onExiting:zl().func,onExited:zl().func};const Uu=Wu;var Yu=i(9853),Ku=i.n(Yu);function qu(e,t){var i=Gc(e);return i?i.innerHeight:t?e.clientHeight:Wc(e).height}var Xu,Zu=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qu(e,t){if(!Xu){var i=document.body,n=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector;Xu=function(e,t){return n.call(e,t)}}return Xu(e,t)}function Ju(e,t,i){e.closest&&!i&&e.closest(t);var n=e;do{if(Qu(n,t))return n;n=n.parentElement}while(n&&n!==i&&n.nodeType===document.ELEMENT_NODE);return null}var $u=i(2520),eh=i.n($u),th=i(6604),ih=i.n(th),nh=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function oh(e,t){return e===t||!(!nh(e)||!nh(t))}function rh(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!oh(e[i],t[i]))return!1;return!0}function sh(e,t){void 0===t&&(t=rh);var i=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(i&&i.lastThis===this&&t(n,i.lastArgs))return i.lastResult;var r=e.apply(this,n);return i={lastResult:r,lastArgs:n,lastThis:this},r}return n.clear=function(){i=null},n}var ah,lh=i(7424),ch=i.n(lh);function dh(e){if((!ah&&0!==ah||e)&&Kc){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ah=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ah}function uh(e,t){var i=Gc(e);return i?i.innerWidth:t?e.clientWidth:Wc(e).width}function hh(e){return Ml(e)||Ac(e)||Dl(e)||Al()}function ph(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var gh=i(1488),mh=i.n(gh),fh=i(1163),vh=i.n(fh),yh=i(2717),bh=i.n(yh),Ch=i(1733),wh=i.n(Ch);i(1525),i(4462),i(8933),i(199),i(4443),i(7227),i(640);function xh(e){return e.children}var Sh="PREV",Rh="NEXT",Mh="TODAY",kh="DATE",Dh={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Ah=Object.keys(Dh).map((function(e){return Dh[e]}));function Eh(e,t){e&&e.apply(null,[].concat(t))}zl().oneOfType([zl().string,zl().func]),zl().any,zl().func,zl().oneOfType([zl().arrayOf(zl().oneOf(Ah)),zl().objectOf((function(e,t){if(-1!==Ah.indexOf(t)&&"boolean"===typeof e[t])return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return zl().elementType.apply(zl(),[e,t].concat(n))}))]),zl().oneOfType([zl().oneOf(["overlap","no-overlap"]),zl().func]);var Th={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function Ph(e,t){var i=nc(e,"month");return nc(i,"week",t.startOfWeek())}function Fh(e,t){var i=oc(e,"month");return oc(i,"week",t.startOfWeek())}function Nh(e,t){for(var i=Ph(e,t),n=Fh(e,t),o=[];dc(i,n,"day");)o.push(i),i=tc(i,1,"day");return o}function Lh(e,t){var i=nc(e,t);return rc(i,e)?i:tc(i,1,t)}function Ih(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",n=e,o=[];dc(n,t,i);)o.push(n),n=tc(n,1,i);return o}function Oh(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=nc(e,"day"),e=vc(e,vc(t)),e=fc(e,fc(t)),e=mc(e,mc(t)),gc(e,gc(t)))}function jh(e){return 0===vc(e)&&0===fc(e)&&0===mc(e)&&0===gc(e)}function Bh(e,t,i){return i&&"milliseconds"!==i?Math.round(Math.abs(+nc(e,i)/Th[i]-+nc(t,i)/Th[i])):Math.abs(+e-+t)}var _h=zl().oneOfType([zl().string,zl().func]);function Gh(e,t,i,n,o){var r="function"===typeof n?n(i,o,e):t.call(e,i,n,o);return Pl()(null==r||"string"===typeof r,"`localizer format(..)` must return a string, null, or undefined"),r}function zh(e,t,i){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+i,0,0)}function Hh(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Vh(e,t){return Bh(e,t,"minutes")+Hh(e,t)}function Wh(e){var t=nc(e,"day");return Bh(t,e,"minutes")+Hh(t,e)}function Uh(e,t){return cc(e,t,"day")}function Yh(e,t,i){return rc(e,t,"minutes")?lc(t,i,"minutes"):ac(t,i,"minutes")}function Kh(t,i){return function(t,i,n,o){return"day"===n&&(n="date"),Math.abs(e[n](t,void 0,o)-e[n](i,void 0,o))}(t,i,"day")}function qh(e){var t=e.evtA,i=t.start,n=t.end,o=t.allDay,r=e.evtB,s=r.start,a=r.end,l=r.allDay,c=+nc(i,"day")-+nc(s,"day"),d=Kh(i,n),u=Kh(s,a);return c||u-d||!!l-!!o||+i-+s||+n-+a}function Xh(e){var t=e.event,i=t.start,n=t.end,o=e.range,r=o.start,s=o.end,a=nc(i,"day"),l=dc(a,s,"day"),c=sc(a,n,"minutes")?ac(n,r,"minutes"):lc(n,r,"minutes");return l&&c}function Zh(e,t){return rc(e,t,"day")}function Qh(e,t){return jh(e)&&jh(t)}var Jh=Cl((function e(t){var i=this;yl(this,e),Pl()("function"===typeof t.format,"date localizer `format(..)` must be a function"),Pl()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||_h,this.formats=t.formats,this.format=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Gh.apply(void 0,[i,t.format].concat(n))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Oh,this.inRange=t.inRange||pc,this.lt=t.lt||cc,this.lte=t.lte||dc,this.gt=t.gt||ac,this.gte=t.gte||lc,this.eq=t.eq||rc,this.neq=t.neq||sc,this.startOf=t.startOf||nc,this.endOf=t.endOf||oc,this.add=t.add||tc,this.range=t.range||Ih,this.diff=t.diff||Bh,this.ceil=t.ceil||Lh,this.min=t.min||uc,this.max=t.max||hc,this.minutes=t.minutes||fc,this.daySpan=t.daySpan||Kh,this.firstVisibleDay=t.firstVisibleDay||Ph,this.lastVisibleDay=t.lastVisibleDay||Fh,this.visibleDays=t.visibleDays||Nh,this.getSlotDate=t.getSlotDate||zh,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Hh,this.getTotalMin=t.getTotalMin||Vh,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Wh,this.continuesPrior=t.continuesPrior||Uh,this.continuesAfter=t.continuesAfter||Yh,this.sortEvents=t.sortEvents||qh,this.inEventRange=t.inEventRange||Xh,this.isSameDate=t.isSameDate||Zh,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Qh,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0}));function $h(e,t,i,n){var o=fl(fl({},e.formats),i);return fl(fl({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,n){return e.format(i,o[n]||n,t)}})}var ep={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var tp=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],ip=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,t=e.style,i=e.className,o=e.event,r=e.selected,s=e.isAllDay,a=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,d=e.localizer,u=e.continuesPrior,h=e.continuesAfter,p=e.accessors,g=e.getters,m=e.children,f=e.components,v=f.event,y=f.eventWrapper,b=e.slotStart,C=e.slotEnd,w=vl(e,tp);delete w.resizable;var x=p.title(o),S=p.tooltip(o),R=p.end(o),M=p.start(o),k=p.allDay(o),D=s||k||d.diff(M,d.ceil(R,"day"),"day")>1,A=g.eventProp(o,M,R,r),E=n.createElement("div",{className:"rbc-event-content",title:S||void 0},v?n.createElement(v,{event:o,continuesPrior:u,continuesAfter:h,title:x,isAllDay:k,localizer:d,slotStart:b,slotEnd:C}):x);return n.createElement(y,Object.assign({},this.props,{type:"date"}),n.createElement("div",Object.assign({},w,{style:fl(fl({},A.style),t),className:_l("rbc-event",i,A.className,{"rbc-selected":r,"rbc-event-allday":D,"rbc-event-continues-prior":u,"rbc-event-continues-after":h}),onClick:function(e){return a&&a(o,e)},onDoubleClick:function(e){return l&&l(o,e)},onKeyDown:function(e){return c&&c(o,e)}}),"function"===typeof m?m(E):E))}}])}(n.Component);function np(e,t){return!(!e||null==t)&&Ku()(e,t)}function op(e,t){return(e.right-e.left)/t}function rp(e,t,i,n){var o=op(e,n);return i?n-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function sp(e){var t=e.containerRef,i=e.accessors,o=e.getters,r=e.selected,s=e.components,a=e.localizer,l=e.position,c=e.show,d=e.events,u=e.slotStart,h=e.slotEnd,p=e.onSelect,g=e.onDoubleClick,m=e.onKeyPress,f=e.handleDragStart,v=e.popperRef,y=e.target,b=e.offset;!function(e){var t=e.ref,i=e.callback;(0,n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&i()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,i])}({ref:v,callback:c}),(0,n.useLayoutEffect)((function(){var e=function(e){var t=e.target,i=e.offset,n=e.container,o=e.box,r=Wc(t),s=r.top,a=r.left,l=r.width,c=r.height,d=Wc(n),u=d.top,h=d.left,p=d.width,g=d.height,m=Wc(o),f=m.width,v=m.height,y=u+g,b=h+p,C=s+v,w=a+f,x=i.x,S=i.y;return{topOffset:C>y?s-v-S:s+S+c,leftOffset:w>b?a+x-f+l:a+x}}({target:y,offset:b,container:t.current,box:v.current}),i=e.topOffset,n=e.leftOffset;v.current.style.top="".concat(i,"px"),v.current.style.left="".concat(n,"px")}),[b.x,b.y,y]);var C=l.width,w={minWidth:C+C/2};return n.createElement("div",{style:w,className:"rbc-overlay",ref:v},n.createElement("div",{className:"rbc-overlay-header"},a.format(u,"dayHeaderFormat")),d.map((function(e,t){return n.createElement(ip,{key:t,type:"popup",localizer:a,event:e,getters:o,onSelect:p,accessors:i,components:s,onDoubleClick:g,onKeyPress:m,continuesPrior:a.lt(i.end(e),u,"day"),continuesAfter:a.gte(i.start(e),h,"day"),slotStart:u,slotEnd:h,selected:np(e,r),draggable:!0,onDragStart:function(){return f(e)},onDragEnd:function(){return c()}})})))}var ap=n.forwardRef((function(e,t){return n.createElement(sp,Object.assign({},e,{popperRef:t}))}));function lp(e){var t=e.containerRef,i=e.popupOffset,o=void 0===i?5:i,r=e.overlay,s=e.accessors,a=e.localizer,l=e.components,c=e.getters,d=e.selected,u=e.handleSelectEvent,h=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,g=e.handleDragStart,m=e.onHide,f=e.overlayDisplay,v=(0,n.useRef)(null);if(!r.position)return null;var y=o;isNaN(o)||(y={x:o,y:o});var b=r.position,C=r.events,w=r.date,x=r.end;return n.createElement(Uu,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:r.target},(function(e){var i=e.props;return n.createElement(ap,Object.assign({},i,{containerRef:t,ref:v,target:r.target,offset:y,accessors:s,getters:c,selected:d,components:l,localizer:a,position:b,show:f,events:C,slotStart:w,slotEnd:x,onSelect:u,onDoubleClick:h,onKeyPress:p,handleDragStart:g}))}))}ap.propTypes={accessors:zl().object.isRequired,getters:zl().object.isRequired,selected:zl().object,components:zl().object.isRequired,localizer:zl().object.isRequired,position:zl().object.isRequired,show:zl().func.isRequired,events:zl().array.isRequired,slotStart:zl().instanceOf(Date).isRequired,slotEnd:zl().instanceOf(Date),onSelect:zl().func,onDoubleClick:zl().func,onKeyPress:zl().func,handleDragStart:zl().func,style:zl().object,offset:zl().shape({x:zl().number,y:zl().number})};var cp=n.forwardRef((function(e,t){return n.createElement(lp,Object.assign({},e,{containerRef:t}))}));function dp(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return Fu(i,e,t,{passive:!1})}function up(e,t){return!!function(e,t){var i=t.clientX,n=t.clientY;return Ju(document.elementFromPoint(i,n),".rbc-event",e)}(e,t)}function hp(e,t){return!!function(e,t){var i=t.clientX,n=t.clientY;return Ju(document.elementFromPoint(i,n),".rbc-show-more",e)}(e,t)}function pp(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}cp.propTypes={popupOffset:zl().oneOfType([zl().number,zl().shape({x:zl().number,y:zl().number})]),overlay:zl().shape({position:zl().object,events:zl().array,date:zl().instanceOf(Date),end:zl().instanceOf(Date)}),accessors:zl().object.isRequired,localizer:zl().object.isRequired,components:zl().object.isRequired,getters:zl().object.isRequired,selected:zl().object,handleSelectEvent:zl().func,handleDoubleClickEvent:zl().func,handleKeyPressEvent:zl().func,handleDragStart:zl().func,onHide:zl().func,overlayDisplay:zl().func};var gp=function(){return Cl((function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.global,o=void 0!==n&&n,r=i.longPressThreshold,s=void 0===r?250:r,a=i.validContainers,l=void 0===a?[]:a;yl(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=dp("touchmove",(function(){}),window),this._removeKeyDownListener=dp("keydown",this._keyListener),this._removeKeyUpListener=dp("keyup",this._keyListener),this._removeDropFromOutsideListener=dp("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=dp("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}),[{key:"on",value:function(e,t){var i=this._listeners[e]||(this._listeners[e]=[]);return i.push(t),{remove:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o;return(this._listeners[e]||[]).forEach((function(e){void 0===o&&(o=e.apply(void 0,i))})),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&mp(t,fp(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var i=this,n=null,o=null,r=null,s=function(t){n=setTimeout((function(){l(),e(t)}),i.longPressThreshold),o=dp("touchmove",(function(){return l()})),r=dp("touchend",(function(){return l()}))},a=dp("touchstart",s),l=function(){n&&clearTimeout(n),o&&o(),r&&r(),n=null,o=null,r=null};return t&&s(t),function(){l(),a()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=dp("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=dp("mousedown",e._handleInitialEvent)})),i=dp("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),i()}}},{key:"_dropFromOutsideListener",value:function(e){var t=pp(e),i=t.pageX,n=t.pageY,o=t.clientX,r=t.clientY;this.emit("dropFromOutside",{x:i,y:n,clientX:o,clientY:r}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=pp(e),i=t.pageX,n=t.pageY,o=t.clientX,r=t.clientY;this.emit("dragOverFromOutside",{x:i,y:n,clientX:o,clientY:r}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,i=pp(e),n=i.clientX,o=i.clientY,r=i.pageX,s=i.pageY,a=this.container();if(3!==e.which&&2!==e.button&&(c=n,d=o,!(l=a)||_c(l,document.elementFromPoint(c,d)))){var l,c,d;if(!this.globalMouse&&a&&!_c(a,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==hl(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),h=u.top,p=u.left,g=u.bottom,m=u.right;if(!mp({top:(t=fp(a)).top-h,left:t.left-p,bottom:t.bottom+g,right:t.right+m},{top:s,left:r}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:r,y:s,clientX:n,clientY:o}))switch(e.type){case"mousedown":this._removeEndListener=dp("mouseup",this._handleTerminatingEvent),this._onEscListener=dp("keydown",this._handleTerminatingEvent),this._removeMoveListener=dp("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=dp("touchend",this._handleTerminatingEvent),this._removeMoveListener=dp("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,i=this.validContainers;return!(i&&i.length&&t)||i.some((function(e){return!!t.closest(e)}))}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,i=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var n=!this.container||_c(this.container(),e.target),o=this._isWithinValidContainer(e);return"Escape"!==e.key&&o?!t&&n?this._handleClickEvent(e):t?this.emit("select",i):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=pp(e),i=t.pageX,n=t.pageY,o=t.clientX,r=t.clientY,s=(new Date).getTime();return this._lastClickData&&s-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:n,clientX:o,clientY:r})):(this._lastClickData={timestamp:s},this.emit("click",{x:i,y:n,clientX:o,clientY:r}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,i=t.x,n=t.y,o=pp(e),r=o.pageX,s=o.pageY,a=Math.abs(i-r),l=Math.abs(n-s),c=Math.min(r,i),d=Math.min(s,n),u=this.selecting,h=this.isClick(r,s);(!h||u||a||l)&&(u||h||this.emit("selectStart",this._initialEventData),h||(this.selecting=!0,this._selectRect={top:d,left:c,x:r,y:s,right:c+a,bottom:d+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var i=this._initialEventData,n=i.x,o=i.y;return!i.isTouch&&Math.abs(e-n)<=5&&Math.abs(t-o)<=5}}])}();function mp(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=fp(e),o=n.top,r=n.left,s=n.right,a=void 0===s?r:s,l=n.bottom,c=void 0===l?o:l,d=fp(t),u=d.top,h=d.left,p=d.right,g=void 0===p?h:p,m=d.bottom;return!(c-i<u||o+i>(void 0===m?u:m)||a-i<h||r+i>g)}function fp(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),i=t.left+vp("left"),n=t.top+vp("top");return{top:n,left:i,right:(e.offsetWidth||0)+i,bottom:(e.offsetHeight||0)+n}}function vp(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var yp=function(e){function t(e,i){var o;return yl(this,t),(o=Sl(this,t,[e,i])).state={selecting:!1},o.containerRef=(0,n.createRef)(),o}return Rl(t,e),Cl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,i=e.getNow,o=e.getters,r=e.date,s=e.components.dateCellWrapper,a=e.localizer,l=this.state,c=l.selecting,d=l.startIdx,u=l.endIdx,h=i();return n.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map((function(e,i){var l=c&&i>=d&&i<=u,p=o.dayProp(e),g=p.className,m=p.style;return n.createElement(s,{key:i,value:e,range:t},n.createElement("div",{style:m,className:_l("rbc-day-bg",g,l&&"rbc-selected-cell",a.isSameDate(e,h)&&"rbc-today",r&&a.neq(r,e,"month")&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,i=this._selector=new gp(this.props.container,{longPressThreshold:this.props.longPressThreshold}),n=function(i,n){if(!up(t,i)&&!hp(t,i)){var o=fp(t),r=e.props,s=r.range,a=r.rtl;if(function(e,t){var i=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&i>=e.left&&i<=e.right}(o,i)){var l=rp(o,i.x,a,s.length);e._selectSlot({startIdx:l,endIdx:l,action:n,box:i})}}e._initial={},e.setState({selecting:!1})};i.on("selecting",(function(n){var o=e.props,r=o.range,s=o.rtl,a=-1,l=-1;if(e.state.selecting||(Eh(e.props.onSelectStart,[n]),e._initial={x:n.x,y:n.y}),i.isSelected(t)){var c=fp(t),d=function(e,t,i,n,o){var r=-1,s=-1,a=n-1,l=op(t,n),c=rp(t,i.x,o,n),d=t.top<i.y&&t.bottom>i.y,u=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,p=t.top>e.y;return i.top<t.top&&i.bottom>t.bottom&&(r=0,s=a),d&&(p?(r=0,s=c):h&&(r=c,s=a)),u&&(r=s=o?a-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?c<r?r=c:s=c:e.y<i.y?s=a:r=0),{startIdx:r,endIdx:s}}(e._initial,c,n,r.length,s);a=d.startIdx,l=d.endIdx}e.setState({selecting:!0,startIdx:a,endIdx:l})})),i.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!up(e.containerRef.current,t)})),i.on("click",(function(e){return n(e,"click")})),i.on("doubleClick",(function(e){return n(e,"doubleClick")})),i.on("select",(function(t){e._selectSlot(fl(fl({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Eh(e.props.onSelectEnd,[e.state])}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,i=e.startIdx,n=e.action,o=e.bounds,r=e.box;-1!==t&&-1!==i&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:t,action:n,bounds:o,box:r,resourceId:this.props.resourceId})}}])}(n.Component),bp=(zl().object.isRequired,zl().object,zl().bool,zl().object.isRequired,zl().object.isRequired,zl().object.isRequired,zl().object.isRequired,zl().func,zl().func,zl().func,{segments:[],selected:{}}),Cp=function(e,t){var i=e.selected;e.isAllDay;var o=e.accessors,r=e.getters,s=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.slotMetrics,u=e.components,h=e.resizable,p=d.continuesPrior(t),g=d.continuesAfter(t);return n.createElement(ip,{event:t,getters:r,localizer:c,accessors:o,components:u,onSelect:s,onDoubleClick:a,onKeyPress:l,continuesPrior:p,continuesAfter:g,slotStart:d.first,slotEnd:d.last,selected:np(t,i),resizable:h})},wp=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",r=Math.abs(t)/e*100+"%";return n.createElement("div",{key:i,className:"rbc-row-segment",style:{WebkitFlexBasis:r,flexBasis:r,maxWidth:r}},o)},xp=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.segments,o=t.slotMetrics.slots,r=t.className,s=1;return n.createElement("div",{className:_l(r,"rbc-row")},i.reduce((function(t,i,n){var r=i.event,a=i.left,l=i.right,c=i.span,d="_lvl_"+n,u=a-s,h=Cp(e.props,r);return u&&t.push(wp(o,u,"".concat(d,"_gap"))),t.push(wp(o,c,d,h)),s=l+1,t}),[]))}}])}(n.Component);function Sp(e){var t=e.dateRange,i=e.unit,n=void 0===i?"day":i,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,n)}}function Rp(e){var t,i,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=[],s=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&kp(n,r[i]);i++);i>=o?s.push(n):(r[i]||(r[i]=[])).push(n)}for(t=0;t<r.length;t++)r[t].sort((function(e,t){return e.left-t.left}));return{levels:r,extra:s}}function Mp(e,t,i,n,o){var r={start:n.start(e),end:n.end(e)},s={start:t,end:i};return o.inEventRange({event:r,range:s})}function kp(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function Dp(e,t,i,n){var o={start:i.start(e),end:i.end(e),allDay:i.allDay(e)},r={start:i.start(t),end:i.end(t),allDay:i.allDay(t)};return n.sortEvents({evtA:o,evtB:r})}xp.defaultProps=fl({},bp);var Ap=function(e,t){return e.left<=t&&e.right>=t},Ep=function(e,t){return e.filter((function(e){return Ap(e,t)})).map((function(e){return e.event}))},Tp=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){for(var e=this.props,t=e.segments,i=e.slotMetrics.slots,o=Rp(t).levels[0],r=1,s=1,a=[];r<=i;){var l="_lvl_"+r,c=o.filter((function(e){return Ap(e,r)}))[0]||{},d=c.event,u=c.left,h=c.right,p=c.span;if(d){var g=Math.max(0,u-s);if(this.canRenderSlotEvent(u,p)){var m=Cp(this.props,d);g&&a.push(wp(i,g,l+"_gap")),a.push(wp(i,p,l,m)),s=r=h+1}else g&&a.push(wp(i,g,l+"_gap")),a.push(wp(i,1,l,this.renderShowMore(t,r))),s=r+=1}else r++}return n.createElement("div",{className:"rbc-row"},a)}},{key:"canRenderSlotEvent",value:function(e,t){var i=this.props.segments;return ih()(e,e+t).every((function(e){return 1===Ep(i,e).length}))}},{key:"renderShowMore",value:function(e,t){var i=this,o=this.props,r=o.localizer,s=o.slotMetrics.getEventsForSlot(t),a=Ep(e,t),l=a.length;return!!l&&n.createElement("button",{type:"button",key:"sm_"+t,className:_l("rbc-button-link","rbc-show-more"),onClick:function(e){return i.showMore(t,e)}},r.messages.showMore(l,a,s))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}(n.Component);Tp.defaultProps=fl({},bp);var Pp=function(e){var t=e.children;return n.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Fp=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function Np(){return sh((function(e){for(var t=e.range,i=e.events,n=e.maxRows,o=e.minRows,r=e.accessors,s=e.localizer,a=Sp({dateRange:t,localizer:s}),l=a.first,c=a.last,d=i.map((function(e){return function(e,t,i,n){var o=Sp({dateRange:t,localizer:n}),r=o.first,s=o.last,a=n.diff(r,s,"day"),l=n.max(n.startOf(i.start(e),"day"),r),c=n.min(n.ceil(i.end(e),"day"),s),d=eh()(t,(function(e){return n.isSameDate(e,l)})),u=n.diff(l,c,"day");return u=Math.min(u,a),{event:e,span:u=Math.max(u-n.segmentOffset,1),left:d+1,right:Math.max(d+u,1)}}(e,t,r,s)})),u=Rp(d,Math.max(n-1,1)),h=u.levels,p=u.extra,g=p.length>0?o-1:o;h.length<g;)h.push([]);return{first:l,last:c,levels:h,extra:p,range:t,slots:t.length,clone:function(t){return Np()(fl(fl({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return s.isSameDate(t,e)}))},getEventsForSlot:function(e){return d.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return s.continuesPrior(r.start(e),l)},continuesAfter:function(e){var t=r.start(e),i=r.end(e);return s.continuesAfter(t,i,c)}}}),Fp)}var Lp=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=Sl(this,t,[].concat(o))).handleSelectSlot=function(t){var i=e.props,n=i.range;(0,i.onSelectSlot)(n.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,i){var n,o,r,s=e.props,a=s.range,l=s.onShowMore,c=e.slotMetrics(e.props),d=(n=e.containerRef.current,o=".rbc-row-bg",Zu(n.querySelectorAll(o)))[0];d&&(r=d.children[t-1]),l(c.getEventsForSlot(t),a[t-1],r,t,i)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,i){var n=e.props,o=n.renderHeader,r=n.getNow,s=n.localizer;return o({date:t,key:"header_".concat(i),className:_l("rbc-date-cell",s.isSameDate(t,r())&&"rbc-now")})},e.renderDummy=function(){var t=e.props,i=t.className,o=t.range,r=t.renderHeader,s=t.showAllEvents;return n.createElement("div",{className:i,ref:e.containerRef},n.createElement("div",{className:_l("rbc-row-content",s&&"rbc-row-content-scrollable")},r&&n.createElement("div",{className:"rbc-row",ref:e.headingRowRef},o.map(e.renderHeadingCell)),n.createElement("div",{className:"rbc-row",ref:e.eventRowRef},n.createElement("div",{className:"rbc-row-segment"},n.createElement("div",{className:"rbc-event"},n.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,n.createRef)(),e.headingRowRef=(0,n.createRef)(),e.eventRowRef=(0,n.createRef)(),e.slotMetrics=Np(),e}return Rl(t,e),Cl(t,[{key:"getRowLimit",value:function(){var e,t=qu(this.eventRowRef.current),i=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?qu(this.headingRowRef.current):0,n=qu(this.containerRef.current)-i;return Math.max(Math.floor(n/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,i=e.rtl,o=e.range,r=e.className,s=e.selected,a=e.selectable,l=e.renderForMeasure,c=e.accessors,d=e.getters,u=e.components,h=e.getNow,p=e.renderHeader,g=e.onSelect,m=e.localizer,f=e.onSelectStart,v=e.onSelectEnd,y=e.onDoubleClick,b=e.onKeyPress,C=e.resourceId,w=e.longPressThreshold,x=e.isAllDay,S=e.resizable,R=e.showAllEvents;if(l)return this.renderDummy();var M=this.slotMetrics(this.props),k=M.levels,D=M.extra,A=R?Pp:xh,E=u.weekWrapper,T={selected:s,accessors:c,getters:d,localizer:m,components:u,onSelect:g,onDoubleClick:y,onKeyPress:b,resourceId:C,slotMetrics:M,resizable:S};return n.createElement("div",{className:r,role:"rowgroup",ref:this.containerRef},n.createElement(yp,{localizer:m,date:t,getNow:h,rtl:i,range:o,selectable:a,container:this.getContainer,getters:d,onSelectStart:f,onSelectEnd:v,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:w,resourceId:C}),n.createElement("div",{className:_l("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},p&&n.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),n.createElement(A,null,n.createElement(E,Object.assign({isAllDay:x},T,{rtl:this.props.rtl}),k.map((function(e,t){return n.createElement(xp,Object.assign({key:t,segments:e},T))})),!!D.length&&n.createElement(Tp,Object.assign({segments:D,onShowMore:this.handleShowMore},T))))))}}])}(n.Component);Lp.defaultProps={minRows:0,maxRows:1/0};var Ip=function(e){var t=e.label;return n.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Op=function(e){var t=e.label,i=e.drilldownView,o=e.onDrillDown;return i?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:o,role:"cell"},t):n.createElement("span",null,t)},jp=["date","className"],Bp=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=Sl(this,t,[].concat(o))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(t,i){var o=e.props,r=o.events,s=o.components,a=o.selectable,l=o.getNow,c=o.selected,d=o.date,u=o.localizer,h=o.longPressThreshold,p=o.accessors,g=o.getters,m=o.showAllEvents,f=e.state,v=f.needLimitMeasure,y=f.rowLimit,b=function(e,t,i,n,o){return e.filter((function(e){return Mp(e,t,i,n,o)}))}(Ec(r),t[0],t[t.length-1],p,u),C=function(e,t,i){var n=Ec(e),o=[],r=[];n.forEach((function(e){var n=t.start(e),s=t.end(e);i.daySpan(n,s)>1?o.push(e):r.push(e)}));var s=o.sort((function(e,n){return Dp(e,n,t,i)})),a=r.sort((function(e,n){return Dp(e,n,t,i)}));return[].concat(Ec(s),Ec(a))}(b,p,u);return n.createElement(Lp,{key:i,ref:0===i?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:l,date:d,range:t,events:C,maxRows:m?1/0:y,selected:c,selectable:a,components:s,accessors:p,getters:g,localizer:u,renderHeader:e.readerDateHeading,renderForMeasure:v,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:h,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:m})},e.readerDateHeading=function(t){var i=t.date,o=t.className,r=vl(t,jp),s=e.props,a=s.date,l=s.getDrilldownView,c=s.localizer,d=c.neq(i,a,"month"),u=c.isSameDate(i,a),h=l(i),p=c.format(i,"dateFormat"),g=e.props.components.dateHeader||Op;return n.createElement("div",Object.assign({},r,{className:_l(o,d&&"rbc-off-range",u&&"rbc-current"),role:"cell"}),n.createElement(g,{label:p,date:i,drilldownView:h,isOffRange:d,onDrillDown:function(t){return e.handleHeadingClick(i,h,t)}}))},e.handleSelectSlot=function(t,i){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout((function(){return e.selectDates(i)}))},e.handleHeadingClick=function(t,i,n){n.preventDefault(),e.clearSelection(),Eh(e.props.onDrillDown,[t,i])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onSelectEvent,i)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onDoubleClickEvent,i)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onKeyPressEvent,i)},e.handleShowMore=function(t,i,n,o,r){var s=e.props,a=s.popup,l=s.onDrillDown,c=s.onShowMore,d=s.getDrilldownView,u=s.doShowMoreDrillDown;if(e.clearSelection(),a){var h=Yc(n,e.containerRef.current);e.setState({overlay:{date:i,events:t,position:h,target:r}})}else u&&Eh(l,[i,d(i)||Dh.DAY]);Eh(c,[t,i,o])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,n.createRef)(),e.slotRowRef=(0,n.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return Rl(t,e),Cl(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||$c((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,i=e.localizer,o=e.className,r=i.visibleDays(t,i),s=Pc()(r,7);return this._weekCount=s.length,n.createElement("div",{className:_l("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},n.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(s[0])),s.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,i=t.localizer,o=t.components,r=e[0],s=e[e.length-1],a=o.header||Ip;return i.range(r,s,"day").map((function(e,t){return n.createElement("div",{key:"header_"+t,className:"rbc-header"},n.createElement(a,{date:e,localizer:i,label:i.format(e,"weekdayFormat")}))}))}},{key:"renderOverlay",value:function(){var e,t,i=this,o=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},r=this.props,s=r.accessors,a=r.localizer,l=r.components,c=r.getters,d=r.selected,u=r.popupOffset,h=r.handleDragStart;return n.createElement(cp,{overlay:o,accessors:s,localizer:a,components:l,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:function(){return i.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var i=new Date(t[0]),n=new Date(t[t.length-1]);n.setDate(t[t.length-1].getDate()+1),Eh(this.props.onSelectSlot,{slots:t,start:i,end:n,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.date;return{date:i,needLimitMeasure:e.localizer.neq(i,t.date,"month")}}}])}(n.Component);Bp.range=function(e,t){var i=t.localizer;return{start:i.firstVisibleDay(e,i),end:i.lastVisibleDay(e,i)}},Bp.navigate=function(e,t,i){var n=i.localizer;switch(t){case Sh:return n.add(e,-1,"month");case Rh:return n.add(e,1,"month");default:return e}},Bp.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var _p=function(e){var t=e.min,i=e.max,n=e.step,o=e.slots,r=e.localizer;return"".concat(+r.startOf(t,"minutes"))+"".concat(+r.startOf(i,"minutes"))+"".concat(n,"-").concat(o)};function Gp(e){for(var t=e.min,i=e.max,n=e.step,o=e.timeslots,r=e.localizer,s=_p({start:t,end:i,step:n,timeslots:o,localizer:r}),a=1+r.getTotalMin(t,i),l=r.getMinutesFromMidnight(t),c=Math.ceil((a-1)/(n*o)),d=c*o,u=new Array(c),h=new Array(d),p=0;p<c;p++){u[p]=new Array(o);for(var g=0;g<o;g++){var m=p*o+g,f=m*n;h[m]=u[p][g]=r.getSlotDate(t,l,f)}}var v=h.length*n;function y(e){var i=r.diff(t,e,"minutes")+r.getDstOffset(t,e);return Math.min(i,a)}return h.push(r.getSlotDate(t,l,v)),{groups:u,update:function(e){return _p(e)!==s?Gp(e):this},dateIsInGroup:function(e,t){var n=u[t+1];return r.inRange(e,u[t][0],n?n[0]:i,"minutes")},nextSlot:function(e){var t=h[Math.min(h.findIndex((function(t){return t===e||r.eq(t,e)}))+1,h.length-1)];return r.eq(t,e)&&(t=r.add(e,n,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*d)));return h[t]},closestSlotFromPoint:function(e,t){var i=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/i)},closestSlotFromDate:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r.lt(e,t,"minutes"))return h[0];if(r.gt(e,i,"minutes"))return h[h.length-1];var s=r.diff(t,e,"minutes");return h[(s-s%n)/n+o]},startsBeforeDay:function(e){return r.lt(e,t,"day")},startsAfterDay:function(e){return r.gt(e,i,"day")},startsBefore:function(e){return r.lt(r.merge(t,e),t,"minutes")},startsAfter:function(e){return r.gt(r.merge(i,e),i,"minutes")},getRange:function(e,o,s,a){s||(e=r.min(i,r.max(t,e))),a||(o=r.min(i,r.max(t,o)));var l=y(e),c=y(o),u=c>n*d&&!r.eq(i,o)?(l-n)/(n*d)*100:l/(n*d)*100;return{top:u,height:c/(n*d)*100-u,start:y(e),startDate:e,end:y(o),endDate:o}},getCurrentTimePosition:function(e){return y(e)/(n*d)*100}}}var zp=function(){return Cl((function e(t,i){var n=i.accessors,o=i.slotMetrics;yl(this,e);var r=o.getRange(n.start(t),n.end(t)),s=r.start,a=r.startDate,l=r.end,c=r.endDate,d=r.top,u=r.height;this.start=s,this.end=l,this.startMs=+a,this.endMs=+c,this.top=d,this.height=u,this.data=t}),[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var i=this.row.leaves;return i.indexOf(this)===i.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,i=e.xOffset,n=e._width;return i+(t.indexOf(this)+1)*n}}])}();function Hp(e,t,i){return Math.abs(t.start-e.start)<i||t.start>e.start&&t.start<e.end}function Vp(e){for(var t=e.events,i=e.minimumStartDifference,n=e.slotMetrics,o=e.accessors,r=function(e){for(var t=ch()(e,["startMs",function(e){return-e.endMs}]),i=[];t.length>0;){var n=t.shift();i.push(n);for(var o=0;o<t.length;o++){var r=t[o];if(!(n.endMs>r.startMs)){if(o>0){var s=t.splice(o,1)[0];i.push(s)}break}}}return i}(t.map((function(e){return new zp(e,{slotMetrics:n,accessors:o})}))),s=[],a=function(){var e=r[l],t=s.find((function(t){return t.end>e.start||Math.abs(e.start-t.start)<i}));if(!t)return e.rows=[],s.push(e),1;e.container=t;for(var n=null,o=t.rows.length-1;!n&&o>=0;o--)Hp(t.rows[o],e,i)&&(n=t.rows[o]);n?(n.leaves.push(e),e.row=n):(e.leaves=[],t.rows.push(e))},l=0;l<r.length;l++)a();return r.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function Wp(e,t,i){for(var n=0;n<e.friends.length;++n)if(!(i.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,i.push(e.friends[n]);var o=Wp(e.friends[n],t,i);t=t>o?t:o}return t}var Up={overlap:Vp,"no-overlap":function(e){var t=Vp({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0}));for(var i=0;i<t.length;++i)t[i].friends=[],delete t[i].style.left,delete t[i].style.left,delete t[i].idx,delete t[i].size;for(var n=0;n<t.length-1;++n)for(var o=t[n],r=o.style.top,s=o.style.top+o.style.height,a=n+1;a<t.length;++a){var l=t[a],c=l.style.top,d=l.style.top+l.style.height;(c>=r&&d<=s||d>r&&d<=s||c>=r&&c<s)&&(o.friends.push(l),l.friends.push(o))}for(var u=0;u<t.length;++u){for(var h=t[u],p=[],g=0;g<100;++g)p.push(1);for(var m=0;m<h.friends.length;++m)void 0!==h.friends[m].idx&&(p[h.friends[m].idx]=0);h.idx=p.indexOf(1)}for(var f=0;f<t.length;++f){var v;if(!t[f].size){var y=[];v=100/(Wp(t[f],0,y)+1),t[f].size=v;for(var b=0;b<y.length;++b)y[b].size=v}}for(var C=0;C<t.length;++C){var w=t[C];w.style.left=w.idx*w.size;for(var x=0,S=0;S<w.friends.length;++S){var R=w.friends[S].idx;x=x>R?x:R}x<=w.idx&&(w.size=100-w.idx*w.size);var M=0===w.idx?0:3;w.style.width="calc(".concat(w.size,"% - ").concat(M,"px)"),w.style.height="calc(".concat(w.style.height,"% - 2px)"),w.style.xOffset="calc(".concat(w.style.left,"% + ").concat(M,"px)")}return t}};var Yp=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,i=e.resource,o=e.group,r=e.getters,s=e.components,a=(void 0===s?{}:s).timeSlotWrapper,l=void 0===a?xh:a,c=r?r.slotGroupProp(o):{};return n.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),o.map((function(e,o){var s=r?r.slotProp(e,i):{};return n.createElement(l,{key:o,value:e,resource:i},n.createElement("div",Object.assign({},s,{className:_l("rbc-time-slot",s.className)}),t&&t(e,o)))})))}}])}(n.Component);function Kp(e){return"string"===typeof e?e:e+"%"}function qp(e){var t=e.style,i=e.className,o=e.event,r=e.accessors,s=e.rtl,a=e.selected,l=e.label,c=e.continuesPrior,d=e.continuesAfter,u=e.getters,h=e.onClick,p=e.onDoubleClick,g=e.isBackgroundEvent,m=e.onKeyPress,f=e.components,v=f.event,y=f.eventWrapper,b=r.title(o),C=r.tooltip(o),w=r.end(o),x=r.start(o),S=u.eventProp(o,x,w,a),R=[n.createElement("div",{key:"1",className:"rbc-event-label"},l),n.createElement("div",{key:"2",className:"rbc-event-content"},v?n.createElement(v,{event:o,title:b}):b)],M=t.height,k=t.top,D=t.width,A=t.xOffset,E=fl(fl({},S.style),{},gl({top:Kp(k),height:Kp(M),width:Kp(D)},s?"right":"left",Kp(A)));return n.createElement(y,Object.assign({type:"time"},e),n.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:p,style:E,onKeyDown:m,title:C?("string"===typeof l?l+": ":"")+C:void 0,className:_l(g?"rbc-background-event":"rbc-event",i,S.className,{"rbc-selected":a,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},R))}var Xp=function(e){var t=e.children,i=e.className,o=e.style,r=e.innerRef;return n.createElement("div",{className:i,style:o,ref:r},t)},Zp=n.forwardRef((function(e,t){return n.createElement(Xp,Object.assign({},e,{innerRef:t}))})),Qp=["dayProp"],Jp=["eventContainerWrapper"],$p=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=Sl(this,t,[].concat(o))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(t){var i=t.events,o=t.isBackgroundEvent,r=e.props,s=r.rtl,a=r.selected,l=r.accessors,c=r.localizer,d=r.getters,u=r.components,h=r.step,p=r.timeslots,g=r.dayLayoutAlgorithm,m=r.resizable,f=e.slotMetrics,v=c.messages,y=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,i=e.dayLayoutAlgorithm,n=i;return i in Up&&(n=Up[i]),(t=n)&&t.constructor&&t.call&&t.apply?n.apply(this,arguments):[]}({events:i,accessors:l,slotMetrics:f,minimumStartDifference:Math.ceil(h*p/2),dayLayoutAlgorithm:g});return y.map((function(t,i){var r,h=t.event,p=t.style,g=l.end(h),y=l.start(h),b="eventTimeRangeFormat",C=f.startsBeforeDay(y),w=f.startsAfterDay(g);C?b="eventTimeRangeEndFormat":w&&(b="eventTimeRangeStartFormat"),r=C&&w?v.allDay:c.format({start:y,end:g},b);var x=C||f.startsBefore(y),S=w||f.startsAfter(g);return n.createElement(qp,{style:p,event:h,label:r,key:"evt_"+i,getters:d,rtl:s,components:u,continuesPrior:x,continuesAfter:S,accessors:l,resource:e.props.resource,selected:np(h,a),onClick:function(t){return e._select(fl(fl(fl({},h),e.props.resource&&{sourceResource:e.props.resource}),o&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(h,t)},isBackgroundEvent:o,onKeyPress:function(t){return e._keyPress(h,t)},resizable:m})}))},e._selectable=function(){var t=e.containerRef.current,i=e.props,n=i.longPressThreshold,o=i.localizer,r=e._selector=new gp((function(){return t}),{longPressThreshold:n}),s=function(t){var i=e.props.onSelecting,n=e.state||{},r=a(t),s=r.startDate,l=r.endDate;i&&(o.eq(n.startDate,s,"minutes")&&o.eq(n.endDate,l,"minutes")||!1===i({start:s,end:l,resourceId:e.props.resource}))||e.state.start===r.start&&e.state.end===r.end&&e.state.selecting===r.selecting||e.setState(r)},a=function(i){var n=e.slotMetrics.closestSlotFromPoint(i,fp(t));e.state.selecting||(e._initialSlot=n);var r=e._initialSlot;o.lte(r,n)?n=e.slotMetrics.nextSlot(n):o.gt(r,n)&&(r=e.slotMetrics.nextSlot(r));var s=e.slotMetrics.getRange(o.min(r,n),o.max(r,n));return fl(fl({},s),{},{selecting:!0,top:"".concat(s.top,"%"),height:"".concat(s.height,"%")})},l=function(t,i){if(!up(e.containerRef.current,t)){var n=a(t),o=n.startDate,r=n.endDate;e._selectSlot({startDate:o,endDate:r,action:i,box:t})}e.setState({selecting:!1})};r.on("selecting",s),r.on("selectStart",s),r.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!up(e.containerRef.current,t)})),r.on("click",(function(e){return l(e,"click")})),r.on("doubleClick",(function(e){return l(e,"doubleClick")})),r.on("select",(function(t){e.state.selecting&&(e._selectSlot(fl(fl({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))})),r.on("reset",(function(){e.state.selecting&&e.setState({selecting:!1})}))},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var i=t.startDate,n=t.endDate,o=t.action,r=t.bounds,s=t.box,a=i,l=[];e.props.localizer.lte(a,n);)l.push(a),a=new Date(+a+60*e.props.step*1e3);Eh(e.props.onSelectSlot,{slots:l,start:i,end:n,resourceId:e.props.resource,action:o,bounds:r,box:s})},e._select=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onSelectEvent,i)},e._doubleClick=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onDoubleClickEvent,i)},e._keyPress=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onKeyPressEvent,i)},e.slotMetrics=Gp(e.props),e.containerRef=(0,n.createRef)(),e}return Rl(t,e),Cl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var i=this.props,n=i.getNow,o=i.isNow,r=i.localizer,s=i.date,a=i.min,l=i.max,c=r.neq(e.getNow(),n(),"minutes");if(e.isNow!==o||c){if(this.clearTimeIndicatorInterval(),o){var d=!c&&r.eq(e.date,s,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else o&&(r.neq(e.min,a,"minutes")||r.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,i=e.max,n=(0,e.getNow)();if(n>=t&&n<=i){var o=this.slotMetrics.getCurrentTimePosition(n);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:o})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,i=e.max,o=e.rtl,r=e.isNow,s=e.resource,a=e.accessors,l=e.localizer,c=e.getters,d=c.dayProp,u=vl(c,Qp),h=e.components,p=h.eventContainerWrapper,g=vl(h,Jp);this.slotMetrics=this.slotMetrics.update(this.props);var m=this.slotMetrics,f=this.state,v=f.selecting,y=f.top,b=f.height,C={start:f.startDate,end:f.endDate},w=d(i),x=w.className,S=w.style,R=g.dayColumnWrapper||Zp;return n.createElement(R,{ref:this.containerRef,date:t,style:S,className:_l(x,"rbc-day-slot","rbc-time-column",r&&"rbc-now",r&&"rbc-today",v&&"rbc-slot-selecting"),slotMetrics:m,resource:s},m.groups.map((function(e,t){return n.createElement(Yp,{key:t,group:e,resource:s,getters:u,components:g})})),n.createElement(p,{localizer:l,resource:s,accessors:a,getters:u,components:g,slotMetrics:m},n.createElement("div",{className:_l("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),v&&n.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:b}},n.createElement("span",null,l.format(C,"selectRangeFormat"))),r&&this.intervalTriggered&&n.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(n.Component);$p.defaultProps={dragThroughEvents:!0,timeslots:2};var eg=function(e){var t=e.min,i=e.max,o=e.timeslots,r=e.step,s=e.localizer,a=e.getNow,l=e.resource,c=e.components,d=e.getters,u=e.gutterRef,h=c.timeGutterWrapper,p=(0,n.useMemo)((function(){return function(e){var t=e.min,i=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(i)?{start:n.add(t,-1,"day"),end:n.add(i,-1,"day")}:{start:t,end:i}}({min:t,max:i,localizer:s})}),[null===t||void 0===t?void 0:t.toISOString(),null===i||void 0===i?void 0:i.toISOString(),s]),g=p.start,m=p.end,f=El((0,n.useState)(Gp({min:g,max:m,timeslots:o,step:r,localizer:s})),2),v=f[0],y=f[1];(0,n.useEffect)((function(){v&&y(v.update({min:g,max:m,timeslots:o,step:r,localizer:s}))}),[null===g||void 0===g?void 0:g.toISOString(),null===m||void 0===m?void 0:m.toISOString(),o,r]);var b=(0,n.useCallback)((function(e,t){if(t)return null;var i=v.dateIsInGroup(a(),t);return n.createElement("span",{className:_l("rbc-label",i&&"rbc-now")},s.format(e,"timeGutterFormat"))}),[v,s,a]);return n.createElement(h,{slotMetrics:v},n.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:u},v.groups.map((function(e,t){return n.createElement(Yp,{key:t,group:e,resource:l,components:c,renderSlot:b,getters:d})}))))},tg=n.forwardRef((function(e,t){return n.createElement(eg,Object.assign({gutterRef:t},e))})),ig=function(e){var t=e.label;return n.createElement(n.Fragment,null,t)},ng=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=Sl(this,t,[].concat(o))).handleHeaderClick=function(t,i,n){n.preventDefault(),Eh(e.props.onDrillDown,[t,i])},e.renderRow=function(t){var i=e.props,o=i.events,r=i.rtl,s=i.selectable,a=i.getNow,l=i.range,c=i.getters,d=i.localizer,u=i.accessors,h=i.components,p=i.resizable,g=u.resourceId(t),m=t?o.filter((function(e){return u.resource(e)===g})):o;return n.createElement(Lp,{isAllDay:!0,rtl:r,getNow:a,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:m,resourceId:g,className:"rbc-allday-cell",selectable:s,selected:e.props.selected,components:h,accessors:u,getters:c,localizer:d,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:p})},e}return Rl(t,e),Cl(t,[{key:"renderHeaderCells",value:function(e){var t=this,i=this.props,o=i.localizer,r=i.getDrilldownView,s=i.getNow,a=i.getters.dayProp,l=i.components.header,c=void 0===l?Ip:l,d=s();return e.map((function(e,i){var s=r(e),l=o.format(e,"dayFormat"),u=a(e),h=u.className,p=u.style,g=n.createElement(c,{date:e,label:l,localizer:o});return n.createElement("div",{key:i,style:p,className:_l("rbc-header",h,o.isSameDate(e,d)&&"rbc-today")},s?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(i){return t.handleHeaderClick(e,s,i)}},g):n.createElement("span",null,g))}))}},{key:"render",value:function(){var e=this,t=this.props,i=t.width,o=t.rtl,r=t.resources,s=t.range,a=t.events,l=t.getNow,c=t.accessors,d=t.selectable,u=t.components,h=t.getters,p=t.scrollRef,g=t.localizer,m=t.isOverflowing,f=t.components,v=f.timeGutterHeader,y=f.resourceHeader,b=void 0===y?ig:y,C=t.resizable,w={};m&&(w[o?"marginLeft":"marginRight"]="".concat(dh()-1,"px"));var x=r.groupEvents(a);return n.createElement("div",{style:w,ref:p,className:_l("rbc-time-header",m&&"rbc-overflowing")},n.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},v&&n.createElement(v,null)),r.map((function(t,i){var r=El(t,2),a=r[0],p=r[1];return n.createElement("div",{className:"rbc-time-header-content",key:a||i},p&&n.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(i)},n.createElement("div",{className:"rbc-header"},n.createElement(b,{index:i,label:c.resourceTitle(p),resource:p}))),n.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(s.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(s)),n.createElement(Lp,{isAllDay:!0,rtl:o,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:s,events:x.get(a)||[],resourceId:p&&a,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:u,accessors:c,getters:h,localizer:g,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:C}))})))}}])}(n.Component),og={};var rg=function(e){function t(e){var i;return yl(this,t),(i=Sl(this,t,[e])).handleScroll=function(e){i.scrollRef.current&&(i.scrollRef.current.scrollLeft=e.target.scrollLeft)},i.handleResize=function(){Jc(i.rafHandle),i.rafHandle=$c(i.checkOverflow)},i.handleKeyPressEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Eh(i.props.onKeyPressEvent,t)},i.handleSelectEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Eh(i.props.onSelectEvent,t)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Eh(i.props.onDoubleClickEvent,t)},i.handleShowMore=function(e,t,n,o,r){var s=i.props,a=s.popup,l=s.onDrillDown,c=s.onShowMore,d=s.getDrilldownView,u=s.doShowMoreDrillDown;if(i.clearSelection(),a){var h=Yc(n,i.containerRef.current);i.setState({overlay:{date:t,events:e,position:fl(fl({},h),{},{width:"200px"}),target:r}})}else u&&Eh(l,[t,d(t)||Dh.DAY]);Eh(c,[e,t,o])},i.handleSelectAllDaySlot=function(e,t){var n=i.props.onSelectSlot,o=new Date(e[0]),r=new Date(e[e.length-1]);r.setDate(e[e.length-1].getDate()+1),Eh(n,{slots:e,start:o,end:r,action:t.action,resourceId:t.resourceId})},i.overlayDisplay=function(){i.setState({overlay:null})},i.checkOverflow=function(){if(!i._updatingOverflow){var e=i.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;i.state.isOverflowing!==t&&(i._updatingOverflow=!0,i.setState({isOverflowing:t},(function(){i._updatingOverflow=!1})))}}},i.memoizedResources=sh((function(e,t){return function(e,t){return{map:function(i){return e?e.map((function(e,n){return i([t.resourceId(e),e],n)})):[i([og,null],0)]},groupEvents:function(i){var n=new Map;return e?(i.forEach((function(e){var i=t.resource(e)||og;if(Array.isArray(i))i.forEach((function(t){var i=n.get(t)||[];i.push(e),n.set(t,i)}));else{var o=n.get(i)||[];o.push(e),n.set(i,o)}})),n):(n.set(og,i),n)}}}(e,t)})),i.state={gutterWidth:void 0,isOverflowing:null},i.scrollRef=n.createRef(),i.contentRef=n.createRef(),i.containerRef=n.createRef(),i._scrollRatio=null,i.gutterRef=(0,n.createRef)(),i}return Rl(t,e),Cl(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Jc(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(e,t,i,o){var r=this,s=this.props,a=s.min,l=s.max,c=s.components,d=s.accessors,u=s.localizer,h=s.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,d),g=p.groupEvents(t),m=p.groupEvents(i);return p.map((function(t,i){var s=El(t,2),p=s[0],f=s[1];return e.map((function(e,t){var s=(g.get(p)||[]).filter((function(t){return u.inRange(e,d.start(t),d.end(t),"day")})),v=(m.get(p)||[]).filter((function(t){return u.inRange(e,d.start(t),d.end(t),"day")}));return n.createElement($p,Object.assign({},r.props,{localizer:u,min:u.merge(e,a),max:u.merge(e,l),resource:f&&p,components:c,isNow:u.isSameDate(e,o),key:i+"-"+t,date:e,events:s,backgroundEvents:v,dayLayoutAlgorithm:h}))}))}))}},{key:"render",value:function(){var e,t=this.props,i=t.events,o=t.backgroundEvents,r=t.range,s=t.width,a=t.rtl,l=t.selected,c=t.getNow,d=t.resources,u=t.components,h=t.accessors,p=t.getters,g=t.localizer,m=t.min,f=t.max,v=t.showMultiDayTimes,y=t.longPressThreshold,b=t.resizable;s=s||this.state.gutterWidth;var C=r[0],w=r[r.length-1];this.slots=r.length;var x=[],S=[],R=[];return i.forEach((function(e){if(Mp(e,C,w,h,g)){var t=h.start(e),i=h.end(e);h.allDay(e)||g.startAndEndAreDateOnly(t,i)||!v&&!g.isSameDate(t,i)?x.push(e):S.push(e)}})),o.forEach((function(e){Mp(e,C,w,h,g)&&R.push(e)})),x.sort((function(e,t){return Dp(e,t,h,g)})),n.createElement("div",{className:_l("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},n.createElement(ng,{range:r,events:x,width:s,rtl:a,getNow:c,localizer:g,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(d,h),selectable:this.props.selectable,accessors:h,getters:p,components:u,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b}),this.props.popup&&this.renderOverlay(),n.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},n.createElement(tg,{date:C,ref:this.gutterRef,localizer:g,min:g.merge(C,m),max:g.merge(C,f),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:u,className:"rbc-time-gutter",getters:p}),this.renderEvents(r,S,R,c())))}},{key:"renderOverlay",value:function(){var e,t,i=this,o=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},r=this.props,s=r.accessors,a=r.localizer,l=r.components,c=r.getters,d=r.selected,u=r.popupOffset,h=r.handleDragStart;return n.createElement(cp,{overlay:o,accessors:s,localizer:a,components:l,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:function(){return i.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t,i=null!==(t=e.gutterRef)&&void 0!==t&&t.current?uh(e.gutterRef.current):void 0;i&&e.state.gutterWidth!==i&&e.setState({gutterWidth:i})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,i=e.max,n=e.scrollToTime,o=e.localizer,r=o.diff(o.merge(n,t),n,"milliseconds"),s=o.diff(t,i,"milliseconds");this._scrollRatio=r/s}}])}(n.Component);rg.defaultProps={step:30,timeslots:2};var sg=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ag=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,i=e.date,o=e.localizer,r=e.min,s=void 0===r?o.startOf(new Date,"day"):r,a=e.max,l=void 0===a?o.endOf(new Date,"day"):a,c=e.scrollToTime,d=void 0===c?o.startOf(new Date,"day"):c,u=e.enableAutoScroll,h=void 0===u||u,p=vl(e,sg),g=t.range(i,{localizer:o});return n.createElement(rg,Object.assign({},p,{range:g,eventOffset:10,localizer:o,min:s,max:l,scrollToTime:d,enableAutoScroll:h}))}}])}(n.Component);ag.range=function(e,t){return[t.localizer.startOf(e,"day")]},ag.navigate=function(e,t,i){var n=i.localizer;switch(t){case Sh:return n.add(e,-1,"day");case Rh:return n.add(e,1,"day");default:return e}},ag.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var lg=["date","localizer","min","max","scrollToTime","enableAutoScroll"],cg=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,i=e.date,o=e.localizer,r=e.min,s=void 0===r?o.startOf(new Date,"day"):r,a=e.max,l=void 0===a?o.endOf(new Date,"day"):a,c=e.scrollToTime,d=void 0===c?o.startOf(new Date,"day"):c,u=e.enableAutoScroll,h=void 0===u||u,p=vl(e,lg),g=t.range(i,this.props);return n.createElement(rg,Object.assign({},p,{range:g,eventOffset:15,localizer:o,min:s,max:l,scrollToTime:d,enableAutoScroll:h}))}}])}(n.Component);cg.defaultProps=rg.defaultProps,cg.navigate=function(e,t,i){var n=i.localizer;switch(t){case Sh:return n.add(e,-1,"week");case Rh:return n.add(e,1,"week");default:return e}},cg.range=function(e,t){var i=t.localizer,n=i.startOfWeek(),o=i.startOf(e,"week",n),r=i.endOf(e,"week",n);return i.range(o,r)},cg.title=function(e,t){var i=t.localizer,n=hh(cg.range(e,{localizer:i})),o=n[0],r=n.slice(1);return i.format({start:o,end:r.pop()},"dayRangeHeaderFormat")};var dg=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function ug(e,t){return cg.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var hg=function(e){function t(){return yl(this,t),Sl(this,t,arguments)}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,t=e.date,i=e.localizer,o=e.min,r=void 0===o?i.startOf(new Date,"day"):o,s=e.max,a=void 0===s?i.endOf(new Date,"day"):s,l=e.scrollToTime,c=void 0===l?i.startOf(new Date,"day"):l,d=e.enableAutoScroll,u=void 0===d||d,h=vl(e,dg),p=ug(t,this.props);return n.createElement(rg,Object.assign({},h,{range:p,eventOffset:15,localizer:i,min:r,max:a,scrollToTime:c,enableAutoScroll:u}))}}])}(n.Component);hg.defaultProps=rg.defaultProps,hg.range=ug,hg.navigate=cg.navigate,hg.title=function(e,t){var i=t.localizer,n=hh(ug(e,{localizer:i})),o=n[0],r=n.slice(1);return i.format({start:o,end:r.pop()},"dayRangeHeaderFormat")};function pg(e){var t=e.accessors,i=e.components,o=e.date,r=e.events,s=e.getters,a=e.length,l=void 0===a?30:a,c=e.localizer,d=e.onDoubleClickEvent,u=e.onSelectEvent,h=e.selected,p=(0,n.useRef)(null),g=(0,n.useRef)(null),m=(0,n.useRef)(null),f=(0,n.useRef)(null),v=(0,n.useRef)(null);(0,n.useEffect)((function(){b()}));var y=function(e,o){var r="",s=i.time,a=c.messages.allDay,l=t.end(o),d=t.start(o);return t.allDay(o)||(c.eq(d,l)?a=c.format(d,"agendaTimeFormat"):c.isSameDate(d,l)?a=c.format({start:d,end:l},"agendaTimeRangeFormat"):c.isSameDate(e,d)?a=c.format(d,"agendaTimeFormat"):c.isSameDate(e,l)&&(a=c.format(l,"agendaTimeFormat"))),c.gt(e,d,"day")&&(r="rbc-continues-prior"),c.lt(e,l,"day")&&(r+=" rbc-continues-after"),n.createElement("span",{className:r.trim()},s?n.createElement(s,{event:o,day:e,label:a}):a)},b=function(){if(v.current){var e=p.current,t=v.current.firstChild;if(t){var i=f.current.scrollHeight>f.current.clientHeight,n=[],o=n;n=[uh(t.children[0]),uh(t.children[1])],o[0]===n[0]&&o[1]===n[1]||(g.current.style.width=n[0]+"px",m.current.style.width=n[1]+"px"),i?(!function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(e,"rbc-header-overflowing"),e.style.marginRight=dh()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=ph(e.className,t):e.setAttribute("class",ph(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},C=c.messages,w=c.add(o,l,"day"),x=c.range(o,w,"day");return(r=r.filter((function(e){return Mp(e,c.startOf(o,"day"),c.endOf(w,"day"),t,c)}))).sort((function(e,i){return+t.start(e)-+t.start(i)})),n.createElement("div",{className:"rbc-agenda-view"},0!==r.length?n.createElement(n.Fragment,null,n.createElement("table",{ref:p,className:"rbc-agenda-table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:"rbc-header",ref:g},C.date),n.createElement("th",{className:"rbc-header",ref:m},C.time),n.createElement("th",{className:"rbc-header"},C.event)))),n.createElement("div",{className:"rbc-agenda-content",ref:f},n.createElement("table",{className:"rbc-agenda-table"},n.createElement("tbody",{ref:v},x.map((function(e,o){return function(e,o,r){var a=i.event,l=i.date;return(o=o.filter((function(i){return Mp(i,c.startOf(e,"day"),c.endOf(e,"day"),t,c)}))).map((function(i,p){var g=t.title(i),m=t.end(i),f=t.start(i),v=s.eventProp(i,f,m,np(i,h)),b=0===p&&c.format(e,"agendaDateFormat"),C=0===p&&n.createElement("td",{rowSpan:o.length,className:"rbc-agenda-date-cell"},l?n.createElement(l,{day:e,label:b}):b);return n.createElement("tr",{key:r+"_"+p,className:v.className,style:v.style},C,n.createElement("td",{className:"rbc-agenda-time-cell"},y(e,i)),n.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return u&&u(i,e)},onDoubleClick:function(e){return d&&d(i,e)}},a?n.createElement(a,{event:i,title:g}):g))}),[])}(e,r,o)})))))):n.createElement("span",{className:"rbc-agenda-empty"},C.noEventsInRange))}pg.range=function(e,t){var i=t.length,n=void 0===i?30:i;return{start:e,end:t.localizer.add(e,n,"day")}},pg.navigate=function(e,t,i){var n=i.length,o=void 0===n?30:n,r=i.localizer;switch(t){case Sh:return r.add(e,-o,"day");case Rh:return r.add(e,o,"day");default:return e}},pg.title=function(e,t){var i=t.length,n=void 0===i?30:i,o=t.localizer,r=o.add(e,n,"day");return o.format({start:e,end:r},"agendaHeaderFormat")};var gg=gl(gl(gl(gl(gl({},Dh.MONTH,Bp),Dh.WEEK,cg),Dh.WORK_WEEK,hg),Dh.DAY,ag),Dh.AGENDA,pg),mg=["action","date","today"];var fg=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=Sl(this,t,[].concat(n))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,i=e.label;return n.createElement("div",{className:"rbc-toolbar"},n.createElement("span",{className:"rbc-btn-group"},n.createElement("button",{type:"button",onClick:this.navigate.bind(null,Mh)},t.today),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sh)},t.previous),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rh)},t.next)),n.createElement("span",{className:"rbc-toolbar-label"},i),n.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map((function(i){return n.createElement("button",{type:"button",key:i,className:_l({"rbc-active":o===i}),onClick:t.view.bind(null,i)},e[i])}))}}])}(n.Component);var vg=function(e){return function(t){return function(e,t){var i=null;return"function"===typeof t?i=t(e):"string"===typeof t&&"object"===hl(e)&&null!=e&&t in e&&(i=e[t]),i}(t,e)}},yg=["view","date","getNow","onNavigate"],bg=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Cg(e){if(Array.isArray(e))return e;for(var t=[],i=0,n=Object.entries(e);i<n.length;i++){var o=El(n[i],2),r=o[0];o[1]&&t.push(r)}return t}var wg=function(e){function t(){var e;yl(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=Sl(this,t,[].concat(n))).getViews=function(){var t=e.props.views;return Array.isArray(t)?bh()(t,(function(e,t){return e[t]=gg[t]}),{}):"object"===hl(t)?wh()(t,(function(e,t){return!0===e?gg[t]:e})):gg},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var i=e.props,n=i.view,o=i.drilldownView,r=i.getDrilldownView;return r?r(t,n,Object.keys(e.getViews())):o},e.handleRangeChange=function(t,i,n){var o=e.props,r=o.onRangeChange,s=o.localizer;r&&i.range&&r(i.range(t,{localizer:s}),n)},e.handleNavigate=function(t,i){var n=e.props,o=n.view,r=n.date,s=n.getNow,a=n.onNavigate,l=vl(n,yg),c=e.getView(),d=s();r=function(e,t){var i=t.action,n=t.date,o=t.today,r=vl(t,mg);switch(e="string"===typeof e?gg[e]:e,i){case Mh:n=o||new Date;break;case kh:break;default:Pl()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,i,r)}return n}(c,fl(fl({},l),{},{action:t,date:i||r||d,today:d})),a(r,o,t),e.handleRangeChange(r,c)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==Cg(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var i=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),i[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onSelectEvent,i)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onDoubleClickEvent,i)},e.handleKeyPressEvent=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Eh(e.props.onKeyPressEvent,i)},e.handleSelectSlot=function(t){Eh(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,i){var n=e.props.onDrillDown;n?n(t,i,e.drilldownView):(i&&e.handleViewChange(i),e.handleNavigate(kh,t))},e.state={context:t.getContext(e.props)},e}return Rl(t,e),Cl(t,[{key:"render",value:function(){var e=this.props,t=e.view,i=e.toolbar,o=e.events,r=e.backgroundEvents,s=e.style,a=e.className,l=e.elementProps,c=e.date,d=e.getNow,u=e.length,h=e.showMultiDayTimes,p=e.onShowMore,g=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var m=vl(e,bg);c=c||d();var f=this.getView(),v=this.state.context,y=v.accessors,b=v.components,C=v.getters,w=v.localizer,x=v.viewNames,S=b.toolbar||fg,R=f.title(c,{localizer:w,length:u});return n.createElement("div",Object.assign({},l,{className:_l(a,"rbc-calendar",m.rtl&&"rbc-rtl"),style:s}),i&&n.createElement(S,{date:c,view:t,views:x,label:R,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),n.createElement(f,Object.assign({},m,{events:o,backgroundEvents:r,date:c,getNow:d,length:u,localizer:w,getters:C,components:b,accessors:y,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:g})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:t.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,i=e.endAccessor,n=e.allDayAccessor,o=e.tooltipAccessor,r=e.titleAccessor,s=e.resourceAccessor,a=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventPropGetter,d=e.backgroundEventPropGetter,u=e.slotPropGetter,h=e.slotGroupPropGetter,p=e.dayPropGetter,g=e.view,m=e.views,f=e.localizer,v=e.culture,y=e.messages,b=void 0===y?{}:y,C=e.components,w=void 0===C?{}:C,x=e.formats,S=void 0===x?{}:x,R=Cg(m);return{viewNames:R,localizer:$h(f,v,S,function(e){return fl(fl({},ep),e)}(b)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},backgroundEventProp:function(){return d&&d.apply(void 0,arguments)||{}},slotProp:function(){return u&&u.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return p&&p.apply(void 0,arguments)||{}}},components:vh()(w[g]||{},mh()(w,R),{eventWrapper:xh,backgroundEventWrapper:xh,eventContainerWrapper:xh,dateCellWrapper:xh,weekWrapper:xh,timeSlotWrapper:xh,timeGutterWrapper:xh}),accessors:{start:vg(t),end:vg(i),allDay:vg(n),tooltip:vg(o),title:vg(r),resource:vg(s),resourceId:vg(a),resourceTitle:vg(l)}}}}])}(n.Component);wg.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Dh.MONTH,views:[Dh.MONTH,Dh.WEEK,Dh.DAY,Dh.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Dh.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var xg=function e(t,i,o){void 0===o&&(o=[]);var r,s=t.displayName||t.name||"Component",a=!!(r=t)&&("function"!==typeof r||r.prototype&&r.prototype.isReactComponent),l=Object.keys(i),c=l.map(Ll);!a&&o.length&&Pl()(!1);var d=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];(t=e.call.apply(e,[this].concat(r))||this).handlers=Object.create(null),l.forEach((function(e){var n=i[e];t.handlers[n]=function(i){if(t.props[n]){var o;t._notifying=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];(o=t.props)[n].apply(o,[i].concat(s)),t._notifying=!1}t.unmounted||t.setState((function(t){var n,o=t.values;return{values:(0,Te.A)(Object.create(null),o,(n={},n[e]=i,n))}}))}})),o.length&&(t.attachRef=function(e){t.inner=e});var a=Object.create(null);return l.forEach((function(e){a[e]=t.props[Ll(e)]})),t.state={values:a,prevProps:{}},t}Qn(r,e);var s=r.prototype;return s.shouldComponentUpdate=function(){return!this._notifying},r.getDerivedStateFromProps=function(e,t){var i=t.values,n=t.prevProps,o={values:(0,Te.A)(Object.create(null),i),prevProps:{}};return l.forEach((function(t){o.prevProps[t]=e[t],!Nl(e,t)&&Nl(n,t)&&(o.values[t]=e[Ll(t)])})),o},s.componentWillUnmount=function(){this.unmounted=!0},s.render=function(){var e=this,i=this.props,o=i.innerRef,r=(0,Ee.A)(i,["innerRef"]);c.forEach((function(e){delete r[e]}));var s={};return l.forEach((function(t){var i=e.props[t];s[t]=void 0!==i?i:e.state.values[t]})),n.createElement(t,(0,Te.A)({},r,s,this.handlers,{ref:o||this.attachRef}))},r}(n.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var i=null,n=null,o=null;if("function"===typeof t.componentWillMount?i="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(i="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?o="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==i||null!==n||null!==o){var r=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==i?"\n  "+i:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Il,t.componentWillReceiveProps=Ol),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=jl;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,i){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:i;a.call(this,e,t,n)}}}(d),d.displayName="Uncontrolled("+s+")",d.propTypes=(0,Te.A)({innerRef:function(){}},function(e,t){var i={};return Object.keys(e).forEach((function(e){i[Ll(e)]=Fl})),i}(i)),o.forEach((function(e){d.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var u=d;return n.forwardRef&&((u=n.forwardRef((function(e,t){return n.createElement(d,(0,Te.A)({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=d.propTypes),u.ControlledComponent=t,u.deferControlTo=function(t,n,o){return void 0===n&&(n={}),e(t,(0,Te.A)({},i,n),o)},u}(wg,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Sg=function(e,t,i){var n=e.start,o=e.end;return i.format(n,"LT",t)+" \u2013 "+i.format(o,"LT",t)},Rg={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Sg,eventTimeRangeFormat:Sg,eventTimeRangeStartFormat:function(e,t,i){var n=e.start;return i.format(n,"LT",t)+" \u2013 "},eventTimeRangeEndFormat:function(e,t,i){var n=e.end;return" \u2013 "+i.format(n,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,i){var n=e.start,o=e.end;return i.format(n,"MMMM DD",t)+" \u2013 "+i.format(o,i.eq(n,o,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,i){var n=e.start,o=e.end;return i.format(n,"L",t)+" \u2013 "+i.format(o,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Sg};function Mg(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function kg(e){function t(t,i){var n,o,r=e(t).local(),s=e(i).local();if(!e.tz)return r.toDate().getTimezoneOffset()-s.toDate().getTimezoneOffset();var a=null!==(n=null===r||void 0===r||null===(o=r._z)||void 0===o?void 0:o.name)&&void 0!==n?n:e.tz.guess();return e.tz.zone(a).utcOffset(+r)-e.tz.zone(a).utcOffset(+s)}function i(t,i,n){var o=Mg(n);return[o?e(t).startOf(o):e(t),o?e(i).startOf(o):e(i),o]}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=Mg(arguments.length>1?arguments[1]:void 0);return i?e(t).startOf(i).toDate():e(t).toDate()}function o(e,t,n){var o=El(i(e,t,n),3),r=o[0],s=o[1],a=o[2];return r.isSame(s,a)}function r(e,t,n){var o=El(i(e,t,n),3),r=o[0],s=o[1],a=o[2];return r.isSameOrBefore(s,a)}function s(t,i,n){var o=Mg(n);return e(t).add(i,o).toDate()}function a(t,i){var n=Mg(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),o=e(t);return e(i).diff(o,n)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function c(t){return e(t).endOf("month").endOf("week").toDate()}function d(t,i){var n=e(t),o=e(i);return e.duration(o.diff(n)).days()}return new Jh({formats:Rg,firstOfWeek:function(t){var i=t?e.localeData(t):e.localeData();return i?i.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:c,visibleDays:function(e){for(var t=l(e),i=c(e),n=[];r(t,i);)n.push(t),t=s(t,1,"d");return n},format:function(t,i,n){return(o=e(t),r=n,r?o.locale(r):o).format(i);var o,r},lt:function(e,t,n){var o=El(i(e,t,n),3),r=o[0],s=o[1],a=o[2];return r.isBefore(s,a)},lte:r,gt:function(e,t,n){var o=El(i(e,t,n),3),r=o[0],s=o[1],a=o[2];return r.isAfter(s,a)},gte:function(e,t,n){var o=El(i(e,t,n),3),r=o[0],s=o[1],a=o[2];return r.isSameOrBefore(s,a)},eq:o,neq:function(e,t,i){return!o(e,t,i)},merge:function(t,i){if(!t&&!i)return null;var n=e(i).format("HH:mm:ss"),o=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(o," ").concat(n),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,i,n){var o=Mg(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),r=e(t),s=e(i),a=e(n);return r.isBetween(s,a,o,"[]")},startOf:n,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=Mg(arguments.length>1?arguments[1]:void 0);return i?e(t).endOf(i).toDate():e(t).toDate()},range:function(t,i){for(var n=Mg(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),o=e(t).toDate(),a=[];r(o,i);)a.push(o),o=s(o,1,n);return a},add:s,diff:a,ceil:function(e,t){var i=Mg(t),r=n(e,i);return o(r,e)?r:s(r,1,i)},min:function(t,i){var n=e(t),o=e(i);return e.min(n,o).toDate()},max:function(t,i){var n=e(t),o=e(i);return e.max(n,o).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,i,n){return e(t).startOf("day").minute(i+n).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return a(e,t,"minutes")},getMinutesFromMidnight:function(i){var n=e(i).startOf("day");return e(i).diff(n,"minutes")+function(i){return t(e(i).startOf("day"),i)}(i)},continuesPrior:function(t,i){var n=e(t),o=e(i);return n.isBefore(o,"day")},continuesAfter:function(t,i,n){var o=e(i),r=e(n);return o.isSameOrAfter(r,"minutes")},sortEvents:function(e){var t=e.evtA,i=t.start,o=t.end,r=t.allDay,s=e.evtB,a=s.start,l=s.end,c=s.allDay,u=+n(i,"day")-+n(a,"day"),h=d(i,o),p=d(a,l);return u||p-h||!!c-!!r||+i-+a||+o-+l},inEventRange:function(t){var i=t.event,n=i.start,o=i.end,r=t.range,s=r.start,a=r.end,l=e(n).startOf("day"),c=e(o),d=e(s),u=e(a),h=l.isSameOrBefore(u,"day"),p=!l.isSame(c,"minutes")?c.isAfter(d,"minutes"):c.isSameOrAfter(d,"minutes");return h&&p},isSameDate:function(t,i){var n=e(t),o=e(i);return n.isSame(o,"day")},daySpan:d,browserTZOffset:function(){var t=new Date,i=/-/.test(t.toString())?"-":"",n=t.getTimezoneOffset(),o=Number("".concat(i).concat(Math.abs(n)));return e().utcOffset()>o?1:0}})}var Dg=i(6178),Ag=i.n(Dg);function Eg(e){return(0,Fe.Ay)("MuiDialog",e)}const Tg=(0,Rt.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Pg=n.createContext({}),Fg=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ng=(0,lt.Ay)(Ho,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Lg=(0,lt.Ay)(qo,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ig=(0,lt.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.container,t["scroll".concat((0,at.A)(i.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Og=(0,lt.Ay)(tr,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t["scrollPaper".concat((0,at.A)(i.scroll))],t["paperWidth".concat((0,at.A)(String(i.maxWidth)))],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===i.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===i.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!i.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===i.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(Tg.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},i.maxWidth&&"xs"!==i.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[i.maxWidth]).concat(t.breakpoints.unit),["&.".concat(Tg.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[i.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},i.fullWidth&&{width:"calc(100% - 64px)"},i.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(Tg.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),jg=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiDialog"}),o=lo(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:d,className:u,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:f,onClick:v,onClose:y,open:b,PaperComponent:C=tr,PaperProps:w={},scroll:x="paper",TransitionComponent:S=jo,transitionDuration:R=r,TransitionProps:M}=i,k=(0,Ee.A)(i,Fg),D=(0,Te.A)({},i,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:m,scroll:x}),A=(e=>{const{classes:t,scroll:i,maxWidth:n,fullWidth:o,fullScreen:r}=e,s={root:["root"],container:["container","scroll".concat((0,at.A)(i))],paper:["paper","paperScroll".concat((0,at.A)(i)),"paperWidth".concat((0,at.A)(String(n))),o&&"paperFullWidth",r&&"paperFullScreen"]};return(0,Ne.A)(s,Eg,t)})(D),E=n.useRef(),T=(0,ti.A)(a),P=n.useMemo((()=>({titleId:T})),[T]);return(0,it.jsx)(Lg,(0,Te.A)({className:(0,Pe.A)(A.root,u),closeAfterTransition:!0,components:{Backdrop:Ng},componentsProps:{backdrop:(0,Te.A)({transitionDuration:R,as:l},c)},disableEscapeKeyDown:h,onClose:y,open:b,ref:t,onClick:e=>{v&&v(e),E.current&&(E.current=null,f&&f(e),y&&y(e,"backdropClick"))},ownerState:D},k,{children:(0,it.jsx)(S,(0,Te.A)({appear:!0,in:b,timeout:R,role:"presentation"},M,{children:(0,it.jsx)(Ig,{className:(0,Pe.A)(A.container),onMouseDown:e=>{E.current=e.target===e.currentTarget},ownerState:D,children:(0,it.jsx)(Og,(0,Te.A)({as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":T},w,{className:(0,Pe.A)(A.paper,w.className),ownerState:D,children:(0,it.jsx)(Pg.Provider,{value:P,children:d})}))})}))}))})),Bg=jg;function _g(e){return(0,Fe.Ay)("MuiDialogTitle",e)}const Gg=(0,Rt.A)("MuiDialogTitle",["root"]),zg=["className","id"],Hg=(0,lt.Ay)(ei,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Vg=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiDialogTitle"}),{className:o,id:r}=i,s=(0,Ee.A)(i,zg),a=i,l=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},_g,t)})(a),{titleId:c=r}=n.useContext(Pg);return(0,it.jsx)(Hg,(0,Te.A)({component:"h2",className:(0,Pe.A)(l.root,o),ownerState:a,ref:t,variant:"h6",id:null!=r?r:c},s))})),Wg=Vg;function Ug(e){return(0,Fe.Ay)("MuiDialogContent",e)}(0,Rt.A)("MuiDialogContent",["root","dividers"]);const Yg=["className","dividers"],Kg=(0,lt.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},i.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(Gg.root," + &")]:{paddingTop:0}})})),qg=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiDialogContent"}),{className:n,dividers:o=!1}=i,r=(0,Ee.A)(i,Yg),s=(0,Te.A)({},i,{dividers:o}),a=(e=>{const{classes:t,dividers:i}=e,n={root:["root",i&&"dividers"]};return(0,Ne.A)(n,Ug,t)})(s);return(0,it.jsx)(Kg,(0,Te.A)({className:(0,Pe.A)(a.root,n),ownerState:s,ref:t},r))})),Xg=qg;function Zg(e){return(0,Fe.Ay)("MuiDialogActions",e)}(0,Rt.A)("MuiDialogActions",["root","spacing"]);const Qg=["className","disableSpacing"],Jg=(0,lt.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),$g=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:o=!1}=i,r=(0,Ee.A)(i,Qg),s=(0,Te.A)({},i,{disableSpacing:o}),a=(e=>{const{classes:t,disableSpacing:i}=e,n={root:["root",!i&&"spacing"]};return(0,Ne.A)(n,Zg,t)})(s);return(0,it.jsx)(Jg,(0,Te.A)({className:(0,Pe.A)(a.root,n),ownerState:s,ref:t},r))})),em=$g;var tm=Object.defineProperty,im=Object.getOwnPropertyDescriptor,nm=(e,t)=>{for(var i in t)tm(e,i,{get:t[i],enumerable:!0})},om=(e,t,i,n)=>{for(var o,r=n>1?void 0:n?im(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n?o(t,i,r):o(r))||r);return n&&r&&tm(t,i,r),r},rm={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarAnnotationsTrendLine:"Trend line",toolbarAnnotationsHorizontalLine:"Horizontal line",toolbarAnnotationsVerticalLine:"Vertical line",toolbarAnnotationsParallelChannel:"Parallel channel",toolbarAnnotationsDisjointChannel:"Disjoint channel",toolbarAnnotationsClearAll:"Clear all annotations",toolbarAnnotationsColor:"Pick annotation color",toolbarAnnotationsLock:"Lock annotation",toolbarAnnotationsUnlock:"Unlock annotation",toolbarAnnotationsDelete:"Delete annotation",toolbarRange1Month:"1m",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3m",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6m",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var sm=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(sm||{});nm({},{TimeInterval:()=>pm,day:()=>Nm,friday:()=>zm,hour:()=>Pm,millisecond:()=>mm,minute:()=>Am,monday:()=>jm,month:()=>Wm,saturday:()=>Hm,second:()=>Mm,sunday:()=>Om,thursday:()=>Gm,tuesday:()=>Bm,utcDay:()=>Zm,utcHour:()=>Xm,utcMinute:()=>qm,utcMonth:()=>Qm,utcYear:()=>Jm,wednesday:()=>_m,year:()=>Ym});var am=new Map;function lm(e,t){am.has(t)||(am.set(t,!0),e())}function cm(e){return e}function*dm(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)yield*n}function um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:o=!0}=null!==i&&void 0!==i?i:{};let r,s,a=!1;function l(){o&&s?(r=setTimeout(l,t),e(...s)):a=!1,s=null}return Object.assign((function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];a?s=o:(a=!0,r=setTimeout(l,t),n?e(...o):s=o)}),{cancel(){clearTimeout(r),a=!1,s=null}})}lm.clear=()=>am.clear();var hm={log(){console.log(...arguments)},warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.warn("AG Charts - ".concat(e),...i)},error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];"object"===typeof e?console.error("AG Charts error",e,...i):console.error("AG Charts - ".concat(e),...i)},table(){console.table(...arguments)},warnOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];lm((()=>hm.warn(e,...i)),"Logger.warn: ".concat(e))},errorOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];lm((()=>hm.error(e,...i)),"Logger.error: ".concat(e))}},pm=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){var n;const o=null===(n=this._rangeCallback)||void 0===n?void 0:n.call(this,e,t),r=this._encode(i?this.floor(e):this.ceil(e)),s=this._encode(i?this.ceil(t):this.floor(t));if(s<r)return[];const a=[];for(let l=r;l<=s;l++){const e=this._decode(l);a.push(e)}return null===o||void 0===o||o(),a}},gm=class extends pm{getOffset(e,t){const i="number"===typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i,n=0;const o=e;o!==(e=Math.max(1,Math.round(e)))&&hm.warnOnce("interval step of [".concat(o,"] rounded to [").concat(e,"]."));const{snapTo:r="start"}=null!==t&&void 0!==t?t:{};if("string"===typeof r){const t=n;i=(i,o)=>{const s="start"===r?i:o;return n=this.getOffset(s,e),()=>n=t}}else"number"===typeof r?n=this.getOffset(new Date(r),e):r instanceof Date&&(n=this.getOffset(r,e));return new pm((t=>{const i=this._encode(t);return Math.floor((i-n)/e)}),(t=>this._decode(t*e+n)),i)}};var mm=new gm((function(e){return e.getTime()}),(function(e){return new Date(e)})),fm=mm,vm=(new Date(0).getFullYear(),1e3),ym=60*vm,bm=60*ym,Cm=24*bm,wm=7*Cm,xm=30*Cm,Sm=365*Cm,Rm=(new Date).getTimezoneOffset()*ym;var Mm=new gm((function(e){return Math.floor((e.getTime()-Rm)/vm)}),(function(e){return new Date(Rm+e*vm)})),km=Mm,Dm=(new Date).getTimezoneOffset()*ym;var Am=new gm((function(e){return Math.floor((e.getTime()-Dm)/ym)}),(function(e){return new Date(Dm+e*ym)})),Em=Am,Tm=(new Date).getTimezoneOffset()*ym;var Pm=new gm((function(e){return Math.floor((e.getTime()-Tm)/bm)}),(function(e){return new Date(Tm+e*bm)})),Fm=Pm;var Nm=new gm((function(e){const t=e.getTimezoneOffset()*ym;return Math.floor((e.getTime()-t)/Cm)}),(function(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t})),Lm=Nm;function Im(e){const t=(7+e-4)%7;return new gm((function(e){const i=e.getTimezoneOffset()*ym;return Math.floor((e.getTime()-i)/wm-t/7)}),(function(e){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*e+t),i}))}var Om=Im(0),jm=Im(1),Bm=Im(2),_m=Im(3),Gm=Im(4),zm=Im(5),Hm=Im(6),Vm=Om;var Wm=new gm((function(e){return 12*e.getFullYear()+e.getMonth()}),(function(e){const t=Math.floor(e/12);return new Date(t,e-12*t,1)})),Um=Wm;var Ym=new gm((function(e){return e.getFullYear()}),(function(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t})),Km=Ym;var qm=new gm((function(e){return Math.floor(e.getTime()/ym)}),(function(e){return new Date(e*ym)}));var Xm=new gm((function(e){return Math.floor(e.getTime()/bm)}),(function(e){return new Date(e*bm)}));var Zm=new gm((function(e){return Math.floor(e.getTime()/Cm)}),(function(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}));var Qm=new gm((function(e){return 12*e.getUTCFullYear()+e.getUTCMonth()}),(function(e){const t=Math.floor(e/12),i=e-12*t;return new Date(Date.UTC(t,i,1))}));var Jm=new gm((function(e){return e.getUTCFullYear()}),(function(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t})),$m={};nm($m,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Wv,fromToMotion:()=>Uv,staticFromToMotion:()=>Yv});var ef=new Map;function tf(){ef.clear()}function nf(e){var t;const i=e.constructor,n=Object.hasOwn(i,"className")?i.className:i.name;if(!n)throw new Error("The ".concat(i," is missing the 'className' property."));const o=(null!==(t=ef.get(n))&&void 0!==t?t:0)+1;return ef.set(n,o),"".concat(n,"-").concat(o)}function of(){return URL.createObjectURL(new Blob).split("/").at(-1)}var rf="$interpolate",sf=e=>null!=e[rf];function af(e,t,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const o of i){const i=o.distanceSquared(e,t);if(0===i)return{nearest:o,distanceSquared:0};i<n.distanceSquared&&(n.nearest=o,n.distanceSquared=i)}return n}function lf(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:o,y:r}=i.transformPoint(e,t),s={nearest:void 0,distanceSquared:n};for(const a of i.children){const{nearest:e,distanceSquared:t}=a.nearestSquared(o,r,s.distanceSquared);if(0===t)return{nearest:e,distanceSquared:t};t<s.distanceSquared&&(s.nearest=e,s.distanceSquared=t)}return s}function cf(e,t,i){return Math.min(i,Math.max(e,t))}function df(e,t){const[i,n]=uf(t);return cf(i,e,n)}function uf(e){return e.length?[Math.min(...e),Math.max(...e)]:[]}function hf(e){const[t,i]=uf(e);return i-t}function pf(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(e-t)<i}function gf(e){return-1===Math.sign(e)||Object.is(e,-0)}function mf(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(e*t)/t}function ff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function vf(e,t){return Math.floor(e%t+(e<0?t:0))}function yf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[,i=""]=(Math.abs(e)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return i.length}function bf(e,t){var i;return t=null!==(i=t)&&void 0!==i?i:navigator.language,new Intl.NumberFormat(t,{style:"percent"}).format(e)}function Cf(e,t){return bf(e/100,t)}var wf=class e{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}static fromDOMRect(t){let{x:i,y:n,width:o,height:r}=t;return new e(i,n,o,r)}clone(){const{x:t,y:i,width:n,height:o}=this;return new e(t,i,n,o)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const i=e-cf(this.x,e,this.x+this.width),n=t-cf(this.y,t,this.y+this.height);return i*i+n*n}static nearestBox(e,t,i){return af(e,t,i)}clip(e){if(void 0===e)return this;const t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.y=i,this.width=Math.max(0,n-t),this.height=Math.max(0,o-i),this}shrink(e,t){const i=(e,t)=>{switch(e){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=2*t;break;case"horizontal":this.x+=t,this.width-=2*t;break;case void 0:this.x+=t,this.width-=2*t,this.y+=t,this.height-=2*t}};return"number"===typeof e?i(t,e):"object"===typeof e&&Object.entries(e).forEach((e=>{let[t,n]=e;return i(t,n)})),this}grow(e,t){if("number"===typeof e)this.shrink(-e,t);else{const t={...e};for(const e in t)t[e]*=-1;this.shrink(t)}return this}translate(e,t){return this.x+=e,this.y+=t,this}combine(e){const{x:t,y:i,width:n,height:o}=this;this.x=Math.min(t,e.x),this.y=Math.min(i,e.y),this.width=Math.max(t+n,e.x+e.width)-this.x,this.height=Math.max(i+o,e.y+e.height)-this.y}static merge(t){let i=1/0,n=1/0,o=-1/0,r=-1/0;for(const e of t)e.x<i&&(i=e.x),e.y<n&&(n=e.y),e.x+e.width>o&&(o=e.x+e.width),e.y+e.height>r&&(r=e.y+e.height);return new e(i,n,o-i,r-n)}[rf](t,i){return new e(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};wf.zero=new wf(0,0,0,0),wf.NaN=new wf(NaN,NaN,NaN,NaN);var xf=wf,Sf=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(Sf||{});function Rf(e){return function(t,i){const n="__".concat(i);t[i]||function(e,t,i,n){const{redraw:o=1,type:r="normal",changeCb:s,convertor:a,checkDirtyOnAssignment:l=!1}=null!==n&&void 0!==n?n:{},c={redraw:o,type:r,changeCb:s,checkDirtyOnAssignment:l,convertor:a};let d;switch(r){case"normal":d=function(e,t){const{redraw:i=1,changeCb:n}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirty(this,i),null===n||void 0===n||n(this),t):Mf}}(i,c);break;case"transform":d=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirtyTransform(i),t):Mf}}(i,c);break;case"path":d=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,i)),t):Mf}}(i,c);break;case"font":d=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,i)),t):Mf}}(i,c)}d=function(e,t){const{checkDirtyOnAssignment:i}=t;if(i)return function(t){const i=e.call(this,t);return i!==Mf&&null!=t&&t._dirty>0&&this.markDirty(t,t._dirty),i};return e}(function(e,t){const{changeCb:i}=t;if(i)return function(t){const n=e.call(this,t);return n!==Mf&&i.call(this,this),n};return e}(function(e,t){const{convertor:i}=t;if(i)return function(t){e.call(this,i(t))};return e}(d,c),c),c);const u=function(){return this[i]};Object.defineProperty(e,t,{set:d,get:u,enumerable:!0,configurable:!0})}(t,i,n,e)}}var Mf=Symbol("no-change");var kf=class{constructor(){this._dirty=3}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Df=class e{get e(){return[...this.elements]}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.elements=e}setElements(e){const t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this}get identity(){const e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}AxB(e,t,i){var n;const o=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],s=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],l=e[0]*t[4]+e[2]*t[5]+e[4],c=e[1]*t[4]+e[3]*t[5]+e[5];(i=null!==(n=i)&&void 0!==n?n:e)[0]=o,i[1]=r,i[2]=s,i[3]=a,i[4]=l,i[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(t){const i=new Array(6);return this.AxB(this.elements,t.elements,i),new e(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],o=t[2],r=t[3];const s=t[4],a=t[5],l=1/(i*r-n*o);return i*=l,n*=l,o*=l,r*=l,new e([r,-n,-o,i,o*a-r*s,n*s-i*a])}inverseTo(e){const t=this.elements;let i=t[0],n=t[1],o=t[2],r=t[3];const s=t[4],a=t[5],l=1/(i*r-n*o);return i*=l,n*=l,o*=l,r*=l,e.setElements([r,-n,-o,i,o*a-r*s,n*s-i*a]),this}invertSelf(){const e=this.elements;let t=e[0],i=e[1],n=e[2],o=e[3];const r=e[4],s=e[5],a=1/(t*o-i*n);return t*=a,i*=a,n*=a,o*=a,e[0]=o,e[1]=-i,e[2]=-n,e[3]=t,e[4]=n*s-o*r,e[5]=i*r-t*s,this}transformPoint(e,t){const i=this.elements;return{x:e*i[0]+t*i[2]+i[4],y:e*i[1]+t*i[3]+i[5]}}transformBBox(e,t){const i=this.elements,n=i[0],o=i[1],r=i[2],s=i[3],a=.5*e.width,l=.5*e.height,c=e.x+a,d=e.y+l,u=Math.abs(a*n)+Math.abs(l*r),h=Math.abs(a*o)+Math.abs(l*s);return t||(t=new xf(0,0,0,0)),t.x=c*n+d*r+i[4]-u,t.y=c*o+d*s+i[5]-h,t.width=u+u,t.height=h+h,t}toContext(e){if(this.identity)return;const t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}static flyweight(t){return e.instance.setElements(t.elements)}static updateTransformMatrix(e,t,i,n,o,r,s){const[a,l]=[0,0],c=t,d=i;let u,h;1===c&&1===d?(u=0,h=0):(u=null==(null===s||void 0===s?void 0:s.scalingCenterX)?a:null===s||void 0===s?void 0:s.scalingCenterX,h=null==(null===s||void 0===s?void 0:s.scalingCenterY)?l:null===s||void 0===s?void 0:s.scalingCenterY);const p=n,g=Math.cos(p),m=Math.sin(p);let f,v;0===p?(f=0,v=0):(f=null==(null===s||void 0===s?void 0:s.rotationCenterX)?a:null===s||void 0===s?void 0:s.rotationCenterX,v=null==(null===s||void 0===s?void 0:s.rotationCenterY)?l:null===s||void 0===s?void 0:s.rotationCenterY);const y=o,b=r,C=u*(1-c)-f,w=h*(1-d)-v;return e.setElements([g*c,m*c,-m*d,g*d,g*C-m*w+f+y,m*C+g*w+v+b]),e}static fromContext(t){const i=t.getTransform();return new e([i.a,i.b,i.c,i.d,i.e,i.f])}};Df.instance=new Df;var Af=Df,Ef=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(Ef||{}),Tf=class e extends kf{constructor(){let{isVirtual:t,tag:i,zIndex:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.serialNumber=e._nextSerialNumber++,this.id=nf(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Af,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=null!==t&&void 0!==t&&t,this.tag=null!==i&&void 0!==i?i:NaN,this.zIndex=null!==n&&void 0!==n?n:0}get datum(){var e,t;return null!==(e=this._datum)&&void 0!==e?e:null===(t=this._parent)||void 0===t?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum),this._datum=e}_setLayerManager(e){this._layerManager=e,this._debug=null===e||void 0===e?void 0:e.debug;for(const t of this._children)t._setLayerManager(e);for(const t of this._virtualChildren)t._setLayerManager(e)}get layerManager(){return this._layerManager}*ancestors(){let e=this;for(;e=e.parent;)yield e}*traverseUp(){yield this,yield*this.ancestors()}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap((e=>e.children))):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(e,t){const i=null!==t&&void 0!==t?t:Object.keys(e);for(const n of i)this[n]=e[n];return this}append(e){Array.isArray(e)||(e=[e]);for(const t of e){if(t.parent)throw new Error("".concat(t," already belongs to another parent: ").concat(t.parent,"."));if(t.layerManager)throw new Error("".concat(t," already belongs to a scene: ").concat(t.layerManager,"."));if(this.childSet[t.id])throw new Error("Duplicate ".concat(t.constructor.name," node: ").concat(t));t.isVirtual?this._virtualChildren.push(t):this._children.push(t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(e){return this.append(e),e}removeChild(e){const t=()=>{throw new Error("The node to be removed is not a child of this node.")};if(e.parent!==this&&t(),e.isVirtual){const i=this._virtualChildren.indexOf(e);i<0&&t(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(e);i<0&&t(),this._children.splice(i,1)}return delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,3),e}calculateCumulativeMatrix(){this.computeTransformMatrix();const e=Af.flyweight(this.matrix);for(const t of this.ancestors())t.computeTransformMatrix(),e.preMultiplySelf(t.matrix);return e}transformPoint(e,t){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,t)}inverseTransformPoint(e,t){return this.calculateCumulativeMatrix().transformPoint(e,t)}transformBBox(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)}inverseTransformBBox(e){return this.calculateCumulativeMatrix().transformBBox(e)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}containsPoint(e,t){return!1}pickNode(e,t){if(!this.visible||1===this.pointerEvents||!this.containsPoint(e,t))return;const{children:i}=this;if(i.length>1e3)for(let o=i.length-1;o>=0;o--){var n;const r=i[o],s=(null===(n=r.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(e,t))?r.pickNode(e,t):void 0;if(s)return s}else if(i.length)for(let o=i.length-1;o>=0;o--){const n=i[o].pickNode(e,t);if(n)return n}else if(!this.isContainerNode)return this}getCachedBBox(){var e;return null!==(e=this.cachedBBox)&&void 0!==e?e:xf.zero}computeBBox(){}computeTransformedBBox(){const e=this.computeBBox();if(!e)return;this.computeTransformMatrix();const t=Af.flyweight(this.matrix);for(const i of this.ancestors())i.computeTransformMatrix(),t.preMultiplySelf(i.matrix);return t.transformBBox(e,e),e}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:e,scalingX:t,scalingY:i,rotation:n,translationX:o,translationY:r,scalingCenterX:s,scalingCenterY:a,rotationCenterX:l,rotationCenterY:c}=this;Af.updateTransformMatrix(e,t,i,n,o,r,{scalingCenterX:s,scalingCenterY:a,rotationCenterX:l,rotationCenterY:c}),this.dirtyTransform=!1}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(const e of this.children){const t=e.preRender();this._childNodeCounts.groups+=t.groups,this._childNodeCounts.nonGroups+=t.nonGroups}return this._childNodeCounts}render(e){const{stats:t}=e;this._dirty=0,this.cachedBBox=this.computeBBox(),t&&t.nodesRendered++}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this._dirty>t||this._dirty===t&&t===i||(this._dirty=t,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(e){const{force:t=!1,recursive:i=!0}=null!==e&&void 0!==e?e:{};if(0!==this._dirty||t){if(this._dirty=0,!1!==i)for(const e of this._virtualChildren)e.markClean({force:t});if(!0===i)for(const e of this._children)e.markClean({force:t})}}onVisibleChange(){}get nodeCount(){let e=1,t=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const n=n=>{const{count:o,visibleCount:r,dirtyCount:s}=n.nodeCount;e+=o,i+=r,t+=s};for(const o of this._children)n(o);for(const o of this._virtualChildren)n(o);return{count:e,visibleCount:i,dirtyCount:t}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};Tf._nextSerialNumber=0,om([Rf({type:"transform"})],Tf.prototype,"scalingX",2),om([Rf({type:"transform"})],Tf.prototype,"scalingY",2),om([Rf({type:"transform"})],Tf.prototype,"scalingCenterX",2),om([Rf({type:"transform"})],Tf.prototype,"scalingCenterY",2),om([Rf({type:"transform"})],Tf.prototype,"rotationCenterX",2),om([Rf({type:"transform"})],Tf.prototype,"rotationCenterY",2),om([Rf({type:"transform"})],Tf.prototype,"rotation",2),om([Rf({type:"transform"})],Tf.prototype,"translationX",2),om([Rf({type:"transform"})],Tf.prototype,"translationY",2),om([Rf({redraw:3,changeCb:e=>e.onVisibleChange()})],Tf.prototype,"visible",2),om([Rf({redraw:1,changeCb:e=>e.onZIndexChange()})],Tf.prototype,"zIndex",2),om([Rf({redraw:1,changeCb:e=>e.onZIndexChange()})],Tf.prototype,"zIndexSubOrder",2);var Pf=Tf,Ff=(e,t,i)=>e*(1-i)+t*i,Nf=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},Lf=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},If=class e{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=cf(0,e||0,1),this.g=cf(0,t||0,1),this.b=cf(0,i||0,1),this.a=cf(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!e.parseHex(t):t.indexOf("rgb")>=0?!!e.stringToRgba(t):!!e.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return e.fromHexString(t);const i=e.nameToHex[t.toLowerCase()];if(i)return e.fromHexString(i);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '".concat(t,"'"))}static parseHex(e){var t;let i;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(let t=0;t<e.length;t+=2)i.push(parseInt("".concat(e[t]).concat(e[t+1]),16));break;case 3:case 4:i=e.split("").map((e=>parseInt(e,16))).map((e=>e+16*e))}if((null===(t=i)||void 0===t?void 0:t.length)>=3&&i.every((e=>e>=0)))return 3===i.length&&i.push(255),i}static fromHexString(t){const i=e.parseHex(t);if(i){const[t,n,o,r]=i;return new e(t/255,n/255,o/255,r/255)}throw new Error("Malformed hexadecimal color string: '".concat(t,"'"))}static stringToRgba(e){let t=-1,i=-1;for(let r=0;r<e.length;r++){const n=e[r];if(-1===t&&"("===n)t=r;else if(")"===n){i=r;break}}if(-1===t||-1===i)return;const n=e.substring(t+1,i).split(","),o=[];for(let r=0;r<n.length;r++){const e=n[r];let t=parseFloat(e);if(!Number.isFinite(t))return;e.indexOf("%")>=0?(t=cf(0,t,100),t/=100):3===r?t=cf(0,t,1):(t=cf(0,t,255),t/=255),o.push(t)}return o}static fromRgbaString(t){const i=e.stringToRgba(t);if(i){if(3===i.length)return new e(i[0],i[1],i[2]);if(4===i.length)return new e(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '".concat(t,"'"))}static fromArray(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=e.HSBtoRGB(t,i,n);return new e(r[0],r[1],r[2],o)}static fromHSL(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=e.HSLtoRGB(t,i,n);return new e(r[0],r[1],r[2],o)}static fromOKLCH(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=e.OKLCHtoRGB(t,i,n);return new e(r[0],r[1],r[2],o)}static padHex(e){return 1===e.length?"0"+e:e}toHexString(){let t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*i)/i),"rgba(".concat(t.join(", "),")")):"rgb(".concat(t.join(", "),")")}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return e.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,t,i){const n=Nf(e),o=Nf(t),r=Nf(i),s=Math.cbrt(.4122214708*n+.5363325363*o+.0514459929*r),a=Math.cbrt(.2119034982*n+.6806995451*o+.1073969566*r),l=Math.cbrt(.0883024619*n+.2817188376*o+.6299787005*r),c=.2104542553*s+.793617785*a-.0040720468*l,d=1.9779984951*s-2.428592205*a+.4505937099*l,u=.0259040371*s+.7827717662*a-.808675766*l,h=180*Math.atan2(u,d)/Math.PI;return[c,Math.hypot(d,u),h>=0?h:h+360]}static OKLCHtoRGB(e,t,i){const n=e,o=t*Math.cos(i*Math.PI/180),r=t*Math.sin(i*Math.PI/180),s=(n+.3963377774*o+.2158037573*r)**3,a=(n-.1055613458*o-.0638541728*r)**3,l=(n-.0894841775*o-1.291485548*r)**3,c=-1.2684380046*s+2.6097574011*a-.3413193965*l,d=-.0041960863*s-.7034186147*a+1.707614701*l;return[Lf(4.0767416621*s-3.3077115913*a+.2309699292*l),Lf(c),Lf(d)]}static RGBtoHSL(e,t,i){const n=Math.min(e,t,i),o=Math.max(e,t,i),r=(o+n)/2;let s,a;if(o===n)s=0,a=0;else{const l=o-n;a=r>.5?l/(2-o-n):l/(o+n),s=o===e?(t-i)/l+(t<i?6:0):o===t?(i-e)/l+2:(e-t)/l+4,s*=60}return[s,a,r]}static HSLtoRGB(e,t,i){if(0===t)return[i,i,i];const n=i<.5?i*(1+t):i+t-i*t,o=2*i-n;function r(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?o+6*(n-o)*e:e<.5?n:e<2/3?o+(n-o)*(2/3-e)*6:o}return[r((e=(e%360+360)%360)/360+1/3),r(e/360),r(e/360-1/3)]}static RGBtoHSB(e,t,i){const n=Math.min(e,t,i),o=Math.max(e,t,i);let r=0;if(n!==o){const s=o-n,a=(o-e)/s,l=(o-t)/s,c=(o-i)/s;r=e===o?c-l:t===o?2+a-c:4+l-a,r/=6,r<0&&(r+=1)}return[360*r,0===o?0:(o-n)/o,o]}static HSBtoRGB(e,t,i){e=(e%360+360)%360/360;let n=0,o=0,r=0;if(0===t)n=o=r=i;else{const s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=i*(1-t),c=i*(1-t*a),d=i*(1-t*(1-a));switch(s|0){case 0:n=i,o=d,r=l;break;case 1:n=c,o=i,r=l;break;case 2:n=l,o=i,r=d;break;case 3:n=l,o=c,r=i;break;case 4:n=d,o=l,r=i;break;case 5:n=i,o=l,r=c}}return[n,o,r]}static mix(t,i,n){return new e(Ff(t.r,i.r,n),Ff(t.g,i.g,n),Ff(t.b,i.b,n),Ff(t.a,i.a,n))}};If.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Of=If;function jf(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function Bf(e,t){if("string"===typeof e)try{e=Of.fromString(e)}catch(YQ){e=Of.fromArray([0,0,0])}if("string"===typeof t)try{t=Of.fromString(t)}catch(YQ){t=Of.fromArray([0,0,0])}return i=>Of.mix(e,t,i).toRgbaString()}var _f=Symbol("BREAK"),Gf="__decorator_config";function zf(e,t){null==Object.getOwnPropertyDescriptor(e,Gf)&&Object.defineProperty(e,Gf,{value:{}});const i=e[Gf],n=t.toString();if("undefined"!==typeof i[n])return i[n];const o=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:o};const r=Object.getOwnPropertyDescriptor(e,t),s=null===r||void 0===r?void 0:r.set,a=null===r||void 0===r?void 0:r.get;return Object.defineProperty(e,t,{set:function(e){const{setters:r,observers:l}=i[n];let c;r.some((e=>e.length>2))&&(c=a?a.call(this):o.get(this));for(const i of r)if((e=i(this,t,e,c))===_f)return;s?s.call(this,e):o.set(this,e);for(const t of l)t(this,e,c)},get:function(){let e=a?a.call(this):o.get(this);for(const o of i[n].getters)if(e=o(this,t,e),e===_f)return;return e},enumerable:!0,configurable:!1}),i[n]}function Hf(e,t,i){return(n,o)=>{const r=zf(n,o);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function Vf(e){return"undefined"!==typeof e&&Gf in e}function Wf(e){const t=new Set;for(;Vf(e);){var i;t.add(null===(i=e)||void 0===i?void 0:i[Gf]),e=Object.getPrototypeOf(e)}return Array.from(t).flatMap((e=>Object.keys(e)))}function Uf(e){return Wf(e).reduce(((t,i)=>{var n;return t[i]=null!==(n=e[i])&&void 0!==n?n:null,t}),{})}function Yf(e){return null!=e}function Kf(e){return Array.isArray(e)}function qf(e){return"boolean"===typeof e}function Xf(e){return e instanceof Date}function Zf(e){return Xf(e)&&!isNaN(Number(e))}function Qf(e){return e instanceof RegExp}function Jf(e){return"function"===typeof e}function $f(e){return"object"===typeof e&&null!==e&&!Kf(e)}function ev(e){return Kf(e)||tv(e)}function tv(e){return"object"===typeof e&&null!==e&&e.constructor===Object}function iv(e){return"string"===typeof e}function nv(e){return"number"===typeof e}function ov(e){return nv(e)&&Number.isFinite(e)}function rv(e){return"undefined"!==typeof window&&e instanceof HTMLElement}function sv(e,t){return iv(t)&&Object.keys(e).includes(t)}function av(e,t){return Object.values(e).includes(t)}function lv(e){return"symbol"===typeof e}function cv(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return dv(...t.reverse())}function dv(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const r of i){if(!$f(r))continue;const t=Vf(r)?Wf(r):Object.keys(r);for(const i of t){var o;if(tv(e[i])&&tv(r[i]))e[i]=dv(e[i],r[i]);else null!==(o=e[i])&&void 0!==o||(e[i]=r[i])}}return e}function uv(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i&&Kf(e)?e.map((e=>dv(e,...i))):e}function hv(e,t){return Object.entries(e).reduce(((i,n)=>{let[o,r]=n;return i[o]=t(r,o,e),i}),{})}function pv(e,t){const i={...e};for(const n of t)delete i[n];return i}function gv(e,t){return(Kf(t)?t:t.split(".")).reduce(((e,t)=>e[t]),e)}var mv=new Set(["__proto__","constructor","prototype"]);function fv(e,t,i){const n=Kf(t)?t.slice():t.split("."),o=n.pop();if(n.some((e=>mv.has(e))))return;const r=n.reduce(((e,t)=>e[t]),e);return r[o]=i,r[o]}function vv(e,t,i){if(void 0===i)return t;for(const n of e){const e=i[n];void 0!==e&&(t[n]=e)}return t}var yv=class{set(e){const{className:t=this.constructor.name}=this.constructor;if("object"!==typeof e)return hm.warn("unable to set ".concat(t," - expecting a properties object")),this;const i=new Set(Object.keys(e));for(const n of Wf(this))if(i.has(n)){const t=e[n],o=this;Cv(o[n])?o[n]=o[n]instanceof bv?o[n].reset(t):o[n].set(t):o[n]=t,i.delete(n)}for(const n of i)hm.warn("unable to set [".concat(n,"] in ").concat(t," - property is unknown"));return this}isValid(e){return Wf(this).every((t=>{const{optional:i}=function(e,t){const i=t.toString();for(;Vf(e);){const t=e[Gf];if(Object.hasOwn(t,i))return t[i];e=Object.getPrototypeOf(e)}}(this,t),n=!0===i||"undefined"!==typeof this[t];return n||hm.warnOnce("".concat(null!==e&&void 0!==e?e:"","[").concat(t,"] is required.")),n}))}toJson(){return Wf(this).reduce(((e,t)=>{const i=this[t];return e[t]=Cv(i)?i.toJson():i,e}),{})}},bv=class e extends Array{constructor(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];super(i.length);const o=(e=>{var t;return Boolean(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)})(e)?t=>(new e).set(t):e;Object.defineProperty(this,"itemFactory",{value:o,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(Kf(e)){this.length=e.length;for(let t=0;t<e.length;t++)this[t]=this.itemFactory(e[t])}return this}reset(t){return new e(this.itemFactory,...t)}toJson(){return this.map((e=>{var t,i;return null!==(t=null===e||void 0===e||null===(i=e.toJson)||void 0===i?void 0:i.call(e))&&void 0!==t?t:e}))}};function Cv(e){return e instanceof yv||e instanceof bv}var wv="class-instance";function xv(e,t,i){if(Kf(t)){if(!Kf(e)||e.length!==t.length||t.some(((t,i)=>null!=xv(e[i],t))))return t}else{if(tv(t)){if(!tv(e))return t;const n={},o=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of o)if(!(e[r]===t[r]||null!==i&&void 0!==i&&i.includes(r)))if(typeof e[r]===typeof t[r]){const i=xv(e[r],t[r]);null!==i&&(n[r]=i)}else n[r]=t[r];return Object.keys(n).length?n:null}if(e!==t)return t}return null}function Sv(e,t){return Kf(e)?e.map((e=>Sv(e,t))):tv(e)?hv(e,((e,i)=>{var n;return null!==t&&void 0!==t&&null!==(n=t.shallow)&&void 0!==n&&n.includes(i)?Rv(e):Sv(e,t)})):Rv(e)}function Rv(e){return Kf(e)?[...e]:tv(e)?{...e}:Xf(e)?new Date(e):Qf(e)?new RegExp(e.source,e.flags):e}function Mv(e,t,i){for(var n=arguments.length,o=new Array(n>3?n-3:0),r=3;r<n;r++)o[r-3]=arguments[r];if(Kf(e))t(e,...o),e.forEach(((e,n)=>{Mv(e,t,i,...Dv(o,n))}));else if(tv(e)){t(e,...o);for(const n of Object.keys(e)){var s;if(null!==i&&void 0!==i&&null!==(s=i.skip)&&void 0!==s&&s.includes(n))continue;const r=e[n];(Kf(r)||tv(r))&&Mv(r,t,i,...Dv(o,n))}}}function kv(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,constructedArrays:o,matcherPath:r=(null===n||void 0===n?void 0:n.replace(/(\[[0-9+]+])/i,"[]")),skip:s=[]}=i;if(null==e)throw new Error("AG Charts - target is uninitialised: ".concat(null!==n&&void 0!==n?n:"<root>"));if(null==t)return e;if(Cv(e))return e.set(t);const a=e,l=Av(e);for(const u in t){if(mv.has(u))continue;const h="".concat(r?r+".":"").concat(u);if(s.includes(h))continue;const p=t[u],g="".concat(n?n+".":"").concat(u),m=a.constructor,f=a[u];let v;try{const t=Av(f),n=Av(p);if(l===wv&&!(u in e)){hm.warn("unable to set [".concat(g,"] in ").concat(null===m||void 0===m?void 0:m.name," - property is unknown"));continue}if(null!=t&&null!=n&&n!==t&&(t!==wv||"object"!==n)){hm.warn("unable to set [".concat(g,"] in ").concat(null===m||void 0===m?void 0:m.name," - can't apply type of [").concat(n,"], allowed types are: [").concat(t,"]"));continue}if(Cv(f))a[u].set(p);else if("array"===n){var c;if(null!==(c=v)&&void 0!==c||(v=null===o||void 0===o?void 0:o.get(f)),null==v)a[u]=p;else{const e=p;a[u]=e.map((e=>kv(new v,e,{...i,path:g,matcherPath:h+"[]"})))}}else n===wv?a[u]=p:"object"===n?null!=f?kv(f,p,{...i,path:g,matcherPath:h}):null==v?(a[u]={},kv(a[u],p,{...i,path:g,matcherPath:h})):a[u]=kv(new v,p,{...i,path:g,matcherPath:h}):a[u]=p}catch(d){hm.warn("unable to set [".concat(g,"] in [").concat(null===m||void 0===m?void 0:m.name,"]; nested error is: ").concat(d.message))}}return e}function Dv(e,t){return e.map((e=>null===e||void 0===e?void 0:e[t]))}function Av(e){return null==e?null:rv(e)||Xf(e)?"primitive":Kf(e)?"array":$f(e)?tv(e)?"object":wv:Jf(e)?"function":"primitive"}var Ev={};nm(Ev,{easeIn:()=>Pv,easeInOut:()=>Nv,easeInOutQuad:()=>Ov,easeInQuad:()=>Lv,easeOut:()=>Fv,easeOutQuad:()=>Iv,inverseEaseOut:()=>jv,linear:()=>Tv});var Tv=e=>e,Pv=e=>1-Math.cos(e*Math.PI/2),Fv=e=>Math.sin(e*Math.PI/2),Nv=e=>-(Math.cos(e*Math.PI)-1)/2,Lv=e=>e*e,Iv=e=>1-(1-e)**2,Ov=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,jv=e=>2*Math.asin(e)/Math.PI,Bv=.2,_v=["initial","remove","update","add","trailing","end","none"],Gv={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Bv,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},zv=(e=>(e.Loop="loop",e.Reverse="reverse",e))(zv||{});function Hv(e){return e.every((e=>e instanceof Pf))?{nodes:e,selections:[]}:{nodes:[],selections:e}}var Vv=class{constructor(e){var t,i,n,o;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=null===(t=e.autoplay)||void 0===t||t,this.ease=null!==(i=e.ease)&&void 0!==i?i:Tv,this.phase=e.phase;const r=null!==(n=e.duration)&&void 0!==n?n:Gv[this.phase].animationDuration;var s,a,l;(this.duration=r*e.defaultDuration,this.delay=(null!==(o=e.delay)&&void 0!==o?o:0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,!0===e.skip)&&(null===(s=this.onUpdate)||void 0===s||s.call(this,e.to,!1,this),null===(a=this.onStop)||void 0===a||a.call(this,this),null===(l=this.onComplete)||void 0===l||l.call(this,this),this.isComplete=!0);!1!==e.collapsable&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){if(e.from===e.to)return 0;return("object"===typeof e.from?xv(e.from,e.to):null)?t:0}play(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,null===(e=this.onPlay)||void 0===e||e.call(this,this),this.autoplay&&(this.autoplay=!1,i&&(null===(t=this.onUpdate)||void 0===t||t.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var e;(this.isPlaying=!1,this.isComplete)||(this.isComplete=!0,null===(e=this.onStop)||void 0===e||e.call(this,this))}update(e){var t;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);null===(t=this.onUpdate)||void 0===t||t.call(this,n,!1,this);const o=this.delay+this.duration;var r;return this.elapsed>=o?(this.stop(),this.isComplete=!0,null===(r=this.onComplete)||void 0===r||r.call(this,this),e-(o-i)):0}get delta(){return this.ease(cf(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if("object"!==typeof t||sf(t))return this.interpolateValue(e,t);const i=[];for(const n in t){const o=this.interpolateValue(e[n],t[n]);null!=o&&i.push([n,o])}return e=>{const t={};for(const[n,o]of i)t[n]=o(e);return t}}interpolateValue(e,t){if(void 0!==e&&void 0!==t){if(sf(e))return i=>e[rf](t,i);try{switch(typeof e){case"number":return jf(e,t);case"string":return Bf(e,t);case"boolean":if(e===t)return()=>e}}catch(YQ){}throw new Error("Unable to interpolate values: ".concat(e,", ").concat(t))}}},Wv={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Uv(e,t,i,n,o,r,s){const{fromFn:a,toFn:l,intermediateFn:c}=o,{nodes:d,selections:u}=Hv(n),h=(n,o)=>{let d,u=0,h=0;for(const g of o){var p;const m=n[u]===g,f={last:h>=o.length-1,lastLive:u>=n.length-1,prev:o[h-1],prevFromProps:d,prevLive:n[u-1],next:o[h+1],nextLive:n[u+(m?1:0)]},v="".concat(e,"_").concat(t,"_").concat(g.id);i.stopByAnimationId(v);let y="unknown";m?r&&s&&(y=Kv(g,g.datum,r,s)):y="removed";const{phase:b,start:C,finish:w,delay:x,duration:S,...R}=a(g,g.datum,y,f),{phase:M,start:k,finish:D,delay:A,duration:E,...T}=l(g,g.datum,y,f),P=null==w&&null==D;i.animate({id:v,groupId:e,phase:null!==(p=null!==b&&void 0!==b?b:M)&&void 0!==p?p:"update",duration:null!==S&&void 0!==S?S:E,delay:null!==x&&void 0!==x?x:A,from:R,to:T,ease:Fv,collapsable:P,onPlay:()=>{g.setProperties({...C,...k})},onUpdate(e){g.setProperties(e),c&&g.setProperties(c(g,g.datum,y,f))},onStop:()=>{g.setProperties({...C,...k,...R,...T,...w,...D})}}),m&&u++,h++,d=R}};let p=0;for(const g of u){const n=g.nodes();h(n.filter((e=>!g.isGarbage(e))),n),i.animate({id:"".concat(e,"_").concat(t,"_selection_").concat(p),groupId:e,phase:"end",from:0,to:1,ease:Fv,onStop(){g.cleanup()}}),p++}h(d,d)}function Yv(e,t,i,n,o,r,s){const{nodes:a,selections:l}=Hv(n),{start:c,finish:d,phase:u}=s,h=null==d;i.animate({id:"".concat(e,"_").concat(t),groupId:e,phase:null!==u&&void 0!==u?u:"update",from:o,to:r,ease:Fv,collapsable:h,onPlay:()=>{if(c){for(const e of a)e.setProperties(c);for(const e of l)for(const t of e.nodes())t.setProperties(c)}},onUpdate(e){for(const t of a)t.setProperties(e);for(const t of l)for(const i of t.nodes())i.setProperties(e)},onStop:()=>{for(const e of a)e.setProperties({...r,...d});for(const e of l)for(const t of e.nodes())t.setProperties({...r,...d})}})}function Kv(e,t,i,n){const o=i(e,t);return n.added.has(o)?"added":n.removed.has(o)?"removed":"updated"}var qv={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Xv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(e.getFullYear(),0,1);const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+6e4*i;return Math.floor(n/864e5)}function Zv(e,t){const i=(t-new Date(e.getFullYear(),0,1).getDay()+7)%7,n=new Date(e.getFullYear(),0,i+1);return n<=e?Math.floor(Xv(e,n)/7)+1:0}function Qv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getFullYear();const i=new Date(t,0,1).getDay(),n=new Date(t,0,(4-i+7)%7-3+1);return n<=e?Math.floor(Xv(e,n)/7)+1:Qv(e,t-1)}var Jv={a:e=>qv.shortDays[e.getDay()],A:e=>qv.days[e.getDay()],b:e=>qv.shortMonths[e.getMonth()],B:e=>qv.months[e.getMonth()],c:"%x, %X",d:(e,t)=>ey(e.getDate(),2,null!==t&&void 0!==t?t:"0"),e:"%_d",f:(e,t)=>ey(1e3*e.getMilliseconds(),6,null!==t&&void 0!==t?t:"0"),H:(e,t)=>ey(e.getHours(),2,null!==t&&void 0!==t?t:"0"),I:(e,t)=>{const i=e.getHours()%12;return 0===i?"12":ey(i,2,null!==t&&void 0!==t?t:"0")},j:(e,t)=>ey(Xv(e)+1,3,null!==t&&void 0!==t?t:"0"),m:(e,t)=>ey(e.getMonth()+1,2,null!==t&&void 0!==t?t:"0"),M:(e,t)=>ey(e.getMinutes(),2,null!==t&&void 0!==t?t:"0"),L:(e,t)=>ey(e.getMilliseconds(),3,null!==t&&void 0!==t?t:"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>ey(e.getSeconds(),2,null!==t&&void 0!==t?t:"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>ey(Zv(e,0),2,null!==t&&void 0!==t?t:"0"),V:(e,t)=>ey(Qv(e),2,null!==t&&void 0!==t?t:"0"),w:(e,t)=>ey(e.getDay(),2,null!==t&&void 0!==t?t:"0"),W:(e,t)=>ey(Zv(e,1),2,null!==t&&void 0!==t?t:"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>ey(e.getFullYear()%100,2,null!==t&&void 0!==t?t:"0"),Y:(e,t)=>ey(e.getFullYear(),4,null!==t&&void 0!==t?t:"0"),Z:e=>function(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return"".concat(t>0?"-":"+").concat(ey(Math.floor(i/60),2,"0")).concat(ey(Math.floor(i%60),2,"0"))}(e),"%":()=>"%"},$v={_:" ",0:"0","-":""};function ey(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:"".concat(i.repeat(t-n.length)).concat(n)}function ty(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(0!==i){const n=i>0?e.substring(0,i):e;t.push(n)}if(i<0)break;const n=e[i+1],o=$v[n];null!=o&&i++;const r=e[i+1],s=Jv[r];if("function"===typeof s)t.push([s,o]);else if("string"===typeof s){const e=ty(s);t.push([e,o])}else t.push("".concat(null!==o&&void 0!==o?o:"").concat(r));e=e.substring(i+2)}return e=>{const i="number"===typeof e?new Date(e):e;return t.map((e=>"string"===typeof e?e:e[0](i,e[1]))).join("")}}function iy(e){return e instanceof Date?e.getTime():e}function ny(e,t,i){const n=ty(oy(e,t,i));return e=>n(e)}function oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let a=1;a<e.length;a++)n=Math.min(n,Math.abs(e[a]-e[a-1]));const o=new Date(t[0]).getFullYear(),r=new Date(t.at(-1)).getFullYear()-o>0,s=isFinite(n)?function(e,t){if(e<vm)return 0;if(e<ym)return 1;if(e<bm)return 2;if(e<Cm)return 3;if(e<wm)return 4;if(e<28*Cm||e<31*Cm&&function(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}(t))return 5;if(e<Sm)return 6;return 7}(n,e):function(e){if(km.floor(e)<e)return 0;if(Em.floor(e)<e)return 1;if(Fm.floor(e)<e)return 2;if(Lm.floor(e)<e)return 3;if(Um.floor(e)<e)return Vm.floor(e)<e?4:5;if(Km.floor(e)<e)return 6;return 7}(e[0]);return function(e,t,i){const n=iy(i[0]),o=iy(i.at(-1)),r=Math.abs(o-n),s=t||7===e,a=[["hour",6*bm,14*Cm,3,"%I %p"],["hour",ym,6*bm,3,"%I:%M"],["second",1e3,6*bm,1,":%S"],["ms",0,6*bm,0,".%L"],["am/pm",ym,6*bm,3,"%p"]," ",["day",Cm,wm,4,"%a"],["month",0===r?0:wm,52*wm,5,"%b %d"],["month",5*wm,10*Sm,6,"%B"]," ",["year",s?0:Sm,1/0,7,"%Y"]].filter((t=>{if("string"===typeof t)return!0;const[i,n,o,s]=t;return s>=e&&n<=r&&r<o})).reduce(((e,t)=>("string"===typeof t?e.result.push(t):e.used.has(t[0])||(e.result.push(t),e.used.add(t[0])),e)),{result:[],used:new Set}).result,l=a.findIndex((e=>"string"!==typeof e)),c=a.length-[...a].reverse().findIndex((e=>"string"!==typeof e));return a.slice(l,c).map((e=>"string"===typeof e?e:e[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(s-i,0),r,e)}var ry=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(e){this[i]!==e&&(this[i]=e,this.invalid=!0)},enumerable:!0,configurable:!1})},sy=class e{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof e}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&hm.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.index=new Map,this.invalid=!0,this._domain=[];for(const t of e){const e=iy(t);void 0===this.getIndex(e)&&this.index.set(e,this._domain.push(t)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(e){var t;this.refresh();const i=this.getIndex(e);return null==i?NaN:null!==(t=this.ordinalRange[i])&&void 0!==t?t:NaN}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>t===e));return this.domain[t]}invertNearest(e){var t;this.refresh();let i=-1,n=1/0;const o=this.ordinalRange.findIndex(((t,o)=>{if(t===e)return!0;const r=Math.abs(e-t);return r<n&&(n=r,i=o),!1}));return null!==(t=this.domain[o])&&void 0!==t?t:this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=cf(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=cf(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=cf(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){const e=this._domain.length;if(0===e)return;const[t,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:o,round:r}=this,s=i-t;let a,l,c;1===e?(n=0,a=s*(1-2*o),l=r?Math.round(a):a,c=s*o):(a=s/Math.max(1,e-n+2*o),l=r?Math.floor(a):a,c=t+(s-l*(e-n))/2);let d=l*(1-n);r&&(c=Math.round(c),d=Math.round(d)),this._step=l,this._inset=c,this._bandwidth=d,this._rawBandwidth=a*(1-n),this.ordinalRange=this._domain.map(((e,t)=>c+l*t))}getIndex(e){return this.index.get(e instanceof Date?e.getTime():e)}};om([ry],sy.prototype,"range",2),om([ry],sy.prototype,"round",2),om([ry],sy.prototype,"interval",2);var ay=sy;function ly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=t;return Hf(((o,r,s)=>{var a;const l={...t,target:o,property:r};if(i&&"undefined"===typeof s||e(s,l))return Cv(o[r])&&!Cv(s)?(o[r].set(s),o[r]):s;const c=null!==n&&void 0!==n?n:String(r).replace(/^_*/,""),d=null!==(a=o.constructor.className)&&void 0!==a?a:o.constructor.name.replace(/Properties$/,"");let u=ob(s);if(null!=u&&u.length>50){const e=u.length-50;u=u.slice(0,50)+"... (+".concat(e," characters)")}return hm.warn("Property [".concat(c,"] of [").concat(d,"] cannot be set to [").concat(u,"]").concat(e.message?"; expecting ".concat(ib(e,l)):"",", ignoring.")),_f}),void 0,{optional:i})}var cy,dy=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[];return tb(((e,i)=>(n.length=0,t.every((t=>{const o=t(e,i);return o||n.push(ib(t,i)),o})))),(()=>n.filter(Boolean).join(" AND ")))},uy=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return tb(((e,i)=>t.some((t=>t(e,i)))),(e=>t.map(function(e){return t=>ib(t,e)}(e)).filter(Boolean).join(" OR ")))},hy=nb(tb(((e,t)=>Cv(e)||$f(e)&&Cv(t.target[t.property])),"a properties object")),py=nb(tb((e=>$f(e)),"an object")),gy=tb(qf,"a boolean"),my=tb(Jf,"a function"),fy=tb(iv,"a string"),vy=(cy=tb(ov,"a number"),Object.assign(cy,{restrict(){let{min:e,max:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=nv(e),o=nv(t);return n&&o?i.push("between ".concat(e," and ").concat(t," inclusive")):n?i.push("greater than or equal to ".concat(e)):o&&i.push("less than or equal to ".concat(t)),tb((i=>ov(i)&&(!n||i>=e)&&(!o||i<=t)),i.join(" "))}})),yy=tb((e=>nv(e)&&isNaN(e)),"NaN"),by=vy.restrict({min:0}),Cy=vy.restrict({min:0,max:1}),wy=vy.restrict({min:-360,max:360}),xy=uy(vy,yy),Sy=function(e){return Object.assign(e,{restrict(){let{length:e,minLength:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return nv(t)&&t>0?i="a non-empty array":nv(e)&&(i="an array of length ".concat(e)),tb((i=>Kf(i)&&(!nv(e)||i.length===e)&&(!nv(t)||i.length>=t)),i)}})}(tb(Kf,"an array")),Ry=(e,t)=>tb(((t,i)=>Kf(t)&&t.every((t=>e(t,i)))),(e=>{var i;const n=null!==(i=ib(Sy,e))&&void 0!==i?i:"";return t?"".concat(n," of ").concat(t):n})),My=e=>ov(e)||Zf(e),ky=e=>tb(((t,i)=>!My(t)||!My(i.target[e])||t<i.target[e]),"to be less than ".concat(e)),Dy=e=>tb(((t,i)=>!My(t)||!My(i.target[e])||t>i.target[e]),"to be greater than ".concat(e)),Ay=tb(Zf,"Date object"),Ey=uy(Ay,by),Ty="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Py=tb((e=>iv(e)&&Of.validColorString(e)),"color String. ".concat(Ty)),Fy=tb(Ry(Py),"color strings. ".concat(Ty)),Ny=Ry(gy,"boolean values"),Ly=Ry(vy,"numbers"),Iy=Ry(fy,"strings"),Oy=tb(Ry(Ay),"Date objects"),jy=tb(Ry(hy),"objects"),By=Jy(["butt","round","square"],"a line cap"),_y=Jy(["round","bevel","miter"],"a line join"),Gy=tb(Ry(by),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),zy=Jy(["top","right","bottom","left"],"a position"),Hy=Jy(["normal","italic","oblique"],"a font style"),Vy=uy(Jy(["normal","bold","bolder","lighter"],"a font weight"),vy.restrict({min:1,max:1e3})),Wy=Jy(["never","always","hyphenate","on-space"],"a text wrap strategy"),Uy=Jy(["left","center","right"],"a text align"),Yy=Jy(["top","middle","bottom"],"a vertical align"),Ky=Jy(["ellipsis","hide"],"an overflow strategy"),qy=Jy(["horizontal","vertical"],"a direction"),Xy=Jy(["inside","outside"],"a placement"),Zy=uy(Jy(["exact","nearest"],"interaction range"),vy),Qy=Jy(["top","bottom","left","right"]);function Jy(e){return tb((t=>e.includes(t)),"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"," keyword such as ").concat(function(e){const t=e.map((e=>"'".concat(e,"'")));if(1===t.length)return t[0];const i=t.pop();return"".concat(t.join(", ")," or ").concat(i)}(e)))}var $y=uy(dy(vy.restrict({min:1}),ky("maxSpacing")),yy),eb=uy(dy(vy.restrict({min:1}),Dy("minSpacing")),yy);function tb(e,t){return e.message=t,e}function ib(e,t){return Jf(e.message)?e.message(t):e.message}function nb(e){return Object.assign(e,{restrict:t=>tb((e=>e instanceof t),(i=>{var n;return null!==(n=ib(e,i))&&void 0!==n?n:"an instance of ".concat(t.name)}))})}function ob(e){if("number"===typeof e){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var rb=(e=>(e.X="x",e.Y="y",e))(rb||{}),sb={constructedArrays:new WeakMap};function ab(e,t){var i;null===(i=sb.constructedArrays)||void 0===i||i.set(e,t)}var lb=class e{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=e.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof e}transform(e){return e}transformInvert(e){return e}calcBandwidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.getDomain(),i=this.getPixelRange(),n=Math.abs(t[1]-t[0])/e+1,o=Math.floor(i),r=Math.min(n,o);return i/Math.max(1,r)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,t){var i;const n=null!==(i=null===t||void 0===t?void 0:t.clampMode)&&void 0!==i?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map((e=>this.transform(e))),[r,s]=o,{range:a}=this,[l,c]=a;if(e=this.transform(e),"clamped"===n){const[t,i]=uf(o.map(Number));if(Number(e)<t)return l;if(Number(e)>i)return c}return r===s?(l+c)/2:e===r?l:e===s?c:l+(Number(e)-Number(r))/(Number(s)-Number(r))*(c-l)}invert(e){this.refresh();const t=this.getDomain().map((e=>this.transform(e))),[i,n]=t,{range:o}=this,[r,s]=o,a=r>s;let l;return e<(a?s:r)?a?n:i:e>(a?r:s)?a?i:n:(l=r===s?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(e-r)/(s-r)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&hm.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[e,t]=this.range;return Math.abs(t-e)}};lb.defaultTickCount=5,lb.defaultMaxTickCount=6,om([ry],lb.prototype,"domain",2),om([ry],lb.prototype,"range",2),om([ry],lb.prototype,"nice",2),om([ry],lb.prototype,"interval",2),om([ry],lb.prototype,"tickCount",2),om([ry],lb.prototype,"minTickCount",2),om([ry],lb.prototype,"maxTickCount",2);var cb=lb;function db(e,t){const i=[];for(let n=0;n<e;n++)i.push(t(n));return i}function ub(e){if(0===e.length)return;let t=1/0,i=-1/0;for(let o of e)o instanceof Date&&(o=o.getTime()),"number"===typeof o&&(o<t&&(t=o),o>i&&(i=o));const n=[t,i];return n.every(isFinite)?n:void 0}function hb(e,t,i){return pb(e,t,i).extent}function pb(e,t,i){let n=!1;var o;e.length>2&&(e=null!==(o=ub(e))&&void 0!==o?o:[NaN,NaN]);return isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function gb(e,t){if(null==e||null==t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!gb(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function mb(e){return"undefined"===typeof e?[]:Array.isArray(e)?e:[e]}function fb(e){return Array.from(new Set(e))}function vb(e,t){return e.reduce(((e,i)=>{var n;const o=t(i);return null!==(n=e[o])&&void 0!==n||(e[o]=[]),e[o].push(i),e}),{})}function yb(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return[];const n=[];for(let o=0;o<t;o++)n.push(e.at((o+i)%e.length));return n}function bb(e,t){return t.reduce(((t,i)=>{let[n,o]=t;return e(i)?[[...n,i],o]:[n,[...o,i]]}),[[],[]])}function*Cb(e,t){for(const i of e)yield t(i)}function wb(e,t){return!t.some((t=>!function(e,t){return function(e,t){return e.includes(t)}(e,t)}(e,t)))}function xb(e){let t,i;const n=Mb.exec(e);n&&([,t,e,i]=n);const o=Rb.exec(e);if(!o)throw new Error("The number formatter is invalid: ".concat(e));const[,r,s,a,l,c,d,u,h,p,g]=o;return{fill:r,align:s,sign:a,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:Boolean(p),type:g,prefix:t,suffix:i}}function Sb(e){const t="string"===typeof e?xb(e):e,{fill:i,align:n,sign:o="-",symbol:r,zero:s,width:a,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=t;let{trim:p}=t;const g=null==h||isNaN(h);let m,f;if(c)if(c in Db&&c in kb)m=g?kb[c]:Db[c];else if(c in Db)m=Db[c];else{if(!(c in kb))throw new Error("The number formatter type is invalid: ".concat(c));m=kb[c]}else m=Db.g,p=!0;return f=null==h||g?c?6:12:h,e=>{let t=m(e,f);return p&&(t=t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(t=function(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),o=e.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,t);return"".concat(n.join("")).concat(o)}(t,l)),t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return e>=0?t:"(".concat(t,")");const n="+"===i?"+":"";return"".concat(e>=0?n:Pb).concat(t)}(e,t,o),r&&"#"!==r&&(t="".concat(r).concat(t)),"#"===r&&"x"===c&&(t="0x".concat(t)),"s"===c&&(t="".concat(t).concat(function(e){return Tb[Nb(e)]}(e))),"%"!==c&&"p"!==c||(t="".concat(t,"%")),null==a||isNaN(a)||(t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",o=e;if(">"!==n&&n){if("<"===n)o=o.padEnd(t,i);else if("^"===n){const e=Math.max(0,t-o.length),n=Math.ceil(e/2),r=Math.floor(e/2);o=o.padStart(n+o.length,i),o=o.padEnd(r+o.length,i)}}else o=o.padStart(t,i);return o}(t,a,null!==i&&void 0!==i?i:s,n)),t="".concat(d).concat(t).concat(u),t}}var Rb=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,Mb=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,kb={b:e=>Fb(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Fb(e).toString(8),x:e=>Fb(e).toString(16),X:e=>kb.x(e).toUpperCase(),n:e=>kb.d(e),"%":e=>"".concat(Fb(100*e).toFixed(0))},Db={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Db.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Db.f(e,t).toUpperCase(),g:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>Db.g(e,t).toUpperCase(),n:(e,t)=>Db.g(e,t),p:(e,t)=>Db.r(100*e,t),r:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const o=10**n;return(Math.round(i/o)*o).toFixed()},s:(e,t)=>{const i=Nb(e);return Db.r(e/10**i,t)},"%":(e,t)=>Db.f(100*e,t)},Ab=-24,Eb=24,Tb={[Ab]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Eb]:"Y"},Pb="\u2212";function Fb(e){return Math.floor(Math.abs(e))}function Nb(e){return cf(Ab,e?3*Math.floor(Math.log10(Math.abs(e))/3):0,Eb)}var Lb=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),Ib=[Lb(km,vm,1),Lb(km,vm,5),Lb(km,vm,15),Lb(km,vm,30),Lb(Em,ym,1),Lb(Em,ym,5),Lb(Em,ym,15),Lb(Em,ym,30),Lb(Fm,bm,1),Lb(Fm,bm,3),Lb(Fm,bm,6),Lb(Fm,bm,12),Lb(Lm,Cm,1),Lb(Lm,Cm,2),Lb(Vm,wm,1),Lb(Vm,wm,2),Lb(Vm,wm,3),Lb(Um,xm,1),Lb(Um,xm,2),Lb(Um,xm,3),Lb(Um,xm,4),Lb(Um,xm,6),Lb(Km,Sm,1)],Ob=[1,2,5,10];function jb(e,t,i,n,o){if(i<2)return Hb(e,t,t-e);const r=_b(e,t,i,n,o);return isNaN(r)?[]:Hb(e=Math.ceil(e/r)*r,t=Math.floor(t/r)*r,r)}function Bb(e,t,i,n,o,r){const s=null!==r&&void 0!==r?r:Math.abs(t-e)/Math.max(i,1);let a=0;for(const h of Ib){if(s<=h.duration)break;a++}if(0===a){const r=Math.max(_b(e,t,i,n,o),1);return fm.every(r)}if(a===Ib.length){const s=null==r?_b(e/Sm,t/Sm,i,n,o):1;return Km.every(s)}const l=Ib[a-1],c=Ib[a],{timeInterval:d,step:u}=s-l.duration<c.duration-s?l:c;return d.every(u)}function _b(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(e===t)return 1;if(i<1)return NaN;const r=Math.abs(t-e),s=10**Math.floor(Math.log10(r/i));let a=NaN,l=1/0,c=!1;for(const d of Ob){const e=Math.ceil(r/(d*s)),t=e>=n&&e<=o;if(c&&!t)continue;const u=Math.abs(e-i);(l>u||c!==t)&&(c||(c=t),l=u,a=d)}return a*s}function Gb(e){for(let t=e.length-1;t>=0;t-=1)if("0"!==e[t])return t+1;return 0}function zb(e,t){const i=xb(null!==t&&void 0!==t?t:",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e))return 0;const[t,n]=e.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==t&&"-1"!==t?1:0)+Gb(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e)||0===e)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=i.type?6:12,[o,r]=e.toExponential(n-1).split(/\.|e/g),s=Gb(r);return Math.max(0,s-t)})))));const n=Sb(i);return e=>n(Number(e))}function Hb(e,t,i){const n=Math.ceil(Math.abs(t-e)/i),o=10**yf(i),r=Math.min(e,t);return db(n+1,(e=>Math.round((r+i*e)*o)/o))}function Vb(e,t){return e>=t&&(hm.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var Wb=class e extends cb{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return super.convert(new Date(e),t)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:i,tickCount:n,minTickCount:o,maxTickCount:r}=this,[s,a]=uf(this.getDomain().map(iy));var l;return null!=t?null!==(l=e.getTicksForInterval({start:s,stop:a,interval:t,availableRange:this.getPixelRange()}))&&void 0!==l?l:e.getDefaultTicks({start:s,stop:a,tickCount:n,minTickCount:o,maxTickCount:r}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):e.getDefaultTicks({start:s,stop:a,tickCount:n,minTickCount:o,maxTickCount:r})}static getDefaultTicks(e){let{start:t,stop:i,tickCount:n,minTickCount:o,maxTickCount:r}=e;const s=Bb(t,i,n,o,r);return s?s.range(new Date(t),new Date(i)):[]}static getTicksForInterval(e){let{start:t,stop:i,interval:n,availableRange:o}=e;if(!n)return[];if(n instanceof pm){const e=n.range(new Date(t),new Date(i));if(Vb(e.length,o))return;return e}const r=Math.abs(n);if(Vb((i-t)/r,o))return;const s=[...Ib].reverse().find((e=>r%e.duration===0));if(s){return s.timeInterval.every(r/(s.duration/s.step)).range(new Date(t),new Date(i))}let a=new Date(t);const l=new Date(i),c=[];for(;a<=l;)c.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return c}tickFormat(e){let{ticks:t,domain:i,specifier:n,formatOffset:o}=e;return null==n?ny(t,i,o):ty(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[e,t]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(e,t);const[i,n]=this.niceDomain;if(iy(e)===iy(i)&&iy(t)===iy(n))break;e=i,t=n}}updateNiceDomainIteration(e,t){const i=Math.min(iy(e),iy(t)),n=Math.max(iy(e),iy(t)),o=e>t,{interval:r}=this;let s;if(r instanceof pm)s=r;else{s=Bb(i,n,"number"===typeof r?(n-i)/Math.max(r,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(s){const e=s.range(new Date(i),new Date(n),!0),t=o?[...e].reverse():e,r=t[0],a=t.at(-1);this.niceDomain=[r,a]}}};function Ub(e,t){return e-t}var Yb=class e extends ay{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=cb.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof e}setVisibleRange(e){this.visibleRange=e}set domain(e){this.invalid=!0,0!==e.length?(this._domain=e,this.timestamps=fb(e.map(iy)),this.sortedTimestamps=this.timestamps.slice().sort(Ub)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[e,t]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(e,t),n=Math.max(e,t),o=e>t;let r;if(null==this.interval)r=this.getDefaultTicks(this.maxTickCount,o);else{var s;const[e,t]=this.range,o=Math.abs(t-e);r=null!==(s=Wb.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:o}))&&void 0!==s?s:[]}const a=new Set;return r.filter((e=>{const t=this.convert(e);return!isNaN(t)&&!a.has(t)&&(a.add(t),!0)}))}getDefaultTicks(e,t){const i=[],n=this.timestamps.length,o=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/e),r=Math.floor(o/2);for(const[s,a]of this.timestamps.entries())o>0&&(s+r)%o||(t?i.push(new Date(this.timestamps[n-s-1])):i.push(new Date(a)));return i}convert(e){var t;this.refresh();const i=Number(e);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),null!==(t=this.ordinalRange[n])&&void 0!==t?t:NaN}findInterval(e){const{sortedTimestamps:t}=this;let i=0,n=t.length-1;for(;i<=n;){const o=Math.floor((i+n)/2);if(t[o]===e)return o;t[o]<e?i=o+1:n=o-1}return i}tickFormat(e){let{ticks:t,domain:i,specifier:n}=e;return null==n?ny(t,i):ty(n)}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>e<=t));return this.domain[t]}invertNearest(e){return new Date(super.invertNearest(e))}};om([ry],Yb.prototype,"tickCount",2),om([ry],Yb.prototype,"minTickCount",2),om([ry],Yb.prototype,"maxTickCount",2),om([ry],Yb.prototype,"interval",2);var Kb=Yb;function qb(e,t){return"number"===typeof e&&"number"===typeof t?e-t:"string"===typeof e&&"string"===typeof t?e.localeCompare(t):null==e&&null==t?0:null==e?-1:null==t?1:String(e).localeCompare(String(t))}function Xb(e){return"function"===typeof e?e():e}function Zb(e,t,i){for(const n in e){const o=i(Xb(e[n]),Xb(t[n]));if(0!==o)return o}return 0}var Qb=class e extends Pf{constructor(e){var t;super({isVirtual:null===e||void 0===e?void 0:e.isVirtual}),this.opts=e,this.opacity=1,this.lastBBox=void 0;const{zIndex:i,zIndexSubOrder:n}=null!==e&&void 0!==e?e:{};this.isContainerNode=!0,void 0!==i&&(this.zIndex=i),void 0!==n&&(this.zIndexSubOrder=n),this.name=null===(t=this.opts)||void 0===t?void 0:t.name}static is(t){return t instanceof e}onZIndexChange(){var e;(super.onZIndexChange(),this.layer)&&(null===(e=this._layerManager)||void 0===e||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return null!=this.layer}_setLayerManager(e){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(e)}initialiseLayer(){var e;this.layer||this._layerManager&&!0===(null===(e=this.opts)||void 0===e?void 0:e.layer)&&(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let t=1;for(const i of this.traverseUp())i instanceof e&&(t*=i.opacity);return t}getVisibility(){for(const e of this.traverseUp())if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.isVirtual)return void super.markDirty(e,t);let i=t;(t<2||null!=this.layer)&&(i=1),super.markDirty(e,t,i)}containsPoint(e,t){return!0}computeBBox(){return this.computeTransformMatrix(),e.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){var e,t;const i=super.preRender();return i.groups+=1,i.nonGroups-=1,!0!==(null===(e=this.opts)||void 0===e?void 0:e.layer)||null!=this.layer||(i.nonGroups>0&&this.initialiseLayer(),null!==(t=this.opts)&&void 0!==t&&t.nonEmptyChildDerivedZIndex&&i.nonGroups>0&&this.deriveZIndexFromChildren()),i}deriveZIndexFromChildren(){var e;const t=this.children.filter((e=>e._childNodeCounts.nonGroups>0));this.sortChildren(t);const i=t.at(-1);this.zIndex=null!==(e=null===i||void 0===i?void 0:i.zIndex)&&void 0!==e?e:-1/0,this.zIndexSubOrder=null===i||void 0===i?void 0:i.zIndexSubOrder}render(e){const{opts:{name:t}={},_debug:i}=this,{dirty:n,dirtyZIndex:o,layer:r,children:s,clipRect:a,dirtyTransform:l}=this;let{ctx:c,forceRender:d,clipBBox:u}=e;const{resized:h,stats:p}=e,g=c.getTransform(),m=n>=2||o||h;let f=m,v=!1;for(const R of s)if(f||(f=null==R.layerManager&&R.dirty>=1),v||(v=null!=R.layerManager&&R.dirty>=1),f)break;if(t&&(null===i||void 0===i||i({name:t,group:this,isDirty:m,isChildDirty:f,dirtyTransform:l,renderCtx:e,forceRender:d})),l)d="dirtyTransform";else if(r){const e=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(e)||(d="dirtyTransform",this.lastBBox=e)}if(!m&&!f&&!v&&!d)return t&&p&&(null===i||void 0===i||i({name:t,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this})),r&&p&&(p.layersSkipped++,p.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const y=this.visible;if(r){if(c=r.context,c.save(),c.setTransform(r.pixelRatio,0,0,r.pixelRatio,0,0),"dirtyTransform"!==d&&(d=f||o),d&&r.clear(),u){const{width:n,height:o,x:r,y:s}=u;null===i||void 0===i||i((()=>({name:t,clipBBox:u,ctxTransform:c.getTransform(),renderCtx:e,group:this}))),c.beginPath(),c.rect(r,s,n,o),c.clip()}c.setTransform(g)}else c.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(c),a){const{x:n,y:o,width:r,height:s}=a;c.save(),null===i||void 0===i||i((()=>({name:t,clipRect:a,ctxTransform:c.getTransform(),renderCtx:e,group:this}))),c.beginPath(),c.rect(n,o,r,s),c.clip(),u=this.matrix.transformBBox(a)}const b=this.hasVirtualChildren();o?(this.sortChildren(s),"dirtyTransform"!==d&&(d=!0)):b&&this.sortChildren(s);const C=d!==e.forceRender||u!==e.clipBBox||c!==e.ctx?{...e,ctx:c,forceRender:d,clipBBox:u}:e;let w=0;for(const R of s)R.visible&&y?d||0!==R.dirty?(c.save(),R.render(C),c.restore()):p&&(w+=R.nodeCount.count):(R.markClean(),p&&(w+=R.nodeCount.count));if(p&&(p.nodesSkipped+=w),super.render(e),a&&c.restore(),b)for(const R of this.virtualChildren)R.markClean({recursive:"virtual"});var x,S;r&&(p&&p.layersRendered++,c.restore(),d&&r.snapshot(),null===(x=(S=r.context).verifyDepthZero)||void 0===x||x.call(S));t&&p&&(null===i||void 0===i||i({name:t,result:"rendered",skipped:w,renderCtx:e,counts:this.nodeCount,group:this}))}sortChildren(e){this.dirtyZIndex=!1,e.sort(((e,t)=>{var i,n;return Zb([e.zIndex,...null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],e.serialNumber],[t.zIndex,...null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],t.serialNumber],qb)}))}static computeBBox(e){let t=1/0,i=-1/0,n=1/0,o=-1/0;for(const r of e){if(!r.visible)continue;const e=r.computeTransformedBBox();if(!e)continue;const{x:s,y:a,width:l,height:c}=e;s<t&&(t=s),a<n&&(n=a),s+l>i&&(i=s+l),a+c>o&&(o=a+c)}return new xf(t,n,i-t,o-n)}setClipRectInGroupCoordinateSpace(e){this.clipRect=e?this.transformBBox(e):void 0}};Qb.className="Group",om([Rf({redraw:3,convertor:e=>cf(0,e,1)})],Qb.prototype,"opacity",2);var Jb=Qb,$b=2*Math.PI;function eC(e){return e%=$b,e+=$b,e%=$b}function tC(e){return e%=$b,(e+=$b)!==$b&&(e%=$b),e}function iC(e){return(e%=$b)<-Math.PI?e+=$b:e>=Math.PI&&(e-=$b),e}function nC(e,t,i){const n=eC(e),o=eC(t),r=eC(i);return o<r?o<=n&&n<=r:!(o>r)||(o<=n||n<=r)}function oC(e){return e/180*Math.PI}function rC(e){return e/Math.PI*180}function sC(e,t,i){i&&([e,t]=[t,e]);const n=eC(e);return(eC(t)+$b-n)%$b}function aC(e,t){return e=eC(e),(t=eC(t))-e+(e>t?2*Math.PI:0)}function lC(e,t,i,n){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}var cC=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.stops=e}},dC=class extends cC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e),this.angle=t}createGradient(e,t){const{stops:i,angle:n}=this,o=eC(oC(n+90)),r=Math.cos(o),s=Math.sin(o),a=t.width,l=t.height,c=t.x+.5*a,d=t.y+.5*l;if(a>0&&l>0){const t=Math.sqrt(l*l+a*a)/2,n=Math.atan2(l,a);let u;u=o<Math.PI/2?o:o<Math.PI?Math.PI-o:o<1.5*Math.PI?o-Math.PI:2*Math.PI-o;const h=t*Math.abs(Math.cos(u-n)),p=e.createLinearGradient(c+r*h,d+s*h,c-r*h,d-s*h);for(const e of i)p.addColorStop(e.offset,e.color);return p}return"black"}},uC=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,hC=class e extends Pf{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=e.defaultStyles.fill,this.stroke=e.defaultStyles.stroke,this.strokeWidth=e.defaultStyles.strokeWidth,this.lineDash=e.defaultStyles.lineDash,this.lineDashOffset=e.defaultStyles.lineDashOffset,this.lineCap=e.defaultStyles.lineCap,this.lineJoin=e.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=e.defaultStyles.opacity,this.fillShadow=e.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){const{fill:e}=this;let t;if(null!==e&&void 0!==e&&e.startsWith("linear-gradient")&&(t=uC.exec(e))){const e=parseFloat(t[1]),i=[],n=t[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let r;for(;r=o.exec(n);)i.push(r[0]);this.gradient=new dC(i.map(((e,t)=>({color:e,offset:t/(i.length-1)}))),e)}else this.gradient=void 0}align(e,t){var i,n;const o=null!==(i=null===(n=this.layerManager)||void 0===n||null===(n=n.canvas)||void 0===n?void 0:n.pixelRatio)&&void 0!==i?i:1,r=Math.round(e*o)/o;return null==t?r:0===t?0:t<1?Math.ceil(t*o)/o:Math.round((t+e)*o)/o-r}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){if(this.fill){const{globalAlpha:i}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=i}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,t){t?e.fill(t):e.fill()}applyFill(e){var t,i;e.fillStyle=null!==(t=null===(i=this.gradient)||void 0===i?void 0:i.createGradient(e,this.computeBBox()))&&void 0!==t?t:this.fill}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){var t,i;const n=null!==(t=null===(i=this.layerManager)||void 0===i?void 0:i.canvas.pixelRatio)&&void 0!==t?t:1,o=this.fillShadow;null!==o&&void 0!==o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*n,e.shadowOffsetY=o.yOffset*n,e.shadowBlur=o.blur*n)}renderStroke(e,t){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=e;e.strokeStyle=this.stroke,e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),null!=this.miterLimit&&(e.miterLimit=this.miterLimit),this.executeStroke(e,t),e.globalAlpha=i}}executeStroke(e,t){t?e.stroke(t):e.stroke()}containsPoint(e,t){return this.isPointInPath(e,t)}};hC.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},om([Rf({redraw:2})],hC.prototype,"fillOpacity",2),om([Rf({redraw:2})],hC.prototype,"strokeOpacity",2),om([Rf({redraw:2,changeCb:e=>e.onFillChange()})],hC.prototype,"fill",2),om([Rf({redraw:2})],hC.prototype,"stroke",2),om([Rf({redraw:2})],hC.prototype,"strokeWidth",2),om([Rf({redraw:2})],hC.prototype,"lineDash",2),om([Rf({redraw:2})],hC.prototype,"lineDashOffset",2),om([Rf({redraw:2})],hC.prototype,"lineCap",2),om([Rf({redraw:2})],hC.prototype,"lineJoin",2),om([Rf({redraw:2})],hC.prototype,"miterLimit",2),om([Rf({redraw:2,convertor:e=>cf(0,e,1)})],hC.prototype,"opacity",2),om([Rf({redraw:2,checkDirtyOnAssignment:!0})],hC.prototype,"fillShadow",2);var pC=hC,gC=class extends pC{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new xf(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var t;const{ctx:i,forceRender:n,stats:o}=e;if(0===this.dirty&&!n)return void(o&&(o.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:r,y1:s,x2:a,y2:l}=this;r=this.align(r),s=this.align(s),a=this.align(a),l=this.align(l);const{fill:c,opacity:d,isRange:u}=this;if(!(!u||!c)){const{fillOpacity:e}=this;i.fillStyle=c,i.globalAlpha=d*e,i.beginPath(),i.moveTo(r,s),i.lineTo(a,s),i.lineTo(a,l),i.lineTo(r,l),i.closePath(),i.fill()}const{stroke:h,strokeWidth:p,startLine:g,endLine:m}=this;if(!(!g&&!m||!h||!p)){const{strokeOpacity:e,lineDash:t,lineDashOffset:n,lineCap:o,lineJoin:c}=this;i.strokeStyle=h,i.globalAlpha=d*e,i.lineWidth=p,t&&i.setLineDash(t),n&&(i.lineDashOffset=n),o&&(i.lineCap=o),c&&(i.lineJoin=c),i.beginPath(),g&&(i.moveTo(r,s),i.lineTo(a,s)),m&&(i.moveTo(a,l),i.lineTo(r,l)),i.stroke()}null===(t=this.fillShadow)||void 0===t||t.markClean(),super.render(e)}};gC.className="Range",gC.defaultStyles={...pC.defaultStyles,strokeWidth:1},om([Rf({redraw:2})],gC.prototype,"x1",2),om([Rf({redraw:2})],gC.prototype,"y1",2),om([Rf({redraw:2})],gC.prototype,"x2",2),om([Rf({redraw:2})],gC.prototype,"y2",2),om([Rf({redraw:2})],gC.prototype,"startLine",2),om([Rf({redraw:2})],gC.prototype,"endLine",2),om([Rf({redraw:2})],gC.prototype,"isRange",2);var mC=new WeakMap,fC=new WeakMap;function vC(e,t){var i,n;const o=JSON.stringify(e,null,0);var r;(mC.has(t)||mC.set(t,new Map),null!==(i=mC.get(t))&&void 0!==i&&i.has(o))||(null===(r=mC.get(t))||void 0===r||r.set(o,t(e)));return null===(n=mC.get(t))||void 0===n?void 0:n.get(o)}function yC(e){return function(t){var i,n;const o=JSON.stringify(t,null,0);if(fC.has(e)||fC.set(e,new Map),null===(i=fC.get(e))||void 0===i||!i.has(o)){for(var r,s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];null===(r=fC.get(e))||void 0===r||r.set(o,e(t,...a))}return null===(n=fC.get(e))||void 0===n?void 0:n.get(o)}}var bC=class{constructor(e){this.ctx=e,this.charMap=new Map}static createFontMeasurer(e){const t=function(){return new OffscreenCanvas(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).getContext("2d")}(),i=new this(t);return this.instanceMap.set(e,i),t.font=e,i}static getFontMeasurer(e){var t;const i=null!==(t=this.instanceMap.get(e.font))&&void 0!==t?t:this.createFontMeasurer(e.font);return e.textAlign&&(i.ctx.textAlign=e.textAlign),e.textBaseline&&(i.ctx.textBaseline=e.textBaseline),i}static measureText(e,t){const{ctx:i}=this.getFontMeasurer(t);return this.getMetrics(i,e)}static measureLines(e,t){const{ctx:i}=this.getFontMeasurer(t),n="string"===typeof e?e.split(this.lineSplitter):e;return this.getMultilineMetrics(i,n)}static wrapText(e,t){return this.wrapLines(e,t).join("\n")}static wrapLines(e,t){const i=e.split(this.lineSplitter),n=this.getFontMeasurer(t);if("never"===t.textWrap)return i.map((e=>this.truncateLine(e.trimEnd(),n,t.maxWidth)));const o=[],r="hyphenate"===t.textWrap,s="on-space"===t.textWrap;for(let a of i){a=a.trimEnd();for(let e=0,i=0,l=0;e<a.length;e++){const c=a.charAt(e);if(i+=n.textWidth(c)," "===c&&(l=e),i>t.maxWidth){if(0===e)break;if(l){const r=this.getWordAt(a,l+1),c=n.textWidth(r);if(c<=t.maxWidth){o.push(a.slice(0,l).trimEnd()),a=a.slice(l).trimStart(),e=-1,i=0,l=0;continue}s&&c>t.maxWidth&&o.push(a.slice(0,l).trimEnd(),this.truncateLine(a.slice(l).trimStart(),n,t.maxWidth,!0))}else s&&o.push(this.truncateLine(a,n,t.maxWidth,!0));if(s){a="";break}const c=r?"-":"";let d=a.slice(0,e).trim();for(;d.length&&n.textWidth(d+c)>t.maxWidth;)d=d.slice(0,-1).trimEnd();if(o.push(d+c),!d.length){a="";break}a=a.slice(d.length).trimStart(),e=-1,i=0,l=0}}a&&o.push(a)}return this.avoidOrphans(o,n,t),this.clipLines(o,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return-1===i?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:o}=this.measureLines(e,i);if(n<=i.maxHeight)return e;for(let r=0,s=0;r<o.length;r++){const{lineHeight:n}=o[r];if(s+=n,s>i.maxHeight){const n=e.slice(0,Math.max(r,1)),o=n.pop();return n.concat(this.truncateLine(o,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(e.length<2)return;const{length:n}=e,o=e[n-1],r=e[n-2];if(r.length<o.length)return;const s=r.lastIndexOf(" ");if(-1===s||s===r.indexOf(" ")||o.includes(" "))return;const a=r.slice(s+1);t.textWidth(o+a)<=i.maxWidth&&(e[n-2]=r.slice(0,s),e[n-1]=a+" "+o)}static truncateLine(e,t,i,n){const o=t.textWidth(this.EllipsisChar);let r=0,s=0;for(;s<e.length;s++){const n=t.textWidth(e.charAt(s));if(r+n>i)break;r+=n}if(e.length===s&&(!n||r+o<=i))return n?e+this.EllipsisChar:e;for(e=e.slice(0,s).trimEnd();e.length&&t.textWidth(e)+o>i;)e=e.slice(0,-1).trimEnd();return e+this.EllipsisChar}static getMetrics(e,t){var i,n;const o=e.measureText(t);return null!==(i=o.fontBoundingBoxAscent)&&void 0!==i||(o.fontBoundingBoxAscent=o.emHeightAscent),null!==(n=o.fontBoundingBoxDescent)&&void 0!==n||(o.fontBoundingBoxDescent=o.emHeightDescent),{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent,lineHeight:o.fontBoundingBoxAscent+o.fontBoundingBoxDescent,offsetTop:o.actualBoundingBoxAscent,offsetLeft:o.actualBoundingBoxLeft}}static getMultilineMetrics(e,t){let i=0,n=0,o=0,r=0,s=0;const a=this.getVerticalModifier(e.textBaseline),l=t.map(((t,a,l)=>{var c,d;let{length:u}=l;const h=e.measureText(t);return null!==(c=h.fontBoundingBoxAscent)&&void 0!==c||(h.fontBoundingBoxAscent=h.emHeightAscent),null!==(d=h.fontBoundingBoxDescent)&&void 0!==d||(h.fontBoundingBoxDescent=h.emHeightDescent),i<h.width&&(i=h.width),r<h.actualBoundingBoxLeft&&(r=h.actualBoundingBoxLeft),0===a?(n+=h.actualBoundingBoxAscent,o+=h.actualBoundingBoxAscent):s+=h.fontBoundingBoxAscent,a===u-1?n+=h.actualBoundingBoxDescent:s+=h.fontBoundingBoxDescent,{text:t,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}}));return n+=s,o+=s*a,{width:i,height:n,offsetTop:o,offsetLeft:r,lineMetrics:l}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}textWidth(e,t){var i;if(t){let t=0;for(let i=0;i<e.length;i++)t+=this.textWidth(e.charAt(i));return t}return e.length>1?this.ctx.measureText(e).width:null!==(i=this.charMap.get(e))&&void 0!==i?i:this.charWidth(e)}charWidth(e){const{width:t}=this.ctx.measureText(e);return this.charMap.set(e,t),t}};bC.EllipsisChar="\u2026",bC.instanceMap=new Map,bC.lineSplitter=/\r?\n/g;function CC(e){const{redraw:t=3,changeCb:i}=null!==e&&void 0!==e?e:{};return Rf({redraw:t,type:"font",changeCb:i})}var wC=class e extends pC{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=e.defaultStyles.textAlign,this.textBaseline=e.defaultStyles.textBaseline}onTextChange(){var e,t;this.lines=null!==(e=null===(t=this.text)||void 0===t?void 0:t.split("\n").map((e=>e.trim())))&&void 0!==e?e:[]}get font(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=SC(this)),this._font}computeBBox(){const{x:e,y:t,lines:i,textBaseline:n,textAlign:o}=this,{offsetTop:r,offsetLeft:s,width:a,height:l}=bC.measureLines(i,{font:SC(this),textBaseline:n,textAlign:o});return new xf(e-s,t-r,a,l)}getLineHeight(e){var t;return null!==(t=this.lineHeight)&&void 0!==t?t:bC.measureText(e,this).lineHeight}isPointInPath(e,t){const i=this.transformPoint(e,t),n=this.computeBBox();return!!n&&n.containsPoint(i.x,i.y)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(t);const{fill:o,stroke:r,strokeWidth:s}=this,{pixelRatio:a}=this.layerManager.canvas;if(t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,o){t.fillStyle=o,t.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:e}=this;null!==e&&void 0!==e&&e.enabled&&(t.shadowColor=e.color,t.shadowOffsetX=e.xOffset*a,t.shadowOffsetY=e.yOffset*a,t.shadowBlur=e.blur*a),this.renderLines(((e,i,n)=>t.fillText(e,i,n)))}if(r&&s){t.strokeStyle=r,t.lineWidth=s,t.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:e,lineDashOffset:i,lineCap:n,lineJoin:o}=this;e&&t.setLineDash(e),i&&(t.lineDashOffset=i),n&&(t.lineCap=n),o&&(t.lineJoin=o),this.renderLines(((e,i,n)=>t.strokeText(e,i,n)))}super.render(e)}renderLines(t){const{lines:i,x:n,y:o}=this,r=i.map((e=>this.getLineHeight(e))),s=r.reduce(((e,t)=>e+t),0);let a=(r[0]-s)*e.getVerticalModifier(this.textBaseline);for(let e=0;e<i.length;e++)t(i[e],n,o+a),a+=r[e]}static wrapLines(e,t,i,n,o,r){const s=bC.wrapLines(e,{maxWidth:t,maxHeight:i,font:SC(n),textAlign:n.textAlign,textBaseline:n.textBaseline,textWrap:o});if("hide"!==r||!s.some((e=>e.endsWith(bC.EllipsisChar))))return s}static wrap(t,i,n,o,r){var s;let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"ellipsis";const l=e.wrapLines(t,i,n,o,r,a);return null!==(s=null===l||void 0===l?void 0:l.join("\n").trim())&&void 0!==s?s:""}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}static getVerticalModifier(e){switch(e){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}static measureText(e,t,i,n){return this._measureText({text:e,font:t,textBaseline:i,textAlign:n})}static getTextSize(e,t){return this._getTextSize({text:e,font:t})}static getTextSizeMultiline(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultStyles.textBaseline,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultStyles.textAlign;const r=bC.measureLines(t,{font:i,textBaseline:n,textAlign:o});return{top:r.offsetTop,left:r.offsetLeft,width:r.width,height:r.height}}};wC.className="Text",wC.defaultLineHeightRatio=1.15,wC.defaultStyles=Object.assign({},pC.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),wC.ellipsis="\u2026",wC._measureText=yC((e=>{let{text:t,font:i,textBaseline:n,textAlign:o}=e;return bC.measureText(t,{font:i,textBaseline:n,textAlign:o})})),wC._getTextSize=yC((e=>{let{text:t,font:i}=e;return bC.measureText(t,{font:i})})),om([Rf({redraw:3})],wC.prototype,"x",2),om([Rf({redraw:3})],wC.prototype,"y",2),om([Rf({redraw:3,changeCb:e=>e.onTextChange()})],wC.prototype,"text",2),om([CC()],wC.prototype,"fontStyle",2),om([CC()],wC.prototype,"fontWeight",2),om([CC()],wC.prototype,"fontSize",2),om([CC()],wC.prototype,"fontFamily",2),om([Rf({redraw:3})],wC.prototype,"textAlign",2),om([Rf({redraw:3})],wC.prototype,"textBaseline",2),om([Rf({redraw:3})],wC.prototype,"lineHeight",2);var xC=wC;function SC(e){const{fontFamily:t,fontSize:i,fontStyle:n,fontWeight:o}=e;return[null!==n&&void 0!==n?n:"",null!==o&&void 0!==o?o:"",i+"px",t].join(" ").trim()}var RC=class extends yv{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return SC(this)}};function MC(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?eC(oC(e.rotation)):0,o=!n&&t>=0&&t<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1;let s=0;return e.parallel?s=o*Math.PI/2:-1===r&&(s=Math.PI),{configuredRotation:n,defaultRotation:s,parallelFlipFlag:o,regularFlipFlag:r}}function kC(e,t,i,n,o){const r=t>0&&t<=Math.PI,s=i>0&&i<=Math.PI;if(e){if(!t&&!i)return"center";if(n*(r||s?-1:1)===-1)return"end"}else if(n*o===-1)return"end";return"start"}function DC(e,t,i,n,o){const{width:r,height:s}=t,a=new xf(i,n,0,0);o.transformBBox(a,t);const{x:l,y:c}=t;return t.width=r,t.height=s,{point:{x:l,y:c},label:{text:e,width:r,height:s}}}om([ly(gy)],RC.prototype,"enabled",2),om([ly(Py,{optional:!0})],RC.prototype,"color",2),om([ly(Hy,{optional:!0})],RC.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],RC.prototype,"fontWeight",2),om([ly(by)],RC.prototype,"fontSize",2),om([ly(fy)],RC.prototype,"fontFamily",2),om([ly(my,{optional:!0})],RC.prototype,"formatter",2);var AC=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",e[e.LEGEND_ZINDEX=11]="LEGEND_ZINDEX",e[e.NAVIGATOR_ZINDEX=12]="NAVIGATOR_ZINDEX",e))(AC||{});function EC(e){return null!=e&&Object.hasOwn(e,"toString")&&iv(e.toString())}function TC(e){return null!=e&&Object.hasOwn(e,"valueOf")&&ov(e.valueOf())}function PC(e){return ov(e)||Zf(e)||TC(e)}function FC(e,t){return null!=e&&(!t||PC(e))}function NC(e){return EC(e)&&Object.hasOwn(e,"id")?e.id:e}var LC=e=>"value"===e?tb(((e,t)=>"line"===t.target.type),(e=>"range"===e.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):tb(((e,t)=>"range"===t.target.type),(e=>"line"===e.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),IC=(e,t,i,n)=>{const o="line"===e&&void 0!==t,r="range"===e&&void 0!==i;if(!o&&!r)return!0;const[s,a]=null!==i&&void 0!==i?i:[t,void 0],l=cb.is(n)||Kb.is(n),c=FC(s,l)&&!isNaN(n.convert(s)),d=FC(a,l)&&!isNaN(n.convert(a));if(o&&c||r&&c&&d)return!0;const u=["Expecting crossLine"];return r?(c||u.push("range start ".concat(ob(s))),d||u.push("".concat(c?"":"and ","range end ").concat(ob(a)))):u.push("value ".concat(ob(s))),u.push("to match the axis scale domain."),hm.warnOnce(u.join(" ")),!1},OC={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},jC={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function BC(e){let{yDirection:t,padding:i=0,position:n="top",bbox:o}=e;const r=t?OC:jC,{xTranslationDirection:s,yTranslationDirection:a}=r[n];return{xTranslation:s*(i+(t?o.width:o.height)/2),yTranslation:a*(i+(t?o.height:o.width)/2)}}function _C(e){let{yDirection:t,bbox:i,padding:n=0,position:o="top"}=e;const r={};return o.startsWith("inside")||("top"!==o||t?"bottom"!==o||t?"left"===o&&t?r.left=n+i.width:"right"===o&&t&&(r.right=n+i.width):r.bottom=n+i.height:r.top=n+i.height),r}var GC=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:o}=e;return t?{x:i/2,y:n}:{x:i,y:isNaN(o)?n:(n+o)/2}},zC=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:o,yEnd:r}=e;return t?{x:i,y:isNaN(r)?o:(o+r)/2}:{x:n/2,y:o}},HC=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:o}=e;return t?{x:i,y:isNaN(o)?n:(n+o)/2}:{x:i/2,y:isNaN(o)?n:o}},VC=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:o,yEnd:r}=e;return t?{x:n/2,y:isNaN(r)?o:r}:{x:i,y:isNaN(r)?o:(o+r)/2}},WC=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:o}=e;return t?{x:i/2,y:o}:{x:n,y:o}},UC=e=>{let{yDirection:t,xStart:i,yStart:n,yEnd:o}=e;return t?{x:i,y:isNaN(o)?n:o}:{x:i,y:n}},YC=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:o}=e;return t?{x:i,y:n}:{x:i,y:isNaN(o)?n:o}},KC=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:o,yEnd:r}=e;return t?{x:n,y:isNaN(r)?o:r}:{x:i,y:isNaN(r)?o:r}},qC={top:{c:GC},bottom:{c:VC},left:{c:zC},right:{c:HC},topLeft:{c:WC},topRight:{c:YC},bottomLeft:{c:UC},bottomRight:{c:KC},inside:{c:e=>{let{xEnd:t,yStart:i,yEnd:n}=e;return{x:t/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:zC},insideRight:{c:HC},insideTop:{c:GC},insideBottom:{c:VC},insideTopLeft:{c:WC},insideBottomLeft:{c:UC},insideTopRight:{c:YC},insideBottomRight:{c:KC}},XC=Jy(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),ZC=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};om([ly(gy,{optional:!0})],ZC.prototype,"enabled",2),om([ly(fy,{optional:!0})],ZC.prototype,"text",2),om([ly(Hy,{optional:!0})],ZC.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],ZC.prototype,"fontWeight",2),om([ly(by)],ZC.prototype,"fontSize",2),om([ly(fy)],ZC.prototype,"fontFamily",2),om([ly(vy)],ZC.prototype,"padding",2),om([ly(Py,{optional:!0})],ZC.prototype,"color",2),om([ly(XC,{optional:!0})],ZC.prototype,"position",2),om([ly(wy,{optional:!0})],ZC.prototype,"rotation",2),om([ly(gy,{optional:!0})],ZC.prototype,"parallel",2);var QC=class e{constructor(){this.id=nf(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new ZC,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new Jb({name:"".concat(this.id),layer:!0,zIndex:e.LINE_LAYER_ZINDEX}),this.labelGroup=new Jb({name:"".concat(this.id),layer:!0,zIndex:e.LABEL_LAYER_ZINDEX}),this.crossLineRange=new gC,this.crossLineLabel=new xC,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:i,crossLineRange:n,crossLineLabel:o}=this;t.append(n),i.append(o),n.pointerEvents=1}update(e){const{enabled:t,data:i,type:n,value:o,range:r,scale:s}=this;if(!n||!s||!t||!e||!IC(n,o,r,s)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,t){if(!e)return;if(!this.createNodeData(t))return;const{sideFlag:i,gridLength:n,data:o}=this,r=[],s=i*n,a=o[0],l=o[1],c=new xf(Math.min(0,s),Math.min(a,l),Math.abs(0-s),Math.abs(a-l));r.push(c);const d=this.computeLabelBBox();return d&&r.push(d),xf.merge(r)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(e){var t,i;const{scale:n,gridLength:o,sideFlag:r,direction:s,label:{position:a="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return!1;const d=null!==(t=n.bandwidth)&&void 0!==t?t:0,u=null!==(i=n.step)&&void 0!==i?i:0,h=(e?-1:1)*(n instanceof ay?(u-d)/2:0),[p,g]=[0,r*o];let[m,f]=this.getRange();const v=void 0===f&&Kb.is(n)?d/2+h:0;let[y,b]=[Number(n.convert(m,{clampMode:"clamped"}))-h+v,n.convert(f,{clampMode:"clamped"})+d+h];y=df(y,l),b=df(b,l),[m,f]=[Number(n.convert(m))+v,n.convert(f)+d];const C=(m===y||f===b||y!==b)&&Math.abs(b-y)>0;if(C&&y>b&&([y,b]=[b,y],[m,f]=[f,m]),m-h>=y&&(m-=h),f+h<=b&&(f+=h),this.isRange=C,this.startLine=c>0&&m>=y&&m<=y+h,this.endLine=c>0&&f>=b-d-h&&f<=b,!C&&!this.startLine&&!this.endLine)return!1;if(this.data=[y,b],this.label.enabled){var w;const e="y"===s,{c:t=GC}=null!==(w=qC[a])&&void 0!==w?w:{},{x:i,y:n}=t({yDirection:e,xStart:p,xEnd:g,yStart:y,yEnd:b});this.labelPoint={x:i,y:n}}return!0}updateRangeNode(){var e;const{crossLineRange:t,sideFlag:i,gridLength:n,data:o,startLine:r,endLine:s,isRange:a,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,lineDash:h}=this;t.x1=0,t.x2=i*n,t.y1=o[0],t.y2=o[1],t.startLine=r,t.endLine=s,t.isRange=a,t.fill=l,t.fillOpacity=null!==c&&void 0!==c?c:1,t.stroke=d,t.strokeWidth=null!==u&&void 0!==u?u:1,t.strokeOpacity=null!==(e=this.strokeOpacity)&&void 0!==e?e:1,t.lineDash=h}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t,y:i}={},label:{parallel:n,rotation:o,position:r="top",padding:s=0},direction:a,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===t||void 0===i)return;const{defaultRotation:d,configuredRotation:u}=MC({rotation:o,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});e.rotation=d+u,e.textBaseline="middle",e.textAlign="center";const h=e.computeTransformedBBox();if(!h)return;const p="y"===a,{xTranslation:g,yTranslation:m}=BC({yDirection:p,padding:s,position:r,bbox:h});e.translationX=t+g,e.translationY=i+m}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e.RANGE_LAYER_ZINDEX:e.LINE_LAYER_ZINDEX}getRange(){var e;const{value:t,range:i,scale:n}=this,o=cb.is(n)||Kb.is(n),r=null!==(e=null===i||void 0===i?void 0:i[0])&&void 0!==e?e:t;let s=null===i||void 0===i?void 0:i[1];return o||void 0!==s||(s=r),o&&r===s&&(s=void 0),[r,s]}computeLabelBBox(){const{label:e}=this;if(!e.enabled)return;const t=new xC;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i,y:n}={},label:{parallel:o,rotation:r,position:s="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(void 0===i||void 0===n)return;const{configuredRotation:u}=MC({rotation:r,parallel:o,regularFlipRotation:d,parallelFlipRotation:c});t.rotation=u,t.textBaseline="middle",t.textAlign="center";const h=t.computeTransformedBBox();if(!h)return;const p="y"===l,{xTranslation:g,yTranslation:m}=BC({yDirection:p,padding:a,position:s,bbox:h});return t.translationX=i+g,t.translationY=n+m,t.computeTransformedBBox()}calculatePadding(e){var t,i,n,o,r,s,a,l;const{isRange:c,startLine:d,endLine:u,direction:h,label:{padding:p=0,position:g="top"}}=this;if(!c&&!d&&!u)return;const m=this.computeLabelBBox();if(null==(null===m||void 0===m?void 0:m.x)||null==(null===m||void 0===m?void 0:m.y))return;const f=_C({yDirection:"y"===h,padding:p,position:g,bbox:m});e.left=Math.max(null!==(t=e.left)&&void 0!==t?t:0,null!==(i=f.left)&&void 0!==i?i:0),e.right=Math.max(null!==(n=e.right)&&void 0!==n?n:0,null!==(o=f.right)&&void 0!==o?o:0),e.top=Math.max(null!==(r=e.top)&&void 0!==r?r:0,null!==(s=f.top)&&void 0!==s?s:0),e.bottom=Math.max(null!==(a=e.bottom)&&void 0!==a?a:0,null!==(l=f.bottom)&&void 0!==l?l:0)}};QC.LINE_LAYER_ZINDEX=9,QC.RANGE_LAYER_ZINDEX=3,QC.LABEL_LAYER_ZINDEX=8,QC.className="CrossLine",om([ly(gy,{optional:!0})],QC.prototype,"enabled",2),om([ly(Jy(["range","line"],"a crossLine type"),{optional:!0})],QC.prototype,"type",2),om([ly(dy(LC("range"),Sy.restrict({length:2})),{optional:!0})],QC.prototype,"range",2),om([ly(LC("value"),{optional:!0})],QC.prototype,"value",2),om([ly(Py,{optional:!0})],QC.prototype,"fill",2),om([ly(Cy,{optional:!0})],QC.prototype,"fillOpacity",2),om([ly(Py,{optional:!0})],QC.prototype,"stroke",2),om([ly(vy,{optional:!0})],QC.prototype,"strokeWidth",2),om([ly(Cy,{optional:!0})],QC.prototype,"strokeOpacity",2),om([ly(Gy,{optional:!0})],QC.prototype,"lineDash",2);var JC=QC,$C=class{constructor(){this.moduleMap=new Map}*modules(){const e=["toolbar","navigator"];for(const t of this.moduleMap.values())e.includes(t.module.optionsKey)||(yield t.moduleInstance);for(const t of e){const e=this.moduleMap.get(t);e&&(yield e.moduleInstance)}}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error("AG Charts - module already initialised: ".concat(e.optionsKey));this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var t;const i=iv(e)?e:e.optionsKey;null===(t=this.moduleMap.get(i))||void 0===t||t.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(e){var t;return null===(t=this.moduleMap.get(iv(e)?e:e.optionsKey))||void 0===t?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(iv(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),((t,i)=>e(t.moduleInstance,i)))}destroy(){for(const t of this.moduleMap.keys()){var e;null===(e=this.moduleMap.get(t))||void 0===e||e.moduleInstance.destroy()}this.moduleMap.clear()}},ew={};function tw(e,t){const{nodes:i,selections:n}=Hv(e);for(const o of n){for(const e of o.nodes()){const i=t(e,e.datum);e.setProperties(i)}o.cleanup()}for(const o of i){const e=t(o,o.datum);o.setProperties(e)}}nm(ew,{resetMotion:()=>tw});var iw=class e extends cb{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=cm,this.basePow=cm,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,hm.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=e.getBaseLogMethod(this.base),this.basePow=e.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[e,t]=this.domain,i=e>t?Math.ceil:Math.floor,n=e>t?Math.floor:Math.ceil,o=this.pow(i(this.log(e))),r=this.pow(n(this.log(t)));this.niceDomain=[o,r]}ticks(){var e;const t=null!==(e=this.tickCount)&&void 0!==e?e:10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();const i=this.base,[n,o]=this.getDomain(),r=Math.min(n,o),s=Math.max(n,o);let a=this.log(r),l=this.log(s);if(this.interval){const e=e=>e>=r&&e<=s,t=Hb(a,l,Math.min(Math.abs(this.interval),Math.abs(l-a))).map(this.pow).filter(e);if(!Vb(t.length,this.getPixelRange()))return t}if(!(i%1===0)||l-a>=t)return jb(a,l,Math.min(l-a,t)).map(this.pow);const c=[],d=r>0;a=Math.floor(a)-1,l=Math.round(l)+1;const u=hf(this.range)/t;let h=1/0;for(let p=a;p<=l;p++){const e=this.convert(this.pow(p+1));for(let t=1;t<i;t++){const n=d?t:i-t+1,o=this.pow(p)*n,a=this.convert(o),l=Math.abs(h-a),g=Math.abs(a-e);o>=r&&o<=s&&(1===t||l>=u&&g>=u||0===c.length)&&(c.push(o),h=a)}}return c}tickFormat(e){var t;let{count:i,ticks:n,specifier:o}=e;return i!==1/0&&null==n&&this.ticks(),null!==(t=o)&&void 0!==t||(o=10===this.base?".0e":","),iv(o)?Sb(o):o}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const t=Math.log(e);return e=>Math.log(e)/t}}static getBasePowerMethod(e){switch(e){case 10:return e=>e>=0?10**e:1/10**-e;case Math.E:return Math.exp;default:return t=>e**t}}};om([ry],iw.prototype,"base",2);var nw=iw,ow={};function rw(e){var t;return e?null===(t=ow.document)||void 0===t?void 0:t[e]:ow.document}function sw(e){var t;return e?null===(t=ow.window)||void 0===t?void 0:t[e]:ow.window}function aw(e,t,i){const n=rw().createElement(e);return"object"===typeof t&&(i=t,t=void 0),t&&n.classList.add(t),i&&Object.assign(n.style,i),n}function lw(e,t){const{body:i}=rw(),n=aw("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function cw(e){ow.document=e}function dw(e){ow.window=e}function uw(e,t){e&&(e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px"))}"undefined"!==typeof window?ow.window=window:"undefined"!==typeof global&&(ow.window=global.window),"undefined"!==typeof document?ow.document=document:"undefined"!==typeof global&&(ow.document=global.document);var hw=Date.now(),pw={create(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Object.assign((function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];pw.check(...t)&&("function"===typeof i[0]&&(i=mb(i[0]())),(()=>{const e=Date.now()-hw;if(e>2e3){const t=(Math.floor(e/100)/10).toFixed(1);hm.log("**** ".concat(t,"s since last log message ****"))}hw=Date.now()})(),hm.log(...i))}),{check:()=>pw.check(...t)})},check(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];0===t.length&&t.push(!0);return mb(sw("agChartsDebug")).some((e=>t.includes(e)))}},gw=class e{constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=e,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=pw.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Pf,t)?()=>new t:t}static select(t,i){return new e(t,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(e,t){const i=[],n=e=>{t(e)&&i.push(e),e.children.forEach(n)};return n(e),i}static selectByClass(t,i){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.selectAll(t,(e=>e instanceof i||o.some((t=>e instanceof t))))}static selectByTag(t,i){return e.selectAll(t,(e=>e.tag===i))}createNode(e,t,i){const n=this.nodeFactory(e);return n.datum=e,null===t||void 0===t||t(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(e,t,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage: ".concat(e)),i){const n=new Map(e.map(((e,t)=>[i(e),[e,t]])));for(const[e,t]of this._nodesMap.entries())if(n.has(t)){const[i]=n.get(t);e.datum=i,this.garbageBin.delete(e),n.delete(t)}else this.garbageBin.add(e);for(const[e,[i,o]]of n.entries())this._nodesMap.set(this.createNode(i,t,o),e)}else{const i=Math.max(e.length,this.data.length);for(let n=0;n<i;n++)n>=e.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(e[n],t):(this._nodes[n].datum=e[n],this.garbageBin.delete(this._nodes[n]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((e=>!this.garbageBin.has(e)||(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(const t of this._nodes.entries())e(t[1],t[1].datum,t[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const t=this._nodes[e],i=this._nodes[e].datum;yield{node:t,datum:i,index:e}}}select(t){return e.selectAll(this.parentNode,t)}selectByClass(t){return e.selectByClass(this.parentNode,t)}selectByTag(t){return e.selectByTag(this.parentNode,t)}nodes(){return this._nodes}};function mw(e,t,i,n){const o=e-i,r=t-n;return o*o+r*r}function fw(e,t,i,n,o,r,s){if(i===o&&n===r)return Math.min(s,mw(e,t,i,n));const a=o-i,l=r-n,c=Math.max(0,Math.min(1,((e-i)*a+(t-n)*l)/(a*a+l*l))),d=i+c*a,u=n+c*l;return Math.min(s,mw(e,t,d,u))}function vw(e,t,i,n,o,r,s,a,l){a&&([s,r]=[r,s]);if(!nC(Math.atan2(t-n,e-i),r,s)){const s=i+Math.cos(r)*o,a=n+Math.sin(r)*o,c=i+Math.cos(r)*o,d=n+Math.sin(r)*o;return Math.min(l,mw(e,t,s,a),mw(e,t,c,d))}const c=o-Math.sqrt(mw(e,t,i,n));return Math.min(l,c*c)}var yw=class extends pC{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new xf(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){const{x:i,y:n}=this.transformPoint(e,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}distanceSquared(e,t){const{x1:i,y1:n,x2:o,y2:r}=this;return fw(e,t,i,n,o,r,1/0)}render(e){var t;const{ctx:i,forceRender:n,stats:o,devicePixelRatio:r}=e;if(0===this.dirty&&!n)return void(o&&(o.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:s,y1:a,x2:l,y2:c}=this;if(s===l){const{strokeWidth:e}=this,t=Math.round(s*r)/r+Math.trunc(e*r)%2/(2*r);s=t,l=t}else if(a===c){const{strokeWidth:e}=this,t=Math.round(a*r)/r+Math.trunc(e*r)%2/(2*r);a=t,c=t}i.beginPath(),i.moveTo(s,a),i.lineTo(l,c),this.fillStroke(i),null===(t=this.fillShadow)||void 0===t||t.markClean(),super.render(e)}};function bw(e,t,i,n,o,r){if(0===e.size)return!1;let s=e.x,a=e.y;null!=t&&(s-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=s;s<i?l=i:s>i+o&&(l=i+o);let c=a;a<n?c=n:a>n+r&&(c=n+r);const d=s-l,u=a-c;return Math.sqrt(d*d+u*u)<=.5*e.size}function Cw(e,t,i,n,o){const r=e.x+e.width>t&&e.x<t+n,s=e.y+e.height>i&&e.y<i+o;return r&&s}yw.className="Line",yw.defaultStyles=Object.assign({},pC.defaultStyles,{fill:void 0,strokeWidth:1}),om([Rf({redraw:3})],yw.prototype,"x1",2),om([Rf({redraw:3})],yw.prototype,"y1",2),om([Rf({redraw:3})],yw.prototype,"x2",2),om([Rf({redraw:3})],yw.prototype,"y2",2);var ww={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function xw(e,t){return e.length===t.length&&e.every(((e,i)=>{const n=t[i];return Array.isArray(e)&&Array.isArray(n)?xw(e,n):e===n}))}function Sw(e,t){return e.length===t.length&&e.every(((e,i)=>Number(e)===Number(t[i])))}function Rw(e,t){const i=Kf(e)?e:e.split(".");if(1===i.length){const[e]=i;return Hf(((t,i,n)=>t[e]=n),(t=>t[e]),t)}return Hf(((e,t,n)=>fv(e,i,n)),(e=>gv(e,i)),t)}function Mw(e){return Hf(((t,i,n)=>t[e]=n))}function kw(e,t){return Hf(((i,n,o)=>i[e][null!==t&&void 0!==t?t:n]=o))}function Dw(e){const{newValue:t,oldValue:i,changeValue:n}=e;return Hf(((e,o,r,s)=>(r!==s&&(void 0!==s&&(null===i||void 0===i||i.call(e,s)),void 0!==r&&(null===t||void 0===t||t.call(e,r)),null===n||void 0===n||n.call(e,r,s)),r)))}function Aw(e){return t=e,(e,i)=>{zf(e,i).observers.push(t)};var t}var Ew="color: green",Tw=class e{constructor(e,t,i){this.defaultState=e,this.states=t,this.enterEach=i,this.debug=pw.create(!0,"animation"),this.state=e,this.debug("%c".concat(this.constructor.name," | init -> ").concat(e),Ew)}is(e){return"__child"===this.state&&this.childState?this.childState.is(e):this.state===e}transition(t,i){var n;if(!this.transitionChild(t,i)||"__child"===this.state||"__parent"===this.state)return;const o=this.states[this.state],r=null===o||void 0===o?void 0:o[t];if(!r)return void this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(t," -> ").concat(this.state),"color: grey");const s=this.getDestinationState(r),a=s===this.state?void 0:o.onExit;var l,c;(this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(t," -> ").concat(s),Ew),null===(n=this.enterEach)||void 0===n||n.call(this,this.state,s),"__child"!==s&&"__parent"!==s)&&(null===(l=(c=this.states[s]).onEnter)||void 0===l||l.call(c));if(this.state=s,"function"===typeof r)r(i);else if("object"===typeof r&&!(r instanceof e)){var d;null===(d=r.action)||void 0===d||d.call(r,i)}null===a||void 0===a||a()}resetHierarchy(){this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> [resetHierarchy] -> ").concat(this.defaultState),"color: green"),this.state=this.defaultState}transitionChild(e,t){var i,n;return"__child"!==this.state||!this.childState||(this.childState.transition(e,t),!this.childState.is("__parent")||(this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(e," -> ").concat(this.defaultState),Ew),this.state=this.defaultState,null===(i=(n=this.states[this.state]).onEnter)||void 0===i||i.call(n),this.childState.resetHierarchy(),!1))}getDestinationState(t){let i=this.state;return"string"===typeof t?i=t:t instanceof e?(this.childState=t,i="__child"):"object"===typeof t&&(t.target instanceof e?(this.childState=t.target,i="__child"):i=t.target),i}};function Pw(e,t,i){void 0===i||""===i?null===e||void 0===e||e.removeAttribute(t):null===e||void 0===e||e.setAttribute(t,i.toString())}function Fw(e,t,i,n,o){let{top:r,right:s,bottom:a,left:l,width:c,height:d}=o;return null!=l?null!=c?s=i-l+c:null!=s&&(c=i-l-s):null!=s&&null!=c&&(l=i-s-c),null!=r?null!=d?a=n-r-d:null!=a&&(d=n-a-r):null!=a&&null!=d&&(r=n-a-d),null==c?null==d?(c=e,d=t):c=Math.ceil(e*d/t):null==d&&(d=Math.ceil(t*c/e)),null==l&&(l=null==s?Math.floor((i-c)/2):i-s-c),null==r&&(r=null==a?Math.floor((n-d)/2):n-d-a),{x:l,y:r,width:c,height:d}}var Nw="ag-chart-tooltip",Lw="ag-chart-dark-tooltip",Iw={html:"",ariaLabel:""};function Ow(e){const t=(e,t,i)=>0===t||"."!==i[t-1]?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function jw(e,t){var i,n,o;if("string"===typeof e)return{html:e,ariaLabel:e};const{content:r=(null!==(i=null===t||void 0===t?void 0:t.content)&&void 0!==i?i:""),title:s=(null===t||void 0===t?void 0:t.title),color:a=(null!==(n=null===t||void 0===t?void 0:t.color)&&void 0!==n?n:"white"),backgroundColor:l=(null!==(o=null===t||void 0===t?void 0:t.backgroundColor)&&void 0!==o?o:"#888")}=e,c=s?'<div class="'.concat(Nw,'-title"\n        style="color: ').concat(a,"; background-color: ").concat(l,'">').concat(s,"</div>"):"",d=s?"".concat(s,": "):"",u=r?'<div class="'.concat(Nw,'-content">').concat(r,"</div>"):"";return{html:"".concat(c).concat(u),ariaLabel:Ow("".concat(d).concat(r))}}var Bw=class extends yv{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};om([ly(Jy(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],Bw.prototype,"type",2),om([ly(vy)],Bw.prototype,"xOffset",2),om([ly(vy)],Bw.prototype,"yOffset",2);var _w=class extends yv{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Bw,this.darkTheme=!1,this.nestedDOM=!0,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",Nw),this.element.classList.add(Nw),Pw(this.element,"aria-hidden",!0)}destroy(e){e.removeChild("canvas-overlay",Nw)}isVisible(){var e;return!(null!==(e=this.element)&&void 0!==e&&e.classList.contains(Nw+"-hidden"))}show(e,t,i){var n,o,r,s,a,l,c,d,u;let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{element:p}=this;if(null!=i&&null!=p)p.innerHTML=i.html;else if(null===p||void 0===p||!p.innerHTML)return void this.toggle(!1);const g=null!==(n=null===(o=t.position)||void 0===o?void 0:o.type)&&void 0!==n?n:this.position.type,m=null!==(r=null===(s=t.position)||void 0===s?void 0:s.xOffset)&&void 0!==r?r:0,f=null!==(a=null===(l=t.position)||void 0===l?void 0:l.yOffset)&&void 0!==a?a:0,v=this.getTooltipBounds({positionType:g,meta:t,yOffset:f,xOffset:m,canvasRect:e}),y=Fw(p.clientWidth,p.clientHeight,e.width,e.height,v),b=this.nestedDOM?e:this.getWindowSize(),C=this.nestedDOM?0:-e.left,w=this.nestedDOM?0:-e.top,x=b.width-p.clientWidth-1+C,S=b.height-p.clientHeight+w,R=cf(C,y.x,x),M=cf(w,y.y,S),k=R!==y.x||M!==y.y,D=("node"===g||"pointer"===g)&&!k&&!m&&!f,A=null!==(c=null!==(d=t.showArrow)&&void 0!==d?d:this.showArrow)&&void 0!==c?c:D;this.updateShowArrow(A),p.style.transform="translate(".concat(Math.round(R),"px, ").concat(Math.round(M),"px)"),this.enableInteraction=null!==(u=t.enableInteraction)&&void 0!==u&&u,this.delay>0&&!h?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}getWindowSize(){const{innerWidth:e,innerHeight:t}=sw();return{width:e,height:t}}toggle(e){if(!this.element)return;const{classList:t}=this.element,i=(e,i)=>t.toggle("".concat(Nw,"-").concat(e),i),n=this.isVisible();let o=1/0;if(e||clearTimeout(this.showTimeout),n!==e){const e=Date.now();o=e-this.lastVisibilityChange,this.lastVisibilityChange=e}o>5&&i("no-animation",!n&&e&&o>100),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(Lw,this.darkTheme);for(const r of this.wrapTypes)t.toggle("".concat(Nw,"-wrap-").concat(r),r===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:i,yOffset:n,xOffset:o,canvasRect:r}=e,{clientWidth:s,clientHeight:a}=this.element,l={width:s,height:a};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-a-8,l.left=i.offsetX+o-s/2,l;case"top":return l.top=n,l.left=r.width/2-s/2+o,l;case"right":return l.top=r.height/2-a/2+n,l.left=r.width-s/2+o,l;case"left":return l.top=r.height/2-a/2+n,l.left=o,l;case"bottom":return l.top=r.height-a+n,l.left=r.width/2-s/2+o,l;case"top-left":return l.top=n,l.left=o,l;case"top-right":return l.top=n,l.left=r.width-s+o,l;case"bottom-right":return l.top=r.height-a+n,l.left=r.width-s+o,l;case"bottom-left":return l.top=r.height-a+n,l.left=o,l}}};om([ly(gy)],_w.prototype,"enabled",2),om([ly(gy,{optional:!0})],_w.prototype,"showArrow",2),om([Aw(((e,t,i)=>{var n,o;t&&(null===(n=e.element)||void 0===n||n.classList.add(t));i&&(null===(o=e.element)||void 0===o||o.classList.remove(i))})),ly(fy,{optional:!0})],_w.prototype,"class",2),om([ly(by)],_w.prototype,"delay",2),om([ly(Zy,{optional:!0})],_w.prototype,"range",2),om([ly(Wy)],_w.prototype,"wrapping",2),om([ly(hy)],_w.prototype,"position",2),om([ly(gy)],_w.prototype,"darkTheme",2),om([ly(gy)],_w.prototype,"nestedDOM",2);var Gw=class extends yv{constructor(){super(...arguments),this.id=nf(this),this.node=new xC({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(e){const t=e.regionManager.getRegion("root");return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return()=>{for(const e of t)e()}}(...[t.addListener("hover",(t=>this.handleMouseMove(e,t))),t.addListener("leave",(t=>this.handleMouseLeave(e,t)))])}computeTextWrap(e,t){var i,n;const{text:o,wrapping:r}=this,s=Math.min(null!==(i=this.maxWidth)&&void 0!==i?i:1/0,e),a=null!==(n=this.maxHeight)&&void 0!==n?n:t;if(!isFinite(s)&&!isFinite(a))return void(this.node.text=o);const l=xC.wrap(null!==o&&void 0!==o?o:"",s,a,this,r);this.node.text=l,this.truncated=l.includes(bC.EllipsisChar)}handleMouseMove(e,t){if(void 0!==t&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:t,showArrow:!1},jw({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};Gw.SMALL_PADDING=10,Gw.LARGE_PADDING=20,om([ly(gy)],Gw.prototype,"enabled",2),om([ly(fy,{optional:!0}),kw("node")],Gw.prototype,"text",2),om([ly(Uy,{optional:!0}),kw("node")],Gw.prototype,"textAlign",2),om([ly(Hy,{optional:!0}),kw("node")],Gw.prototype,"fontStyle",2),om([ly(Vy,{optional:!0}),kw("node")],Gw.prototype,"fontWeight",2),om([ly(by),kw("node")],Gw.prototype,"fontSize",2),om([ly(fy),kw("node")],Gw.prototype,"fontFamily",2),om([ly(Py,{optional:!0}),kw("node","fill")],Gw.prototype,"color",2),om([ly(by,{optional:!0})],Gw.prototype,"spacing",2),om([ly(by,{optional:!0})],Gw.prototype,"lineHeight",2),om([ly(by,{optional:!0})],Gw.prototype,"maxWidth",2),om([ly(by,{optional:!0})],Gw.prototype,"maxHeight",2),om([ly(Wy)],Gw.prototype,"wrapping",2),om([ly(fy)],Gw.prototype,"layoutStyle",2);var zw=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex((t=>t.symbol===e));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(t);break}}}dispatch(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.getListenersByType(e))try{o.handler(...i)}catch(YQ){hm.errorOnce(YQ)}}dispatchWrapHandlers(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];for(const r of this.getListenersByType(e))try{t(r.handler,...n)}catch(YQ){hm.errorOnce(YQ)}}getListenersByType(e){var t;return null!==(t=this.registeredListeners.get(e))&&void 0!==t?t:[]}destroy(){this.registeredListeners.clear()}},Hw=class{constructor(){this.listeners=new zw,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((e=>e()))}};function Vw(e){const t={...e,preventDefault(){var e;null===(e=t.sourceEvent)||void 0===e||e.preventDefault()}};return t}function Ww(e,t){e.dispatchWrapHandlers(t.type,((e,t)=>e(t)),Vw(t))}var Uw=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],Yw=["blur","focus"],Kw=["keydown","keyup"],qw=["mousemove","mouseup"],Xw=["pagehide","mousemove","mouseup"],Zw=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],Qw=(e=>(e[e.Default=16]="Default",e[e.ZoomDrag=8]="ZoomDrag",e[e.Annotations=4]="Annotations",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=31]="All",e))(Qw||{}),Jw=class e extends Hw{constructor(e,t){super(),this.keyboardOptions=e,this.domManager=t,this.debug=pw.create(!0,"interaction"),this.eventHandler=e=>this.processEvent(e),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(const i of Zw)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of Xw)sw().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.domManager.getDocumentRoot();if(e||t!==this.rootElement){for(const e of qw){var i;null===(i=this.rootElement)||void 0===i||i.removeEventListener(e,this.eventHandler)}this.rootElement=t,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const e of qw){var n;null===(n=this.rootElement)||void 0===n||n.addEventListener(e,this.eventHandler)}}}destroy(){super.destroy();for(const t of Xw)sw().removeEventListener(t,this.eventHandler);for(const t of qw){var e;null===(e=this.rootElement)||void 0===e||e.removeEventListener(t,this.eventHandler)}for(const t of Zw)this.domManager.removeEventListener(t,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return super.addListener(e,(e=>{this.getState()&i&&t(e)}))}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processEvent(e){const t=this.decideInteractionEventTypes(e),i=e.target;"click"!==e.type||"true"!==(null===i||void 0===i?void 0:i.ariaDisabled)?t.length>0&&this.dispatchEvent(e,t).catch((e=>hm.errorOnce(e))):e.preventDefault()}async dispatchEvent(e,t){if(wb(Uw,t))return void this.dispatchPointerEvent(e,t);const{relatedElement:i,targetElement:n}=this.extractElements(e);if(wb(Yw,t))for(const o of t){const t=e;Ww(this.listeners,{type:o,sourceEvent:t,relatedElement:i,targetElement:n})}else if(wb(Kw,t))for(const o of t){const t=e;Ww(this.listeners,{type:o,sourceEvent:t,relatedElement:i,targetElement:n})}}extractElements(e){let t,i;return"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&(t=e.relatedTarget),"target"in e&&e.target instanceof HTMLElement&&(i=e.target),{relatedElement:t,targetElement:i}}dispatchPointerEvent(e,t){const i=this.calculateCoordinates(e);if(null!=i)for(const n of t)Ww(this.listeners,this.buildPointerEvent({type:n,event:e,...i}))}getEventHTMLTarget(e){return e.target instanceof HTMLElement?e.target:e.currentTarget instanceof HTMLElement?e.currentTarget:void 0}recordDown(e){e instanceof MouseEvent&&(vv(["offsetX","offsetY"],this.clickHistory[0],e),vv(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),vv(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragStartElement=this.getEventHTMLTarget(e)}recordUp(e){e instanceof MouseEvent&&vv(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragStartElement=void 0}decideInteractionEventTypes(e){const t="drag-start";switch(e.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?[e.type]:[];case"click":case"dblclick":case"contextmenu":case"wheel":return[e.type];case"mousedown":return this.isEventOverElement(e)&&"button"in e&&0===e.button?(this.mouseDown=!0,this.recordDown(e),[t]):[];case"touchstart":return this.isEventOverElement(e)?(this.touchDown=!0,this.recordDown(e),[t]):[];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(e)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(e)?(this.mouseDown=!1,this.recordUp(e),["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(e)?(this.touchDown=!1,this.recordUp(e),["drag-end"]):[];case"mouseleave":case"touchcancel":return["leave"];case"mouseenter":const i=e instanceof MouseEvent&&1===(1&e.buttons);return this.mouseDown!==i?(this.mouseDown=i,[i?t:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(e){return this.domManager.isEventOverElement(e)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if("undefined"!==typeof TouchEvent&&t instanceof TouchEvent){var i;const n=null!==(i=t.touches[0])&&void 0!==i?i:t.changedTouches[0],{clientX:o,clientY:r,pageX:s,pageY:a}=n;return{...e.NULL_COORDS,clientX:o,clientY:r,pageX:s,pageY:a}}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}}getMouseEventCoords(e){const{clientX:t,clientY:i,pageX:n,pageY:o}=e;let{offsetX:r,offsetY:s}=e;const a=this.getEventHTMLTarget(e),{x:l=0,y:c=0}=a?this.domManager.calculateCanvasPosition(a):{};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){const e=this.domManager.calculateCanvasPosition(this.dragStartElement);r-=e.x-l,s-=e.y-c}else r+=l,s+=c;return{clientX:t,clientY:i,pageX:n,pageY:o,offsetX:r,offsetY:s}}isWheelEvent(e){return"wheel"===e.type}buildPointerEvent(e){const{type:t,event:i,clientX:n,clientY:o}=e;let{offsetX:r,offsetY:s,pageX:a,pageY:l}=e;if(!ov(r)||!ov(s)){const e=this.domManager.getBoundingClientRect();r=n-e.left,s=o-e.top}if(!ov(a)||!ov(l)){var c,d,u;const e=null===(c=this.rootElement)||void 0===c?void 0:c.getBoundingClientRect();a=n-(null!==(d=null===e||void 0===e?void 0:e.left)&&void 0!==d?d:0),l=o-(null!==(u=null===e||void 0===e?void 0:e.top)&&void 0!==u?u:0)}let[h,p]=[NaN,NaN];if(this.isWheelEvent(i)){const e=0===i.deltaMode?.01:1;h=i.deltaX*e,p=i.deltaY*e}let g=[];"click"===i.type?g=this.clickHistory:"dblclick"===i.type&&(g=this.dblclickHistory);const{relatedElement:m,targetElement:f}=this.extractElements(i),v={type:t,offsetX:r,offsetY:s,pageX:a,pageY:l,deltaX:h,deltaY:p,pointerHistory:g,sourceEvent:i,relatedElement:m,targetElement:f};return this.debug("InteractionManager - builtEvent: ",v),v}};Jw.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var $w=Jw,ex=(e=>(e.TITLE="title",e.SUBTITLE="subtitle",e.FOOTNOTE="footnote",e.LEGEND="legend",e.NAVIGATOR="navigator",e.PAGINATION="pagination",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e.TOOLBAR="toolbar",e))(ex||{}),tx=["stroke","lineDash"],ix=Ry((e=>$f(e)&&Object.keys(e).every((e=>tx.includes(e)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),nx=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function ox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return Hf(((i,n,o)=>t.includes(o)?Jf(e)?e(o):e:o))}om([ly(gy)],nx.prototype,"enabled",2),om([ly(by)],nx.prototype,"width",2),om([ly(ix)],nx.prototype,"style",2);var rx=tb((e=>ov(e)&&e>0||e instanceof pm),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),sx=class extends yv{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};om([ly(rx,{optional:!0})],sx.prototype,"step",2),om([ly(Sy,{optional:!0})],sx.prototype,"values",2),om([ly($y),ox(NaN)],sx.prototype,"minSpacing",2),om([ly(eb),ox(NaN)],sx.prototype,"maxSpacing",2);var ax=class extends yv{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};om([ly(gy)],ax.prototype,"enabled",2),om([ly(gy,{optional:!0})],ax.prototype,"autoWrap",2),om([ly(by,{optional:!0})],ax.prototype,"maxWidth",2),om([ly(by,{optional:!0})],ax.prototype,"maxHeight",2),om([ly(Hy,{optional:!0})],ax.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],ax.prototype,"fontWeight",2),om([ly(vy.restrict({min:1}))],ax.prototype,"fontSize",2),om([ly(fy)],ax.prototype,"fontFamily",2),om([ly(by)],ax.prototype,"padding",2),om([ly(xy),ox(NaN)],ax.prototype,"minSpacing",2),om([ly(Py,{optional:!0})],ax.prototype,"color",2),om([ly(wy,{optional:!0})],ax.prototype,"rotation",2),om([ly(gy)],ax.prototype,"avoidCollisions",2),om([ly(gy)],ax.prototype,"mirrored",2),om([ly(gy)],ax.prototype,"parallel",2),om([ly(my,{optional:!0})],ax.prototype,"formatter",2),om([ly(fy,{optional:!0})],ax.prototype,"format",2);var lx=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};om([ly(gy)],lx.prototype,"enabled",2),om([ly(by)],lx.prototype,"width",2),om([ly(Py,{optional:!0})],lx.prototype,"stroke",2);var cx=class extends yv{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};om([ly(gy)],cx.prototype,"enabled",2),om([ly(by)],cx.prototype,"width",2),om([ly(by)],cx.prototype,"size",2),om([ly(Py,{optional:!0})],cx.prototype,"stroke",2);var dx=class extends yv{constructor(){super(...arguments),this.enabled=!1,this.spacing=Gw.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function ux(e){const[t,i]=uf(e.range),n=Math.floor(t),o=Math.ceil(i);return{min:n,max:o,visible:n!==o}}om([ly(gy)],dx.prototype,"enabled",2),om([ly(fy,{optional:!0})],dx.prototype,"text",2),om([ly(by,{optional:!0})],dx.prototype,"spacing",2),om([ly(Hy,{optional:!0})],dx.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],dx.prototype,"fontWeight",2),om([ly(by)],dx.prototype,"fontSize",2),om([ly(fy)],dx.prototype,"fontFamily",2),om([ly(Py,{optional:!0})],dx.prototype,"color",2),om([ly(Wy)],dx.prototype,"wrapping",2),om([ly(my,{optional:!0})],dx.prototype,"formatter",2);var hx=2*Math.PI,px=hx/2;function gx(e){const t=(t,i)=>{const[n=e.min,o=e.max]=uf(null!==i&&void 0!==i?i:[]);return t<n||t>o},i={fromFn(e,i,n){let o=e.y1+e.translationY,r=e.opacity;return("added"===n||t(e.datum.translationY,e.datum.range))&&(o=i.translationY,r=0),{y:0,translationY:o,opacity:r,phase:Wv[n]}},toFn(e,t,i){const n=t.translationY;let o=1;return"removed"===i&&(o=0),{y:0,translationY:n,opacity:o,finish:{y:n,translationY:0}}},intermediateFn:(e,i,n)=>({visible:!t(e.y)})},n={fromFn(e,i,n){var o;const r=null!==(o=e.previousDatum)&&void 0!==o?o:i,s=r.x,a=r.y,l=r.rotationCenterX;let c=Math.round(e.translationY),d=r.rotation,u=e.opacity;return"removed"===n||t(r.y,r.range)?d=i.rotation:("added"===n||t(e.datum.y,e.datum.range))&&(c=Math.round(r.translationY),u=0,d=i.rotation),{x:s,y:a,rotationCenterX:l,translationY:c,rotation:d,opacity:u,phase:Wv[n]}},toFn(e,t,i){const n=t.x,o=t.y,r=t.rotationCenterX,s=Math.round(t.translationY);let a=0,l=1;if("added"===i)l=1,a=t.rotation;else if("removed"===i)l=0,a=t.rotation;else{var c,d;a=function(e,t){return Math.abs(t-e)<px?t:e>t?t+hx:t-hx}(null!==(c=null===(d=e.previousDatum)||void 0===d?void 0:d.rotation)&&void 0!==c?c:t.rotation,t.rotation)}return{x:n,y:o,rotationCenterX:r,translationY:s,rotation:a,opacity:l,finish:{rotation:t.rotation}}}};return{tick:i,line:{fromFn(e,t){var i;return{...null!==(i=e.previousDatum)&&void 0!==i?i:t,phase:Wv.updated}},toFn:(e,t)=>({...t})},label:n,group:{fromFn(e,t){const{rotation:i,translationX:n,translationY:o}=e;return{rotation:i,translationX:n,translationY:o,phase:Wv.updated}},toFn(e,t){const{rotation:i,translationX:n,translationY:o}=t;return{rotation:i,translationX:n,translationY:o}}}}}function mx(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function fx(e){const{visible:t,min:i,max:n}=e;return(e,o)=>{const r=o.translationY;return{y:r,translationY:0,opacity:1,visible:t&&r>=i&&r<=n}}}function vx(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function yx(){return(e,t)=>({...t})}var bx=class e{constructor(t,i,n){var o;let r;this.moduleCtx=t,this.scale=i,this.id=nf(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new sx,this.disableZoom=!1,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Jb({name:"".concat(this.id,"-axis"),zIndex:2}),this.lineNode=this.axisGroup.appendChild(new yw),this.tickLineGroup=this.axisGroup.appendChild(new Jb({name:"".concat(this.id,"-Axis-tick-lines"),zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Jb({name:"".concat(this.id,"-Axis-tick-labels"),zIndex:2})),this.crossLineGroup=new Jb({name:"".concat(this.id,"-CrossLines")}),this.labelGroup=new Jb({name:"".concat(this.id,"-Labels"),zIndex:10}),this.gridGroup=new Jb({name:"".concat(this.id,"-Axis-grid")}),this.gridLineGroup=this.gridGroup.appendChild(new Jb({name:"".concat(this.id,"-gridLines"),zIndex:1})),this.tickLineGroupSelection=gw.select(this.tickLineGroup,yw,!1),this.tickLabelGroupSelection=gw.select(this.tickLabelGroup,xC,!1),this.gridLineGroupSelection=gw.select(this.gridLineGroup,yw,!1),this.line=new lx,this.tick=new cx,this.gridLine=new nx,this.label=this.createLabel(),this.defaultTickMinSpacing=e.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.minRect=void 0,this.range=[0,1],this.visibleRange=[0,1],this.title=new dx,this._titleCaption=new Gw,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new $C,this.range=this.scale.range.slice(),null===(o=this.crossLines)||void 0===o||o.forEach((e=>this.initCrossLine(e))),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.regionManager.getRegion("series").addListener("hover",(e=>this.checkAxisHover(e))),t.regionManager.getRegion("horizontal-axes").addListener("hover",(e=>this.checkAxisHover(e))),t.regionManager.getRegion("vertical-axes").addListener("hover",(e=>this.checkAxisHover(e)))),this.animationManager=t.animationManager,this.animationState=new Tw("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:e=>this.animateReadyUpdate(e),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines),this.destroyFns.push(t.layoutService.addListener("layout-complete",(e=>{null!=r&&null!=xv(e.chart,r)&&this.animationState.transition("resize"),r={...e.chart}}))),!1!==(null===n||void 0===n?void 0:n.respondsToZoom)&&this.destroyFns.push(t.updateService.addListener("update-complete",(e=>{this.minRect=e.minRect})))}get type(){var e;return null!==(e=this.constructor.type)&&void 0!==e?e:""}set crossLines(e){var t,i;null===(t=this._crossLines)||void 0===t||t.forEach((e=>this.detachCrossLine(e))),e&&this.assignCrossLineArrayConstructor(e),this._crossLines=e,null===(i=this._crossLines)||void 0===i||i.forEach((e=>{this.attachCrossLine(e),this.initCrossLine(e)}))}get crossLines(){return this._crossLines}resetAnimation(e){"initial"===e&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((e=>e()))}updateRange(){var e,t;const{range:i,visibleRange:n,scale:o}=this,r=(i[1]-i[0])/(n[1]-n[0]),s=r*n[0],a=i[0]-s;null===(e=o.setVisibleRange)||void 0===e||e.call(o,n),o.range=[a,a+r],null===(t=this.crossLines)||void 0===t||t.forEach((e=>{e.clippedRange=[i[0],i[1]]}))}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,t){t.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup),e.appendChild(this.labelGroup)}attachLabel(e){this.labelGroup.append(e)}detachAxis(e,t){t.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup),e.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=uf(this.range);return e>=i-t&&e<=n+t}onFormatChange(e,t,i,n){const{scale:o}=this,r=o instanceof nw,s=e=>r?String:i=>"number"===typeof i?i.toFixed(t+e):String(i);if(n&&o&&o.tickFormat)try{const t=o.tickFormat({ticks:e,specifier:n});this.labelFormatter=t,this.datumFormatter=t}catch(YQ){this.labelFormatter=s(0),this.datumFormatter=s(1),hm.warnOnce("the axis label format string ".concat(n," is invalid. No formatting will be applied"))}else this.labelFormatter=s(0),this.datumFormatter=s(1)}setTickInterval(e){var t,i;this.scale.interval=null!==(t=null===(i=this.interval)||void 0===i?void 0:i.step)&&void 0!==t?t:e}onGridLengthChange(e,t){var i;(t&&!e||!t&&e)&&this.onGridVisibilityChange(),null===(i=this.crossLines)||void 0===i||i.forEach((e=>this.initCrossLine(e)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new ax}checkAxisHover(e){if(!this.interactionEnabled)return;this.computeBBox().containsPoint(e.offsetX,e.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.tickGenerationResult)return;const{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),o=this.label.getSideFlag();this.updatePosition();const r=this.getAxisLineCoordinates(),{tickData:s,combinedRotation:a,textBaseline:l,textAlign:c,primaryTickCount:d}=this.tickGenerationResult,u=this.tickLabelGroupSelection.nodes().map((e=>e.datum.tickId));if(this.updateSelections(r,s.ticks,{combinedRotation:a,textAlign:c,textBaseline:l,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const e=this.calculateUpdateDiff(u,s);this.animationState.transition("update",e)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(),this.updateTitle({anyTickVisible:s.ticks.length>0}),this.updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(s.fractionDigits),d}getAxisLineCoordinates(){const[e,t]=uf(this.range);return{x:0,y1:e,y2:t}}getTickLineCoordinates(e){const t=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,t);return{x1:i,x2:i+Math.abs(t),y:e.translationY}}getTickLabelProps(e,t){const{label:i}=this,{combinedRotation:n,textBaseline:o,textAlign:r,range:s}=t,a=e.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==a&&null!=a;return{tickId:e.tickId,translationY:e.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:a,textAlign:r,textBaseline:o,visible:c,x:l,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(e,t){var i;const{title:n}=this;if(!n.enabled)return e.enabled=!1,void(e.node.visible=!1);e.color=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.enabled=n.enabled,e.wrapping=n.wrapping;const o=e.node,r=(null!==(i=n.spacing)&&void 0!==i?i:0)+t.spacing,s=this.label.getSideFlag(),a=eC(this.rotation),l=-1===s&&a>Math.PI&&a<2*Math.PI?-1:1,c=l*s*Math.PI/2,d=1===l?"bottom":"top",{range:u}=this,h=Math.floor(l*s*(u[0]+u[1])/2),p=-1===s?Math.floor(l*-r):Math.floor(-r),{callbackCache:g}=this.moduleCtx,{formatter:m=e=>e.defaultValue}=n,f=g.call(m,this.getTitleFormatterParams());o.setProperties({rotation:c,text:f,textBaseline:d,visible:!0,x:h,y:p})}calculateLayout(e){var t,i;const{rotation:n,parallelFlipRotation:o,regularFlipRotation:r}=this.calculateRotations(),s=this.label.getSideFlag(),a=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:o,regularFlipRotation:r,labelX:a,sideFlag:s});const{tickData:l,combinedRotation:c,textBaseline:d,textAlign:u,...h}=this.tickGenerationResult;this.updateLayoutState(l.fractionDigits);const p=[],{x:g,y1:m,y2:f}=this.getAxisLineCoordinates(),v=new xf(g+Math.min(s*this.seriesAreaPadding,0),m,this.seriesAreaPadding,f-m);if(p.push(v),this.tick.enabled&&l.ticks.forEach((e=>{const{x1:t,x2:i,y:n}=this.getTickLineCoordinates(e),o=new xf(t,n,i-t,0);p.push(o)})),this.label.enabled){const e=new xC;l.ticks.forEach((t=>{const i=this.getTickLabelProps(t,{combinedRotation:c,textAlign:u,textBaseline:d,range:this.scale.range});if(!i.visible)return;e.setProperties({...i,translationY:Math.round(t.translationY)});const n=e.computeTransformedBBox();n&&p.push(n)}))}if(null!==(t=this.title)&&void 0!==t&&t.enabled){const e=new Gw,t=xf.merge(p).width;this.setTitleProps(e,{spacing:t});const i=e.node.computeTransformedBBox();i&&p.push(i)}const y=(e=>{const t=new Af,{rotation:i,translationX:n,translationY:o,rotationCenterX:r,rotationCenterY:s}=this.getAxisTransform();return Af.updateTransformMatrix(t,1,1,i,n,o,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:r,rotationCenterY:s}),t.transformBBox(e)})(xf.merge(p)),b=this.isAnySeriesActive();return null===(i=this.crossLines)||void 0===i||i.forEach((e=>{var t,i;(e.sideFlag=-s,e.direction=n===-Math.PI/2?"x":"y",e instanceof JC)&&(null!==(i=(t=e.label).parallel)&&void 0!==i||(t.parallel=this.label.parallel));e.parallelFlipRotation=o,e.regularFlipRotation=r,e.calculateLayout(b,this.reverse)})),{primaryTickCount:e=h.primaryTickCount,bbox:y}}updateLayoutState(e){this.layout.label={fractionDigits:e,padding:this.label.padding,format:this.label.format}}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);const{scale:e,nice:t}=this;cb.is(e)&&(e.nice=t,e.update())}calculateRotations(){const e=oC(this.rotation);return{rotation:e,parallelFlipRotation:eC(e),regularFlipRotation:eC(e-Math.PI/2)}}generateTicks(e){let{primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:n,labelX:o,sideFlag:r}=e;const{scale:s,interval:{minSpacing:a,maxSpacing:l},label:{parallel:c,rotation:d,fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g}}=this,m=void 0!==t,{defaultRotation:f,configuredRotation:v,parallelFlipFlag:y,regularFlipFlag:b}=MC({rotation:d,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),C=v+f,w=new Af,{maxTickCount:x}=this.estimateTickCount({minSpacing:a,maxSpacing:l}),S=!(cb.is(s)||Kb.is(s))||isNaN(x)?10:x;let R=kC(c,v,0,r,b);const M=function(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}(c,v,r,y),k=SC({fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g}),D={fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g,textBaseline:M,textAlign:R};let A={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},E=0,T=0,P=!0,F=!1;for(;P&&E<=S&&!F;){T=0,R=kC(c,v,0,r,b);const e=this.getTickStrategies({secondaryAxis:m,index:E});for(const i of e){({tickData:A,index:E,autoRotation:T,terminate:F}=i({index:E,tickData:A,textProps:D,labelOverlap:P,terminate:F,primaryTickCount:t}));const e=0!==v||0!==T,n=C+T;R=kC(c,v,T,r,b),P=!!this.label.avoidCollisions&&this.checkLabelOverlap(n,e,w,A.ticks,o,{font:k})}}const N=f+v+T;return!m&&A.rawTicks.length>0&&(t=A.rawTicks.length),{tickData:A,primaryTickCount:t,combinedRotation:N,textBaseline:M,textAlign:R}}getTickStrategies(e){let{index:t,secondaryAxis:i}=e;const{scale:n,label:o}=this,{minSpacing:r}=this.interval,s=cb.is(n)||Kb.is(n),a=o.enabled&&o.avoidCollisions,l=!s&&0!==t&&a,c=!0===o.autoRotate&&void 0===o.rotation,d=[];let u;u=this.interval.values?3:i?1:l?2:0;if(d.push((e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:o}=e;return this.createTickData(u,t,i,o,n)})),!s&&!isNaN(r)){const e=e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:o}=e;return this.createTickData(2,t,i,o,n)};d.push(e)}if(!a)return d;if(o.autoWrap){const e=e=>{let{index:t,tickData:i,textProps:n}=e;return this.wrapLabels(i,t,n)};d.push(e)}else if(c){const e=e=>{let{index:t,tickData:i,labelOverlap:n,terminate:o}=e;return{index:t,tickData:i,autoRotation:this.getAutoRotation(n),terminate:o}};d.push(e)}return d}createTickData(e,t,i,n,o){const{scale:r}=this,{step:s,values:a,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:d,minTickCount:u,defaultTickCount:h}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=cb.is(r)||Kb.is(r),g=!p||isNaN(d)?10:d;let m=p?Math.max(h-t,u):d;const f=void 0===s&&void 0===a&&m>u&&(p||2===e);let v=!0;for(;v&&t<=g;){const n=i.rawTicks;m=p?Math.max(h-t,u):d;const{rawTicks:r,fractionDigits:s,ticks:a,labelCount:l}=this.getTicks({tickGenerationType:e,previousTicks:n,tickCount:m,minTickCount:u,maxTickCount:d,primaryTickCount:o});i.rawTicks=r,i.fractionDigits=s,i.ticks=a,i.labelCount=l,v=!!f&&Sw(r,n),t++}return n||(n=void 0!==s||void 0!==a),{tickData:i,index:t,autoRotation:0,terminate:n}}checkLabelOverlap(e,t,i,n,o,r){Af.updateTransformMatrix(i,1,1,e,0,0);const s=this.createLabelData(n,o,r,i),a=function(e,t){return isNaN(e)?t?0:10:e}(this.label.minSpacing,t);return function(e,t){const i=[];for(let n=0;n<e.length;n++){const o=e[n],{point:{x:r,y:s},label:{text:a}}=o;let{label:{width:l,height:c}}=o;if(l+=null!==t&&void 0!==t?t:0,c+=null!==t&&void 0!==t?t:0,i.some((e=>Cw(e,r,s,l,c))))return!0;i.push({index:n,text:a,x:r,y:s,width:l,height:c,datum:o})}return!1}(s,a)}createLabelData(e,t,i,n){const o=[];for(const{tickLabel:r,translationY:s}of e){if(!r)continue;const{width:e,height:a}=bC.measureLines(r,i),l=DC(r,new xf(t,s,e,a),t,s,n);o.push(l)}return o}getAutoRotation(e){var t;return e?eC(oC(null!==(t=this.label.autoRotateAngle)&&void 0!==t?t:0)):0}getTicks(e){var t;let{tickGenerationType:i,previousTicks:n,tickCount:o,minTickCount:r,maxTickCount:s,primaryTickCount:a}=e;const{range:l,scale:c,visibleRange:d}=this;let u;switch(i){case 3:if(u=this.interval.values,cb.is(c)){const[e,t]=uf(c.getDomain().map(Number));u=u.filter((i=>i>=e&&i<=t)).sort(((e,t)=>e-t))}break;case 1:u=cb.is(c)?this.updateSecondaryAxisTicks(a):this.createTicks(o,r,s);break;case 2:u=this.filterTicks(n,o);break;default:u=this.createTicks(o,r,s)}const h=u.reduce(((e,t)=>Math.max(e,yf(t))),0),p=(null!==(t=c.bandwidth)&&void 0!==t?t:0)/2,g=[];let m=0;const f=new Map,v=Math.max(0,Math.floor(d[0]*u.length)),y=Math.min(u.length,Math.ceil(d[1]*u.length)),b=u.slice(v,y);this.onFormatChange(b,h,u,this.label.format);for(let C=0;C<b.length;C++){const e=b[C],t=c.convert(e)+p;if(l.length>0&&!this.inRange(t,.001))continue;const i=this.formatTick(e,h,v+C);let n=i;if(f.has(n)){const e=f.get(n);f.set(n,e+1),n="".concat(n,"_").concat(e)}else f.set(n,1);g.push({tick:e,tickId:n,tickLabel:i,translationY:Math.floor(t)}),""!==i&&null!=i&&m++}return{rawTicks:u,fractionDigits:h,ticks:g,labelCount:m}}filterTicks(e,t){const{minSpacing:i,maxSpacing:n}=this.interval,o=!isNaN(i)||!isNaN(n)?Math.ceil(e.length/t):2;return e.filter(((e,t)=>t%o===0))}createTicks(e,t,i){var n,o;const{scale:r}=this;return e&&(cb.is(r)||Kb.is(r))&&("number"===typeof e?(r.tickCount=e,r.minTickCount=null!==t&&void 0!==t?t:0,r.maxTickCount=null!==i&&void 0!==i?i:1/0):r instanceof Wb&&this.setTickInterval(e)),null!==(n=null===(o=r.ticks)||void 0===o?void 0:o.call(r))&&void 0!==n?n:[]}estimateTickCount(e){let{minSpacing:t,maxSpacing:i}=e;const{minRect:n,label:{avoidCollisions:o}}=this;if(!o)return{minTickCount:cb.defaultMaxTickCount,maxTickCount:cb.defaultMaxTickCount,defaultTickCount:cb.defaultMaxTickCount};const r=this.calculateRangeWithBleed(),s=Math.max(this.defaultTickMinSpacing,r/cb.defaultMaxTickCount);let a=!isNaN(i);isNaN(t)&&(t=s),isNaN(i)&&(i=r),t>i&&(t===s?t=i:i=t);let l=1;n&&(l="x"===this.direction?n.width:n.height),a&&(a=l<s);const c=cf(1,Math.floor(r/t),a?Math.min(Math.floor(r/l),100):100),d=Math.min(c,Math.ceil(r/i));return{minTickCount:d,maxTickCount:c,defaultTickCount:cf(d,cb.defaultTickCount,c)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(e){var t;let{rotation:i,parallelFlipRotation:n,regularFlipRotation:o}=e;const r=this.label.getSideFlag(),s=this.isAnySeriesActive();null===(t=this.crossLines)||void 0===t||t.forEach((e=>{var t;(e.sideFlag=-r,e.direction=i===-Math.PI/2?"x":"y",e instanceof JC)&&(e.label.parallel=null!==(t=e.label.parallel)&&void 0!==t?t:this.label.parallel);e.parallelFlipRotation=n,e.regularFlipRotation=o,e.update(s)}))}updateTickLines(){const{tick:e,label:t}=this,i=t.getSideFlag();this.tickLineGroupSelection.each((t=>{t.strokeWidth=e.width,t.stroke=e.stroke,t.x1=i*this.getTickSize(),t.x2=0}))}calculateAvailableRange(){return hf(this.range)}calculateRangeWithBleed(){const e=1/hf(this.visibleRange);return mf(this.calculateAvailableRange()*e,2)}calculateDomain(){const e=this.boundSeries.filter((e=>this.includeInvisibleDomains||e.isEnabled())).flatMap((e=>e.getDomain(this.direction)));this.setDomain(e)}getAxisTransform(){return{rotation:oC(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:e,axisGroup:t,gridGroup:i,translation:n,gridLineGroupSelection:o,gridPadding:r,gridLength:s}=this,{rotation:a}=this.calculateRotations(),l=this.label.getSideFlag(),c=Math.floor(n.x),d=Math.floor(n.y);e.setProperties({rotation:a,translationX:c,translationY:d}),i.setProperties({rotation:a,translationX:c,translationY:d}),t.datum=this.getAxisTransform(),o.each((e=>{e.x1=r,e.x2=-l*s+r}))}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,t,i){this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?t:[],(e=>e.append(new yw)),(e=>e.tickId)),this.tickLineGroupSelection.update(t,(e=>e.appendChild(new yw)),(e=>e.tickId)),this.tickLabelGroupSelection.update(t.map((e=>this.getTickLabelProps(e,i))),(e=>e.appendChild(new xC)),(e=>e.tickId))}updateAxisLine(){const{line:e}=this,t=e.enabled?e.width:0;this.lineNode.setProperties({stroke:e.stroke,strokeWidth:t})}updateGridLines(e){const{gridLine:{style:t,width:i},gridPadding:n,gridLength:o}=this;0!==o&&0!==t.length&&this.gridLineGroupSelection.each(((r,s,a)=>{const{stroke:l,lineDash:c}=t[a%t.length];r.setProperties({x1:n,x2:-e*o+n,fill:void 0,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){const{label:e}=this;e.enabled&&this.tickLabelGroupSelection.each(((e,t)=>{e.setProperties(t,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}wrapLabels(e,t,i){const{parallel:n,maxWidth:o,maxHeight:r}=this.label;let s=this.maxThickness,a=Math.round(this.calculateAvailableRange()/e.labelCount);return n&&([s,a]=[a,s]),e.ticks.forEach((e=>{e.tickLabel=xC.wrap(e.tickLabel,null!==o&&void 0!==o?o:s,null!==r&&void 0!==r?r:a,i,"hyphenate")})),{tickData:e,index:t,autoRotation:0,terminate:!0}}updateTitle(e){const{rotation:t,title:i,_titleCaption:n,lineNode:o,tickLineGroup:r,tickLabelGroup:s}=this;let a=0;if(i.enabled&&e.anyTickVisible){const e=Jb.computeBBox([r,s,o]);a+=(0===t?e.width:e.height)+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n,{spacing:a})}formatTick(e,t,i){return String(this.getFormatter(i,!0)(e,t))}formatDatum(e){return String(this.getFormatter()(e))}getFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:o,moduleCtx:{callbackCache:r}}=this;return i.formatter?(t,n)=>{var o;return null!==(o=r.call(i.formatter,{value:t,index:e,fractionDigits:n}))&&void 0!==o?o:t}:!t&&o?e=>{var t;return null!==(t=r.call(o,e))&&void 0!==t?t:String(e)}:n?e=>{var t;return null!==(t=r.call(n,e))&&void 0!==t?t:String(e)}:e=>String(e)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((e=>this.includeInvisibleDomains||e.isEnabled()))}clipTickLines(e,t,i,n){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new xf(e,t,i,n))}clipGrid(e,t,i,n){this.gridGroup.setClipRectInGroupCoordinateSpace(new xf(e,t,i,n))}calculatePadding(e,t){const i=.01*Math.abs(this.reverse?t:e);return[i,i]}getTitleFormatterParams(){var e;const t=this.boundSeries.reduce(((e,t)=>{const i=t.getKeys(this.direction),n=t.getNames(this.direction);for(let o=0;o<i.length;o++)e.push({key:i[o],name:n[o]});return e}),[]);return{direction:this.direction,boundSeries:t,defaultValue:null===(e=this.title)||void 0===e?void 0:e.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){var e;return null!==(e=this.axisContext)&&void 0!==e||(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,direction:this.direction,continuous:cb.is(e)||Kb.is(e),keys:()=>this.boundSeries.flatMap((e=>e.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((e,t)=>(t.getKeyProperties(this.direction).forEach((t=>{e.indexOf(t)<0&&e.push(t)})),e)),[]),scaleValueFormatter:t=>{var i;return t?null===(i=e.tickFormat)||void 0===i?void 0:i.call(e,{specifier:t}):this.getFormatter()},scaleBandwidth:()=>{var t;return null!==(t=e.bandwidth)&&void 0!==t?t:0},scaleDomain:()=>{var t;return null===(t=e.getDomain)||void 0===t?void 0:t.call(e)},scaleConvert:t=>e.convert(t),scaleInvert:Kb.is(e)?t=>{var i;return null===(i=e.invertNearest)||void 0===i?void 0:i.call(e,t)}:t=>{var i;return null===(i=e.invert)||void 0===i?void 0:i.call(e,t)},scaleInvertNearest:t=>{var i;return null===(i=e.invertNearest)||void 0===i?void 0:i.call(e,t)},attachLabel:e=>this.attachLabel(e),inRange:(e,t)=>this.inRange(e,t)}}animateReadyUpdate(e){const{animationManager:t}=this.moduleCtx,i=gx(ux(this));Uv(this.id,"axis-group",t,[this.axisGroup],i.group),Uv(this.id,"line",t,[this.lineNode],i.line),Uv(this.id,"line-paths",t,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((e,t)=>t.tickId),e),Uv(this.id,"tick-labels",t,[this.tickLabelGroupSelection],i.label,((e,t)=>t.tickId),e)}resetSelectionNodes(){const{gridLineGroupSelection:e,tickLineGroupSelection:t,tickLabelGroupSelection:i,lineNode:n}=this,o=ux(this);tw([this.axisGroup],((e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY}))),tw([e,t],fx(o)),tw([i],((e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX}))),tw([n],((e,t)=>({...t})))}calculateUpdateDiff(e,t){const i=new Set,n=new Set,o={},r=Math.max(e.length,t.ticks.length);for(let s=0;s<r;s++){const r=t.ticks[s],a=e[s],l=null===r||void 0===r?void 0:r.tickId;o[null!==l&&void 0!==l?l:a]=r,a!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(a)?i.delete(a):a&&n.add(a))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};bx.defaultTickMinSpacing=50,om([ly(gy)],bx.prototype,"nice",2),om([ly(gy)],bx.prototype,"reverse",2),om([ly(Iy)],bx.prototype,"keys",2),om([ly(hy)],bx.prototype,"interval",2),om([ly(gy)],bx.prototype,"disableZoom",2),om([ly(hy,{optional:!0})],bx.prototype,"title",2),om([Aw(((e,t,i)=>e.onGridLengthChange(t,i)))],bx.prototype,"gridLength",2);var Cx=bx,wx=class extends ax{constructor(){super(...arguments),this.autoRotateAngle=335}};om([ly(gy,{optional:!0})],wx.prototype,"autoRotate",2),om([ly(wy)],wx.prototype,"autoRotateAngle",2);var xx=class e extends Cx{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof e}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e,t){return this.updateDirection(),super.update(e,t)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}assignCrossLineArrayConstructor(e){ab(e,JC)}createLabel(){return new wx}};om([ly(by)],xx.prototype,"thickness",2),om([ly(zy)],xx.prototype,"position",2);var Sx=xx,Rx=class extends Sx{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ay),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){const t=[],i=new Set;for(const n of e){const e=n instanceof Date?n.getTime():n;i.has(e)||(i.add(e),t.push(n))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let t=1/0,i=-1/0;for(const n of this.boundSeries){var e;const o=null===(e=n.getBandScalePadding)||void 0===e?void 0:e.call(n);null!=o&&(t=Math.min(t,o.inner),i=Math.max(i,o.outer))}this.scale.paddingInner=Number.isFinite(t)?t:0,this.scale.paddingOuter=Number.isFinite(i)?i:0}return super.calculateDomain()}};Rx.className="CategoryAxis",Rx.type="category",om([ly(Cy)],Rx.prototype,"groupPaddingInner",2);var Mx=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((e,t)=>t!==this.number)):[]}};function kx(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new Mx;let n=0;return t&&e.forEach((e=>n=Math.max(n,e.labels.length))),e.forEach((e=>{if(t)for(;e.labels.length<n;)e.labels.unshift("");!function(e,t){const i=t.labels.slice().reverse(),n=i.length-1;i.forEach(((t,i)=>{const o=e.children,r=o.find((e=>e.label===t)),s=i!==n;if(r&&s)e=r;else{const i=new Mx(t,e);i.number=o.length,o.push(i),s&&(e=i)}}))}(i,e)})),i}function Dx(e,t,i){const n=i/(t.number-e.number);t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function Ax(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function Ex(e,t){const i=e.children;if(i.length){let n=i[0];i.forEach((e=>{Ex(e,t),n=function(e,t,i){const n=e.getLeftSibling();if(n){let o=e,r=e,s=n,a=r.getLeftmostSibling(),l=r.mod,c=o.mod,d=s.mod,u=a.mod;for(;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),a=a.nextLeft(),o=o.nextRight(),o.ancestor=e;const n=s.prelim+d-(r.prelim+l)+i;n>0&&(Dx(Ax(s,e,t),e,n),l+=n,c+=n),d+=s.mod,l+=r.mod,u+=a.mod,c+=o.mod}s.nextRight()&&!o.nextRight()?(o.thread=s.nextRight(),o.mod+=d-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-u),t=e)}return t}(e,n,t)})),function(e){const t=e.children;if(t){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const o=t[n];o.prelim+=e,o.mod+=e,i+=o.change,e+=o.shift+i}}}(e);const o=(i[0].prelim+i.at(-1).prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+t,e.mod=e.prelim-o):e.prelim=o}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var Tx=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function Px(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach((n=>Px(n,t+e.mod,i)))}function Fx(e){const t=e.children;let i=0;t.forEach((e=>{Fx(e),e.children.length?i+=e.leafCount:i++})),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Nx(e){const t=new Lx;return Ex(e,1),Px(e,-e.prelim,t),Fx(e),t}var Lx=class{constructor(){this.dimensions=new Tx,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,(e=>({x:e.x,y:e.y}))),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=this.leafCount-1,s=this.depth,a=this.dimensions;let l=1,c=1;if(e>0&&r){const t=(a.right-a.left)/r;l=e/r/t,o&&(l=-l)}if(t>0&&s){const e=(a.bottom-a.top)/s;c=t/s/e}const d=new Tx;this.nodes.forEach((e=>{e.screenX=e.x*l,e.screenY=e.y*c,d.update(e,(e=>({x:e.screenX,y:e.screenY})))}));const u=-d.left,h=-d.top;this.nodes.forEach((e=>{e.screenX+=u+i,e.screenY+=h+n}))}},Ix=class extends ax{constructor(){super(...arguments),this.grid=!1}};om([ly(gy)],Ix.prototype,"grid",2);var Ox=class extends Sx{constructor(e){const t=new ay;t.paddingOuter=.1,t.paddingInner=2*t.paddingOuter,super(e,t),this.tickScale=new ay,this.line=new lx,this.label=new Ix,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:o,tickScale:r}=this;r.paddingInner=1,r.paddingOuter=0,this.gridLineSelection=gw.select(o,yw),this.axisLineSelection=gw.select(i,yw),this.separatorSelection=gw.select(i,yw),this.labelSelection=gw.select(n,xC)}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),o=n*t[0],r=e[0]-o;this.tickScale.range=i.range=[r,r+n],this.resizeTickTree()}resizeTickTree(){const e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,n=this.lineHeight;var o;i&&i.resize(Math.abs(t[1]-t[0]),i.depth*n,(Math.min(t[0],t[1])||0)+(null!==(o=e.bandwidth)&&void 0!==o?o:0)/2,-i.depth*n,t[1]-t[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var e;const{direction:t}=this;let i=null;const n=this.boundSeries.filter((e=>e.visible)).flatMap((e=>{if("y"===t||i)return e.getDomain(t);if(null===i){const n=e.getDomain(t);return i=nv(n[0]),n}return[]}));this.setDomain(null!==(e=ub(n))&&void 0!==e?e:fb(n));const{domain:o}=this.dataDomain;this.tickTreeLayout=Nx(kx(o)),this.tickScale.domain=o.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each(((e,t)=>{e.setProperties(t)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this;this.separatorSelection.update(e).each(((e,i)=>{e.x1=i.x1,e.x2=i.x2,e.y1=i.y,e.y2=i.y,e.visible=i.y>=t[0]-1e-7&&i.y<=t[1]+1e-7,e.stroke=this.tick.stroke,e.fill=void 0,e.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each(((e,t)=>{e.setProperties({...t,stroke:this.line.stroke,strokeWidth:this.line.width}),e.x1=t.x,e.x2=t.x,e.y1=t.y1,e.y2=t.y2,e.strokeWidth=this.line.width,e.stroke=this.line.stroke}))}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:i,range:n,tickScale:o}=this,r=o.ticks(),s=i.getSideFlag(),a=this.gridLineSelection.update(e?r:[]);if(e){const{width:i,style:r}=t,l=r.length;a.each(((t,a,c)=>{const d=Math.round(o.convert(a));t.x1=0,t.x2=-s*e,t.y1=d,t.y2=d,t.visible=d>=n[0]&&d<=n[1];const{stroke:u,lineDash:h}=r[c%l];t.stroke=u,t.strokeWidth=i,t.lineDash=h,t.fill=void 0}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:i},moduleCtx:{callbackCache:n},range:o,title:r,title:{formatter:s=e=>e.defaultValue}={}}=this,a=e.range[0],l=e.range[1],c=Math.abs(l-a)/e.domain.length||0,d=Math.ceil(t.fontSize/c),u=oC(this.rotation),h=Math.abs(Math.cos(u))<1e-8,p=t.getSideFlag(),g=this.lineHeight,m=this.tickTreeLayout,f=e.ticks(),v=m?m.nodes:[],y=!!m&&m.depth>1,{defaultRotation:b,configuredRotation:C,parallelFlipFlag:w}=MC({rotation:t.rotation,parallel:i,regularFlipRotation:eC(u-Math.PI/2),parallelFlipRotation:eC(u)}),x=[],S=new Map;let R=0;const M=new xC,k=(e,i)=>{if(M.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===w?"bottom":"hanging",translationX:e.screenY-.25*t.fontSize,translationY:e.screenX}),0===i){if(!((null===r||void 0===r?void 0:r.enabled)&&f.length>0))return!1;const i=n.call(s,this.getTitleFormatterParams());M.setProperties({fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,text:i,textBaseline:"hanging",translationX:e.screenY-.25*t.fontSize,translationY:e.screenX})}else{if(i%d!==0)return!1;if(!(e.screenX>=o[0]&&e.screenX<=o[1]))return!1;var a;if(t.formatter)M.text=null!==(a=n.call(t.formatter,{value:String(e.label),index:i}))&&void 0!==a?a:String(e.label);else M.text=String(e.label)}return!0};v.forEach(((e,t)=>{if(!k(e,t))return;const i=M.computeTransformedBBox();if(!i)return;S.set(t,i);!e.children.length&&i.width>R&&(R=i.width)}));const D=p*t.padding,A=this.label.grid,E=[];v.forEach(((e,t)=>{let i=k(e,t);const n=t;M.x=D,M.rotationCenterX=D;const o=!e.children.length;if(o)M.rotation=C,M.textAlign="end",M.textBaseline="middle";else{M.translationX-=R-g+this.label.padding;const t=e.leafCount*c,o=S.get(n);o&&o.width>t?(i=!1,S.delete(n)):M.rotation=h?b:-Math.PI/2}if(e.parent&&y){const t=o?e.screenX-c/2:e.screenX-e.leafCount*c/2;if(o)(e.number!==e.children.length-1||A)&&E.push({y:t,x1:0,x2:-R-2*this.label.padding});else{const i=-R-2*this.label.padding+e.screenY;E.push({y:t,x1:i+g,x2:i})}}let r;if(i){const e=M.computeTransformedBBox();e&&S.set(t,e),r={...(s=M,{fill:s.fill,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,rotation:s.rotation,rotationCenterX:s.rotationCenterX,rotationCenterY:s.rotationCenterY,text:s.text,textAlign:s.textAlign,textBaseline:s.textBaseline,translationX:s.translationX,translationY:s.translationY,visible:s.visible,x:s.x,y:s.y}),visible:i}}else S.delete(t),r={visible:i};var s;x.push(r)}));let T=0;E.forEach((e=>T=Math.min(T,e.x2))),E.push({y:Math.max(a,l),x1:0,x2:T});const P=[],F=[];E.forEach((e=>{if(e.y>=o[0]-1e-7&&e.y<=o[1]+1e-7){const{x1:t,x2:i,y:n}=e,o=new xf(Math.min(t,i),n,Math.abs(t-i),0);F.push(o),P.push({x1:t,x2:i,y:n})}}));const N=[],L=[],I=m?m.depth+1:1;for(let O=0;O<I;O++){const e=f.length>0&&(0===O||A&&y),t=O>0?-R-2*this.label.padding-(O-1)*g:0,i=new xf(t,Math.min(...o),0,Math.abs(o[1]-o[0]));L.push(i),N.push({x:t,y1:o[0],y2:o[1],visible:e})}return{bbox:(e=>{const t=new Af,{rotation:i,translationX:n,translationY:o,rotationCenterX:r,rotationCenterY:s}=this.getAxisTransform();return Af.updateTransformMatrix(t,1,1,i,n,o,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:r,rotationCenterY:s}),t.transformBBox(e)})(xf.merge([...S.values(),...F,...L])),tickLabelLayout:x,separatorLayout:P,axisLineLayout:N}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};Ox.className="GroupedCategoryAxis",Ox.type="grouped-category",om([ly(Py,{optional:!0})],Ox.prototype,"labelColor",2);var jx=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Bx=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t){this.registerDependencies(n);const e=this.modules.find((e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier));if(e){if("enterprise"===n.packageType&&"community"===e.packageType){const t=this.modules.indexOf(e);this.modules.splice(t,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((e=>"enterprise"===e.packageType))}*byType(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const{dependents:n}=this,o=new Set;let r=0;const s=this.modules.filter((e=>t.includes(e.type)));do{for(const e of s)if(!o.has(e.optionsKey)&&!n.has(e.optionsKey)){yield e,o.add(e.optionsKey);for(const[t,i]of n.entries())i.delete(e.optionsKey),0===i.size&&n.delete(t)}r++}while(o.size<s.length&&r<3);if(n.size>0)throw new Error("Could not resolve module dependencies: [".concat([...n.keys()],"]"))}registerDependencies(e){if(null!=e.dependencies&&0!==e.dependencies.length){for(const i of e.dependencies){var t;const n=null!==(t=this.dependencies.get(i))&&void 0!==t?t:new Set;n.add(e.optionsKey),this.dependencies.set(i,n)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},_x=new Bx;function Gx(e){return new Promise((t=>{setTimeout((()=>t(void 0)),e)}))}var zx=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise((t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch((e=>hm.errorOnce(e)))}))}async acquireImmediately(e){return!!this.available&&(await this.acquire(e),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){var e;this.available=!1;let[t,i]=null!==(e=this.acquireQueue.shift())&&void 0!==e?e:[];for(;t;){var n;try{var o;await t(),null===(o=i)||void 0===o||o()}catch(s){var r;hm.error("mutex callback error",s),null===(r=i)||void 0===r||r()}[t,i]=null!==(n=this.acquireQueue.shift())&&void 0!==n?n:[]}this.available=!0}},Hx=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if("function"!==typeof t)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var i;null===(i=this.eventListeners.get(e))||void 0===i||i.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;null===(t=this.eventListeners.get(e.type))||void 0===t||t.forEach((t=>t(e)))}},Vx=class extends yv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;super(),this.top=e,this.right=t,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};function Wx(e,t){let i,n,o=0,r=!1;const s=()=>r,a=()=>{var t;r=!1,null===(t=n)||void 0===t||t(),n=void 0,i=void 0,o>0&&e(l)},l=()=>{const e=o;o=0,r=!0;const i=t({count:e});i?i.then(a,a):a()};return{schedule(t){0!==o||s()||e(l,t),o++},async await(){if(s())for(null==i&&(i=new Promise((e=>{n=e})));s();)await i}}}om([ly(by)],Vx.prototype,"top",2),om([ly(by)],Vx.prototype,"right",2),om([ly(by)],Vx.prototype,"bottom",2),om([ly(by)],Vx.prototype,"left",2);var Ux="10.0.2",Yx=class{constructor(e){this.version=e.split("-")[0]}save(){const e={version:this.version};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const o of Object.values(i))e[o.mementoOriginatorKey]=this.encode(o,o.createMemento());return e}restore(e){if("object"===typeof e)if(null!=e)if("version"in e&&"string"===typeof e.version){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const t of i){if(!(t.mementoOriginatorKey in e))continue;const i=this.decode(t,e[t.mementoOriginatorKey]);if(!t.guardMemento(i))return void hm.warnOnce("Could not restore [".concat(t.mementoOriginatorKey,"] data, value was invalid, ignoring."),i);t.restoreMemento(this.version,e.version,i)}}else hm.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else hm.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else hm.warnOnce("Could not restore data of type [".concat(typeof e,"], expecting an object, ignoring."))}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error("Failed to encode [".concat(e.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error("Failed to decode [".concat(e.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}encodeTypes(e,t){return Xf(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return $f(this[e])&&"__type"in this[e]&&"date"===this[e].__type?new Date(this[e].value):t}},Kx=class{constructor(){this.caretaker=new Yx(Ux),this.state=new Map}setState(e,t){null!=xv(this.state.get(e.mementoOriginatorKey),t)&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}};var qx=class e{constructor(t){var i;this.enabled=!0,this.width=600,this.height=300;const{width:n,height:o,pixelRatio:r,canvasConstructor:s}=t;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(null==e)return!1;const[t,i]=e[1].split("_").map(Number);return t<16||16===t&&i<6}()?1:null!==r&&void 0!==r?r:sw("devicePixelRatio"),this.element=null!==(i=null===s||void 0===s?void 0:s())&&void 0!==i?i:aw("canvas"),this.element.style.display="block",this.element.style.width=(null!==n&&void 0!==n?n:this.width)+"px",this.element.style.height=(null!==o&&void 0!==o?o:this.height)+"px",this.element.width=Math.round((null!==n&&void 0!==n?n:this.width)*this.pixelRatio),this.element.height=Math.round((null!==o&&void 0!==o?o:this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(null!==n&&void 0!==n?n:0,null!==o&&void 0!==o?o:0),e.debugContext(this.context)}static is(t){return t instanceof e}drawImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t){if(!(e>0&&t>0))return;const{element:i,context:n,pixelRatio:o}=this;i.width=Math.round(e*o),i.height=Math.round(t*o),n.setTransform(o,0,0,o,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(e){if(pw.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let n=0;Object.assign(e,{save(){t(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: ".concat(n))}})}}};om([Aw((e=>e.onEnabledChange()))],qx.prototype,"enabled",2);var Xx=qx,Zx=class e{constructor(e,t){this.canvas=e,this.markDirty=t,this.debug=pw.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,t){var i,n;return Zb([e.zIndex,...null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],e.id],[t.zIndex,...null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],t.id],qb)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(e.sortLayers).forEach(t)}resize(e,t){this.canvas.resize(e,t),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(e,t)}))}addLayer(e){const{width:t,height:i,pixelRatio:n}=this.canvas,{zIndex:o=this.nextZIndex++,name:r,zIndexSubOrder:s,getComputedOpacity:a,getVisibility:l}=e,c=new Xx({width:t,height:i,pixelRatio:n}),d={id:this.nextLayerId++,name:r,canvas:c,zIndex:o,zIndexSubOrder:s,getComputedOpacity:a,getVisibility:l};return o>=this.nextZIndex&&(this.nextZIndex=o+1),this.layersMap.set(c,d),this.debug("Scene.addLayer() - layers",this.layersMap),d.canvas}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,t,i){const n=this.layersMap.get(e);n&&(n.zIndex=t,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function Qx(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!pw.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:s=0,nodesRendered:a=0,nodesSkipped:l=0}=null!==n&&void 0!==n?n:{},c=performance.now(),{start:d,...u}=t,h=Object.entries(u).map((e=>{let[t,i]=e;return tS(t,i)})).filter((e=>null!=e)).join(" + "),p=Object.entries(o).map((e=>{let[t,i]=e;return"".concat(t,": ").concat(i)})).join(" ; "),g=pw.check("scene:stats:verbose"),m=["".concat(tS("\u23f1\ufe0f",d,c)," (").concat(h,")"),"".concat(p),"Layers: ".concat(g?eS(r,s):e.size),g?"Nodes: ".concat(eS(a,l)):null].filter(iv),f=new Map(m.map((e=>[e,xC.getTextSize(e,i.font)]))),v=Math.max(...Array.from(f.values(),(e=>e.width))),y=function(e,t){let i=0;for(const n of e)i+=t(n);return i}(f.values(),(e=>e.height));i.save(),i.fillStyle="white",i.fillRect(0,0,v,y),i.fillStyle="black";let b=0;for(const[C,w]of f.entries())b+=w.height,i.fillText(C,2,b);i.restore()}function Jx(e){var t,i;return pw.check(!0,"scene")?{node:e,name:null!==(t=e instanceof Jb?e.name:null)&&void 0!==t?t:e.id,dirty:Sf[e.dirty],...null!==(i=e.parent)&&void 0!==i&&i.isVirtual?{virtualParentDirty:Sf[e.parent.dirty],virtualParent:e.parent}:{},...e.children.map((e=>Jx(e))).reduce(((e,t)=>{var i;let{name:n}=t;const{node:{visible:o,opacity:r,zIndex:s,zIndexSubOrder:a},node:l,virtualParent:c}=t;(!o||r<=0)&&(n="(".concat(n,")")),l instanceof Jb&&l.isLayer()&&(n="*".concat(n,"*"));const d=["".concat(null!==(i=n)&&void 0!==i?i:"<unknown>"),"z: ".concat(s),a&&"zo: ".concat(a.map((e=>"function"===typeof e?"".concat(e()," (fn)"):e)).join(" / ")),c&&"(virtual parent)"].filter((e=>!!e)).join(" ");let u=d,h=1;for(;null!=e[u]&&h<100;)u="".concat(d," (").concat(h++,")");return e[u]=t,e}),{})}:{}}function $x(e){var t;if(0===e.dirty)return{dirtyTree:{},paths:[]};const i=e.children.map((e=>$x(e))).filter((e=>e.paths.length>0)),n=Jb.is(e)&&null!==(t=e.name)&&void 0!==t?t:e.id,o=i.length?i.flatMap((e=>e.paths)).map((e=>"".concat(n,".").concat(e))):[n];return{dirtyTree:{name:n,node:e,dirty:Sf[e.dirty],...i.map((e=>e.dirtyTree)).filter((e=>null!=e.dirty)).reduce(((e,t)=>{var i;return e[null!==(i=t.name)&&void 0!==i?i:"<unknown>"]=t,e}),{})},paths:o}}function eS(e,t){const i=e+t;return"".concat(e," / ").concat(i," (").concat(Math.round(100*e/i),"%)")}function tS(e,t,i){const n=null!=i?i-t:t;return"".concat(e,": ").concat(Math.round(100*n)/100,"ms")}var iS=class{constructor(e){let{width:t,height:i,pixelRatio:n,domManager:o}=e;this.debug=pw.create(!0,"scene"),this.id=nf(this),this.root=null,this.isDirty=!1,this.domManager=o;const r={width:t,height:i,pixelRatio:n};o&&(r.canvasConstructor=()=>o.addChild("canvas","scene-canvas")),this.canvas=new Xx(r),this.layersManager=new Zx(this.canvas,(()=>{this.isDirty=!0}))}get width(){var e,t;return null!==(e=null===(t=this.pendingSize)||void 0===t?void 0:t[0])&&void 0!==e?e:this.canvas.width}get height(){var e,t;return null!==(e=null===(t=this.pendingSize)||void 0===t?void 0:t[1])&&void 0!==e?e:this.canvas.height}setContainer(e){if("undefined"!==typeof e.tagName){var t;const{element:i}=this.canvas;null===(t=i.parentElement)||void 0===t||t.removeChild(i),e.appendChild(i)}else this.domManager=e,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(e){var t;return this.root===e||(this.isDirty=!0,null===(t=this.root)||void 0===t||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager))),this}attachNode(e,t){var i,n;if(!t)return null===(n=this.root)||void 0===n||n.appendChild(e),()=>this.removeChild(e);const o=null===(i=this.root)||void 0===i?void 0:i.children.find((e=>e instanceof Jb&&e.name===t));if(!o)throw new Error("AG Charts - Unrecognized root group name: "+t);return o.appendChild(e),()=>o.removeChild(e)}appendChild(e){var t;return null===(t=this.root)||void 0===t||t.appendChild(e),this}removeChild(e){var t;return null===(t=this.root)||void 0===t||t.removeChild(e),this}download(e,t){var i;lw(this.canvas.toDataURL(t),null!==(i=null===e||void 0===e?void 0:e.trim())&&void 0!==i?i:"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)&&(this.pendingSize=[e,t],this.isDirty=!0,!0)}async render(e){var t,i;const{debugSplitTimes:n={start:performance.now()},extraDebugStats:o}=null!==e&&void 0!==e?e:{},{canvas:r,canvas:{context:s}={},root:a,pendingSize:l}=this;if(!s)return;const c=performance.now();if(l&&(this.layersManager.resize(...l),this.pendingSize=void 0),a&&!a.visible)return void(this.isDirty=!1);if(a&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Sf[a.dirty],tree:Jx(a)}),void Qx(this.layersManager,n,s,void 0,o);const d={ctx:s,devicePixelRatio:null!==(t=this.canvas.pixelRatio)&&void 0!==t?t:1,forceRender:!0,resized:Boolean(l),debugNodes:{}};pw.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let u=!1;if((!a||a.dirty>=1)&&(u=!0,r.clear()),a&&pw.check("scene:dirtyTree")){const{dirtyTree:e,paths:t}=$x(a);pw.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:e,paths:t})}if(a&&u&&(this.debug("Scene.render() - before",{redrawType:Sf[a.dirty],canvasCleared:u,tree:Jx(a)}),a.visible&&(a.preRender(),s.save(),a.render(d),s.restore())),n["\u270d\ufe0f"]=performance.now()-c,this.layersManager.size&&u){const e=performance.now();s.save(),s.resetTransform(),this.layersManager.forEach((e=>{e.canvas.enabled&&e.getVisibility()&&(s.globalAlpha=e.getComputedOpacity(),e.canvas.drawImage(s))})),s.restore(),n["\u26d9"]=performance.now()-e}null===(i=s.verifyDepthZero)||void 0===i||i.call(s),this.isDirty=!1,Qx(this.layersManager,n,s,d.stats,o),function(e,t){e.save();for(const[i,n]of Object.entries(t)){const t=n.computeTransformedBBox();t?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(t.x,t.y,t.width,t.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,t.x,t.y,t.width),e.fillText(i,t.x,t.y,t.width)):hm.log("Scene.render() - no bbox for debugged node [".concat(i,"]."))}e.restore()}(s,d.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Sf[a.dirty],tree:Jx(a),canvasCleared:u})}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};iS.className="Scene";var nS=class{constructor(){this.cache=new WeakMap}call(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];let o,r=this.cache.get(e);const s=()=>{try{const t=e(...i);return r&&null!=o&&r.set(o,t),t}catch(YQ){return void hm.warnOnce("User callback errored, ignoring",YQ)}};try{o=JSON.stringify(i)}catch(YQ){return s()}return null==r&&(r=new Map,this.cache.set(e,r)),r.has(o)?r.get(o):s()}invalidateCache(){this.cache=new WeakMap}},oS=class extends Hw{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return Kf(e)}restoreMemento(e,t,i){this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:i})}updateData(e){this.annotations=null!==e&&void 0!==e?e:[]}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return null===(t=this.annotationRoot)||void 0===t||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return null===(t=this.styles)||void 0===t?void 0:t[e]}},rS=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new Jb({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new Jb({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(const n of e)t.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(const n of t)null!==e&&void 0!==e&&e.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const n of t){const e=n.createAxisContext();var i;if(this.axes.has(e.direction))null===(i=this.axes.get(e.direction))||void 0===i||i.push(e);else this.axes.set(e.direction,[e])}}getAxisContext(e){var t;return[...null!==(t=this.axes.get(e))&&void 0!==t?t:[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},sS=class extends zw{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=pw.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){"function"===typeof e&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return um((e=>this.fetch(e)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return um(((e,t)=>{this.debug("DataService - dispatching 'data-load' | ".concat(e)),this.dispatch("data-load",{type:"data-load",data:t})}),e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;let n;this.debug("DataService - requesting | ".concat(i)),this.freshRequests.push(i);try{n=await this.dataSourceCallback(e),this.debug("DataService - response | ".concat(performance.now()-t,"ms | ").concat(i))}catch(r){this.debug("DataService - request failed | ".concat(i)),hm.errorOnce("DataService - request failed | [".concat(r,"]"))}this.isLoadingInitialData=!1;const o=this.freshRequests.findIndex((e=>e===i));-1===o||this.dispatchOnlyLatest&&o!==this.freshRequests.length-1?this.debug("DataService - discarding stale request | ".concat(i)):(this.freshRequests=this.freshRequests.slice(o+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};om([Dw({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],sS.prototype,"dispatchThrottle",2),om([Dw({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],sS.prototype,"requestThrottle",2);var aS=class{constructor(e,t,i){this.element=e,this.topTabGuard=t,this.bottomTabGuard=i,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",(()=>this.onBlur())),this.initEventListener(this.element,"focus",(()=>this.onFocus())),this.initEventListener(this.topTabGuard,"focus",(e=>this.onTabStart(e,this.topTabGuard))),this.initEventListener(this.bottomTabGuard,"focus",(e=>this.onTabStart(e,this.bottomTabGuard)))}set tabIndex(e){e>=0&&(this.guardTabIndex=e),e>0?(this.topTabGuard.tabIndex=e,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=e,this.bottomTabGuard.tabIndex=e)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initEventListener(e,t,i){e.addEventListener(t,i),this.destroyFns.push((()=>e.removeEventListener(t,i)))}onBlur(){-1===this.element.tabIndex&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){-1===this.element.tabIndex&&(this.tabIndex=-1)}onTabStart(e,t){if(t.tabIndex>0&&(this.guessedDelta=0,null!=e.relatedTarget&&"tabIndex"in e.relatedTarget)){const i=Number(e.relatedTarget.tabIndex);!isNaN(i)&&i>0&&(this.guessedDelta=i<t.tabIndex?1:-1)}this.guardTarget=t,this.element.focus()}getBrowserFocusDelta(){const{guessedDelta:e,guardTarget:t,topTabGuard:i,bottomTabGuard:n}=this;return void 0!==e?e:t===i?1:t===n?-1:0}},lS=class{constructor(){var e;(this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((e=>{let[t,i]=e;return this.observe(t,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver)&&(this.resizeObserver=new ResizeObserver((e=>{for(const{target:t,contentRect:{width:i,height:n}}of e){const e=this.elements.get(t);this.checkSize(e,t,i,n)}})),this.documentReady="complete"===rw("readyState"),this.documentReady||null===(e=sw())||void 0===e||e.addEventListener("load",this.onLoad))}destroy(){var e,t;null===(e=sw())||void 0===e||e.removeEventListener("load",this.onLoad),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){var o,r;e&&(i===(null===(o=e.size)||void 0===o?void 0:o.width)&&n===(null===(r=e.size)||void 0===r?void 0:r.height)||(e.size={width:i,height:n},e.cb(e.size,t)))}observe(e,t){if(!this.documentReady)return void this.queuedObserveRequests.push([e,t]);var i;this.elements.has(e)?this.removeFromQueue(e):null===(i=this.resizeObserver)||void 0===i||i.observe(e);const n={cb:t};this.elements.set(e,n),this.checkSize(n,e,e.offsetWidth,e.offsetHeight)}unobserve(e){var t;null===(t=this.resizeObserver)||void 0===t||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter((t=>{let[i]=t;return i!==e}))}},cS="canvas-center",dS=["styles",cS,"canvas","canvas-proxy","canvas-overlay"],uS=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[cS,{childElementType:"div"}]]);var hS=class extends Hw{constructor(e){super(),this.containerSize=void 0,this.sizeMonitor=new lS;const t=aw("div");t.innerHTML='<div class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div class="ag-charts-canvas-center"><div class="ag-charts-canvas-container"><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas"></div><div class="ag-charts-canvas-proxy"></div><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=t.children.item(0),this.rootElements=dS.reduce(((e,t)=>{const i="ag-charts-".concat(t),n=this.element.classList.contains(i)?this.element:this.element.querySelector(".".concat(i));if(!n)throw new Error("AG Charts - unable to find DOM element ".concat(i));return e[t]={element:n,children:new Map,listeners:[]},e}),{});let i=!1;this.observer=function(e,t){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===e&&t(n.intersectionRatio)}),{root:e});return i.observe(e),i}(this.element,(e=>{0!==e||i||this.listeners.dispatch("hidden",{type:"hidden"}),i=0===e})),this.setSizeOptions(),this.addStyles("dom-manager",".ag-charts-wrapper,\n.ag-charts-wrapper:focus,\n.ag-charts-wrapper:after,\n.ag-charts-wrapper:before,\n.ag-charts-wrapper *,\n.ag-charts-wrapper *:focus,\n.ag-charts-wrapper *:after,\n.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,\n.ag-charts-canvas{position:relative}.ag-charts-canvas-container > *,\n.ag-charts-canvas > *{display:block}.ag-charts-canvas-proxy{opacity:0;position:absolute;top:0;left:0;pointer-events:none}.ag-charts-tab-guard{opacity:0;width:0px;height:0px}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;top:0;left:0;right:0;bottom:0}.ag-charts-canvas-overlay > *{position:absolute;pointer-events:auto}.ag-charts-theme-default,\n.ag-charts-theme-default-dark{--ag-charts-active-color:var(--ag-active-color,#2196f3);--ag-charts-background-color:var(--ag-background-color,#fff);--ag-charts-foreground-color:var(--ag-foreground-color,#181d1f);--ag-charts-border-color:var(--ag-border-color,#dddddd);--ag-charts-font-size:var(--ag-font-size,14px);--ag-charts-size:var(--ag-grid-size,8px);--ag-charts-border:var(--ag-charts-border-color) var(--ag-borders,solid 1px);--ag-charts-border-critical:var(--ag-borders-critical,solid 1px);--ag-charts-layer-context-menu:5;--ag-charts-layer-tooltip:4;--ag-charts-layer-toolbar:3;--ag-charts-layer-crosshair:2;--ag-charts-layer-annotations:1;--ag-charts-align:center;--ag-charts-justify:center;--ag-charts-axis-label-background-color:#474747;--ag-charts-axis-label-color:#ffffff;--ag-charts-toolbar-foreground-color:var(--ag-header-foreground-color,var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color:var(\n        --ag-header-background-color,color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-foreground-color) 2%)\n    );--ag-charts-toolbar-size:34px;--ag-charts-toolbar-size-small:24px;--ag-charts-toolbar-border:var(--ag-charts-border-critical,solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 12%);--ag-charts-toolbar-focus-color:var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 24%);--ag-charts-toolbar-active-color:var(--ag-active-color,#5090dc);--ag-charts-toolbar-disabled-foreground-color:var(\n        --ag-disabled-foreground-color,color-mix(in srgb,transparent,var(--ag-charts-toolbar-foreground-color) 50%)\n    );--ag-charts-toolbar-disabled-background-color:color-mix(in srgb,var(--ag-charts-toolbar-background-color),var(--ag-charts-toolbar-foreground-color) 6%);--ag-charts-toolbar-gap:var(--ag-charts-size);--ag-charts-toolbar-font-size:14px;--ag-charts-toolbar-font-size-small:12px;--ag-charts-toolbar-button-padding:7px;--ag-charts-toolbar-button-padding-small:3px;--ag-charts-button-radius:var(--ag-border-radius,4px);--ag-charts-focus-border-color:var(--ag-input-focus-border-color,var(--ag-charts-active-color));--ag-charts-focus-border:solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow:var(\n        --ag-input-focus-box-shadow,0 0 0 3px color-mix(in srgb,transparent,var(--ag-input-focus-border-color,var(--ag-charts-active-color)) 47%)\n    );--ag-charts-icon-font-family:'agChartsDefault';--ag-charts-icon-font-weight:normal;--ag-charts-icon-font-color:color-mix(in srgb,transparent,var(--ag-charts-foreground-color),90%)}.ag-charts-theme-default-dark{--ag-charts-background-color:var(--ag-background-color,color-mix(in srgb,#fff,#182230 97%));--ag-charts-foreground-color:var(--ag-foreground-color,#fff);--ag-charts-border-color:var(--ag-border-color,rgba(255,255,255,0.16));--ag-charts-hover-color:var(\n        --ag-row-hover-color,color-mix(in srgb,transparent,var(--ag-charts-active-color) 20%)\n    );--ag-charts-axis-label-background-color:#9caebb;--ag-charts-axis-label-color:#000000;--ag-charts-toolbar-background-color:var(--ag-header-background-color,color-mix(in srgb,#fff,#182230 93%))}[class^='ag-charts-icon']{display:block;speak:none;speak:never;mask-size:contain;mask-repeat:no-repeat;background-color:currentColor}.ag-charts-icon-zoom-in{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}"),e&&this.setContainer(e)}destroy(){var e,t;super.destroy(),null===(e=this.observer)||void 0===e||e.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((e=>{e.children.forEach((e=>e.remove())),e.element.remove()})),null===(t=this.guardedElement)||void 0===t||t.destroy(),this.element.remove()}setSizeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:o}=this.element;o.width="".concat(null!==i&&void 0!==i?i:e,"px"),o.height="".concat(null!==n&&void 0!==n?n:t,"px")}updateContainerSize(){var e,t,i,n;const{style:o}=this.rootElements[cS].element;o.width="".concat(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0,"px"),o.height="".concat(null!==(i=null===(n=this.containerSize)||void 0===n?void 0:n.height)&&void 0!==i?i:0,"px")}setContainer(e){e!==this.container&&(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),e.appendChild(this.element),this.sizeMonitor.observe(e,(e=>{this.containerSize=e,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.container=e,this.listeners.dispatch("container-changed",{type:"container-changed"}))}setThemeClass(e){this.element.classList.forEach((t=>{t.startsWith("ag-charts-theme-")&&t!==e&&this.element.classList.remove(t)})),this.element.classList.add(e)}createTabGuards(){const e=this.rootElements.canvas.element.querySelector("canvas"),t=this.element.querySelectorAll(".ag-charts-tab-guard");if(null==e||null==t[0]||null==t[1])throw new Error("AG Charts - error initialising canvas tab guards");return new aS(e,t[0],t[1])}setTabIndex(e){var t;null!==(t=this.guardedElement)&&void 0!==t||(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=e}getBrowserFocusDelta(){var e,t;return null!==(e=null===(t=this.guardedElement)||void 0===t?void 0:t.getBrowserFocusDelta())&&void 0!==e?e:0}addEventListener(e,t,i){this.element.addEventListener(e,t,i),uS.forEach(((n,o)=>{var r;if(null===(r=n.eventTypes)||void 0===r||!r.includes(e))return;const s=this.rootElements[o];s.listeners.push([e,t,i]),s.children.forEach((i=>{i.addEventListener(e,t)}))}))}removeEventListener(e,t,i){this.element.removeEventListener(e,t,i),uS.forEach(((n,o)=>{var r;if(null===(r=n.eventTypes)||void 0===r||!r.includes(e))return;const s=this.rootElements[o];s.listeners=s.listeners.filter((i=>{let[n,o]=i;return n!==e&&o!==t})),s.children.forEach((n=>{n.removeEventListener(e,t,i)}))}))}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getDocumentRoot(){var e,t;const i=null!==(e=null===(t=this.container)||void 0===t||null===(t=t.ownerDocument)||void 0===t?void 0:t.body)&&void 0!==e?e:rw("body");let n=this.container;for(;null!=n;){if(n===i)return;if(n.parentNode instanceof DocumentFragment)return n;n=n.parentNode}}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const n of t.values())i.push(xf.fromDOMRect(n.getBoundingClientRect()));return xf.merge(i)}calculateCanvasPosition(e){var t;let i=0,n=0;const{x:o=0,y:r=0}=null!==(t=this.getChildBoundingClientRect("canvas"))&&void 0!==t?t:{},s=e.getBoundingClientRect();return i=s.x-o,n=s.y-r,{x:i,y:n}}isManagedDOMElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.element;for(;e&&e!==t;){if(null==e.parentElement)return!1;e=e.parentElement}return!0}isManagedChildDOMElement(e,t,i){const{children:n}=this.rootElements[t],o=null===n||void 0===n?void 0:n.get(i);return null!=o&&this.isManagedDOMElement(e,o)}isEventOverElement(e){let t=e.target;if(null==t)return!1;for(;t!==this.element;)if(t=t.parentElement,null==t)return!1;return!0}addStyles(e,t){this.addChild("styles",e).innerHTML=t}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i){var n;const{element:o,children:r,listeners:s}=this.rootElements[e];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(t))return r.get(t);const{childElementType:a="div"}=null!==(n=uS.get(e))&&void 0!==n?n:{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=null!==i&&void 0!==i?i:aw(a);for(const[c,d,u]of s)l.addEventListener(c,d,u);return r.set(t,l),null===o||void 0===o||o.appendChild(l),l}removeChild(e,t){var i;const{children:n}=this.rootElements[e];n&&n.has(t)&&(null===(i=n.get(t))||void 0===i||i.remove(),n.delete(t))}incrementDataCounter(e){var t;const{dataset:i}=this.element;null!==(t=i[e])&&void 0!==t||(i[e]="0"),i[e]=String(Number(i[e])+1)}};function pS(e,t,i,n){if(0===e)return function(e,t,i){if(0===e)return function(e,t){const i=-t/e;return 0!==e&&i>=0&&i<=1?[i]:[]}(t,i);const n=t*t-4*e*i,o=[];if(0===n){const i=-t/(2*e);i>=0&&i<=1&&o.push(i)}else if(n>0){const i=Math.sqrt(n),r=(-t-i)/(2*e),s=(-t+i)/(2*e);r>=0&&r<=1&&o.push(r),s>=0&&s<=1&&o.push(s)}return o}(t,i,n);const o=t/e,r=i/e,s=(3*r-o*o)/9,a=(9*o*r-27*(n/e)-2*o*o*o)/54,l=s*s*s+a*a,c=1/3,d=[];if(l>=0){const e=Math.sqrt(l),t=Math.sign(a+e)*Math.pow(Math.abs(a+e),c),i=Math.sign(a-e)*Math.pow(Math.abs(a-e),c),n=Math.abs(Math.sqrt(3)*(t-i)/2),r=-c*o+(t+i);if(r>=0&&r<=1&&d.push(r),0===n){const e=-c*o-(t+i)/2;e>=0&&e<=1&&d.push(e)}}else{const e=Math.acos(a/Math.sqrt(-s*s*s)),t=c*o,i=2*Math.sqrt(-s),n=i*Math.cos(c*e)-t,r=i*Math.cos(c*(e+2*Math.PI))-t,l=i*Math.cos(c*(e+4*Math.PI))-t;n>=0&&n<=1&&d.push(n),r>=0&&r<=1&&d.push(r),l>=0&&l<=1&&d.push(l)}return d}function gS(e,t,i,n,o,r,s,a){const l=(i-e)*(a-r)-(n-t)*(s-o);if(0===l)return 0;const c=((s-o)*(t-r)-(e-o)*(a-r))/l,d=((i-e)*(t-r)-(n-t)*(e-o))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function mS(e,t,i,n,o,r,s,a,l,c,d,u){let h=0;const p=c-u,g=d-l,m=l*(u-c)-c*(d-l),f=fS(e,i,o,s),v=fS(t,n,r,a),y=pS(p*f[0]+g*v[0],p*f[1]+g*v[1],p*f[2]+g*v[2],p*f[3]+g*v[3]+m);for(const b of y){const e=b*b,t=b*e,i=f[0]*t+f[1]*e+f[2]*b+f[3],n=v[0]*t+v[1]*e+v[2]*b+v[3];let o;o=l===d?(n-c)/(u-c):(i-l)/(d-l),o>=0&&o<=1&&h++}return h}function fS(e,t,i,n){return[3*t-e-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function vS(e,t,i,n,o,r,s,a,l,c){if(isNaN(e)||isNaN(t))return 0;r&&([o,n]=[n,o]);const d=(c-a)/(l-s),u=a-d*s,h=Math.pow(d,2)+1,p=2*(d*(u-t)-e),g=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),m=Math.pow(p,2)-4*h*g;if(m<0)return 0;const f=(-p+Math.sqrt(m))/2/h,v=(-p-Math.sqrt(m))/2/h;let y=0;return[f,v].forEach((i=>{if(!(i>=Math.min(s,l)&&i<=Math.max(s,l)))return;const r=i-e,a=d*i+u-t;nC(Math.atan2(a,r),n,o)&&y++})),y}var yS=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,o){o=Math.min(o,i/2,n/2),this.moveTo(e,t+o),this.arc(e+o,t+o,o,Math.PI,1.5*Math.PI),this.lineTo(e+o,t),this.lineTo(e+i-o,t),this.arc(e+i-o,t+o,o,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+o),this.lineTo(e+i,t+n-o),this.arc(e+i-o,t+n-o,o,0,Math.PI/2),this.lineTo(e+i-o,t+n),this.lineTo(e+o,t+n),this.arc(e+ +o,t+n-o,o,Math.PI/2,Math.PI),this.lineTo(e,t+n-o),this.closePath()}arc(e,t,i,n,o,r){this.openedPath=!0,this.path2d.arc(e,t,i,n,o,r),this.commands.push(2),this.params.push(e,t,i,n,o,r?1:0)}cubicCurveTo(e,t,i,n,o,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,o,r),this.commands.push(3),this.params.push(e,t,i,n,o,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,o=i.length,r=-1e4,s=-1e4;let a=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,p=0;h<o;h++)switch(i[h]){case 0:u+=gS(a,l,c,d,r,s,e,t),c=n[p++],a=c,d=n[p++],l=d;break;case 1:u+=gS(c,d,n[p++],n[p++],r,s,e,t),c=n[p-2],d=n[p-1];break;case 3:u+=mS(c,d,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],r,s,e,t),c=n[p-2],d=n[p-1];break;case 2:const i=n[p++],o=n[p++],h=n[p++],g=n[p++],m=n[p++];if(u+=vS(i,o,h,g,m,Boolean(n[p++]),r,s,e,t),!isNaN(a)){u+=gS(c,d,i+Math.cos(g)*h,o+Math.sin(g)*h,r,s,e,t)}c=i+Math.cos(m)*h,d=o+Math.sin(m)*h;break;case 4:u+=gS(a,l,c,d,r,s,e,t)}return u%2===1}distanceSquared(e,t){let i=1/0;const n=this.commands,o=this.params,r=n.length;let s=NaN,a=NaN,l=0,c=0;for(let d=0,u=0;d<r;d++)switch(n[d]){case 0:l=s=o[u++],c=a=o[u++];break;case 1:i=fw(e,t,l,c,o[u++],o[u++],i);break;case 3:hm.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=o[u++],r=o[u++],s=o[u++],a=o[u++],d=o[u++],h=n+Math.cos(a)*s,p=r+Math.sin(a)*s,g=Boolean(o[u++]);i=fw(e,t,l,c,h,p,i),i=vw(e,t,n,r,s,a,d,g,i),l=n+Math.cos(d)*s,c=r+Math.sin(d)*s;break}case 4:i=fw(e,t,l,c,s,a,i)}return i}getPoints(){const{commands:e,params:t}=this,i=[];let n=0;for(let o=0;o<e.length;o++)switch(e[o]){case 0:case 1:i.push({x:t[n++],y:t[n++]});break;case 3:n+=4,i.push({x:t[n++],y:t[n++]});break;case 2:i.push({x:t[n++],y:t[n++]}),n+=4}return i}computeSVGDataPath(e,t){const i=[],{commands:n,params:o}=this;let r=0;for(let s=0;s<n.length;s++)switch(n[s]){case 0:i.push("M",e+o[r++],t+o[r++]);break;case 1:i.push("L",e+o[r++],t+o[r++]);break;case 3:i.push("C",e+o[r++],t+o[r++],e+o[r++],t+o[r++],e+o[r++],t+o[r++]);break;case 2:const[n,s,a,l,c,d]=[o[r++],o[r++],o[r++],o[r++],o[r++],o[r++]],u=e+n+Math.cos(l)*a,h=t+s+Math.sin(l)*a,p=e+n+Math.cos(c)*a,g=t+s+Math.sin(c)*a,m=sC(l,c,!!d)>Math.PI?1:0,f=(d+1)%2;i.push("L",u,h,"A",a,a,0,m,f,p,g);break;case 4:i.push("Z")}return i.join(" ")}};function bS(e){const{redraw:t=3,changeCb:i,convertor:n}=null!==e&&void 0!==e?e:{};return Rf({redraw:t,type:"path",convertor:n,changeCb:i})}var CS=class extends pC{constructor(){super(...arguments),this.path=new yS,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t,i,n;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e||null!==(i=null===(n=this._clipPath)||void 0===n?void 0:n.isDirty())&&void 0!==i&&i)}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}distanceSquared(e,t){const i=this.transformPoint(e,t);return this.distanceSquaredTransformedPoint(i.x,i.y)}computeSVGDataPath(){const{x:e,y:t}=this.inverseTransformPoint(0,0);return this.path.computeSVGDataPath(e,t)}distanceSquaredTransformedPoint(e,t){return this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}render(e){var t;const{ctx:i,forceRender:n,stats:o}=e;if(0!==this.dirty||n){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),isNaN(this._clipX)||isNaN(this._clipY)||null==this.clipMode)this.drawPath(i);else{var r;i.save();const e=this.strokeWidth/2;var s;if(null!==(r=this._clipPath)&&void 0!==r||(this._clipPath=new yS),this._clipPath.clear(),this._clipPath.rect(-e,-e,this._clipX+e,this._clipY+e+e),"normal"===this.clipMode)i.clip(null===(s=this._clipPath)||void 0===s?void 0:s.getPath2D());if(this._clipX>0&&this._clipY>0&&this.drawPath(i),"punch-out"===this.clipMode){var a,l;i.clip(null===(a=this._clipPath)||void 0===a?void 0:a.getPath2D());const{x:e=-1e4,y:t=-1e4,width:n=2e4,height:o=2e4}=null!==(l=this.computeBBox())&&void 0!==l?l:{};i.clearRect(e,t,n,o)}i.restore()}null===(t=this.fillShadow)||void 0===t||t.markClean(),super.render(e)}else o&&(o.nodesSkipped+=this.nodeCount.count)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}};CS.className="Path",om([bS()],CS.prototype,"clipMode",2),om([bS()],CS.prototype,"clipX",1),om([bS()],CS.prototype,"clipY",1);var wS={};nm(wS,{block:()=>SS,css:()=>xS,elements:()=>RS,modifiers:()=>MS});var xS=".ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator > div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator > svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}",SS="ag-charts-focus",RS={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},MS={hidden:"ag-charts-focus--hidden"},kS=class{constructor(e){this.domManager=e;const{css:t,block:i,elements:n,modifiers:o}=wS;this.div=rw().createElement("div"),this.svg=rw().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=rw().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),e.addStyles(i,t),this.element=e.addChild("canvas-overlay",i),this.element.classList.add(i,n.indicator,o.hidden),this.element.append(this.svg)}destroy(){this.domManager.removeStyles(SS),this.domManager.removeChild("canvas-overlay",SS)}updateBounds(e){void 0===e?this.element.classList.add(MS.hidden):e instanceof CS?(this.path.setAttribute("d",e.computeSVGDataPath()),this.show(this.svg)):(uw(this.div,e),this.show(this.div))}show(e){this.element.classList.remove(MS.hidden),this.element.innerHTML="",this.element.append(e)}};function DS(e,t){var i;return(null===(i=t.params)||void 0===i?void 0:i.type)===e}function AS(e){return{params:e,result:aw({button:"button",slider:"input",toolbar:"div",group:"div"}[e.type])}}var ES=class{constructor(e,t,i,n){this.localeManager=t,this.domManager=i,this.focusIndicator=n,this.debugShowDOMProxies=pw.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(e.addListener("update-complete",(()=>this.update())))}destroy(){this.destroyFns.forEach((e=>e()))}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=AS(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-overlay",i.id,n),n.classList.add(...i.classList),n.style.pointerEvents="none",n.role=i.type,n.ariaOrientation=i.ariaOrientation,this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(e){const t=AS(e);if(DS("button",t)){const{params:e,result:i}=t;if(this.initElement(e,i),"string"===typeof e.textContent)i.textContent=e.textContent;else{const{textContent:t}=e;this.addLocalisation((()=>{i.textContent=this.localeManager.t(t.id,t.params)}))}}if(DS("slider",t)){const{params:e,result:i}=t;this.initElement(e,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=e.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}))}return t.result}initElement(e,t){const{focusable:i,onclick:n,onchange:o,onfocus:r,onblur:s,tabIndex:a,id:l,parent:c}=e;t.id=l,t.style.pointerEvents="none",t.style.opacity=this.debugShowDOMProxies?"0.25":"0",t.style.position="absolute",t.style.overflow="hidden",void 0!==a&&(t.tabIndex=a),c.appendChild(t),t.addEventListener("focus",(e=>{this.focusable=i,t.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(i.computeTransformedBBox())})),t.addEventListener("blur",(e=>{this.focusable=void 0,t.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)})),n&&t.addEventListener("click",n),r&&t.addEventListener("focus",r),s&&t.addEventListener("blur",s),o&&t.addEventListener("change",o)}},TS=class{constructor(e){this.maxAnimationTime=e,this.debug=pw.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(_v.map((e=>[e,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){var e;return null!==(e=this.phases.get(_v[this.currentPhase]))&&void 0!==e?e:[]}checkOverlappingId(e){null!=e&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug("Skipping animation batch due to update of existing animation: ".concat(e)),this.skip())}addAnimation(e){var t;if(e.isComplete)return;if(_v.indexOf(e.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",e.id),void e.stop();this.controllers.set(e.id,e),null===(t=this.phases.get(e.phase))||void 0===t||t.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=null===t||void 0===t?void 0:t.indexOf(e);null!=i&&i>=0&&(null===t||void 0===t||t.splice(i,1))}progress(e){var t;if(!this.isReady)return;let i=0===e?.01:e;const n=()=>{const e=_v[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:e,phaseMeta:Gv[e]}};let{phase:o,phaseControllers:r,phaseMeta:s}=n();const a=()=>null==_v[this.currentPhase],l=()=>{for(({phase:o,phaseControllers:r,phaseMeta:s}=n());!a()&&0===r.length;)this.currentPhase++,({phase:o,phaseControllers:r,phaseMeta:s}=n()),this.debug("AnimationBatch - phase changing to ".concat(o),{unusedTime:i},r)},c=this.controllers.size;this.debug("AnimationBatch - ".concat(e,"ms; phase ").concat(o," with ").concat(null===(t=r)||void 0===t?void 0:t.length," of ").concat(c));do{const e=i,t=s.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const o of r)t?o.stop():i=Math.min(o.update(e),i),o.isComplete&&(n++,this.removeAnimation(o));this.animationTimeConsumed+=e-i,this.debug("AnimationBatch - updated ".concat(r.length," controllers; ").concat(n," completed")),this.debug("AnimationBatch - animationTimeConsumed: ".concat(this.animationTimeConsumed)),l()}while(i>0&&!a());this.animationTimeConsumed>this.maxAnimationTime&&(hm.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug("AnimationBatch - ready; skipped: ".concat(this.skipAnimations),[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&!0!==Gv[t.phase].skipIfNoEarlierAnimations){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===e){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){hm.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(e){if(null!=e&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach((e=>e())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function PS(e){return null==e||!isNaN(e)&&e>=0&&e<=2}var FS=class extends Hw{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new TS(1.5*this.defaultDuration),this.debug=pw.create(!0,"animation"),this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(e){let{...t}=e;const i=this.batch;try{i.checkOverlappingId(t.id)}catch(l){return void this.failsafeOnError(l)}let{id:n}=t;null==n&&(n="__".concat(this.currentAnonymousAnimationId),this.currentAnonymousAnimationId+=1);const o=this.isSkipped()||"none"===t.phase;o&&this.debug("AnimationManager - skipping animation");const{delay:r,duration:s}=t;if(!PS(r))throw new Error("Animation delay of ".concat(r," is unsupported (").concat(n,")"));if(!PS(s))throw new Error("Animation duration of ".concat(s," is unsupported (").concat(n,")"));const a=new Vv({...t,id:n,skip:o,autoplay:!!this.isPlaying&&t.autoplay,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(a,this.defaultDuration))return this.batch.addAnimation(a),a}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let e;const t=async i=>{const n=async()=>{var t;const n=i-(null!==(t=e)&&void 0!==t?t:i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(1);try{this.batch.progress(n)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:n})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];hm.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug("AnimationManager - startBatch() with skipAnimations=".concat(e,".")),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new TS(1.5*this.defaultDuration),!0===e&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}},NS=class e{constructor(t,i,n){this.localeManager=t,this.domManager=i,this.layoutService=n,this.debug=pw.create(!0,"aria"),this.destroyFns=[],this.liveElem=e.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",(e=>this.onResize(e))),(()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy")))}static createAnnouncer(){const e=rw().createElement("div");return e.classList.add("ag-charts-aria-announcer"),Pw(e,"role","figure"),Pw(e,"aria-live","assertive"),e}destroy(){this.destroyFns.forEach((e=>e()))}onResize(e){this.liveElem.style.width="".concat(e.chart.width,"px"),this.liveElem.style.height="".concat(e.chart.height,"px")}announceValue(e,t){const{localeManager:i,liveElem:n}=this,o=i.t(e,t);this.debug("AriaAnnouncementService - announceValue: ".concat(o)),n.textContent="\xa0",setTimeout((()=>n.innerText=o),16)}},LS=class extends Hw{legendItemClick(e,t,i,n){const o={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",o)}legendItemDoubleClick(e,t,i,n,o){const r={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:o,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",r)}axisHover(e,t){const i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}},IS=class e{constructor(e){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new zw;const{Default:t,ContextMenu:i}=Qw;this.destroyFns=[e.listenAll("contextmenu",(e=>this.onContextMenu(e)),t|i)]}destroy(){this.destroyFns.forEach((e=>e()))}onContextMenu(t){"all"===e.toContextType(t.region)&&this.dispatchContext("all",t,{})}static toContextType(e){return"legend"===e||"series"===e?e:"all"}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i){const{offsetX:n,offsetY:o,sourceEvent:r}=t;this.listeners.dispatch("",Vw({type:e,x:n,y:o,context:i,sourceEvent:r}))}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter((t=>t.id&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type)))}registerDefaultAction(e){e.id&&this.defaultActions.find((t=>{let{id:i}=t;return i===e.id}))||this.defaultActions.push(e)}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}setActionVisiblity(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}isDisabled(e){return this.disabledActions.has(e)}},OS=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),"undefined"!==typeof t&&super.set(e,t),this}stateId(){var e;return null!==(e=Array.from(this.keys()).pop())&&void 0!==e?e:this.defaultState}stateValue(){var e;return null!==(e=Array.from(this.values()).pop())&&void 0!==e?e:this.defaultValue}},jS=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(jS||{}),BS=class{constructor(e){this.domManager=e,this.stateTracker=new OS("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function _S(e,t){return Math.sqrt(function(e,t){const i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}(e,t))}var GS=class extends Hw{constructor(e){super(),this.domManager=e,this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];vv(t,this.pinch.finger1,e.touches[0]),vv(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=_S(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){const{finger1:n,finger2:o,origin:r}=this.pinch;this.listeners.dispatch(e,Vw({sourceEvent:i,type:e,finger1:n,finger2:o,deltaDistance:t,origin:r}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;2===e.touches.length&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(void 0!==t){const[i,n]=t,{pinch:o}=this,r=_S(i,n),s=r-o.distance;1===o.status?Math.abs(s)>1&&(o.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):2===o.status?(o.distance=r,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",s,e)):hm.error("unexpected pinch.status: ".concat(o.status))}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;2===t.status&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},zS=class extends Hw{constructor(){super(...arguments),this.highlightStates=new OS}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||(null===e||void 0===e?void 0:e.series)===(null===t||void 0===t?void 0:t.series)&&(null===e||void 0===e?void 0:e.itemId)===(null===t||void 0===t?void 0:t.itemId)&&(null===e||void 0===e?void 0:e.datum)===(null===t||void 0===t?void 0:t.datum)}},HS=class extends Hw{constructor(e,t){super(),this.domManager=t,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(e.addListener("drag-start",(e=>this.onClickStart(e)),31),e.addListener("click",(e=>this.onClickStop(e)),31),e.addListener("drag-end",(e=>this.onClickStop(e)),31),e.addListener("wheel",(e=>this.mouseBlur(e))),e.addListener("hover",(e=>this.mouseBlur(e))),e.addListener("drag",(e=>this.mouseBlur(e))),e.addListener("blur",(e=>this.onBlur(e)),31),e.addListener("focus",(e=>this.onFocus(e)),31),e.addListener("keydown",(e=>this.onKeyDown(e)),31))}destroy(){super.destroy()}onClickStart(e){this.isClicking=!0,this.mouseBlur(e)}onClickStop(e){this.mouseBlur(e),this.isClicking=!1}mouseBlur(e){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,e),this.isMouseBlurred=!0))}onBlur(e){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,e)}onFocus(e){const t=this.domManager.getBrowserFocusDelta();this.dispatch("browserfocus",t,e),this.hasBrowserFocus=!0,this.isClicking?this.isMouseBlurred=!0:this.dispatch("tab",t,e)}onKeyDown(e){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;const{code:t,altKey:i,shiftKey:n,metaKey:o,ctrlKey:r}=e.sourceEvent;if("Tab"===t)return n?this.dispatch("tab",-1,e):this.dispatch("tab",1,e);if(!(i||n||o||r)){switch(t){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e);case"Escape":return this.dispatch("cancel",0,e);case"Backspace":case"Delete":return this.dispatch("delete",0,e)}switch(e.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}}}dispatch(e,t,i){Ww(this.listeners,{type:e,delta:t,sourceEvent:i})}},VS=["series"],WS=class extends zw{};function US(e,t,i,n){var o;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;return null!==(o=null===e||void 0===e?void 0:e.addListener(i,(e=>{t.getState()&r&&n(e)})))&&void 0!==o?o:()=>{}}var YS=class{constructor(e,t,i){this.interactionManager=e,this.keyNavManager=t,this.focusIndicator=i,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new WS,this.destroyFns.push(...Uw.map((t=>e.addListener(t,this.processPointerEvent.bind(this),31))),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach((e=>e())),this.currentRegion=void 0;for(const e of this.regions.values())e.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(e){if(this.regions.has(e))throw new Error("AG Charts - Region: ".concat(e," already exists"));for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const o={properties:{name:e,bboxproviders:[...i]},listeners:new WS};return this.regions.set(e,o),this.makeObserver(o)}updateRegion(e){const t=this.regions.get(e);if(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];t.properties.bboxproviders=[...n]}}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return US(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){const{interactionManager:t}=this;return new class{addListener(i,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return US(null===e||void 0===e?void 0:e.listeners,t,i,n,o)}}}checkPointerHistory(e,t){for(const i of t.pointerHistory){const t=this.pickRegion(i.offsetX,i.offsetY);if(e.properties.name!==(null===t||void 0===t?void 0:t.properties.name))return!1}return!0}dispatch(e,t){if(null==e)return;const i=Vw({...t,region:e.properties.name});this.allRegionsListeners.dispatch(i.type,i),e.listeners.dispatch(i.type,i)}handleDragging(e){const{currentRegion:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{currentRegion:t}=this,i=this.pickRegion(e.offsetX,e.offsetY);void 0!==t&&(null===i||void 0===i?void 0:i.properties.name)!==t.properties.name&&this.dispatch(t,{...e,type:"leave"}),void 0!==i&&i.properties.name!==(null===t||void 0===t?void 0:t.properties.name)&&this.dispatch(i,{...e,type:"enter"}),void 0!==i&&this.checkPointerHistory(i,e)&&this.dispatch(i,e),this.currentRegion=i}pickRegion(e,t){let i,n=1/0;for(const s of this.regions.values())for(const a of s.properties.bboxproviders){var o,r;const l=null!==(o=null===(r=a.computeTransformedRegionBBox)||void 0===r?void 0:r.call(a))&&void 0!==o?o:a.computeTransformedBBox(),c=l.width*l.height;c<n&&l.containsPoint(e,t)&&(n=c,i=s)}return i}getTabRegion(e){if(void 0!==e&&e>=0&&e<VS.length)return this.regions.get(VS[e])}getNextInteractableTabIndex(e,t){const i=t<0?-1:1;let n=e;for(;0!==t;){if(void 0===this.getTabRegion(n+i))return;t-=i,n+=i}return n}validateCurrentTabIndex(){var e;void 0!==this.getTabRegion(this.currentTabIndex)&&(this.currentTabIndex=null!==(e=this.getNextInteractableTabIndex(-1,1))&&void 0!==e?e:0)}onBrowserFocus(e){e.delta>0?this.currentTabIndex=-1:e.delta<0&&(this.currentTabIndex=VS.length)}onTab(e){this.validateCurrentTabIndex();const t=this.getNextInteractableTabIndex(this.currentTabIndex,e.delta),i=this.getTabRegion(t),n=this.getTabRegion(this.currentTabIndex);if(void 0!==t&&(this.currentTabIndex=t),void 0!==n&&(null===i||void 0===i?void 0:i.properties.name)!==n.properties.name){const{delta:t,sourceEvent:i}=e,o=Vw({type:"blur",delta:t,sourceEvent:i});this.dispatch(n,o)}void 0===i?this.focusIndicator.updateBounds(void 0):this.dispatch(i,e)}onNav(e){const t=this.getTabRegion(this.currentTabIndex);this.dispatch(t,e)}},KS=["start","center","end"],qS=["annotations","annotationOptions","ranges","zoom"],XS=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(XS||{}),ZS=Object.values(XS);function QS(e){return["floating-top","floating-bottom"].includes(e)}var JS=class extends Hw{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(const i of ZS)if(e.isManagedChildDOMElement(t,"canvas-overlay","toolbar-".concat(i)))return!0;return!1}pressButton(e,t){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,value:t})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,i){const{active:n=!1,enabled:o=!0,visible:r=!0}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,value:t,active:n,enabled:o,visible:r})}toggleGroup(e,t,i){this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,visible:i})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,i){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:i})}proxyGroupOptions(e,t,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:i})}},$S=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new OS,this.suppressState=new OS(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",(()=>this.tooltip.toggle(!1))),e.addStyles("tooltip",".ag-chart-tooltip{transition:transform 0.1s ease;max-width:100%;z-index:99999;font:12px Verdana,sans-serif;color:rgb(70,70,70);box-shadow:0 4px 8px rgba(0,0,0,0.08)}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:white;background-color:#888888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:white;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,0.15);text-overflow:inherit}.ag-chart-tooltip-arrow::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow::after{content:'';position:absolute;top:calc(100% - 1px);left:50%;transform:translateX(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}")}updateTooltip(e,t,i){var n,o;this.tooltip.enabled&&(null!==(n=i)&&void 0!==n||(i=null===(o=this.stateTracker.get(e))||void 0===o?void 0:o.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){var t;return null===(t=this.stateTracker.get(e))||void 0===t?void 0:t.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var e;const t=this.stateTracker.stateId(),i=t?this.stateTracker.get(t):null;if(this.suppressState.stateValue()||null==(null===i||void 0===i?void 0:i.meta)||null==(null===i||void 0===i?void 0:i.content))return this.appliedState=null,void this.tooltip.toggle(!1);const n=this.domManager.getBoundingClientRect();if((null===(e=this.appliedState)||void 0===e?void 0:e.content)===(null===i||void 0===i?void 0:i.content)){const e=this.tooltip.isVisible();this.tooltip.show(n,null===i||void 0===i?void 0:i.meta,null,e)}else this.tooltip.show(n,null===i||void 0===i?void 0:i.meta,null===i||void 0===i?void 0:i.content);this.appliedState=i}static makeTooltipMeta(e,t){var i,n,o,r,s,a,l;const{offsetX:c,offsetY:d}=e,{tooltip:u}=t.series.properties,h={offsetX:c,offsetY:d,enableInteraction:null!==(i=null===(n=u.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,lastPointerEvent:{type:e.type,offsetX:c,offsetY:d},showArrow:u.showArrow,position:{type:u.position.type,xOffset:u.position.xOffset,yOffset:u.position.yOffset}},p=null!==(o=null!==(r=null===(s=t.yBar)||void 0===s?void 0:s.upperPoint)&&void 0!==r?r:t.midPoint)&&void 0!==o?o:null===(a=(l=t.series).datumMidPoint)||void 0===a?void 0:a.call(l,t);if("node"===u.position.type&&p){const{x:e,y:i}=p,n=t.series.contentGroup.inverseTransformPoint(e,i);return{...h,offsetX:Math.round(n.x),offsetY:Math.round(n.y)}}return h}},eR=class extends zw{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=pw.create(!0,"layout")}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error("AG Charts - unsupported listener type: ".concat(e))}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce(((e,t)=>{try{const i=t.handler(e);return this.debug("[LayoutService] Context updated to: ",{...i},t),i}catch(YQ){return hm.errorOnce(YQ),e}}),t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}},tR=/\$\{(\w+)\}(?:\[(\w+)\])?/gi,iR={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},nR=class extends zw{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:o=rm,getLocaleText:r}=this,s=o[e];return null!==(t=null!==(i=null===r||void 0===r?void 0:r({key:e,defaultValue:s,variables:n}))&&void 0!==i?i:(e=>{let{defaultValue:t,variables:i}=e;return null===t||void 0===t?void 0:t.replaceAll(tR,((e,t,n)=>{const o=i[t],r=null!=n?iR[n]:void 0;return null!=n&&null==r&&hm.warnOnce("Format style [".concat(n,"] is not supported")),null!=r?r.format(o):"number"===typeof o?iR.number.format(o):o instanceof Date?iR.datetime.format(o):o}))})({key:e,defaultValue:s,variables:n}))&&void 0!==t?t:e}},oR=class{constructor(){this.groups={}}registerSeries(e){var t;let{id:i,seriesGrouping:n,visible:o,type:r}=e;var s;n&&(null!==(t=(s=this.groups)[r])&&void 0!==t||(s[r]={}),this.groups[r][i]={grouping:n,visible:o})}deregisterSeries(e){let{id:t,type:i}=e;this.groups[i]&&delete this.groups[i][t],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(e){let{type:t,seriesGrouping:i,visible:n}=e;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const o=new Set,r=new Set;for(const l of Object.values(null!==(s=this.groups[t])&&void 0!==s?s:{})){var s;l.visible&&(o.add(l.grouping.groupIndex),l.grouping.groupIndex===i.groupIndex&&r.add(l.grouping.stackIndex))}const a=Array.from(o);return a.sort(((e,t)=>e-t)),{visibleGroupCount:a.length,visibleSameStackCount:r.size,index:a.indexOf(i.groupIndex)}}},rR=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(rR||{}),sR=class extends zw{constructor(e){super(),this.updateCallback=e}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:null===e||void 0===e?void 0:e.minRect,minVisibleRect:null===e||void 0===e?void 0:e.minVisibleRect})}},aR=class{constructor(e,t){const{scene:i,root:n,syncManager:o,container:r,updateCallback:s,updateMutex:a,overrideDevicePixelRatio:l}=t;this.chartService=e,this.syncManager=o,this.zoomManager=e.zoomManager,this.domManager=new hS(r),null===i||void 0===i||i.setContainer(this.domManager),this.scene=null!==i&&void 0!==i?i:new iS({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(n),this.axisManager=new rS(n),this.localeManager=new nR,this.annotationManager=new oS(e.annotationRoot),this.chartEventManager=new LS,this.cursorManager=new BS(this.domManager),this.highlightManager=new zS,this.interactionManager=new $w(e.keyboard,this.domManager),this.keyNavManager=new HS(this.interactionManager,this.domManager),this.focusIndicator=new kS(this.domManager),this.regionManager=new YS(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new IS(this.regionManager),this.toolbarManager=new JS,this.gestureDetector=new GS(this.domManager),this.layoutService=new eR,this.ariaAnnouncementService=new NS(this.localeManager,this.domManager,this.layoutService),this.updateService=new sR(s),this.proxyInteractionService=new ES(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new oR,this.stateManager=new Kx,this.callbackCache=new nS,this.animationManager=new FS(this.interactionManager,a),this.animationManager.skip(),this.animationManager.play(),this.dataService=new sS(this.animationManager),this.tooltipManager=new $S(this.domManager,e.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},lR=class extends yv{constructor(){super(...arguments),this.range="tooltip"}};om([ly(Jy(["tooltip","node"],"a range"))],lR.prototype,"range",2);var cR=class e{constructor(){this.domain=new Set}static is(t){return t instanceof e}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},dR=class e{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof e}static extendDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of e)"number"===typeof i&&(t[0]>i&&(t[0]=i),t[1]<i&&(t[1]=i));return t}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function uR(e){return e.map((e=>$f(e)?JSON.stringify(e):e)).join("-")}function hR(e){const t=1e4;return Number.isInteger(e)?e:Math.abs(e)>t?Math.trunc(e):Math.round(e*t)/t}function pR(e,t){const i=function(e){if(null==e)return[];let[t,i]=e.map(Number);return 0===t&&0===i?[0,1]:t===1/0&&i===-1/0?[]:(t===1/0?t=0:i===-1/0&&(i=0),ov(t)&&ov(i)?[t,i]:[])}(e);if(0===i.length)return i;let[n,o]=i;if(n===o){var r;const[e,i]=null!==(r=null===t||void 0===t?void 0:t.calculatePadding(n,o))&&void 0!==r?r:[1,1];n-=e,o+=i}return[n,o]}function gR(e,t){var i;return null!==(i=null===t||void 0===t?void 0:t.get(e.id))&&void 0!==i?i:0}var mR=Symbol("invalid");function fR(e){const t=[];let i,n=0;const o=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;i=o.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const e=i[1].trim();if(e.startsWith("."))t.push(e.slice(1).trim());else if(e.startsWith("[")){const i=e.slice(1,-1).trim();i.startsWith("'")?t.push(i.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):i.startsWith('"')?t.push(i.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):t.push(i)}else t.push(e)}if(n===e.length)return t}function vR(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var yR=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=e,this.mode=t,this.debug=pw.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const o of e.props){if("key"===o.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===o.type&&i&&(i=!1)}const n=e=>{let{matchGroupIds:t=[]}=e;for(const i of t)if(this.values.every((e=>e.groupId!==i)))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (".concat(i,")."))};for(const o of e.props)switch(o.type){case"key":this.keys.push({...o,index:this.keys.length,missing:new Map});break;case"value":if(null==o.property)throw new Error("AG Charts - internal config error: no properties specified for value definitions: ".concat(JSON.stringify(o)));this.values.push({...o,index:this.values.length,missing:new Map});break;case"aggregate":n(o),this.aggregates.push({...o,index:this.aggregates.length});break;case"group-value-processor":n(o),this.groupProcessors.push({...o,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...o,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...o,index:this.reducers.length});break;case"processor":this.processors.push({...o,index:this.processors.length})}}resolveProcessedDataDefById(e,t){var i;const n=null===(i=this.scopeCache.get(e.id))||void 0===i?void 0:i.get(t);if(!n)throw new Error("AG Charts - didn't find property definition for [".concat(t,", ").concat(e.id,"]"));return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map((t=>[t,this.resolveProcessedDataDefById(e,t)]))}resolveProcessedDataDefsValues(e,t){let{keys:i,values:n}=t;const o={};for(const[r,{index:s,def:a}]of e){const e="key"===a.type?i:n;o[r]=e[s]}return o}getDomain(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",o=arguments.length>3?arguments[3]:void 0;const r=this.getDomainsByType(n,o);return null!==(i=null===r||void 0===r?void 0:r[this.resolveProcessedDataIndexById(e,t)])&&void 0!==i?i:[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){const{opts:{groupByKeys:i,groupByFn:n},aggregates:o,groupProcessors:r,reducers:s,processors:a,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let d=this.extractData(e,t);if(i?d=this.groupData(d):n&&(d=this.groupData(d,n(d))),r.length>0&&this.postProcessGroups(d),o.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),s.length>0&&this.reduceData(d),a.length>0&&this.postProcessData(d),e.length>0)for(const p of dm(this.keys,this.values))for(const[t,i]of p.missing)if(i>=e.length){const e=null==t?"":" for ".concat(t);hm.warnOnce("the key '".concat(p.property,"' was not found in any data element").concat(e,"."))}const u=performance.now();d.time=u-c,this.debug.check()&&function(e){var t,i;const n=(e,t)=>{t.length>0&&(hm.log("DataModel.processData() - ".concat(e)),hm.table(t))};if(hm.log("DataModel.processData() - processedData",e),n("Key Domains",e.domain.keys),n("Group Domains",null!==(t=e.domain.groups)&&void 0!==t?t:[]),n("Value Domains",e.domain.values),n("Aggregate Domains",null!==(i=e.domain.aggValues)&&void 0!==i?i:[]),"grouped"===e.type){n("Values",e.data.reduce(((e,t)=>{var i,n;const o=null!==(i=t.keys)&&void 0!==i?i:[],r=null!==(n=t.aggValues)&&void 0!==n?n:[],s=t.keys.map((()=>{})),a=null===r||void 0===r?void 0:r.map((()=>{}));return e.push(...t.values.map(((e,t)=>[...0===t?o:s,...null!==e&&void 0!==e?e:[],...0==t?r:a]))),e}),[]))}else{n("Values",e.data.reduce(((e,t)=>{var i;const n=null!==(i=t.aggValues)&&void 0!==i?i:[];return e.push([...t.keys,...t.values,...n]),e}),[]))}}(d),this.scopeCache.clear();for(const p of dm(this.keys,this.values,this.aggregates))if(p.idsMap)for(const[e,t]of p.idsMap)for(const i of t){var h;if(this.scopeCache.has(e)){if(null!==(h=this.scopeCache.get(e))&&void 0!==h&&h.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(e).set(i,p)}else this.scopeCache.set(e,new Map([[i,p]]))}return d}valueGroupIdxLookup(e){let{matchGroupIds:t}=e;const i=[];for(const[n,o]of this.values.entries())(!t||o.groupId&&t.includes(o.groupId))&&i.push(n);return i}valueIdxLookup(e,t){const i=null==e||0===e.length,n="string"===typeof t?t:t.id,o=this.values.findIndex((t=>(null==t.scopes||i&&!t.scopes.length||t.scopes.some((t=>null===e||void 0===e?void 0:e.includes(t))))&&(t.property===n||t.id===n||(t=>{if(t.idsMap)for(const[i,o]of t.idsMap)if(null!==e&&void 0!==e&&e.includes(i)&&o.has(n))return!0;return!1})(t))));if(-1===o)throw new Error("AG Charts - configuration error, unknown property ".concat(JSON.stringify(t)," in scope(s) ").concat(JSON.stringify(e)));return o}extractData(e,t){const{dataDomain:i,processValue:n,scopes:o,allScopesHaveSameDefs:r}=this.initDataDomainProcessor(),s=new Map(null===t||void 0===t?void 0:t.map((e=>[e.id,e]))),{keys:a,values:l}=this,c=new Array(e.length);let d=0,u=0;for(const[v,y]of e.entries()){const e={},t=o.size>0?new Set(o):void 0,i=new Array(a.length);let f,b=0;for(const o of a){if(f=n(o,y,f),f===mR)break;i&&(i[b++]=f)}if(f===mR)continue;const C=l.length>0?new Array(l.length):void 0;let w;for(const[a,c]of l.entries()){for(const t of null!==(h=c.scopes)&&void 0!==h?h:o){var h,p;const i=s.get(t);if(w=n(c,null!==(p=null===i||void 0===i?void 0:i.data[v])&&void 0!==p?p:y,w,t),w!==mR&&C){if(null!=i&&!1!==c.includeProperty){var g;const i=c.includeProperty&&null!=c.id?c.id:c.property;null!==(g=e[t])&&void 0!==g||(e[t]={}),e[t][i]=w}C[a]=w}}if(w===mR){if(r)break;for(const e of null!==(m=c.scopes)&&void 0!==m?m:o){var m;null===t||void 0===t||t.delete(e)}if(0===(null===t||void 0===t?void 0:t.size))break}}if(w===mR&&r)continue;if(0===(null===t||void 0===t?void 0:t.size))continue;const x={datum:{...y,...e},keys:i,values:C};!r&&t&&t.size<o.size&&(u++,x.validScopes=new Set(t)),c[d++]=x}c.length=d;const f=e=>{const t=i.get(e),n=t.getDomain();return dR.is(t)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:a.map(f),values:l.map(f)},defs:{allScopesHaveSameDefs:r,keys:a,values:l},partialValidDataCount:u,time:0}}groupData(e,t){const i=new Map;for(const a of e.data){var n;const{keys:e,values:o,datum:r,validScopes:s}=a,l=null!==(n=null===t||void 0===t?void 0:t(a))&&void 0!==n?n:e,c=uR(l);if(i.has(c)){const e=i.get(c);if(e.values.push(o),e.datum.push(r),null!=s&&null!=e.validScopes)for(const t of e.validScopes)s.has(t)||e.validScopes.delete(t)}else i.set(c,{keys:l,values:[o],datum:[r],validScopes:s})}const o=new Array(i.size),r=new Array(i.size);let s=0;for(const{keys:a,values:l,datum:c,validScopes:d}of i.values())0!==(null===d||void 0===d?void 0:d.size)&&(r[s]=a,o[s++]={keys:a,values:l,datum:c,validScopes:d});return{...e,type:"grouped",data:o,domain:{...e.domain,groups:r}}}aggregateData(e){const t="ungrouped"===e.type;e.domain.aggValues=[];for(const[c,d]of this.aggregates.entries()){const u=this.valueGroupIdxLookup(d),h=[1/0,-1/0];for(const p of e.data){var i,n,o,r,s;if(null!==(i=p.aggValues)&&void 0!==i||(p.aggValues=new Array(this.aggregates.length)),p.validScopes)continue;const e=t?[p.values]:p.values;let g=null!==(n=null===(o=d.groupAggregateFunction)||void 0===o?void 0:o.call(d))&&void 0!==n?n:[1/0,-1/0];for(const t of e){const e=u.map((e=>t[e])),i=d.aggregateFunction(e,p.keys);var a,l;if(i)g=null!==(a=null===(l=d.groupAggregateFunction)||void 0===l?void 0:l.call(d,i,g))&&void 0!==a?a:dR.extendDomain(i,g)}const m=(null!==(r=null===(s=d.finalFunction)||void 0===s?void 0:s.call(d,g))&&void 0!==r?r:g).map((e=>hR(e)));p.aggValues[c]=m,dR.extendDomain(m,h)}e.domain.aggValues.push(h)}}postProcessGroups(e){const{groupProcessors:t}=this,i=new Set,n=new Map,o=new Map,r=new Map;for(const c of t){const e=this.valueGroupIdxLookup(c);o.set(c,e),r.set(c,c.adjust());for(const t of e){const e="category"===this.values[t].valueType;i.add(t),n.set(t,e?new cR:new dR)}}const s=e=>{for(const o of i){var t;null===(t=n.get(o))||void 0===t||t.extend(e[o])}};for(const c of e.data){for(const i of t){var a,l;if(c.validScopes)continue;const t=null!==(a=o.get(i))&&void 0!==a?a:[],n=null===(l=r.get(i))||void 0===l?void 0:l();if(n)if("grouped"===e.type)for(const e of c.values)e&&n(e,t);else c.values&&n(c.values,t)}if("grouped"===e.type)for(const e of c.values)s(e);else s(c.values)}for(const[c,d]of n)e.domain.values[c]=d.getDomain()}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){var t;null!==(t=e.reduced)&&void 0!==t||(e.reduced={});for(const n of this.reducers){const t=n.reducer();let o=n.initialValue;for(const r of e.data){var i;(!r.validScopes||null!==(i=n.scopes)&&void 0!==i&&i.some((e=>{var t;return null===(t=r.validScopes)||void 0===t?void 0:t.has(e)})))&&(o=t(o,r))}e.reduced[n.property]=o}}postProcessData(e){var t;null!==(t=e.reduced)&&void 0!==t||(e.reduced={});for(const i of this.processors)e.reduced[i.property]=i.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const l of t)if(l.scopes)for(const e of l.scopes)i.add(e);const n=new Map,o=new Map;let r=!0;const s=()=>{for(const s of dm(e,t)){var o;if("category"===s.valueType)n.set(s,new cR);else n.set(s,new dR),r&&(r=(null!==(o=s.scopes)&&void 0!==o?o:[]).length===i.size)}};s();const a=this.buildAccessors(dm(e,t));return{dataDomain:n,processValue:(e,t,i,r)=>{var l,c,d;let u,h;if(a.has(e.property)){try{h=a.get(e.property)(t)}catch(m){}u=null!=h}else u=e.property in t,h=u?t[e.property]:e.missingValue;if(null!=e.forceValue){h=u&&gf(h)?-1*e.forceValue:e.forceValue,u=!0}if(!u&&!("missingValue"in e)){var p;const t=null!==(p=e.missing.get(r))&&void 0!==p?p:0;e.missing.set(r,t+1)}if(n.has(e)||s(),u&&null!==(l=null===(c=e.validation)||void 0===c?void 0:c.call(e,h,t))&&void 0!==l&&!l){if(!("invalidValue"in e))return"integrated"!==this.mode&&hm.warnOnce("invalid value of type [".concat(typeof h,"] for [").concat(e.scopes," / ").concat(e.id,"] ignored:"),"[".concat(h,"]")),mR;h=e.invalidValue}var g;e.processor&&(o.has(e)||o.set(e,e.processor()),h=null===(g=o.get(e))||void 0===g?void 0:g(h,i===mR?void 0:i));return null===(d=n.get(e))||void 0===d||d.extend(h),h},initDataDomain:s,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if("integrated"===this.mode)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const e=fR(i.property);if(null==e){hm.warnOnce("Invalid property path [%s]",i.property);continue}const n=vR(e);t.set(i.property,n)}return t}};var bR=class e{constructor(e){this.mode=e,this.debug=pw.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,t,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,o)=>{this.requested.push({id:e,opts:i,data:t,resolve:n,reject:o})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);const t=this.mergeRequested(e);this.debug("DataController.execute() - merged",t),this.debug.check()&&(sw().processedData=[]);const i=this.requested.map((e=>{let{id:t}=e;return t})),n=this.hasMultipleDataSources(e);for(const{opts:r,data:s,resolves:a,rejects:l,ids:c}of t)try{const t=new yR(r,this.mode),o=t.processData(s,e);this.debug.check()&&sw("processedData").push(o),0===(null===o||void 0===o?void 0:o.partialValidDataCount)?a.forEach(((e,r)=>e({dataModel:t,processedData:this.processScopedData(c[r],o,i,n)}))):o?this.splitResult(t,o,c,a):l.forEach((e=>e(new Error("AG Charts - no processed data generated"))))}catch(o){l.forEach((e=>e(o)))}}hasMultipleDataSources(e){if(e.length){const[{data:t},...i]=e;return i.some((e=>t!==e.data))}return!1}processScopedData(e,t,i,n){const o=t=>{if(Array.isArray(t))return t.map(o);const r=n?{...t,...t[e]}:t;for(const e of i)delete r[e];return r},r=t=>{var i;return Array.isArray(t)?t.map(r):null!==(i=null===t||void 0===t?void 0:t[e])&&void 0!==i?i:t};return{...t,data:t.data.map((e=>{var t;return{...e,datum:o(e.datum),values:n?null===(t=e.values)||void 0===t?void 0:t.map(r):e.values}}))}}validateRequests(e){const t=[];for(const[i,n]of e.entries())i>0&&n.data.length!==e[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):t.push(n);return t}mergeRequested(t){const i=[];for(const n of t){const t=i.find(e.groupMatch(n));t?t.push(n):i.push([n])}return i.map(e.mergeRequests)}splitResult(e,t,i,n){for(let o=0;o<i.length;o++){const r=i[o];(0,n[o])({dataModel:e,processedData:{...t,data:t.data.filter((e=>{var t;let{validScopes:i}=e;return null===(t=null===i||void 0===i?void 0:i.has(r))||void 0===t||t}))}})}}static groupMatch(e){let{data:t,opts:i}=e;function n(e){return e.filter((e=>"key"===e.type)).map((e=>e.property)).join(";")}return e=>{let[o]=e;return(!1===i.groupByData||o.data===t)&&o.opts.groupByKeys===i.groupByKeys&&o.opts.groupByFn===i.groupByFn&&n(o.opts.props)===n(i.props)}}static mergeRequests(t){return t.reduce(((t,i)=>{var n,o;let{id:r,data:s,resolve:a,reject:l,opts:{props:c,...d}}=i;t.ids.push(r),t.rejects.push(l),t.resolves.push(a),null!==(n=t.data)&&void 0!==n||(t.data=s),null!==(o=t.opts)&&void 0!==o||(t.opts={...d,props:[]});for(const g of c){var u,h,p;const i={...g,scopes:[r]};e.createIdsMap(r,i);const n=t.opts.props.find((t=>t.type===i.type&&e.deepEqual(t,i)));n?(null!==(u=n.scopes)&&void 0!==u||(n.scopes=[]),n.scopes.push(...null!==(h=i.scopes)&&void 0!==h?h:[]),"key"!==n.type&&"value"!==n.type||null===(p=i.idsMap)||void 0===p||!p.size||e.mergeIdsMap(i.idsMap,n.idsMap)):t.opts.props.push(i)}return t}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,t){for(const[i,n]of e)if(t.has(i))for(const e of n)t.get(i).add(e);else t.set(i,new Set(n))}static createIdsMap(e,t){var i;null!=t.id&&(null!==(i=t.idsMap)&&void 0!==i||(t.idsMap=new Map),t.idsMap.has(e)?t.idsMap.get(e).add(t.id):t.idsMap.set(e,new Set([t.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;let n,o;if(Array.isArray(t)){if(o=t.length,o!==i.length)return!1;for(n=o-1;n>=0;n--)if(!e.deepEqual(t[n],i[n]))return!1;return!0}const r=Object.keys(t);if(o=r.length,o!==Object.keys(i).length)return!1;for(n=o-1;n>=0;n--){const o=r[n];if(!e.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!e.deepEqual(t[o],i[o])))return!1}return!0}return!1}};bR.skipKeys=new Set(["id","idsMap","type","scopes"]);var CR=bR,wR=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.instanceConstructor),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const i=this.axesMap.get(e);if(i)return new i(t);throw new Error("AG Charts - unknown axis type: ".concat(e))}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((e=>!this.hidden.has(e)))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},xR=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function SR(e){var t;return null===(t=xR.find((t=>"series"===t.type&&t.identifier===e)))||void 0===t?void 0:t.chartTypes}function RR(e){if(!function(e){return"enterprise"===e.packageType}(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=xR.find((t=>t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier&&e.chartTypes.every((e=>t.chartTypes.includes(e)))));var i;t&&(null!==(i=t.useCount)&&void 0!==i||(t.useCount=0),t.useCount++);return null!=t}var MR=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,t){let{optionsKey:i,instanceConstructor:n,themeTemplate:o}=t;this.legendMap.set(e,{optionsKey:i,instanceConstructor:n}),this.themeTemplates.set(i,o)}create(e,t){var i;const n=null===(i=this.legendMap.get(e))||void 0===i?void 0:i.instanceConstructor;if(n)return new n(t);throw new Error("AG Charts - unknown legend type: ".concat(e))}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((e,t)=>{let[i,n]=t;return e[i]=n.optionsKey,e}),{})}},kR={isEnterprise:!1},DR=class extends Map{get(e){var t;return null!==(t=super.get(e))&&void 0!==t?t:"unknown"}isCartesian(e){return"cartesian"===this.get(e)}isPolar(e){return"polar"===this.get(e)}isHierarchy(e){return"hierarchy"===this.get(e)}isTopology(e){return"topology"===this.get(e)}isFlowProportion(e){return"flow-proportion"===this.get(e)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((e=>this.isCartesian(e)))}get polarTypes(){return this.seriesTypes.filter((e=>this.isPolar(e)))}get hierarchyTypes(){return this.seriesTypes.filter((e=>this.isHierarchy(e)))}get topologyTypes(){return this.seriesTypes.filter((e=>this.isTopology(e)))}get flowProportionTypes(){return this.seriesTypes.filter((e=>this.isFlowProportion(e)))}},AR=class extends Map{set(e,t){return super.set(e,dv(t,this.get(e)))}},ER=new DR,TR=new DR,PR=new AR,FR=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,t){let{chartTypes:[i],instanceConstructor:n,tooltipDefaults:o,defaultAxes:r,themeTemplate:s,enterpriseThemeTemplate:a,paletteFactory:l,solo:c,stackable:d,groupable:u,stackedByDefault:h,swapDefaultAxesCondition:p,hidden:g}=t;this.setThemeTemplate(e,s,a),this.seriesMap.set(e,{instanceConstructor:n,tooltipDefaults:o,defaultAxes:r,paletteFactory:l,solo:c,stackable:d,groupable:u,stackedByDefault:h,swapDefaultAxesCondition:p}),ER.set(e,i),g||TR.set(e,i)}create(e,t){var i;const n=null===(i=this.seriesMap.get(e))||void 0===i?void 0:i.instanceConstructor;if(n)return new n(t);throw new Error("AG Charts - unknown series type: ".concat(e))}cloneDefaultAxes(e){var t;const i=null===(t=this.seriesMap.get(e))||void 0===t?void 0:t.defaultAxes;return i?{axes:Sv(i)}:null}setThemeTemplate(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.themeTemplates.get(e);this.themeTemplates.set(e,{community:dv(t,null===n||void 0===n?void 0:n.community),enterprise:dv(i,t,null===n||void 0===n?void 0:n.community)})}getThemeTemplate(e){const t=this.themeTemplates.get(e);return kR.isEnterprise?null===t||void 0===t?void 0:t.enterprise:null===t||void 0===t?void 0:t.community}getPaletteFactory(e){var t;return null===(t=this.seriesMap.get(e))||void 0===t?void 0:t.paletteFactory}getTooltipDefauls(e){var t;return null===(t=this.seriesMap.get(e))||void 0===t?void 0:t.tooltipDefaults}isSolo(e){var t,i;return null!==(t=null===(i=this.seriesMap.get(e))||void 0===i?void 0:i.solo)&&void 0!==t&&t}isGroupable(e){var t,i;return null!==(t=null===(i=this.seriesMap.get(e))||void 0===i?void 0:i.groupable)&&void 0!==t&&t}isStackable(e){var t,i;return null!==(t=null===(i=this.seriesMap.get(e))||void 0===i?void 0:i.stackable)&&void 0!==t&&t}isStackedByDefault(e){var t,i;return null!==(t=null===(i=this.seriesMap.get(e))||void 0===i?void 0:i.stackedByDefault)&&void 0!==t&&t}isDefaultAxisSwapNeeded(e){let t;for(const s of null!==(i=e.series)&&void 0!==i?i:[]){var i,n,o,r;const{type:e="line"}=s,a=null===(n=this.seriesMap.get(e))||void 0===n||null===(o=(r=n).swapDefaultAxesCondition)||void 0===o?void 0:o.call(r,s);if(null!=a){if(null!=t&&t!=a)throw new Error("AG Charts - The provided series have incompatible directions");t=a}}return t}},NR=class e extends Hw{constructor(e){super(),this.chart=e}subscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP,i=this.get(t);return i||(i=new Set,e.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(){var t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return null===(t=this.get(i))||void 0===t||t.delete(this.chart),this}getChart(){return this.chart}getGroup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.getGroup(t).filter((e=>e!==this.chart))}get(t){return e.chartsGroups.get(t)}};NR.chartsGroups=new Map,NR.DEFAULT_GROUP=Symbol("sync-group-default");var LR=NR,IR=class extends Hw{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new OS(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(e){const t=new Map(e.map((e=>[e.id,this.axisZoomManagers.get(e.id)])));this.axisZoomManagers.clear();for(const n of e){var i;this.axisZoomManagers.set(n.id,null!==(i=t.get(n.id))&&void 0!==i?i:new OR(n))}this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(e,n),0!==this.axisZoomManagers.size)this.state.set(e,t),this.axisZoomManagers.forEach((i=>{i.updateZoom(e,null===t||void 0===t?void 0:t[i.getDirection()])})),this.applyChanges(e);else{const r=this.state.stateId();var o;"initial"===r||r===e||i?(this.state.set(e,t),r!==e&&(null===(o=this.rejectCallbacks.get(r))||void 0===o||o(e))):null===n||void 0===n||n(r)}}updateAxisZoom(e,t,i){var n;null===(n=this.axisZoomManagers.get(t))||void 0===n||n.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach((i=>{var n;if("x"===i.getDirection())null!==(n=e)&&void 0!==n||(e=i.getZoom());else if("y"===i.getDirection()){var o;null!==(o=t)&&void 0!==o||(t=i.getZoom())}})),e||t)return{x:e,y:t}}getAxisZoom(e){var t,i;return null!==(t=null===(i=this.axisZoomManagers.get(e))||void 0===i?void 0:i.getZoom())&&void 0!==t?t:{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),(e=>e.applyChanges())).some(Boolean))return;const t={};for(const[i,n]of this.axisZoomManagers.entries())t[i]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:t,callerId:e})}},OR=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new OS({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Sv(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},jR=class extends yv{constructor(){super(...arguments),this.enabled=!1}};function BR(e,t){var i;const{bounds:n,showFocusBox:o}=t;o&&(null===e||void 0===e||e.updateBounds(n));const{x:r,y:s}=null!==(i=function(e){var t;return e instanceof xf?e.computeCenter():null===e||void 0===e||null===(t=e.computeTransformedBBox())||void 0===t?void 0:t.computeCenter()}(n))&&void 0!==i?i:{};if(void 0!==r&&void 0!==s)return{type:"keyboard",offsetX:r,offsetY:s}}om([ly(gy)],jR.prototype,"enabled",2),om([ly(vy)],jR.prototype,"tabIndex",2);var _R=["top","right","bottom","left"];var GR=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function zR(e){var t,i;return null!==(t=null===(i=e.series)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type)&&void 0!==t?t:"line"}function HR(e){const t=zR(e);return null==t||("cartesian"===t?(hm.warnOnce("type '".concat(t,"' is deprecated, use a series type instead")),!0):ER.isCartesian(t)||function(e){var t;return"cartesian"===(null===(t=SR(e))||void 0===t?void 0:t.find((e=>"cartesian"===e)))}(t))}function VR(e){const t=zR(e);return null!=t&&("polar"===t?(hm.warnOnce("type '".concat(t,"' is deprecated, use a series type instead")),!0):ER.isPolar(t)||function(e){var t;return"polar"===(null===(t=SR(e))||void 0===t?void 0:t.find((e=>"polar"===e)))}(t))}function WR(e){const t=zR(e);return null!=t&&("hierarchy"===t?(hm.warnOnce("type '".concat(t,"' is deprecated, use a series type instead")),!0):ER.isHierarchy(t)||function(e){var t;return"hierarchy"===(null===(t=SR(e))||void 0===t?void 0:t.find((e=>"hierarchy"===e)))}(t))}function UR(e){const t=zR(e);return null!=t&&("topology"===t?(hm.warnOnce("type '".concat(t,"' is deprecated, use a series type instead")),!0):ER.isTopology(t)||function(e){var t;return"topology"===(null===(t=SR(e))||void 0===t?void 0:t.find((e=>"topology"===e)))}(t))}function YR(e){const t=zR(e);return null!=t&&("flow-proportion"===t?(hm.warnOnce("type '".concat(t,"' is deprecated, use a series type instead")),!0):ER.isFlowProportion(t)||function(e){var t;return"flow-proportion"===(null===(t=SR(e))||void 0===t?void 0:t.find((e=>"flow-proportion"===e)))}(t))}var KR=class extends $C{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&Cv(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())"legend"===e.type&&(yield{legendType:e.identifier,legend:t})}},qR="ag-chart-overlay",XR="ag-chart-dark-overlay",ZR=class extends yv{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){var t;return e.t(null!==(t=this.text)&&void 0!==t?t:this.defaultMessageId)}getElement(e,t,i){var n;if(null===(n=this.content)||void 0===n||n.remove(),this.focusBox=i,this.renderer){const e=this.renderer();this.content=aw("div"),e instanceof HTMLElement?this.content.replaceChildren(e):this.content.innerHTML=e}else{const i=aw("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(t),this.content=i,null===e||void 0===e||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{var e;return null===(e=this.content)||void 0===e?void 0:e.remove()},t=arguments.length>1?arguments[1]:void 0;if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){null===e||void 0===e||e()}})}else null===e||void 0===e||e();this.content=void 0,this.focusBox=void 0}}};om([ly(fy,{optional:!0})],ZR.prototype,"text",2),om([ly(my,{optional:!0})],ZR.prototype,"renderer",2);var QR=class extends yv{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new ZR("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new ZR("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new ZR("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==t.focusBox)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};function JR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of e)"number"===typeof i&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function $R(e,t){const i={id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>JR(e)};return i}function eM(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:e=>JR(e),groupAggregateFunction:function(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:0,n[1]+=null!==(i=null===e||void 0===e?void 0:e[1])&&void 0!==i?i:0,n}}}function tM(e,t){const i={id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>dR.extendDomain(e)};return i}function iM(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:0,n[1]+=null!==(i=null===e||void 0===e?void 0:e[1])&&void 0!==i?i:0,n}}}function nM(e,t){const i={id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:e=>JR(e),groupAggregateFunction:function(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return n[0]+=null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:0,n[1]+=null!==(i=null===e||void 0===e?void 0:e[1])&&void 0!==i?i:0,n[2]++,n},finalFunction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const t=e[0]+e[1];return t>=0?[0,t/e[2]]:[t/e[2],0]}};return i}function oM(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return t.aggregateFunction(e).map((e=>e/n))}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function rM(e){return()=>{let t=0;return i=>ov(i)?(t+=e?Math.max(0,i):i,t):i}}function sM(){return()=>{let e=0;return t=>{if(!ov(t))return t;const i=e;return e+=t,i}}}om([ly(gy)],QR.prototype,"darkTheme",2),om([ly(hy)],QR.prototype,"loading",2),om([ly(hy)],QR.prototype,"noData",2),om([ly(hy)],QR.prototype,"noVisibleSeries",2);var aM={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n<t?n:t}}},lM={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n>t?n:t}}},cM={type:"processor",property:"sortedGroupDomain",calculate:e=>{let{domain:{groups:t}}=e;return null===t||void 0===t?void 0:t.slice().sort(((e,t)=>{for(let i=0;i<e.length;i++){const n=e[i]-t[i];if(0!==n)return n}return 0}))}};function dM(e){let{normaliseTo:t,mode:i}=e;const n=(e,i)=>{const n=e*t/i;return n>=0?Math.min(t,n):Math.max(-t,n)};return()=>()=>(e,t)=>{const o=[0,0];for(const n of t){const t=e[n],r=t<0?0:1;"sum"===i?o[r]+=t:o[r]=0===r?Math.min(o[r],t):Math.max(o[r],t)}const r=Math.max(Math.abs(o[0]),o[1]);for(const i of t)e[i]=n(e[i],r)}}function uM(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:vC({normaliseTo:t,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},dM)}}function hM(e){let{normaliseTo:t,zeroDomain:i,rangeMin:n,rangeMax:o}=e;const r=t[1]-t[0],s=(e,n,o)=>{const s=t[0]+(e-n)/o*r;return 0===o?i:s>=t[1]?t[1]:s<t[0]?t[0]:s};return()=>(e,i)=>{let[r,a]=e.domain.values[i];null!=n&&(r=n),null!=o&&(a=o);const l=a-r;e.domain.values[i]=[t[0],t[1]];for(const t of e.data){let n=t.values;"ungrouped"===e.type&&(n=[n]);for(const e of n)e[i]=s(e[i],r,l)}}}function pM(e,t,i,n,o){return{type:"property-value-processor",property:e,adjust:vC({normaliseTo:t,rangeMin:n,rangeMax:o,zeroDomain:i},hM)}}function gM(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:o,data:r}=t;let s=!0,a=!0;const l=[];for(let d=0;d<n.length;d++)null!==e&&void 0!==e&&e.includes(n[d].id)&&l.push([d,n[d]]);const c=(e,i,n)=>{var l;if("category"===i.valueType){const i=t.domain[n][e];return void(s&&(s=i.length===o.count))}let c=null===(l=r[0])||void 0===l?void 0:l[n][e];for(let t=1;(s||a)&&t<r.length;t++){const i=r[t][n][e];a&&(a=c<=i),s&&(s=c!==i),c=i}};for(let e=0;(s||a)&&e<i.length;e++)c(e,i[e],"keys");for(let e=0;(s||a)&&e<l.length;e++){const[t,i]=l[e];c(t,i,"values")}return{uniqueKeys:s,orderedKeys:a}}}}function mM(e){let{mode:t,separateNegative:i}=e;return()=>()=>(e,n)=>{const o=[0,0];for(const r of n){const n=e[r],s=gf(n)&&i?0:1;ov(n)&&("normal"===t&&(o[s]+=n),e[r]=o[s],"trailing"===t&&(o[s]+=n))}}}function fM(e){let{mode:t,sum:i}=e;return()=>{const e=[];let n=!0;return()=>(o,r)=>{let s=0;for(const a of r){const r=o[a],l=n&&"current"===i?0:e[a];e[a]=r;const c="current"===i?r:l;ov(r)&&ov(l)?("normal"===t&&(s+=c),o[a]=s,"trailing"===t&&(s+=c)):o[a]=s}n=!1}}}function vM(e,t,i){let n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.startsWith("window")){n=vC({mode:t.endsWith("-trailing")?"trailing":"normal",sum:i},fM)}else n=vC({mode:t,separateNegative:o},mM);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function yM(e){let{separateNegative:t}=e;return()=>()=>(e,i)=>{const n=[!0,!0];for(const o of i){const i=e[o],r=gf(i)&&t?0:1;n[r]&&(n[r]=ov(i)),e[o]=n[r]}}}function bM(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:vC({separateNegative:arguments.length>1&&void 0!==arguments[1]&&arguments[1]},yM)}}function CM(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,o=new Map,r=new Map,s=new Map,a=Math.max(e.data.length,i.data.length);for(let l=0;l<a;l++){const a=e.data[l],c=i.data[l],d=a?wM(a.keys):"",u=c?wM(c.keys):"";c&&a&&d===u?gb(a.values,c.values)||r.set(u,c):(s.has(u)?(!t&&gb(s.get(u).values,c.values)||(r.set(u,c),n.set(u,c)),s.delete(u)):c&&o.set(u,c),o.has(d)?(!t&&gb(o.get(d).values,a.values)||(r.set(d,a),n.set(d,a)),o.delete(d)):a&&(r.delete(d),s.set(d,a)))}return{changed:o.size>0||r.size>0||s.size>0,added:o,updated:r,removed:s,moved:n}}}}function wM(e){let t;t=Kf(e)?e.map((e=>NC(e))).join("___"):NC(e);const i="string"===typeof t||"number"===typeof t||t instanceof Date;for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return i&&o.length>0&&(t+="___".concat(o.join("___"))),t}var xM=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(xM||{});function SM(e){return null!=e&&PC(e)}function RM(e){return null!=e}function MM(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return SM;default:return RM}}function kM(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function DM(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"key",valueType:kM(t),validation:MM(t),...i}}function AM(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"value",valueType:kM(t),validation:MM(t),...i}}function EM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0,...o}=t;return{type:"value",property:e,valueType:"range",validation:SM,processor:()=>e=>ov(e)?cf(i,e,n):e,...o}}function TM(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n,...o}=i;return{...AM(e,t,o),processor:rM(n)}}function PM(e,t){return{...AM(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:sM()}}function FM(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[AM(e,arguments.length>4?arguments[4]:void 0,n),vM(n.groupId,t,i,n.separateNegative),...null!=n.rangeId?[tM(n.rangeId,n.groupId)]:[]]}function NM(e,t,i){return[AM(e,i,t),bM(t.groupId,t.separateNegative)]}var LM=class{constructor(e,t,i,n){let{datum:o}=i;this.type=e,this.event=t,this.datum=o,this.seriesId=n.id}},IM=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},OM=class extends Hx{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=LM,this.internalId=nf(this),this.rootGroup=new Jb({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new $C,this._declarationOrder=-1,this.seriesListeners=new zw;const{moduleCtx:t,pickModes:i=[1],directionKeys:n={},directionNames:o={},contentGroupVirtual:r=!0,canHaveAxes:s=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new Jb({name:"".concat(this.internalId,"-content"),isVirtual:r,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Jb({name:"".concat(this.internalId,"-highlight"),isVirtual:r,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Jb({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Jb({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new Jb({name:"".concat(this.internalId,"-series-labels"),zIndex:8})),this.annotationGroup=new Jb({name:"".concat(this.id,"-annotation"),isVirtual:r,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var e,t;return null!==(e=null===(t=this.properties)||void 0===t?void 0:t.id)&&void 0!==e?e:this.internalId}get type(){var e;return null!==(e=this.constructor.type)&&void 0!==e?e:""}get data(){var e;return null!==(e=this._data)&&void 0!==e?e:this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){var e,t;return null!==(e=null===(t=this.properties.tooltip)||void 0===t?void 0:t.enabled)&&void 0!==e&&e}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:o}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:n}),t&&this.ctx.seriesStateManager.registerSeries({id:i,type:n,visible:o,seriesGrouping:t}),this.fireEvent(new IM(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(e){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":t+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((e=>e())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=null===t||void 0===t?void 0:t[i],o=[];if(!n)return o;const r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)Array.isArray(n)?r(...n):"object"===typeof n?r(...Object.values(n)):o.push(n)};return r(...n.map((e=>this.properties[e]))),o}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){var t;return null!==(t=this.directionKeys[this.resolveKeyDirection(e)])&&void 0!==t?t:[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules((t=>t.getDomain(e)));return t.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:e=1,enabled:t=!0}=this.properties.highlightStyle.series;if(!t||1===e)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return e}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===t)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var e;const t=null===(e=this.ctx.highlightManager)||void 0===e||null===(e=e.getActiveHighlight())||void 0===e?void 0:e.series;return null==t?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((e=>e.getTooltipParams())).reduce(((e,t)=>Object.assign(e,t)),{})}pickNode(e,t){const{pickModes:i,visible:n,rootGroup:o}=this;if(n&&o.visible)for(const r of i){if(t&&!t.includes(r))continue;let i;switch(r){case 0:i=this.pickNodeExactShape(e);break;case 1:case 2:i=this.pickNodeMainAxisFirst(e,2===r);break;case 3:i=this.pickNodeClosestDatum(e)}if(i)return{pickMode:r,match:i.datum,distance:i.distance}}}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&!0!==t.datum.missing)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const i=af(e.x,e.y,t);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;var n;return e.formatter&&null!==(n=this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t}))&&void 0!==n?n:i(t.value)}getMarkerStyle(e,t){var i,n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getStyle();const r=dv({size:null!==(i=null===(n=t.datum.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0},o);if(e.itemStyler){return dv(this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...r,...t,datum:t.datum.datum}),r)}return r}updateMarkerStyle(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.getStyle(),{applyTranslation:o=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:r}=i.datum,s=this.getMarkerStyle(t,i,n),a=this.visible&&s.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);o?e.setProperties({visible:a,...s,translationX:null===r||void 0===r?void 0:r.x,translationY:null===r||void 0===r?void 0:r.y}):e.setProperties({visible:a,...s}),"function"!==typeof t.shape||e.dirtyPath||(e.path.clear(!0),e.updatePath(),e.checkPathDirty())}getMinRects(e,t){}get nodeDataDependencies(){var e;return null!==(e=this._nodeDataDependencies)&&void 0!==e?e:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=null!==e&&void 0!==e?e:{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,o=null!=xv(this.nodeDataDependencies,n);return o&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),o}pickFocus(e){}};OM.highlightedZIndex=1e12,om([Dw({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],OM.prototype,"seriesGrouping",2);var jM=class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i,n;const{internalId:o,type:r,rootGroup:s,highlightGroup:a,annotationGroup:l,seriesGrouping:c}=e,{groupIndex:d=o}=null!==c&&void 0!==c?c:{};if(null!=this.series[o])throw new Error("AG Charts - series already has an allocated layer: ".concat(this.series[o]));0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),null!==(t=(i=this.groups)[r])&&void 0!==t||(i[r]={});const u=this.lookupIdx(d);let h=this.groups[r][u];var p;h||(h=null!==(p=(n=this.groups[r])[u])&&void 0!==p?p:n[u]={type:r,id:u,seriesIds:[],group:this.seriesRoot.appendChild(new Jb({name:"".concat(r,"-content"),layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new Jb({name:"".concat(r,"-highlight"),zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new Jb({name:"".concat(r,"-annotation"),zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))});return this.series[o]={layerState:h,seriesConfig:e},h.seriesIds.push(o),h.group.appendChild(s),h.highlight.appendChild(a),h.annotation.appendChild(l),h.group}changeGroup(e){var t;const{internalId:i,seriesGrouping:n,type:o,rootGroup:r,highlightGroup:s,annotationGroup:a,oldGrouping:l}=e,{groupIndex:c=i}=null!==n&&void 0!==n?n:{};null!==(t=this.groups[o])&&void 0!==t&&null!==(t=t[c])&&void 0!==t&&t.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({internalId:i,seriesGrouping:l,type:o,rootGroup:r,highlightGroup:s,annotationGroup:a}),this.requestGroup(e))}releaseGroup(e){var t;const{internalId:i,rootGroup:n,highlightGroup:o,annotationGroup:r,type:s}=e;if(null==this.series[i])throw new Error("AG Charts - series doesn't have an allocated layer: ".concat(i));const a=null===(t=this.series[i])||void 0===t?void 0:t.layerState;if(a&&(a.seriesIds=a.seriesIds.filter((e=>e!==i)),a.group.removeChild(n),a.highlight.removeChild(o),a.annotation.removeChild(r)),0===(null===a||void 0===a?void 0:a.seriesIds.length))this.seriesRoot.removeChild(a.group),this.highlightRoot.removeChild(a.highlight),this.annotationRoot.removeChild(a.annotation),delete this.groups[a.type][a.id],delete this.groups[s][i];else if((null===a||void 0===a?void 0:a.seriesIds.length)>0){var l,c;const e=null===(l=this.series[null===a||void 0===a||null===(c=a.seriesIds)||void 0===c?void 0:c[0]])||void 0===l?void 0:l.seriesConfig;a.group.zIndexSubOrder=null===e||void 0===e?void 0:e.getGroupZIndexSubOrder("data"),a.highlight.zIndexSubOrder=null===e||void 0===e?void 0:e.getGroupZIndexSubOrder("highlight"),a.annotation.zIndexSubOrder=null===e||void 0===e?void 0:e.getGroupZIndexSubOrder("annotation")}delete this.series[i]}lookupIdx(e){return"normal"===this.mode?e:"string"!==typeof e||(e=Number(e.split("-").at(-1)))?Math.floor(30*cf(0,e/this.expectedSeriesCount,1)):0}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},BM=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",(e=>this.positionPadding(e))),this.layoutService.addListener("layout-complete",(e=>this.alignCaptions(e))),this.layoutService.addListener("start-layout",(e=>this.positionCaptions(e))))}destroy(){this.destroyFns.forEach((e=>e()))}positionPadding(e){const{shrinkRect:t}=e,{padding:i}=this.chartLike;return t.shrink(i.left,"left"),t.shrink(i.top,"top"),t.shrink(i.right,"right"),t.shrink(i.bottom,"bottom"),{...e,shrinkRect:t}}positionCaptions(e){const{shrinkRect:t,positions:i,padding:n}=e,{title:o,subtitle:r,footnote:s,titlePadding:a}=this.chartLike,l=t.clone().shrink(a),c=t.clone(),d=e=>{var i;const n=t.height/10,o=null!==(i=e.lineHeight)&&void 0!==i?i:e.fontSize*xC.defaultLineHeightRatio,r=t.width,s=Math.max(o,n);e.computeTextWrap(r,s)},u=e=>"left"===e?l.x:"right"===e?l.x+l.width:("center"!==e&&hm.error("invalid textAlign value: ".concat(e)),l.x+l.width/2),h=(e,t)=>{const i=l.y;e.node.x=u(e.textAlign),e.node.y=i,e.node.textBaseline="top",d(e);const n=e.node.computeBBox(),o=Math.ceil(n.y-i+n.height+t);return"block"===e.layoutStyle&&(c.shrink(o+2*a,"top"),l.shrink(o,"top")),n};if(o.node.visible=o.enabled,r.node.visible=r.enabled,s.node.visible=s.enabled,o.enabled){const{spacing:e=(r.enabled?Gw.SMALL_PADDING:Gw.LARGE_PADDING)}=o;i.title=h(o,e)}var p,g;r.enabled&&(i.subtitle=h(r,null!==(p=r.spacing)&&void 0!==p?p:0));s.enabled&&(i.footnote=((e,t)=>{const i=l.y+l.height;e.node.x=u(e.textAlign),e.node.y=i,e.node.textBaseline="bottom",d(e);const n=e.node.computeBBox(),o=Math.ceil(i-n.y+t);return"block"===e.layoutStyle&&(c.shrink(o+2*a,"bottom"),l.shrink(o,"bottom")),n})(s,null!==(g=s.spacing)&&void 0!==g?g:0));return n.title=a,{...e,shrinkRect:c,positions:i}}alignCaptions(e){const{title:t,subtitle:i,footnote:n,titlePadding:o}=this.chartLike,r=(e,t)=>{if("overlay"===e.layoutStyle)if("left"===e.textAlign)e.node.x=t.x+o;else if("right"===e.textAlign){const i=e.node.computeBBox();e.node.x=t.x+t.width-i.width-o}};r(t,e.series.rect),r(i,e.series.rect),r(n,e.series.rect)}},_M=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((e=>e()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((e=>hm.errorOnce(e)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){var e,t;if(!this.dataService.isLazy())return;const i=this.getValidAxis();let n,o=!0;if(i){const e=this.zoomManager.getAxisZoom(i.id);n=this.getAxisWindow(i,e),o=this.shouldRefresh(i,e)}this.dirtyZoom=!1,this.dirtyDataSource=!1,o&&this.dataService.load({windowStart:null===(e=n)||void 0===e?void 0:e.min,windowEnd:null===(t=n)||void 0===t?void 0:t.max})}getValidAxis(){return this.chart.axes.find((e=>"time"===e.type))}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return(!i||t.min!==i.min||t.max!==i.max)&&(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){var i,n;const o=null===(i=(n=e.scale).getDomain)||void 0===i?void 0:i.call(n);if(!t||!o||0===o.length||isNaN(Number(o[0])))return;const r=Number(o[1])-Number(o[0]);return{min:new Date(Number(o[0])+r*t.min),max:new Date(Number(o[0])+r*t.max)}}},GM=class{constructor(e,t,i,n,o,r,s){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutService=n,this.localeManager=o,this.animationManager=r,this.domManager=s,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(qR),this.domManager.addStyles("overlays",".ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#ffffff}.ag-chart-overlay--loading{color:rgb(140,140,140)}.ag-chart-overlay__loading-background{background:white;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}"),this.destroyFns.push(this.layoutService.addListener("layout-complete",(e=>this.onLayoutComplete(e))))}destroy(){this.destroyFns.forEach((e=>e())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(e){let{series:{rect:t}}=e;const i=this.dataService.isLoading(),n=this.chartLike.series.some((e=>e.hasData)),o=this.chartLike.series.some((e=>e.visible));this.overlays.darkTheme?this.overlayElem.classList.add(XR):this.overlayElem.classList.remove(XR),this.overlayElem.style.left="".concat(t.x,"px"),this.overlayElem.style.top="".concat(t.y,"px"),this.overlayElem.style.width="".concat(t.width,"px"),this.overlayElem.style.height="".concat(t.height,"px"),this.toggleOverlay(this.overlays.loading,t,i),this.toggleOverlay(this.overlays.noData,t,!i&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,t,n&&!o)}toggleOverlay(e,t,i){if(i){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}else e.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},zM=pw.create(!0,"opts"),HM=class extends yv{constructor(){super(...arguments),this.padding=new Vx(0)}};om([ly(gy,{optional:!0})],HM.prototype,"clip",2),om([ly(hy)],HM.prototype,"padding",2);var VM=class e extends Hx{constructor(e,t){var i,n,o;super(),i=this,this.id=nf(this),this.seriesRoot=new Jb({name:"".concat(this.id,"-series-root")}),this.highlightRoot=new Jb({name:"".concat(this.id,"-highlight-root"),layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new Jb({name:"".concat(this.id,"-annotation-root"),layer:!0,zIndex:10}),this.debug=pw.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Vx(20),this.titlePadding=0,this.seriesArea=new HM,this.title=new Gw,this.subtitle=new Gw,this.footnote=new Gw,this.keyboard=new jR,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new KR,this.zoomManager=new IR,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new zx,this.updateRequestors={},this.performUpdateTrigger=Wx((function(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async e=>{let{count:t}=e;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(t)}catch(e){hm.error("update error",e)}})).catch((e=>hm.errorOnce(e)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.pointerScheduler=function(e){return Wx(((e,t)=>requestAnimationFrame(e)),e)}((()=>{this.lastInteractionEvent&&(this.performUpdateType<=4?this.pointerScheduler.schedule():(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0))})),this.onSeriesNodeClick=e=>{const t={...e,type:"seriesNodeClick"};Object.defineProperty(t,"series",{enumerable:!1,get:()=>e.series}),this.fireEvent(t)},this.onSeriesNodeDoubleClick=e=>{const t={...e,type:"seriesNodeDoubleClick"};this.fireEvent(t)},this.seriesGroupingChanged=e=>{if(!(e instanceof IM))return;const{series:t,seriesGrouping:i,oldGrouping:n}=e;null!=t.rootGroup.parent&&this.seriesLayerManager.changeGroup({internalId:t.internalId,type:t.type,rootGroup:t.rootGroup,highlightGroup:t.highlightGroup,annotationGroup:t.annotationGroup,getGroupZIndexSubOrder:e=>t.getGroupZIndexSubOrder(e),seriesGrouping:i,oldGrouping:n})},this.dataProcessListeners=new Set,this.chartOptions=e;const r=null===t||void 0===t?void 0:t.scene,s=null===t||void 0===t?void 0:t.container,a=new Jb({name:"root"}),l=new Jb({name:"titles",layer:!0,zIndex:8});a.visible=!1,a.append(l),a.append(this.seriesRoot),a.append(this.highlightRoot),a.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node);const{overrideDevicePixelRatio:c}=e.specialOverrides;this.tooltip=new _w,this.seriesLayerManager=new jM(this.seriesRoot,this.highlightRoot,this.annotationRoot);const d=this.ctx=new aR(this,{scene:r,root:a,syncManager:new LR(this),container:s,updateCallback:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return i.update(e,t)},updateMutex:this.updateMutex,overrideDevicePixelRatio:c});this._destroyFns.push(d.domManager.addListener("resize",(()=>this.parentResize(d.domManager.containerSize)))),this.overlays=new QR,null!==(n=(o=this.overlays.loading).renderer)&&void 0!==n||(o.renderer=()=>function(e,t){const{animationDuration:i}=Gv.add,n=i*t,o=aw("div","".concat(qR,"--loading"),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:"ag-charts-loading ".concat(n,"ms linear 50ms both")}),r=aw("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=aw("p",{marginTop:"1em"});s.innerText=e;const a=aw("div","".concat(qR,"__loading-background"),{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=aw("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),o.replaceChildren(l,r,s,a),o}(this.overlays.loading.getText(d.localeManager),d.animationManager.defaultDuration)),this.processors=[new BM(this,d.layoutService),new _M(this,d.dataService,d.updateService,d.zoomManager),new GM(this,this.overlays,d.dataService,d.layoutService,d.localeManager,d.animationManager,d.domManager)],this.highlight=new lR,this.container=s;const{All:u}=Qw,h=this.getModuleContext(),p=d.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),g=this.ctx.regionManager.addRegion("horizontal-axes"),m=this.ctx.regionManager.addRegion("vertical-axes");d.regionManager.addRegion("root",a),this._destroyFns.push(d.dataService.addListener("data-load",(e=>{this.data=e.data})),this.title.registerInteraction(h),this.subtitle.registerInteraction(h),this.footnote.registerInteraction(h),d.regionManager.listenAll("click",(e=>this.onClick(e))),d.regionManager.listenAll("dblclick",(e=>this.onDoubleClick(e))),p.addListener("hover",(e=>this.onMouseMove(e)),20),p.addListener("drag",(e=>this.onMouseMove(e)),20),g.addListener("hover",(e=>this.onMouseMove(e))),m.addListener("hover",(e=>this.onMouseMove(e))),p.addListener("leave",(e=>this.onLeave(e))),g.addListener("leave",(e=>this.onLeave(e))),m.addListener("leave",(e=>this.onLeave(e))),p.addListener("blur",(()=>this.onBlur())),p.addListener("tab",(e=>this.onTab(e))),p.addListener("nav-vert",(e=>this.onNavVert(e))),p.addListener("nav-hori",(e=>this.onNavHori(e))),p.addListener("submit",(e=>this.onSubmit(e))),p.addListener("contextmenu",(e=>this.onContextMenu(e)),u),d.keyNavManager.addListener("browserfocus",(e=>this.onBrowserFocus(e))),d.interactionManager.addListener("page-left",(()=>this.destroy())),d.animationManager.addListener("animation-start",(()=>this.onAnimationStart())),d.animationManager.addListener("animation-frame",(()=>{this.update(6)})),d.highlightManager.addListener("highlight-change",(e=>this.changeHighlightDatum(e))),d.zoomManager.addListener("zoom-pan-start",(()=>this.resetPointer())),d.zoomManager.addListener("zoom-change",(()=>{this.resetPointer(),this.ctx.focusIndicator.updateBounds(void 0),this.series.map((e=>{var t;return null===(t=e.animationState)||void 0===t?void 0:t.transition("updateData")}));const e="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}))),this.parentResize(d.domManager.containerSize)}static getInstance(t){return e.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,t){this.ctx.scene.download(e,t)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}getOptions(){var e;return null!==(e=this.queuedUserOptions.at(-1))&&void 0!==e?e:this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((e=>e.enabled&&e.text)).map((e=>e.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length,caption:this.getCaptionText()})}getDatumAriaText(e,t){var i,n,o;const r=t.ariaLabel;return null!==(i=null===(n=(o=e.series).getDatumAriaText)||void 0===n?void 0:n.call(o,e,r))&&void 0!==i?i:r}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;const t=null===e||void 0===e?void 0:e.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((e=>e())),this.processors.forEach((e=>e.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),t?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((e=>e.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await e(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((e=>hm.errorOnce(e))))}update(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:n=!1,skipAnimations:o,seriesToUpdate:r=this.series,newAnimationBatch:s}=null!==i&&void 0!==i?i:{};n&&this.series.forEach((e=>e.markNodeDataDirty()));for(const l of r)this.seriesToUpdate.add(l);if(o&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),s&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=null!==(e=null===i||void 0===i?void 0:i.skipSync)&&void 0!==e&&e,this.debug.check()){var a;let e=null!==(a=(new Error).stack)&&void 0!==a?a:"<unknown>";e=e.replace(/\([^)]*/g,""),this.updateRequestors[e]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(null===i||void 0===i?void 0:i.backOffMs))}async performUpdate(e){var t;const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:o,ctx:r}=this,s=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",rR[i]);let a=performance.now();null!==(t=o.start)&&void 0!==t||(o.start=a);const l=e=>{var t;null!==(t=o[e])&&void 0!==t||(o[e]=0),o[e]+=performance.now()-a,a=performance.now()};let c=!1;switch(i){case 0:this.updateDOM();case 1:await this.updateData(),l("\u2b07\ufe0f");case 2:await this.processData(),this.resetPointer(!0),l("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(s)){c=!0;break}await this.processLayout(),l("\u2316");case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:e}=this;await Promise.all(s.map((t=>t.update({seriesRect:e})))),l("\ud83e\udd14");case 5:if(this.checkUpdateShortcut(5))break;const t=r.tooltipManager.getTooltipMeta(this.id);i<=4&&null!=(null===t||void 0===t?void 0:t.lastPointerEvent)&&this.handlePointer(t.lastPointerEvent,!0),l("\u2196");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,await r.scene.render({debugSplitTimes:o,extraDebugStats:n}),this.extraDebugStats={};for(const i in o)delete o[i];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}c||r.updateService.dispatchUpdateComplete(this.getMinRects());const d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(d-o.start))/100,count:e,performUpdateType:rR[i]})}updateThemeClassName(){const{theme:e}=this.chartOptions.processedOptions,t="ag-charts-theme-",i=["".concat(t,"default"),"".concat(t,"default-dark")];let n=i[0],o=!1;"string"===typeof e?(n=e.replace("ag-",t),o=e.includes("-dark")):"string"===typeof(null===e||void 0===e?void 0:e.baseTheme)&&(n=e.baseTheme.replace("ag-",t),o=e.baseTheme.includes("-dark")),i.includes(n)||(n=o?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:t}=this.keyboard;this.ctx.domManager.setTabIndex(e?null!==t&&void 0!==t?t:0:-1),Pw(this.ctx.scene.canvas.element,"role","figure"),Pw(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(e){return this.updateShortcutCount>3?(hm.warn("exceeded the maximum number of simultaneous updates (".concat(4,"), discarding changes and rendering"),this.updateRequestors),!1):this.performUpdateType<=e&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(e){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const t=this._performUpdateNoRenderCount++,i=(t+1)**2*40;if(t<8)return this.update(3,{seriesToUpdate:e,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(e,t){null==t&&0===e.length||this.ctx.axisManager.updateAxes(null!==t&&void 0!==t?t:[],e)}onSeriesChange(e,t){var i,n;const o=null!==(i=null===t||void 0===t?void 0:t.filter((t=>!e.includes(t))))&&void 0!==i?i:[];this.destroySeries(o),null===(n=this.seriesLayerManager)||void 0===n||n.setSeriesCount(e.length);for(const r of e){if(null!==t&&void 0!==t&&t.includes(r))continue;null==r.rootGroup.parent&&this.seriesLayerManager.requestGroup(r);const e=this;r.chart={get mode(){return e.mode},get isMiniChart(){return!1},get seriesRect(){return e.seriesRect},placeLabels:()=>e.placeLabels()},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}}destroySeries(e){null===e||void 0===e||e.forEach((e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0}))}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach((e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)}))}assignSeriesToAxes(){this.axes.forEach((e=>{e.boundSeries=this.series.filter((t=>t.axes[e.direction]===e))}))}assignAxesToSeries(){const e=vb(this.axes,(e=>e.direction));this.series.forEach((t=>{t.directions.forEach((i=>{const n=e[i];if(!n)return void hm.warnOnce("no available axis for direction [".concat(i,"]; check series and axes configuration."));const o=t.getKeys(i),r=n.find((e=>!e.keys.length||o.some((t=>e.keys.includes(t)))));r?t.axes[i]=r:hm.warnOnce("no matching axis for direction [".concat(i,"] and keys [").concat(o,"]; check series and axes configuration."))}))}))}parentResize(e){var t;if(null==e||null!=this.width&&null!=this.height)return;let{width:i,height:n}=e;if(i=Math.floor(i),n=Math.floor(n),0===i&&0===n)return;const[o=0,r=0]=null!==(t=this._lastAutoSize)&&void 0!==t?t:[];o===i&&r===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(e,t){var i,n,o,r;const{scene:s,animationManager:a}=this.ctx,{inWidth:l,inHeight:c,inMinWidth:d,inMinHeight:u}=t;this.ctx.domManager.setSizeOptions(null!==d&&void 0!==d?d:this.minWidth,null!==u&&void 0!==u?u:this.minHeight,null!==l&&void 0!==l?l:this.width,null!==c&&void 0!==c?c:this.height);const h=null!==(i=null!==l&&void 0!==l?l:this.width)&&void 0!==i?i:null===(n=this._lastAutoSize)||void 0===n?void 0:n[0],p=null!==(o=null!==c&&void 0!==c?c:this.height)&&void 0!==o?o:null===(r=this._lastAutoSize)||void 0===r?void 0:r[1];if(this.debug("Chart.resize() from ".concat(e),{width:h,height:p,stack:(new Error).stack}),null!=h&&null!=p&&ov(h)&&ov(p)&&s.resize(h,p)){this.resetPointer(),a.reset();let e=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(e=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}}async updateData(){this.series.forEach((e=>e.setChartData(this.data)));const e=this.modulesManager.mapModules((e=>{var t;return null===(t=e.updateData)||void 0===t?void 0:t.call(e,{data:this.data})}));await Promise.all(e)}async processData(){if(this.series.some((e=>e.canHaveAxes))){this.assignAxesToSeries();const e=this.modulesManager.getModule("sync");null!==e&&void 0!==e&&e.enabled?e.syncAxes(this._skipSync):this.assignSeriesToAxes()}const e=new CR(this.mode),t=this.series.map((t=>t.processData(e))),i=this.modulesManager.mapModules((t=>{var i;return null===(i=t.processData)||void 0===i?void 0:i.call(t,{dataController:e})}));e.execute(),await Promise.all([...t,...i]);for(const{legendType:n,legend:o}of this.modulesManager.legends())o.data=this.getLegendData(n,"integrated"!==this.mode);this.dataProcessListeners.forEach((e=>e())),this.dataProcessListeners.clear()}placeLabels(){const e=[],t=[];for(const c of this.series){if(!c.visible)continue;const n=c.getLabelData();null!=(i=null===n||void 0===n?void 0:n[0])&&"object"===typeof i.point&&"object"===typeof i.label&&(t.push(n),e.push(c))}var i;const{seriesRect:n}=this,{top:o,right:r,bottom:s,left:a}=this.seriesArea.padding,l=n&&t.length>0?function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];e=e.map((e=>e.slice().sort(((e,t)=>t.point.size-e.point.size))));for(let d=0;d<e.length;d++){const u=n[d]=[],h=e[d];if(null!==h&&void 0!==h&&h.length&&h[0].label)for(let d=0,p=h.length;d<p;d++){var o,r;const p=h[d],{point:g,label:m,marker:f}=p,{text:v,width:y,height:b}=m,C=.5*g.size;let w=0,x=0;if(C>0&&null!=p.placement){const e=ww[p.placement];w=(.5*y+C+i)*e.x,x=(.5*b+C+i)*e.y}const S=g.x-.5*y+w-((null!==(o=null===f||void 0===f?void 0:f.center.x)&&void 0!==o?o:.5)-.5)*g.size,R=g.y-.5*b+x-((null!==(r=null===f||void 0===f?void 0:f.center.y)&&void 0!==r?r:.5)-.5)*g.size;(!t||(l=R,c=b,(a=S)+y<(s=t).x+s.width&&a>s.x&&l>s.y&&l+c<s.y+s.height))&&(e.some((e=>e.some((e=>{var t;return bw(e.point,null===(t=e.marker)||void 0===t?void 0:t.center,S,R,y,b)}))))||n.some((e=>e.some((e=>Cw(e,S,R,y,b)))))||u.push({index:d,text:v,x:S,y:R,width:y,height:b,datum:p}))}}var s,a,l,c;return n}(t,{x:-a,y:-o,width:n.width+a+r,height:n.height+o+s}):[];return new Map(l.map(((t,i)=>[e[i],t])))}getLegendData(e,t){var i;const n=this.series.filter((e=>e.properties.showInLegend)).flatMap((t=>t.getLegendData(e)));if(t&&n.every((e=>"category"===e.legendType))){const e={},t=new Map(this.series.map((e=>[e.id,e.type])));for(const{seriesId:s,symbols:[{marker:a}],label:l}of n){var o,r;if(null==a.fill)continue;const n=t.get(s),c=null!==(o=e[n])&&void 0!==o?o:e[n]={};null!==(r=c[i=l.text])&&void 0!==r||(c[i]=a.fill),c[l.text]!==a.fill&&hm.warnOnce("legend item '".concat(l.text,"' has multiple fill colors, this may cause unexpected behaviour."))}}return n}async processLayout(){var e;const t=this.animationRect;await this.performLayout(),!t||null!==(e=this.animationRect)&&void 0!==e&&e.equals(t)||this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async performLayout(){const{width:e,height:t}=this.ctx.scene;let i={shrinkRect:new xf(0,0,e,t),positions:{},padding:{}};i=this.ctx.layoutService.dispatchPerformLayout("start-layout",i),i=this.ctx.layoutService.dispatchPerformLayout("before-series",i);for(const n of this.modulesManager.modules())null!=n.performLayout&&(i=await n.performLayout(i));return i.shrinkRect}pickNode(e,t){var i;const n=performance.now(),o=[...t].reverse();let r;for(const{series:a,pickModes:l,maxDistance:c}of o){var s;if(!a.visible||!a.rootGroup.visible)continue;const{match:t,distance:i}=null!==(s=a.pickNode(e,l))&&void 0!==s?s:{};if(t&&null!=i&&((!r||r.distance>i)&&i<=(null!==c&&void 0!==c?c:1/0)&&(r={series:a,distance:i,datum:t}),0===i))break}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(i=this.extraDebugStats.pickSeriesNode)&&void 0!==i?i:0)+(performance.now()-n)),r}pickSeriesNode(e,t,i){const n=t?[0]:void 0;return this.pickNode(e,this.series.map((e=>({series:e,pickModes:n,maxDistance:i}))))}pickTooltip(e){return this.pickNode(e,this.series.map((e=>{const t=e.properties.tooltip.range;let i;i="exact"===t?[0]:void 0;return{series:e,pickModes:i,maxDistance:"number"===typeof t?t:void 0}})))}onMouseMove(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(6)}onLeave(e){const t=e.relatedElement;t&&this.ctx.domManager.isManagedDOMElement(t)||(this.resetPointer(),this.update(6),this.ctx.cursorManager.updateCursor("chart"))}onBrowserFocus(e){e.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):e.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.resetPointer(),this.focus.hasFocus=!1}onTab(e){this.handleFocus(0,0),e.preventDefault(),this.focus.hasFocus=!0}onNavVert(e){this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onSubmit(e){const{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;void 0!==t&&void 0!==i?t.fireNodeClickEvent(n,i):this.fireEvent({type:"click",event:n}),e.preventDefault()}onContextMenu(e){this.ctx.tooltipManager.removeTooltip(this.id);const{Default:t,ContextMenu:i}=Qw;let n;this.ctx.interactionManager.getState()&(t|i)&&this.checkSeriesNodeRange(e,((e,t)=>{this.ctx.highlightManager.updateHighlight(this.id),n=t})),this.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n})}handleFocus(e,t){this.focus.hasFocus=!0;const i=this.overlays.getFocusInfo(this.ctx.localeManager);null==i?this.handleSeriesFocus(e,t):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(e,t){const{series:i,seriesRect:n,focus:o}=this,r=i.filter((e=>e.visible));if(0===r.length)return;o.seriesIndex=cf(0,o.seriesIndex,r.length-1),o.series=r[o.seriesIndex];const{datumIndex:s,seriesIndex:a}=o,l=o.series.pickFocus({datumIndex:s,datumIndexDelta:t,otherIndex:a,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(l)}updatePickedFocus(e){const{focus:t}=this;if(void 0===e||void 0===t.series)return;const{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i;const o=BR(this.ctx.focusIndicator,e);if(void 0!==o){this.lastInteractionEvent=o;const e=t.series.getTooltipHtml(i),n=$S.makeTooltipMeta(this.lastInteractionEvent,i),r=this.getDatumAriaText(i,e);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,n,e),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:r})}}static isHoverEvent(e){return void 0!==e&&"hover"===e.type}static isDragEvent(e){return void 0!==e&&"drag"===e.type}handlePointer(t,i){var n=this;const o=this.ctx.interactionManager.getState();if(16!==o&&4!==o||!e.isHoverEvent(t)&&!e.isDragEvent(t))return;const{lastPick:r,hoverRect:s}=this,{offsetX:a,offsetY:l}=t,c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r&&n.resetPointer(e)};(i?!this.ctx.animationManager.isActive():null!==s&&void 0!==s&&s.containsPoint(a,l))?(this.handlePointerTooltip(t,c),this.handlePointerNode(t)):c()}handlePointerTooltip(e,t){const{lastPick:i}=this,{offsetX:n,offsetY:o,targetElement:r}=e;if(r&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(r,"canvas-overlay",Nw))return;const s=this.pickTooltip({x:n,y:o});if(!s)return this.ctx.tooltipManager.removeTooltip(this.id),void("tooltip"===this.highlight.range&&t(!0));const a="node"===this.highlight.range||!i||i!==s.datum;let l;a&&(l=s.series.getTooltipHtml(s.datum),"tooltip"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id,s.datum));const c=this.tooltip.enabled&&s.series.tooltipEnabled&&(!a||void 0!==l),d=$S.makeTooltipMeta(e,s.datum);c&&this.ctx.tooltipManager.updateTooltip(this.id,d,l)}handlePointerNode(e){this.checkSeriesNodeRange(e,((e,t)=>{(e.hasEventListener("nodeClick")||e.hasEventListener("nodeDoubleClick"))&&this.ctx.cursorManager.updateCursor("chart","pointer"),"node"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id,t)}))||(this.ctx.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id))}onClick(e){if(this.checkSeriesNodeClick(e))return this.update(4),void e.preventDefault();this.fireEvent({type:"click",event:e.sourceEvent})}onDoubleClick(e){if(this.checkSeriesNodeDoubleClick(e))return this.update(4),void e.preventDefault();this.fireEvent({type:"doubleClick",event:e.sourceEvent})}checkSeriesNodeClick(e){return this.checkSeriesNodeRange(e,((t,i)=>t.fireNodeClickEvent(e.sourceEvent,i)))}checkSeriesNodeDoubleClick(e){return this.checkSeriesNodeRange(e,((t,i)=>t.fireNodeDoubleClickEvent(e.sourceEvent,i)))}checkSeriesNodeRange(e,t){const i=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1),n=null===i||void 0===i?void 0:i.datum,o=null===n||void 0===n?void 0:n.series.properties.nodeClickRange;let r;ov(o)&&(r=o);let s=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!0);if(s&&(e.preventZoomDblClick=!0),n&&"nearest"===o)return t(n.series,n),!0;if("exact"!==o&&(s=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1,r)),!s)return!1;const a=null!=r,l="exact"===o&&0===s.distance;if(a||l){var c;if(void 0===e.pointerHistory||(null===(c=e.pointerHistory)||void 0===c?void 0:c.every((e=>{var t;const i={x:e.offsetX,y:e.offsetY},n=this.pickSeriesNode(i,!1,r);return(null===n||void 0===n?void 0:n.datum)===(null===(t=s)||void 0===t?void 0:t.datum)}))))return t(s.series,s.datum),!0}return!1}changeHighlightDatum(e){var t,i;const n=new Set,{series:o,datum:r}=null!==(t=e.currentHighlight)&&void 0!==t?t:{},{series:s,datum:a}=null!==(i=e.previousHighlight)&&void 0!==i?i:{};s&&n.add(s),o&&n.add(o),null!==s&&void 0!==s&&s.properties.cursor&&a&&this.ctx.cursorManager.updateCursor(s.id),null!==o&&void 0!==o&&o.properties.cursor&&r&&this.ctx.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=e.currentHighlight;null==o||null==s?this.update(4):this.update(4,{seriesToUpdate:n})}async waitForUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>e){const i="Chart.waitForUpdate() timeout of ".concat(e," reached - first chart update taking too long.");if(t)throw new Error(i);hm.warnOnce(i)}await Gx(50)}await this.updateMutex.waitForClearAcquireQueue()}waitForDataProcess(e){return new Promise((t=>{this.dataProcessListeners.add(t),nv(e)&&setTimeout((()=>{this.dataProcessListeners.has(t)&&(this.dataProcessListeners.delete(t),t())}),e)}))}getMinRects(){const{width:e,height:t}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(e,t))).filter(Yf);if(0===i.length)return;let n=0,o=0,r=0,s=0;for(const{minRect:c,minVisibleRect:d}of i)n=Math.max(n,c.width),o=Math.max(o,c.height),r=Math.max(r,d.width),s=Math.max(s,d.height);const a=new xf(0,0,n,o);let l=a.clone();return r>0&&s>0&&(l=new xf(0,0,r,s)),{minRect:a,minVisibleRect:l}}filterMiniChartSeries(e){return null===e||void 0===e?void 0:e.filter((e=>!1!==e.showInMiniChart))}applyOptions(e){var t,i,n,o;const r=e!==this.chartOptions?this.chartOptions.processedOptions:{},s=e.processedOptions,a=e.diffOptions(r);if(null==a)return;zM("Chart.applyOptions() - applying delta",a);const l=this.applyModules(s);a.listeners&&this.registerListeners(this,a.listeners),kv(this,a,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology","nodes","initialState"]});let c=!1,d="no-op";null!==(t=a.series)&&void 0!==t&&t.length&&(d=this.applySeries(this,a.series,null===r||void 0===r?void 0:r.series),c=!0),"replaced"===d&&this.resetAnimations(),this.applyAxes(this,s,r,d,[],!0)&&(c=!0),a.data&&(this.data=a.data),null!==(i=a.legend)&&void 0!==i&&i.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,a.legend.listeners),a.listeners&&this.updateAllSeriesListeners(),this.chartOptions=e;const u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");null!==u&&void 0!==u&&u.enabled||null!==h&&void 0!==h&&h.enabled||this.ctx.zoomManager.updateZoom("chart");const p=null===u||void 0===u?void 0:u.miniChart,g=null!==(n=null===(o=s.navigator)||void 0===o||null===(o=o.miniChart)||void 0===o?void 0:o.series)&&void 0!==n?n:s.series;!0===(null===p||void 0===p?void 0:p.enabled)&&null!=g?this.applyMiniChartOptions(p,g,s,r):!1===(null===p||void 0===p?void 0:p.enabled)&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(a,d));const m=c||l?0:3;this.maybeResetAnimations(d),zM("Chart.applyOptions() - update type",rR[m],{seriesStatus:d,forceNodeDataRefresh:c}),this.update(m,{forceNodeDataRefresh:c,newAnimationBatch:!0})}applyInitialState(){var e;const{ctx:{annotationManager:t,stateManager:i}}=this,n=this.getOptions();if(null!=(null===(e=n.initialState)||void 0===e?void 0:e.annotations)){const e=n.initialState.annotations.map((e=>dv(e,t.getAnnotationTypeStyles(e.type))));i.setState(t,e)}}maybeResetAnimations(e){if("standalone"===this.mode)switch(e){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(e,t){const i=!!e.data||"data-change"===t||"replaced"===t,n=MR.getKeys(),o=Object.values(n).some((t=>null!=e[t])),r=null!=e.title&&null!=e.subtitle;return i||o||r}applyMiniChartOptions(e,t,i,n){var o,r;const s=null!==(o=null===n||void 0===n||null===(r=n.navigator)||void 0===r||null===(r=r.miniChart)||void 0===r?void 0:r.series)&&void 0!==o?o:null===n||void 0===n?void 0:n.series,a=this.applySeries(e,this.filterMiniChartSeries(t),this.filterMiniChartSeries(s));this.applyAxes(e,i,n,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const l=e.axes,c=l.find((e=>"x"===e.direction));for(const h of l)h.gridLine.enabled=!1,h.label.enabled=h===c,h.tick.enabled=!1,h.interactionEnabled=!1;if(null!=c){var d,u;const e=null===(d=i.navigator)||void 0===d?void 0:d.miniChart,t=null===e||void 0===e?void 0:e.label,n=null===e||void 0===e||null===(u=e.label)||void 0===u?void 0:u.interval;c.line.enabled=!1,c.label.set(pv(t,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(pv(n,["enabled","width","size","color","interval","step"]));const o=null===n||void 0===n?void 0:n.step;null!=o&&(c.interval.step=o)}}applyModules(e){const{type:t}=this.constructor;let i=!1;for(const o of _x.byType("root","legend")){const r=null!=e[o.optionsKey]&&o.chartTypes.includes(t);if(r!==this.modulesManager.isEnabled(o)){if(r){var n;if(this.modulesManager.addModule(o,(e=>new e.instanceConstructor(this.getModuleContext()))),"legend"===o.type)null===(n=this.modulesManager.getModule(o))||void 0===n||n.attachLegend(this.ctx.scene);this[o.optionsKey]=this.modulesManager.getModule(o)}else this.modulesManager.removeModule(o),delete this[o.optionsKey];i=!0}}return i}applySeries(e,t,i){if(!t)return"no-change";const n=function(e,t,i){const n=(e,t)=>{const i=[e];for(const n of GR)n in t&&null!=t[n]&&i.push("".concat(n,"=").concat(t[n]));return i.join(";")},o=new Map;let r=0;for(const p of e){var s;const e=n(p.type,p.properties);o.has(e)||o.set(e,[]),null===(s=o.get(e))||void 0===s||s.push([p,r++])}const a=new Map;for(const p of t){var l;const e=n(p.type,p);a.has(e)||a.set(e,[]),null===(l=a.get(e))||void 0===l||l.push(p)}if(![...o.keys()].some((e=>a.has(e))))return{status:"no-overlap",oldKeys:o.keys(),newKeys:a.keys()};const c=[];let d=-1;for(const[p,g]of a.entries())for(const e of g){var u,h;d++;const t=o.get(p);if(null==t||t.length<1){c.push({opts:e,idx:d,status:"add"}),o.delete(p);continue}const[n,r]=t.shift(),s=xv(null!==(u=null===i||void 0===i?void 0:i[r])&&void 0!==u?u:{},null!==e&&void 0!==e?e:{}),{groupIndex:a,stackIndex:l}=null!==(h=null===s||void 0===s?void 0:s.seriesGrouping)&&void 0!==h?h:{};null!=a||null!=l?c.push({opts:e,series:n,diff:s,idx:r,status:"series-grouping"}):s?c.push({opts:e,series:n,diff:s,idx:r,status:"update"}):c.push({opts:e,series:n,idx:r,status:"no-op"}),0===t.length&&o.delete(p)}for(const p of o.values())for(const[e,t]of p)c.push({series:e,idx:t,status:"remove"});return{status:"overlap",changes:c}}(e.series,t,i);if("no-overlap"===n.status)return zM("Chart.applySeries() - creating new series instances, status: ".concat(n.status),n),e.series=t.map((e=>this.createSeries(e))),"replaced";zM("Chart.applySeries() - matchResult",n);const o=[];let r=!1,s=!1,a=!1;for(const c of n.changes){var l;switch(s||(s="series-grouping"===c.status),r||(r=null!=(null===(l=c.diff)||void 0===l?void 0:l.data)),a||(a="no-op"!==c.status),c.status){case"add":const e=this.createSeries(c.opts);o.push(e),zM("Chart.applySeries() - created new series",e);break;case"remove":zM("Chart.applySeries() - removing series at previous idx ".concat(c.idx),c.series);break;case"no-op":o.push(c.series),zM("Chart.applySeries() - no change to series at previous idx ".concat(c.idx),c.series);break;default:const{series:t,diff:i,idx:n}=c;zM("Chart.applySeries() - applying series diff previous idx ".concat(n),i,t),this.applySeriesValues(t,i),t.markNodeDataDirty(),o.push(t)}}for(let c=0;c<o.length;c++)o[c]._declarationOrder=c;return zM("Chart.applySeries() - final series instances",o),e.series=o,s?"series-grouping-change":r?"data-change":a?"updated":"no-op"}applyAxes(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in t)||!t.axes)return!1;o=["axes[].type",...o];const{axes:s}=t;if(!("replaced"===n)&&e.axes.length===s.length&&e.axes.every(((e,t)=>e.type===s[t].type))&&HR(i))return e.axes.forEach(((e,t)=>{var n,r;const a=xv(null!==(n=null===(r=i.axes)||void 0===r?void 0:r[t])&&void 0!==n?n:{},s[t]);zM("Chart.applyAxes() - applying axis diff idx ".concat(t),a);const l="axes[".concat(t,"]");kv(e,a,{...sb,path:l,skip:o})})),!0;zM("Chart.applyAxes() - creating new axes instances; seriesStatus: ".concat(n)),e.axes=this.createAxis(s,o);const a={x:[],y:[]};return e.axes.forEach((e=>a[e.direction].push(e.getAxisGroup()))),r&&(this.ctx.regionManager.updateRegion("horizontal-axes",...a.x),this.ctx.regionManager.updateRegion("vertical-axes",...a.y)),!0}createSeries(e){const t=FR.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(t,e),this.applySeriesValues(t,e),t}applySeriesOptionModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const o of _x.byType("series-option"))o.optionsKey in t&&o.seriesTypes.includes(e.type)&&n.addModule(o,(e=>new e.instanceConstructor(i)))}applySeriesValues(e,t){const i=e.getModuleMap(),{type:n,data:o,listeners:r,seriesGrouping:s,showInMiniChart:a,...l}=t;for(const c of xR)if("series-option"===c.type&&c.optionsKey in l){const e=i.getModule(c.optionsKey);if(e){const t=l[c.optionsKey];delete l[c.optionsKey],e.properties.set(t)}}e.properties.set(l),"data"in t&&e.setOptionsData(o),r&&this.registerListeners(e,r),"seriesGrouping"in t&&(e.seriesGrouping=null==s?void 0:{...e.seriesGrouping,...s})}createAxis(e,t){const i=[],n=this.getModuleContext();for(let o=0;o<e.length;o++){const r=e[o],s=wR.create(r.type,n);this.applyAxisModules(s,r),kv(s,r,{...sb,path:"axes[".concat(o,"]"),skip:t}),i.push(s)}return function(e){const t=[],i=[],n=[..._R];for(const r of e)r instanceof Sx&&("string"===typeof(o=r.position)&&_R.includes(o)?i.push(r.position):t.push(r));var o;for(const r of t){let e;do{e=n.pop()}while(e&&i.includes(e));if(null==e)break;r.position=e}}(i),i}applyAxisModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const o of _x.byType("axis-option")){const r=null!=t[o.optionsKey];r!==n.isEnabled(o)&&(r?(n.addModule(o,(e=>new e.instanceConstructor(i))),e[o.optionsKey]=n.getModule(o)):(n.removeModule(o),delete e[o.optionsKey]))}}registerListeners(e,t){e.clearEventListeners();for(const[i,n]of Object.entries(t))Jf(n)&&e.addEventListener(i,n)}};VM.chartsInstances=new WeakMap,om([Dw({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),VM.chartsInstances.set(e,this))},oldValue(e){VM.chartsInstances.delete(e)}})],VM.prototype,"container",2),om([Dw({newValue(e){this.resize("width option",{inWidth:e})}})],VM.prototype,"width",2),om([Dw({newValue(e){this.resize("height option",{inHeight:e})}})],VM.prototype,"height",2),om([Dw({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],VM.prototype,"minWidth",2),om([Dw({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],VM.prototype,"minHeight",2),om([ly(hy)],VM.prototype,"padding",2),om([ly(vy)],VM.prototype,"titlePadding",2),om([ly(hy)],VM.prototype,"seriesArea",2),om([ly(hy)],VM.prototype,"title",2),om([ly(hy)],VM.prototype,"subtitle",2),om([ly(hy)],VM.prototype,"footnote",2),om([ly(hy)],VM.prototype,"keyboard",2),om([ly(Jy(["standalone","integrated"],"a chart mode"))],VM.prototype,"mode",2),om([Dw({changeValue(e,t){this.onAxisChange(e,t)}})],VM.prototype,"axes",2),om([Dw({changeValue(e,t){this.onSeriesChange(e,t)}})],VM.prototype,"series",2);var WM=VM,UM=class{constructor(e,t,i){this.root=new qM(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(t,i)=>e.distanceSquared(t,i)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},YM=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},KM=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=null!==i&&void 0!==i?i:xf.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(void 0===this.subdivisions?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:o}=this,r=this.maxdepth-1,s=i/2,a=n/2,l=new xf(e,t,s,a),c=new xf(e+s,t,s,a),d=new xf(e,t+a,s,a),u=new xf(e+s,t+a,s,a);return new YM(this.child(o,r,l),this.child(o,r,c),this.child(o,r,d),this.child(o,r,u))}},qM=class e extends KM{addCondition(e){const{x:t,y:i}=e.hitTester.midPoint;return this.boundary.containsPoint(t,i)}findCondition(e,t,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(e,t)<n.distanceSquared}findAction(e,t,i){const n=af(e,t,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(t,i,n){return new e(t,i,n)}},XM=class extends CS{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:e,y:t,size:i}=this,{center:n}=this.constructor;return new xf(e-i*n.x,t-i*n.y,i,i)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(e,t){const{path:i}=this;let{x:n,y:o}=this;null!=this.repeat&&(n=0,o=0),i.clear();for(const{x:r,y:s,t:a}of t)n+=r*e,o+=s*e,"move"===a?i.moveTo(n,o):i.lineTo(n,o);i.closePath()}executeFill(e,t){if(!t)return;if(null==this.repeat)return super.executeFill(e,t);e.save();let i=this.translationX,n=this.translationY;for(const o of this.repeat)e.translate(o.x-i,o.y-n),e.fill(t),i=o.x,n=o.y;e.restore()}executeStroke(e,t){if(!t)return;if(null==this.repeat)return super.executeStroke(e,t);e.save();let i=this.translationX,n=this.translationY;for(const o of this.repeat)e.translate(o.x-i,o.y-n),e.stroke(t),i=o.x,n=o.y;e.restore()}};XM.center={x:.5,y:.5},om([bS()],XM.prototype,"x",2),om([bS()],XM.prototype,"y",2),om([bS({convertor:Math.abs})],XM.prototype,"size",2),om([bS()],XM.prototype,"repeat",2);var ZM=class extends XM{updatePath(){const{x:e,y:t,path:i,size:n}=this,o=n/2;i.clear(),i.arc(e,t,o,0,2*Math.PI),i.closePath()}};ZM.className="Circle";var QM=class e extends XM{updatePath(){const t=this.size/4.2;super.applyPath(t,e.moves)}};QM.className="Cross",QM.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var JM=QM,$M=class e extends XM{updatePath(){const t=this.size/2;super.applyPath(t,e.moves)}};$M.className="Diamond",$M.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var ek=$M,tk=class extends XM{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:n}=this,o=i/4,r=this.y+o/2;t.clear(),t.arc(e-o,r-o,o,n(130),n(330)),t.arc(e+o,r-o,o,n(220),n(50)),t.lineTo(e,r+o),t.closePath()}};tk.className="Heart";var ik=class extends XM{updatePath(){const{path:e,x:t,y:i}=this,n=this.size,o=.5;e.clear(),e.moveTo(t+-.34375*n,i+-.65625*n),e.cubicCurveTo(t+-.34375*n,i+-.848509*n,t+-.192259*n,i+-1*n,t+0*n,i+-1*n),e.cubicCurveTo(t+(.692259-o)*n,i+-1*n,t+.34375*n,i+-.848509*n,t+.34375*n,i+-.65625*n),e.cubicCurveTo(t+.34375*n,i+-.506176*n,t+.284625*n,i+(.600181-1)*n,t+(.716461-o)*n,i+(.695393-1)*n),e.cubicCurveTo(t+.199009*n,i+-.280231*n,t+(.681271-o)*n,i+-.256896*n,t+(.663785-o)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.611893-o)*n,i+(.834367-1)*n,t+(.562228-o)*n,i+(.899699-1)*n,t+(.528896-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.524075-o)*n,i+(.992358-1)*n,t+(.512663-o)*n,i+0*n,t+0*n,i+0*n),e.cubicCurveTo(t+(.487337-o)*n,i+0*n,t+(.475925-o)*n,i+(.992358-1)*n,t+(.471104-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.487337-o)*n,i+0*n,t+(.475925-o)*n,i+(.992358-1)*n,t+(.471104-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.437772-o)*n,i+(.899699-1)*n,t+(.388107-o)*n,i+(.834367-1)*n,t+(.336215-o)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.318729-o)*n,i+-.256896*n,t+-.199009*n,i+-.280231*n,t+(.283539-o)*n,i+(.695393-1)*n),e.cubicCurveTo(t+-.284625*n,i+(.600181-1)*n,t+-.34375*n,i+-.506176*n,t+-.34375*n,i+-.65625*n),e.closePath()}};ik.className="MapPin",ik.center={x:.5,y:1};var nk=class e extends XM{updatePath(){const t=this.size/3;super.applyPath(t,e.moves)}};nk.className="Plus",nk.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var ok=nk,rk=class extends XM{updatePath(){const{path:e,x:t,y:i}=this,n=this.size/2;e.clear(),e.moveTo(this.align(t-n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i+n)),e.lineTo(this.align(t-n),this.align(i+n)),e.closePath()}};rk.className="Square";var sk=class extends XM{updatePath(){const{x:e,y:t,path:i,size:n}=this,o=n/2,r=Math.PI/2;i.clear();for(let s=0;s<10;s++){const a=s%2===0?n:o,l=s*Math.PI/5-r,c=e+Math.cos(l)*a,d=t+Math.sin(l)*a;i.lineTo(c,d)}i.closePath()}};sk.className="Star";var ak=class e extends XM{updatePath(){const t=1.1*this.size;super.applyPath(t,e.moves)}};ak.className="Triangle",ak.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var lk=ak,ck={circle:ZM,cross:JM,diamond:ek,heart:tk,pin:ik,plus:ok,square:rk,star:sk,triangle:lk},dk=Object.keys(ck);function uk(e){return"string"===typeof e&&dk.includes(e)}function hk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rk;return uk(e)?ck[e]:"function"===typeof e?e:rk}var pk=class extends OM{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(e){let{xScale:t,yScale:i}=e;return{isContinuousX:cb.is(t),isContinuousY:cb.is(i),xScaleType:null===t||void 0===t?void 0:t.type,yScaleType:null===i||void 0===i?void 0:i.type}}getModulePropertyDefinitions(){var e,t;const i=null===(e=this.axes.x)||void 0===e?void 0:e.scale,n=null===(t=this.axes.y)||void 0===t?void 0:t.scale;return this.moduleMap.mapModules((e=>e.getPropertyDefinitions(this.getScaleInformation({xScale:i,yScale:n})))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:o}=await e.request(this.id,null!==t&&void 0!==t?t:[],i);return this.dataModel=n,this.processedData=o,this.dispatch("data-processed",{dataModel:n,processedData:o}),{dataModel:n,processedData:o}}isProcessedDataAnimatable(){var e;const t=null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.animationValidation;if(!t)return!0;const{orderedKeys:i,uniqueKeys:n}=t;return i&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(void 0===t||0===t.length)return;const i=this.computeFocusDatumIndex(e,t);if(void 0===i)return;const{showFocusBox:n}=this,o=t[i],r={...e,datumIndex:i},s=this.computeFocusBounds(r);return void 0!==s?{bounds:s,showFocusBox:n,datum:o,datumIndex:i}:void 0}computeFocusDatumIndex(e,t){const i=e=>{const{missing:i=!1,enabled:n=!0}=t[e];return!i&&n},n=e=>{for(;e>=0&&!i(e);)e--;return-1===e?void 0:e},o=e=>{for(;e<t.length&&!i(e);)e++;return e===t.length?void 0:e};let r;const s=cf(0,e.datumIndex,t.length-1);if(e.datumIndexDelta<0)r=n(s);else if(e.datumIndexDelta>0)r=o(s);else{var a,l;null!==(a=r)&&void 0!==a||(r=o(s)),null!==(l=r)&&void 0!==l||(r=n(s))}return void 0===r?0===e.datumIndexDelta?void 0:e.datumIndex-e.datumIndexDelta:r}},gk=class extends yv{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};om([ly(Py,{optional:!0})],gk.prototype,"fill",2),om([ly(Cy,{optional:!0})],gk.prototype,"fillOpacity",2),om([ly(Py,{optional:!0})],gk.prototype,"stroke",2),om([ly(by,{optional:!0})],gk.prototype,"strokeWidth",2),om([ly(Cy,{optional:!0})],gk.prototype,"strokeOpacity",2),om([ly(Gy,{optional:!0})],gk.prototype,"lineDash",2),om([ly(by,{optional:!0})],gk.prototype,"lineDashOffset",2);var mk=class extends yv{};om([ly(by,{optional:!0})],mk.prototype,"strokeWidth",2),om([ly(Cy,{optional:!0})],mk.prototype,"dimOpacity",2),om([ly(gy,{optional:!0})],mk.prototype,"enabled",2);var fk=class extends yv{constructor(){super(...arguments),this.color="black"}};om([ly(Py,{optional:!0})],fk.prototype,"color",2);var vk=class extends yv{constructor(){super(...arguments),this.item=new gk,this.series=new mk,this.text=new fk}};om([ly(hy)],vk.prototype,"item",2),om([ly(hy)],vk.prototype,"series",2),om([ly(hy)],vk.prototype,"text",2);var yk=class extends yv{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new vk}};om([ly(fy,{optional:!0})],yk.prototype,"id",2),om([ly(gy)],yk.prototype,"visible",2),om([ly(gy)],yk.prototype,"showInLegend",2),om([ly(fy)],yk.prototype,"cursor",2),om([ly(Zy)],yk.prototype,"nodeClickRange",2),om([ly(hy)],yk.prototype,"highlightStyle",2);var bk={x:["xKey"],y:["yKey"]},Ck={x:["xName"],y:["yName"]},wk=class extends LM{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},xk=class extends yk{};om([ly(fy,{optional:!0})],xk.prototype,"legendItemName",2);var Sk=class extends pk{constructor(e){let{pathsPerSeries:t=1,hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:o=[],datumSelectionGarbageCollection:r=!0,markerSelectionGarbageCollection:s=!0,animationAlwaysUpdateSelections:a=!1,animationResetFns:l,directionKeys:c,directionNames:d,...u}=e;if(super({directionKeys:c,directionNames:d,canHaveAxes:!0,...u}),this.NodeEvent=wk,this.dataNodeGroup=this.contentGroup.appendChild(new Jb({name:"".concat(this.id,"-series-dataNodes"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new Jb({name:"".concat(this.id,"-series-markers"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new Jb({name:"".concat(this.id,"-series-labels"),zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=gw.select(this.labelGroup,xC),this.highlightSelection=gw.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=gw.select(this.highlightLabel,xC),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=pw.create(),!c||!d)throw new Error("Unable to initialise series type ".concat(this.type));this.opts={pathsPerSeries:t,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:o,directionKeys:c,directionNames:d,animationResetFns:l,animationAlwaysUpdateSelections:a,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:s},this.paths=[];for(let h=0;h<t;h++)this.paths[h]=new CS,this.paths[h].zIndex=4,this.paths[h].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",h),this.contentGroup.appendChild(this.paths[h]);this.datumSelection=gw.select(this.dataNodeGroup,(()=>this.nodeFactory()),r),this.markerSelection=gw.select(this.markerGroup,(()=>this.markerFactory()),s),this.animationState=new Tw("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:e=>this.resetAllAnimation(e),reset:"empty"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return null===(e=this.contextNodeData)||void 0===e?void 0:e.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e?this.animationState.transition("skip"):"disabled"===e&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(e){var t;let{seriesRect:i}=e;const{visible:n,_contextNodeData:o}=this,r=(null===(t=this.ctx.highlightManager)||void 0===t||null===(t=t.getActiveHighlight())||void 0===t?void 0:t.series)===this,s=this.checkResize(i),a=await this.updateHighlightSelection(r);await this.updateSelections(n),await this.updateNodes(a,r,n);const l=this.getAnimationData(i,o);l&&(s&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((e||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const e=this.isProcessedDataAnimatable();var n;if(this._contextNodeData)null!==(n=(t=this._contextNodeData).animationValid)&&void 0!==n||(t.animationValid=e);this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:o}=this;void 0!==i&&void 0!==o&&this.dispatch("data-update",{dataModel:i,processedData:o})}await this.updateSeriesSelections()}}async updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:o}=this,r=this._contextNodeData;if(!r)return;const{nodeData:s,labelData:a,itemId:l}=r;await this.updatePaths({seriesHighlighted:e,itemId:l,contextData:r,paths:o}),this.datumSelection=await this.updateDatumSelection({nodeData:s,datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:a,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:s,markerSelection:n}))}markerFactory(){return new(hk())}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(e,t);if("paths"===e){var n;const[e]=i,o=null!==(n=this.opts.pathsZIndexSubOrderOffset[t])&&void 0!==n?n:0;i[0]=Jf(e)?()=>Number(e())+o:Number(e)+o}return i}async updateNodes(e,t,i){var n;const{highlightSelection:o,highlightLabelSelection:r,opts:{hasMarkers:s,hasHighlightedLabels:a}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&t;const d=this.getOpacity();s?(await this.updateMarkerNodes({markerSelection:o,isHighlight:!0}),this.animationState.transition("highlightMarkers",o)):(await this.updateDatumNodes({datumSelection:o,isHighlight:!0}),this.animationState.transition("highlight",o)),a&&await this.updateLabelNodes({labelSelection:r});const{dataNodeGroup:u,markerGroup:h,datumSelection:p,labelSelection:g,markerSelection:m,paths:f,labelGroup:v}=this,{itemId:y}=null!==(n=this.contextNodeData)&&void 0!==n?n:{};u.opacity=d,u.visible=l||c,v.visible=c,s&&(h.opacity=d,h.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,h.visible=c),v&&(v.opacity=d),await this.updatePathNodes({seriesHighlighted:t,itemId:y,paths:f,opacity:d,visible:c,animationEnabled:l}),u.visible&&(await this.updateDatumNodes({datumSelection:p,highlightedItems:e,isHighlight:!1}),await this.updateLabelNodes({labelSelection:g}),s&&await this.updateMarkerNodes({markerSelection:m,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum&&e.itemId===t.itemId));return 0===i.length?void 0:i}getHighlightData(e,t){return t?[t]:void 0}async updateHighlightSelection(e){var t;const{highlightSelection:i,highlightLabelSelection:n,_contextNodeData:o}=this;if(!o)return;const r=null===(t=this.ctx.highlightManager)||void 0===t?void 0:t.getActiveHighlight(),s=e&&null!==r&&void 0!==r&&r.datum?r:void 0;let a,l;if(null!=s){const e=this.isLabelEnabled(),{labelData:t,nodeData:i}=o;l=this.getHighlightData(i,s),a=e?this.getHighlightLabelData(t,s):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:l,highlightSelection:i}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:a,highlightLabelSelection:n}),l}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)!0!==e.datum.missing&&(yield e)}getQuadTree(){if(void 0===this.quadtree){const{width:e,height:t}=this.ctx.scene.canvas,i=new xf(0,0,e,t);this.quadtree=new UM(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:n}=e,{opts:{hasMarkers:o}}=this;let r;const{dataNodeGroup:s,markerGroup:a}=this;if(r=s.pickNode(i,n),!r&&o&&(r=null===a||void 0===a?void 0:a.pickNode(i,n)),r&&!0!==r.datum.missing)return{datum:r.datum,distance:0};for(const c of this.moduleMap.modules()){var l;const{datum:t}=null!==(l=c.pickNodeExact(e))&&void 0!==l?l:{};if(null!=t&&!0!==(null===t||void 0===t?void 0:t.missing))return{datum:t,distance:0}}}pickNodeClosestDatum(e){const{x:t,y:i}=e,{axes:n,rootGroup:o,_contextNodeData:r}=this;if(!r)return;const s=n.x,a=n.y,l=o.transformPoint(t,i);let c,d=1/0;for(const p of r.nodeData){const{point:{x:e=NaN,y:t=NaN}={}}=p;if(isNaN(e)||isNaN(t))continue;if(!((null===s||void 0===s?void 0:s.inRange(e))&&(null===a||void 0===a?void 0:a.inRange(t))))continue;const i=Math.max((l.x-e)**2+(l.y-t)**2,0);i<d&&(d=i,c=p)}for(const p of this.moduleMap.modules()){const t=p.pickNodeNearest(e);if(void 0!==t&&t.distanceSquared<d){d=t.distanceSquared,c=t.datum;break}}if(c){var u,h;return{datum:c,distance:Math.max(Math.sqrt(d)-(null!==(u=null===(h=c.point)||void 0===h?void 0:h.size)&&void 0!==u?u:0),0)}}}pickNodeMainAxisFirst(e,t){const{x:i,y:n}=e,{axes:o,rootGroup:r,_contextNodeData:s}=this;if(!s)return;const a=o.x,l=o.y,c=[a,l].filter((e=>e instanceof Rx)).map((e=>e.direction));if(t&&0===c.length)return;const[d="x"]=c,u=r.transformPoint(i,n),h="x"===d?[u.x,u.y]:[u.y,u.x],p=[1/0,1/0];let g;for(const b of s.nodeData){var m,f;const{x:e=NaN,y:t=NaN}=null!==(m=null!==(f=b.point)&&void 0!==f?f:b.midPoint)&&void 0!==m?m:{};if(isNaN(e)||isNaN(t)||!0===b.missing)continue;if(!((null===a||void 0===a?void 0:a.inRange(e))&&(null===l||void 0===l?void 0:l.inRange(t))))continue;const i="x"===d?[e,t]:[t,e];let n=!0;for(let o=0;o<i.length;o++){const e=Math.abs(i[o]-h[o]);if(e>p[o]){n=!1;break}e<p[o]&&(p[o]=e,p.fill(1/0,o+1,p.length))}n&&(g=b)}if(g){var v,y;let t=Math.max(p[0]**2+p[1]**2-(null!==(v=null===(y=g.point)||void 0===y?void 0:y.size)&&void 0!==v?v:0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(e);if(void 0!==n&&n.distanceSquared<t){g=n.datum,t=n.distanceSquared;break}}return{datum:g,distance:Math.sqrt(t)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:o}=e,r=null!=t&&t===e.legendItemName;(o.id===this.id||r)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,{legendItemName:r}=this.properties,s=null!=r&&r===e.legendItemName;n.id===this.id||s||t&&1===o?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:i,sizeCache:n,minRect:o,minVisibleRect:r}=this.minRectsCache,s=JSON.stringify({width:e,height:t});if(!(s!==n)&&!i&&o&&r)return{minRect:o,minVisibleRect:r};const a=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:s,minRect:null===a||void 0===a?void 0:a.minRect,minVisibleRect:null===a||void 0===a?void 0:a.minVisibleRect},a}computeMinRects(e,t){var i,n;const o=this._contextNodeData;if(null===o||void 0===o||!o.nodeData.length)return;const{nodeData:r}=o,s=Array(r.length),a=Array(r.length);for(const[R,{midPoint:M}]of r.entries()){var l,c;s[R]=null!==(l=null===M||void 0===M?void 0:M.x)&&void 0!==l?l:0,a[R]=null!==(c=null===M||void 0===M?void 0:M.y)&&void 0!==c?c:0}let d,u,h,p;s.sort(((e,t)=>e-t)),a.sort(((e,t)=>e-t));let g=0,m=0;for(let R=1;R<r.length;R++){var f,v,y,b;s[R]>=0&&(null!==(f=d)&&void 0!==f||(d=R)),s[R]>e&&(null!==(v=u)&&void 0!==v||(u=R)),a[R]>=0&&(null!==(y=h)&&void 0!==y||(h=R)),a[R]>t&&(null!==(b=p)&&void 0!==b||(p=R)),g=Math.max(g,s[R]-s[R-1]),m=Math.max(m,a[R]-a[R-1])}null!==(i=u)&&void 0!==i||(u=r.length),null!==(n=p)&&void 0!==n||(p=r.length);const C=null!=d&&null!=u?s.slice(d,u):[],w=null!=h&&null!=p?a.slice(h,p):[];let x=0,S=0;for(let R=1;R<Math.max(C.length,w.length);R++){const e=C[R],t=C[R-1],i=w[R],n=w[R-1];null!=e&&null!=t&&(x=Math.max(x,e-t)),null!=i&&null!=n&&(S=Math.max(S,i-n))}return{minRect:new xf(0,0,g,m),minVisibleRect:new xf(0,0,x,S)}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,o=null!==i&&void 0!==i?i:[];if(t){const e=n;return this.updateMarkerSelection({nodeData:o,markerSelection:e})}return this.updateDatumSelection({nodeData:o,datumSelection:n})}updateHighlightSelectionLabel(e){var t;return this.updateLabelSelection({labelData:null!==(t=e.items)&&void 0!==t?t:[],labelSelection:e.highlightLabelSelection})}async updateDatumSelection(e){return e.datumSelection}async updateDatumNodes(e){}async updateMarkerSelection(e){return e.markerSelection}async updateMarkerNodes(e){}async updatePaths(e){e.paths.forEach((e=>e.visible=!1))}async updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const o of t)o.opacity=i,o.visible=n}resetAllAnimation(e){var t,i,n;const{path:o,datum:r,label:s,marker:a}=null!==(t=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==t?t:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),o&&e.paths.forEach((e=>{tw([e],o)})),r&&tw([e.datumSelection],r),s&&tw([e.labelSelection],s),a&&this.opts.hasMarkers&&tw([e.markerSelection],a),!1===(null===(n=e.contextData)||void 0===n?void 0:n.animationValid)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t,i;const{datum:n}=null!==(t=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==t?t:{};n&&tw([e],n)}animateReadyHighlightMarkers(e){var t,i;const{marker:n}=null!==(t=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==t?t:{};n&&tw([e],n)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}}calculateScaling(){const e={};for(const t of Object.values(rb)){const i=this.axes[t];if(i)if(i.scale instanceof nw){const{range:n,domain:o}=i.scale;e[t]={type:"log",convert:e=>i.scale.convert(e),domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale instanceof cb){const{range:n}=i.scale,o=i.scale.getDomain();e[t]={type:"continuous",domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map((e=>i.scale.convert(e)))}}}return e}},Rk=["top","right","bottom","left"],Mk=class extends WM{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}async performLayout(){const e=await super.performLayout(),{firstSeriesTranslation:t,seriesRoot:i,annotationRoot:n,highlightRoot:o}=this,{animationRect:r,seriesRect:s,visibility:a,clipSeries:l}=this.updateAxes(e);this.seriesRoot.visible=a.series,this.seriesRect=s,this.animationRect=r;const{x:c,y:d}=s;if(t){for(const e of[i,n,o])e.translationX=Math.floor(c),e.translationY=Math.floor(d);this.firstSeriesTranslation=!1}else{const{translationX:e,translationY:t}=i;Yv(this.id,"seriesRect",this.ctx.animationManager,[i,o,n],{translationX:e,translationY:t},{translationX:Math.floor(c),translationY:Math.floor(d)},{phase:"update"})}const u=s.clone().grow(this.seriesArea.padding);this.hoverRect=u;const h=this.seriesArea.clip||l?u:void 0;i.setClipRectInGroupCoordinateSpace(h),o.setClipRectInGroupCoordinateSpace(h),n.setClipRectInGroupCoordinateSpace(h),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:l,series:{rect:s,paddedRect:u,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map((e=>({id:e.id,...e.getLayoutState()})))});const p=this.modulesManager.mapModules((e=>{var t;return null===(t=e.performCartesianLayout)||void 0===t?void 0:t.call(e,{seriesRect:s})}));return await Promise.all(p),e}updateAxes(e){var t;const i=this.axes.flatMap((e=>{var t;return null!==(t=e.crossLines)&&void 0!==t?t:[]})).map((e=>e.id));let n,o,r;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every(((e,t)=>i[t]===e))?(n=new Map(this._lastAxisAreaWidths.entries()),o=this._lastClipSeries,r={...this._lastVisibility}):(n=new Map,o=!1,r={crossLines:!0,series:!0},this._lastCrossLineIds=i);const s=new Set(this.axes.map((e=>e.position)));for(const m of n.keys())s.has(m)||n.delete(m);const a=(e,t,i)=>![...e.keys()].some((e=>!n.has(e)))&&(r.crossLines===i.crossLines&&r.series===i.series&&o===t&&[...n.entries()].every((t=>{let[i,n]=t;const o=e.get(i);return null==n&&null==o||n===o}))),l=e=>{for(const[t,i]of e.entries())i&&Math.abs(i)===1/0?e.set(t,0):e.set(t,null!=i?Math.ceil(i):i);return e};let c=new Map,d={},u=!1,h=null===(t=this.seriesRect)||void 0===t?void 0:t.clone(),p=0,g={};do{n=new Map(c.entries()),o=u,Object.assign(r,d);const t=this.updateAxesPass(n,e.clone(),h);if(c=l(t.axisAreaWidths),d=t.visibility,u=t.clipSeries,({seriesRect:h,primaryTickCounts:g}=t),p++>10){hm.warn("unable to find stable axis layout.");break}}while(!a(c,u,d));this.axes.forEach((e=>{e.update(g[e.direction])}));return this.axes.forEach((t=>{if(t.setCrossLinesVisible(r.crossLines),h)switch(t.clipGrid(h.x,h.y,h.width+5,h.height+5),t.position){case"left":case"right":t.clipTickLines(e.x,h.y,e.width+5,h.height+5);break;case"top":case"bottom":t.clipTickLines(h.x,e.y,h.width+5,e.height+5)}})),this._lastAxisAreaWidths=n,this._lastVisibility=r,this._lastClipSeries=o,{seriesRect:h,animationRect:e,visibility:r,clipSeries:o}}updateAxesPass(e,t,i){const n=new Map,o=new Map,r={series:!0,crossLines:!0};let s=!1;const a={},l=this.applySeriesPadding(t),c=i?this.buildCrossLinePadding(e):{},d=this.buildAxisBound(l,e,c,r),u=this.buildSeriesRect(d,e);for(const m of this.axes){var h;const{position:e="left"}=m,{clipSeries:t,axisThickness:i}=this.calculateAxisDimensions({axis:m,seriesRect:u,paddedBounds:l,primaryTickCounts:a,clipSeries:s});n.set(m.id,i),o.has(e)||o.set(e,[]),null===(h=o.get(e))||void 0===h||h.push(m),s=s||t}const p=new Map,g=new Map;for(const[m,f]of o.entries())p.set(m,this.calculateAxisArea(f,n,g));for(const[m,f]of o.entries())this.positionAxes({axes:f,position:m,axisWidths:n,axisOffsets:g,axisAreaWidths:p,axisBound:d,seriesRect:u});return{clipSeries:s,seriesRect:u,axisAreaWidths:p,visibility:r,primaryTickCounts:a}}buildCrossLinePadding(e){const t={};this.axes.forEach((e=>{var i;null===(i=e.crossLines)||void 0===i||i.forEach((e=>{var i;null===(i=e.calculatePadding)||void 0===i||i.call(e,t)}))}));for(const[n,o=0]of Object.entries(t)){var i;t[n]=Math.max(o-(null!==(i=e.get(n))&&void 0!==i?i:0),0)}return t}applySeriesPadding(e){const t=e.clone(),i=this.axes.slice().reverse();return Rk.forEach((e=>{const n=this.seriesArea.padding[e],o=i.find((t=>t.position===e));o?o.seriesAreaPadding=n:t.shrink(n,e)})),t}buildAxisBound(e,t,i,n){var o,r,s,a;const l=e.clone(),{top:c=0,right:d=0,bottom:u=0,left:h=0}=i,p=h+d,g=c+u,m=(null!==(o=t.get("left"))&&void 0!==o?o:0)+(null!==(r=t.get("right"))&&void 0!==r?r:0)+p,f=(null!==(s=t.get("top"))&&void 0!==s?s:0)+(null!==(a=t.get("bottom"))&&void 0!==a?a:0)+g;return l.width<=m||l.height<=f?(n.crossLines=!1,n.series=!1,l):(l.x+=h,l.y+=c,l.width-=p,l.height-=g,l)}buildSeriesRect(e,t){var i,n,o,r,s,a;const l=e.clone();return l.x+=null!==(i=t.get("left"))&&void 0!==i?i:0,l.y+=null!==(n=t.get("top"))&&void 0!==n?n:0,l.width-=(null!==(o=t.get("left"))&&void 0!==o?o:0)+(null!==(r=t.get("right"))&&void 0!==r?r:0),l.height-=(null!==(s=t.get("top"))&&void 0!==s?s:0)+(null!==(a=t.get("bottom"))&&void 0!==a?a:0),l.width=Math.max(0,l.width),l.height=Math.max(0,l.height),l}clampToOutsideSeriesRect(e,t,i,n){const{x:o,y:r,width:s,height:a}=e,l=[o,r,o+s,r+a][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(t,l)}calculateAxisDimensions(e){var t;const{axis:i,seriesRect:n,paddedBounds:o,primaryTickCounts:r}=e;let{clipSeries:s}=e;const{position:a="left",direction:l}=i;this.sizeAxis(i,n,a);let c=i.nice?r[l]:void 0;const d="y"===l;i.thickness?i.maxThickness=i.thickness:i.maxThickness=.3*(d?o.width:o.height);const u=i.calculateLayout(c);let h;return c=u.primaryTickCount,null!==(t=r[l])&&void 0!==t||(r[l]=c),s||(s=i.dataDomain.clipped||i.visibleRange[0]>0||i.visibleRange[1]<1),h=null!=i.thickness&&i.thickness>0?i.thickness:d?u.bbox.width:u.bbox.height,h=Math.ceil(h),{clipSeries:s,axisThickness:h,primaryTickCount:c}}sizeAxis(e,t,i){const n=e instanceof Rx||e instanceof Ox,o="left"===i||"right"===i;let{min:r=0,max:s=1}=e.disableZoom?{}:this.ctx.zoomManager.getAxisZoom(e.id);const{width:a,height:l}=t,c=o?l:a;let d=0,u=c;const{width:h,unit:p,align:g}=e.layoutConstraints;u="px"===p?d+h:u*h/100,"end"===g&&(d=c-(u-d),u=c),n&&o?[r,s]=[1-s,1-r]:o&&([d,u]=[u,d]),e.range=[d,u],e.visibleRange=[r,s],e.gridLength=o?a:l}calculateAxisArea(e,t,i){let n=0,o=0;for(const s of e){var r;i.set(s.id,o);const e=null!==(r=t.get(s.id))&&void 0!==r?r:0;n=Math.max(n,o+e),s.layoutConstraints.stacked&&(o+=e+15)}return n}positionAxes(e){var t;const{axes:i,axisBound:n,axisWidths:o,axisOffsets:r,axisAreaWidths:s,seriesRect:a,position:l}=e,c=null!==(t=s.get(l))&&void 0!==t?t:0;let d="x",u="y",h=1,p=0;"top"!==l&&"bottom"!==l||(d="y",u="x",p+=1),p+=n[d],"right"!==l&&"bottom"!==l||(h=-1,p+="x"===d?n.width:n.height);for(const v of i){var g,m,f;const e=null!==(g=s.get("x"===u?"left":"top"))&&void 0!==g?g:0;v.translation[u]=n[u]+e;const t=null!==(m=o.get(v.id))&&void 0!==m?m:0,i=null!==(f=r.get(v.id))&&void 0!==f?f:0;v.translation[d]=this.clampToOutsideSeriesRect(a,p+h*(i+t),d,h),v.gridPadding=c-i-t,v.updatePosition()}}shouldFlipXY(){return!this.series.some((e=>!(e instanceof Sk&&e.shouldFlipXY())))}};Mk.className="CartesianChart",Mk.type="cartesian";var kk=class e{constructor(e,t){this.factoryApi=t,this.chart=e}static isInstance(t){var i;return t instanceof e||("AgChartInstanceProxy"===(null===(i=t.constructor)||void 0===i?void 0:i.name)&&null!=t.chart||null!=t.chart&&this.validateImplementation(t))}static validateImplementation(e){var t;const i=Object.keys(null!==(t=Object.getPrototypeOf(e))&&void 0!==t?t:{});return["getOptions","destroy"].every((e=>i.includes(e)))}async update(e){this.factoryApi.createOrUpdate(e,this),await this.chart.waitForUpdate()}async updateDelta(e){this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()}getOptions(){const e=Sv(this.chart.getOptions());for(const t in e)t.startsWith("_")&&delete e[t];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const t=await this.prepareResizedChart(this,e);try{t.chart.download(null===e||void 0===e?void 0:e.fileName,null===e||void 0===e?void 0:e.fileFormat)}finally{t.destroy()}}async getImageDataURL(e){const t=await this.prepareResizedChart(this,e);try{return t.chart.getCanvasDataURL(null===e||void 0===e?void 0:e.fileFormat)}finally{t.destroy()}}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}async setState(e){this.factoryApi.caretaker.restore(e,this.chart.ctx.annotationManager),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}async prepareResizedChart(e){var t,i,n,o;let{chart:r}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=null!==(t=null!==(i=s.width)&&void 0!==i?i:r.width)&&void 0!==t?t:r.ctx.scene.canvas.width,l=null!==(n=null!==(o=s.height)&&void 0!==o?o:r.height)&&void 0!==n?n:r.ctx.scene.canvas.height,c=dv({container:document.createElement("div"),overrideDevicePixelRatio:1,width:a,height:l},_x.hasEnterpriseModules()&&{animation:{enabled:!1}},r.getOptions()),d=await this.factoryApi.createOrUpdate(c);return d.chart.ctx.zoomManager.updateZoom("agChartV2",r.ctx.zoomManager.getZoom()),r.series.forEach(((e,t)=>{e.visible||(d.chart.series[t].visible=!1)})),r.update(0,{forceNodeDataRefresh:!0}),await d.waitForUpdate(),d}};kk.chartInstances=new WeakMap,om([Dw({oldValue(e){kk.chartInstances.delete(e)},newValue(e){kk.chartInstances.set(e,this)}})],kk.prototype,"chart",2);var Dk=kk,Ak=class extends cb{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){var e;const t=null!==(e=this.tickCount)&&void 0!==e?e:cb.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||!this.domain.every(isFinite))return[];this.refresh();const[i,n]=this.getDomain();if(this.interval){const e=Math.abs(this.interval);if(!Vb((n-i)/e,this.getPixelRange()))return Hb(i,n,e)}return jb(i,n,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){var i;return null!==(i=this.interval)&&void 0!==i?i:_b(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const e=this.tickCount;if(e<1)return void(this.niceDomain=[...this.domain]);let[t,i]=this.domain;if(1===e)[t,i]=function(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let o=1/0,r=[e,t];for(const s of Ob){const a=s*n,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,d=1-i/Math.abs(c-l);o>d&&(o=d,r=[l,c])}return r}(t,i);else{const e=t>i?Math.ceil:Math.floor,n=i<t?Math.floor:Math.ceil,o=4;for(let r=0;r<o;r++){const o=t,r=i,s=this.getTickStep(t,i),[a,l]=this.domain;if(s>=1)t=e(a/s)*s,i=n(l/s)*s;else{const o=1/s;t=e(a*o)/o,i=n(l*o)/o}if(t===o&&i===r)break}}this.niceDomain=[t,i]}tickFormat(e){let{ticks:t,specifier:i}=e;return zb(null!==t&&void 0!==t?t:this.ticks(),i)}};function Ek(e,t,i){let[n,o]=uf(e);n=function(e,t,i){const n=Math.abs(t-e)/(i-1),o=Math.floor(Math.log10(n)),r=Math.pow(10,o);return Math.floor(e/r)*r}(Math.floor(n),o,t);const r=function(e,t,i){const n=i-1,o=(t-e)/n;return function(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(o)}(n,o,t);o=n+(t-1)*r;const s=i?[o,n]:[n,o],a=function(e,t,i){const n=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(n):0,r=Math.pow(10,o),s=[];for(let a=0;a<i;a++){const i=e+t*a;s[a]=Math.round(i*r)/r}return s}(n,r,t);return{domain:s,ticks:a}}var Tk=class extends Sx{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ak),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=pb(e,t,i);return{domain:n,clipped:o}}updateSecondaryAxisTicks(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:t,ticks:i}=Ek(this.dataDomain.domain,null!==e&&void 0!==e?e:0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}};Tk.className="NumberAxis",Tk.type="number",om([ly(dy(xy,ky("max"))),ox(NaN)],Tk.prototype,"min",2),om([ly(dy(xy,Dy("min"))),ox(NaN)],Tk.prototype,"max",2);var Pk=tb((e=>nv(e)&&0!==e),"a non-zero number"),Fk=class extends Tk{constructor(e){super(e,new nw),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=pb(e,t,i),r=n[0]>n[1],s=n[0]<0&&n[1]>0,a=0===n[0]&&0===n[1];return(r||s||a)&&(s?hm.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&hm.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:o}}set base(e){this.scale.base=e}get base(){return this.scale.base}};Fk.className="LogAxis",Fk.type="log",om([ly(dy(xy,Pk,ky("max"))),ox(NaN)],Fk.prototype,"min",2),om([ly(dy(xy,Pk,Dy("min"))),ox(NaN)],Fk.prototype,"max",2);var Nk=class extends Sx{constructor(e){super(e,new Wb),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:i}=this,n=!1;var o;("number"===typeof t&&(t=new Date(t)),"number"===typeof i&&(i=new Date(i)),e.length>2)&&(e=(null!==(o=ub(e))&&void 0!==o?o:[0,1e3]).map((e=>new Date(e))));return t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:i,formatOffset:1}))}calculatePadding(){return[0,0]}};Nk.className="TimeAxis",Nk.type="time",om([ly(dy(Ey,ky("max")),{optional:!0})],Nk.prototype,"min",2),om([ly(dy(Ey,Dy("min")),{optional:!0})],Nk.prototype,"max",2);var Lk=1e-6,Ik=(e,t,i,n,o)=>{let r=!1,s=!1,a=n-Math.sqrt(Math.max(o**2-i**2,0)),l=0,c=0,d=i-Math.sqrt(Math.max(o**2-n**2,0));return a>e?(r=!0,a=e,l=i-Math.sqrt(Math.max(o**2-(n-e)**2))):a<Lk&&(a=0),d>t?(s=!0,c=n-Math.sqrt(Math.max(o**2-(i-t)**2)),d=t):d<Lk&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:r,trailingClipped:s}},Ok=(e,t,i,n)=>{let{x0:o,y0:r,x1:s,y1:a,cx:l,cy:c}=t;if(n&&e.moveTo(o,r),o!==s||r!==a){const t=Math.atan2(r-c,o-l),n=Math.atan2(a-c,s-l);e.arc(l,c,i,t,n)}else e.lineTo(o,r)},jk=(e,t,i,n,o,r,s)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=r;const u=Math.max(a+d,l+c),h=Math.max(a+l,d+c);if(u<=0&&h<=0)return void(null==s?e.rect(t,i,n,o):e.rect(s.x,s.y,s.width,s.height));if(null==s&&a===l&&a===c&&a===d)return void e.roundRect(t,i,n,o,a);if(n<0&&(t+=n,n=Math.abs(n)),o<0&&(i+=o,o=Math.abs(o)),n<=0||o<=0)return;if(null==s)s=new xf(t,i,n,o);else{const e=Math.max(t,s.x),r=Math.min(t+n,s.x+s.width),a=Math.max(i,s.y),l=Math.min(i+o,s.y+s.height);s=new xf(e,a,r-e,l-a)}const p=Math.max(u/o,h/n,1);p>1&&(a/=p,l/=p,c/=p,d/=p);let g,m,f,v,y=!0,b=!0,C=!0,w=!0;if(y){const e=Ik(s.height,s.width,Math.max(t+a-s.x,0),Math.max(i+a-s.y,0),a);e.leadingClipped&&(w=!1),e.trailingClipped&&(b=!1);g={x0:Math.max(s.x+e.leading1,s.x),y0:Math.max(s.y+e.leading0,s.y),x1:Math.max(s.x+e.trailing1,s.x),y1:Math.max(s.y+e.trailing0,s.y),cx:t+a,cy:i+a}}if(b){const e=Ik(s.width,s.height,Math.max(i+l-s.y,0),Math.max(s.x+s.width-(t+n-l),0),l);e.leadingClipped&&(y=!1),e.trailingClipped&&(C=!1);m={x0:Math.min(s.x+s.width-e.leading0,s.x+s.width),y0:Math.max(s.y+e.leading1,s.y),x1:Math.min(s.x+s.width-e.trailing0,s.x+s.width),y1:Math.max(s.y+e.trailing1,s.y),cx:t+n-l,cy:i+l}}if(C){const e=Ik(s.height,s.width,Math.max(s.x+s.width-(t+n-c),0),Math.max(s.y+s.height-(i+o-c),0),c);e.leadingClipped&&(b=!1),e.trailingClipped&&(w=!1);f={x0:Math.min(s.x+s.width-e.leading1,s.x+s.width),y0:Math.min(s.y+s.height-e.leading0,s.y+s.height),x1:Math.min(s.x+s.width-e.trailing1,s.x+s.width),y1:Math.min(s.y+s.height-e.trailing0,s.y+s.height),cx:t+n-c,cy:i+o-c}}if(w){const e=Ik(s.width,s.height,Math.max(s.y+s.height-(i+o-d),0),Math.max(t+d-s.x,0),d);e.leadingClipped&&(C=!1),e.trailingClipped&&(y=!1);v={x0:Math.max(s.x+e.leading0,s.x),y0:Math.min(s.y+s.height-e.leading1,s.y+s.height),x1:Math.max(s.x+e.trailing0,s.x),y1:Math.min(s.y+s.height-e.trailing1,s.y+s.height),cx:t+d,cy:i+o-d}}let x=!1;y&&null!=g&&(Ok(e,g,a,!x),x||(x=!0)),b&&null!=m&&(Ok(e,m,l,!x),x||(x=!0)),C&&null!=f&&(Ok(e,f,c,!x),x||(x=!0)),w&&null!=v&&(Ok(e,v,d,!x),x||(x=!0)),e.closePath()},Bk=class extends CS{constructor(){super(...arguments),this.borderPath=new yS,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=pC.defaultStyles.strokeWidth,this.effectiveStrokeWidth=pC.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var e,t;const{path:i,borderPath:n,crisp:o,topLeftCornerRadius:r,topRightCornerRadius:s,bottomRightCornerRadius:a,bottomLeftCornerRadius:l}=this;let{x:c,y:d,width:u,height:h,strokeWidth:p,clipBBox:g}=this;const m=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1);let f=1;if(i.clear(!0),n.clear(!0),o&&(u<=m&&(f*=u/m),h<=m&&(f*=h/m),u=this.align(c,u),h=this.align(d,h),c=this.align(c),d=this.align(d),g=null!=g?new xf(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),p)if(u<m){const e=c+m/2;n.moveTo(e,d),n.lineTo(e,d+h),p=m,this.borderClipPath=void 0}else if(h<m){const e=d+m/2;n.moveTo(c,e),n.lineTo(c+u,e),p=m,this.borderClipPath=void 0}else if(p<u&&p<h){var v;const e=p/2;c+=e,d+=e,u-=p,h-=p;const t=null===(v=g)||void 0===v?void 0:v.clone().shrink(e),o={topLeft:r>0?r-p:0,topRight:s>0?s-p:0,bottomRight:a>0?a-p:0,bottomLeft:l>0?l-p:0};this.borderClipPath=void 0,u>0&&h>0&&(null==t||(null===t||void 0===t?void 0:t.width)>0&&(null===t||void 0===t?void 0:t.height)>0)&&(jk(i,c,d,u,h,o,t),jk(n,c,d,u,h,o,t))}else{var y;this.borderClipPath=null!==(y=this.borderClipPath)&&void 0!==y?y:new yS,this.borderClipPath.clear(!0),this.borderClipPath.rect(c,d,u,h),n.rect(c,d,u,h)}else{const e={topLeft:r,topRight:s,bottomRight:a,bottomLeft:l};this.borderClipPath=void 0,jk(i,c,d,u,h,e,g)}[r,s,a,l].every((e=>0===e))?(this.hittester=(e,t)=>{const i=this.transformPoint(e,t);return this.getCachedBBox().containsPoint(i.x,i.y)},this.distanceSquared=(e,t)=>this.getCachedBBox().distanceSquared(e,t)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=f}computeBBox(){var e;const{x:t,y:i,width:n,height:o,clipBBox:r}=this;return null!==(e=null===r||void 0===r?void 0:r.clone())&&void 0!==e?e:new xf(t,i,n,o)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:o,lineDash:r,lineDashOffset:s,lineCap:a,lineJoin:l,borderPath:c,borderClipPath:d,opacity:u,microPixelEffectOpacity:h}=this;d&&e.clip(d.getPath2D()),e.strokeStyle=t,e.globalAlpha*=u*o*h,e.lineWidth=i,r&&e.setLineDash(r),s&&(e.lineDashOffset=s),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(c.getPath2D()),e.globalAlpha=n}}};Bk.className="Rect",om([bS()],Bk.prototype,"x",2),om([bS()],Bk.prototype,"y",2),om([bS()],Bk.prototype,"width",2),om([bS()],Bk.prototype,"height",2),om([bS()],Bk.prototype,"topLeftCornerRadius",2),om([bS()],Bk.prototype,"topRightCornerRadius",2),om([bS()],Bk.prototype,"bottomRightCornerRadius",2),om([bS()],Bk.prototype,"bottomLeftCornerRadius",2),om([bS()],Bk.prototype,"clipBBox",2),om([bS()],Bk.prototype,"crisp",2);var _k=class extends jx{constructor(e){super(),this.node=new Jb({name:"background",zIndex:0}),this.rectNode=new Bk,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(e.scene.attachNode(this.node),e.layoutService.addListener("layout-complete",(e=>this.onLayoutComplete(e))))}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};om([ly(gy),kw("node","visible")],_k.prototype,"visible",2),om([ly(Py,{optional:!0}),kw("rectNode","fill")],_k.prototype,"fill",2),om([ly(hy,{optional:!0})],_k.prototype,"image",2);var Gk={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:_k};function zk(e,t,i,n){t.addEventListener(i,n),e.push((()=>t.removeEventListener(i,n)))}function Hk(e,t,i){zk(e,t,"keydown",(e=>{"Escape"===e.key&&i(e)}))}function Vk(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e.key===t||n.some((t=>e.key===t)))}function Wk(e,t,i,n){i&&zk(e,t,"keydown",(e=>{Vk(e,n)&&i.focus()}))}function Uk(e,t,i,n,o,r){Wk(e,t,o,r),Wk(e,t,i,n),zk(e,t,"keydown",(e=>{Vk(e,n,r)&&e.preventDefault()}))}var Yk={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function Kk(e){const{orientation:t,toolbar:i,buttons:n,onEscape:o,onFocus:r,onBlur:s}=e,{nextKey:a,prevKey:l}=Yk[t],c=0===n.length;i.role="toolbar",i.ariaOrientation=t,i.ariaHidden=c.toString();const d=e=>{e.target&&"tabIndex"in e.target&&(n.forEach((e=>e.tabIndex=-1)),e.target.tabIndex=0)},u=[];for(let h=0;h<n.length;h++){const e=n[h-1],t=n[h],i=n[h+1];zk(u,t,"focus",d),r&&zk(u,t,"focus",r),s&&zk(u,t,"blur",s),o&&Hk(u,t,o),Uk(u,t,e,l,i,a),t.tabIndex=0===h?0:-1}return u}function qk(e){const{orientation:t,menu:i,buttons:n,onEscape:o}=e,{nextKey:r,prevKey:s}=Yk[t];i.role="menu",i.ariaOrientation=t;const a=[];for(let l=0;l<n.length;l++){const e=n[(n.length+l-1)%n.length],t=n[l],i=n[(n.length+l+1)%n.length];o&&Hk(a,t,o),Uk(a,t,e,s,i,r),t.tabIndex=-1}return i.tabIndex=-1,o&&Hk(a,i,o),zk(a,i,"keydown",(e=>{var t;e.target!==i||e.key!==r&&e.key!==s||(e.preventDefault(),null===(t=n[0])||void 0===t||t.focus())})),a}function Xk(e,t){return i=>{if("true"===e.ariaDisabled)return i.preventDefault();t(i)}}function Zk(e){let{orientation:t,bboxes:i,maxHeight:n,maxWidth:o,itemPaddingY:r=0,itemPaddingX:s=0,forceResult:a=!1}=e;const l="horizontal"===t,c={max:l?o:n,fn:l?e=>e.width:e=>e.height,padding:l?s:r},d={max:l?n:o,fn:l?e=>e.height:e=>e.width,padding:l?r:s};let u=0;const h=[];for(;u<i.length;){const e=Qk(i.slice(u),u,c,d,a);if(!e)return;u+=e.processedBBoxCount,h.push(e.pageIndices)}return function(e,t,i,n,o){let r=0,s=0;const a=e.map((e=>{"horizontal"===t&&(e=function(e){const t=[];for(const i of e[0])t.push([]);return e.forEach(((e,i)=>{e.forEach(((e,n)=>{t[n][i]=e}))})),t}(e));let a=0;const l=e.map((e=>{const t=e.map((e=>(a=Math.max(e,a),i[e])));let r=0,s=0;return t.forEach((e=>{r+=e.height+n,s=Math.max(s,e.width+o)})),{indices:e,bboxes:t,columnHeight:Math.ceil(r),columnWidth:Math.ceil(s)}}));let c=0,d=0;return l.forEach((e=>{c+=e.columnWidth,d=Math.max(d,e.columnHeight)})),r=Math.max(c,r),s=Math.max(d,s),{columns:l,startIndex:e[0][0],endIndex:a,pageWidth:c,pageHeight:d}}));return{pages:a,maxPageWidth:r,maxPageHeight:s}}(h,t,i,r,s)}function Qk(e,t,i,n,o){let r=function(e,t){const i=e.length;let n=0;for(let o=0;o<i;o++)if(n+=t.fn(e[o])+t.padding,n>t.max){return i/o<2?Math.ceil(i/2):o}return i}(e,i);if(r<1){if(!o)return;r=1}let s=r;for(;s>=1;){const r=Jk(e,t,s,i,n,o);if(null==r&&s<=1)return;if(null==r){s--;continue}if("number"===typeof r){if(r<=1)return;s=r<s&&r>1?r:s,s--;continue}return{processedBBoxCount:r.length*r[0].length,pageIndices:r}}}function Jk(e,t,i,n,o,r){const s=[];let a=0,l=0,c=[];const d=[];for(let h=0;h<e.length;h++){var u;const p=(h+i)%i;0===p&&(a+=l,l=0,c.length>0&&s.push(c),c=[]);const g=n.fn(e[h])+n.padding;d[p]=Math.max(null!==(u=d[p])&&void 0!==u?u:0,g),l=Math.max(l,o.fn(e[h])+o.padding);const m=a+l,f=!r||s.length>0;if(m>o.max&&f){c=[];break}if(d.reduce(((e,t)=>e+t),0)>n.max&&!r)return d.length<i?d.length:void 0;c.push(h+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}var $k=class extends Jb{constructor(){super({name:"markerLabelGroup"}),this.label=new xC,this.symbolsGroup=new Jb({name:"legend-markerLabel-symbols"}),this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.symbolsGroup.append([...i,...e]),this.append([this.symbolsGroup,t])}destroy(){var e;super.destroy(),null===(e=this.proxyButton)||void 0===e||e.remove()}set markers(e){gb(this._markers,e)||(this._markers.forEach((e=>{this.removeChild(e)})),this._markers=e,this._markers.forEach((e=>{this.symbolsGroup.appendChild(e)})))}get markers(){return this._markers}set lines(e){gb(this._lines,e)||(this._lines.forEach((e=>{this.removeChild(e)})),this._lines=e,this._lines.forEach((e=>{this.symbolsGroup.appendChild(e)})))}get lines(){return this._lines}update(e){var t,i,n,o,r;const{markers:s,lines:a}=this;let l=0;for(let b=0;b<Math.max(s.length,a.length);b++){var c,d;const{length:t,spacing:i}=null!==(c=e[b])&&void 0!==c?c:0,n=s[b],o=a[b],r=null!==(d=null===n||void 0===n?void 0:n.size)&&void 0!==d?d:0;if(n){const e=n.constructor.center;n.x=(e.x-.5)*r+t/2+l,n.y=(e.y-.5)*r}o&&(o.x1=l,o.x2=l+t,o.y1=0,o.y2=0,o.markDirtyTransform()),l+=i+Math.max(t,r)}const u=e.at(-1),h=this.lines.at(-1),p=this.markers.at(-1),g=null!==h&&void 0!==h&&h.visible?h.x2:-1/0,m=(null!==(t=null===p||void 0===p?void 0:p.x)&&void 0!==t?t:0)+(null!==(i=null===p||void 0===p?void 0:p.size)&&void 0!==i?i:0)/2;if(this.label.x=Math.max(g,m)+(null!==(n=null===u||void 0===u?void 0:u.spacing)&&void 0!==n?n:0),e.length<2)return;const f=this.symbolsGroup.computeBBox(),v=Math.max(null!==(o=null===p||void 0===p?void 0:p.size)&&void 0!==o?o:0,null!==(r=null===u||void 0===u?void 0:u.length)&&void 0!==r?r:0),y=new xf(f.x+v/2,f.y,v,f.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(y)}render(e){this.markers.forEach((e=>{e.opacity=this.opacity})),this.lines.forEach((e=>{e.opacity=this.opacity})),this.label.opacity=this.opacity,super.render(e)}};$k.className="MarkerLabel",om([kw("label")],$k.prototype,"text",2),om([kw("label")],$k.prototype,"fontStyle",2),om([kw("label")],$k.prototype,"fontWeight",2),om([kw("label")],$k.prototype,"fontSize",2),om([kw("label")],$k.prototype,"fontFamily",2),om([kw("label","fill")],$k.prototype,"color",2);var eD=class extends yv{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};om([ly(Py)],eD.prototype,"color",2),om([ly(Hy,{optional:!0})],eD.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],eD.prototype,"fontWeight",2),om([ly(by)],eD.prototype,"fontSize",2),om([ly(fy)],eD.prototype,"fontFamily",2);var tD=class extends yv{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};om([ly(by)],tD.prototype,"size",2),om([ly(Py,{optional:!0})],tD.prototype,"fill",2),om([ly(Cy,{optional:!0})],tD.prototype,"fillOpacity",2),om([ly(Py,{optional:!0})],tD.prototype,"stroke",2),om([ly(by)],tD.prototype,"strokeWidth",2),om([ly(Cy)],tD.prototype,"strokeOpacity",2);var iD=class extends yv{constructor(e){super(),this.parent=e,this.shape=lk,this.size=15,this.padding=8}};om([Dw({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],iD.prototype,"shape",2),om([ly(by)],iD.prototype,"size",2),om([ly(by)],iD.prototype,"padding",2);var nD=class extends yv{constructor(e,t,i,n){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.regionManager=i,this.cursorManager=n,this.id=nf(this),this.marker=new iD(this),this.activeStyle=new tD,this.inactiveStyle=new tD,this.highlightStyle=new tD,this.label=new eD,this.group=new Jb({name:"pagination"}),this.labelNode=new xC,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new lk,this._previousButton=new lk,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const o=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(o.addListener("click",(e=>this.onPaginationClick(e))),o.addListener("hover",(e=>this.onPaginationMouseMove(e)))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((e=>e()))}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){if(this._orientation=e,"horizontal"===e)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:o,fontWeight:r,fontSize:s,fontFamily:a}}=this;i.text="".concat(e+1," / ").concat(t),i.fill=n,i.fontStyle=o,i.fontWeight=r,i.fontSize=s,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:o,inactiveStyle:r,highlightStyle:s,highlightActive:a}=this,l=(e,t)=>t?r:e===a?s:o;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){var i;const{size:n}=this.marker;e.size=n,e.fill=t.fill,e.fillOpacity=null!==(i=t.fillOpacity)&&void 0!==i?i:1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=0===t,n=e===t-1,o=0===e;this.nextButtonDisabled=n||i,this.previousButtonDisabled=o||i}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(e){e=cf(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}onPaginationClick(e){const{offsetX:t,offsetY:i}=e;e.preventDefault(),this.nextButtonContainsPoint(t,i)?this.clickNext():this.previousButtonContainsPoint(t,i)&&this.clickPrevious()}onPaginationMouseMove(e){const{offsetX:t,offsetY:i}=e;this.nextButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=hk(this.marker.shape||lk);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}computeCSSBounds(){const e=this.group.computeTransformedBBox(),t=this._previousButton.computeTransformedBBox(),i=this._nextButton.computeTransformedBBox();return t.x-=e.x,t.y-=e.y,i.x-=e.x,i.y-=e.y,{group:e,prev:t,next:i}}};nD.className="Pagination",om([ly(hy)],nD.prototype,"marker",2),om([ly(hy)],nD.prototype,"activeStyle",2),om([ly(hy)],nD.prototype,"inactiveStyle",2),om([ly(hy)],nD.prototype,"highlightStyle",2),om([ly(hy)],nD.prototype,"label",2);var oD=class extends yv{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};om([ly(by,{optional:!0})],oD.prototype,"maxLength",2),om([ly(Py)],oD.prototype,"color",2),om([ly(Hy,{optional:!0})],oD.prototype,"fontStyle",2),om([ly(Vy,{optional:!0})],oD.prototype,"fontWeight",2),om([ly(by)],oD.prototype,"fontSize",2),om([ly(fy)],oD.prototype,"fontFamily",2),om([ly(my,{optional:!0})],oD.prototype,"formatter",2);var rD=class extends yv{constructor(){super(...arguments),this.size=15,this.padding=8}};om([Aw((e=>{var t;return null===(t=e.parent)||void 0===t?void 0:t.onMarkerShapeChange()}))],rD.prototype,"shape",2),om([ly(by)],rD.prototype,"size",2),om([ly(by)],rD.prototype,"padding",2),om([ly(by,{optional:!0})],rD.prototype,"strokeWidth",2),om([ly(gy)],rD.prototype,"enabled",2);var sD=class extends yv{};om([ly(by,{optional:!0})],sD.prototype,"strokeWidth",2),om([ly(by,{optional:!0})],sD.prototype,"length",2);var aD=class extends yv{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new rD,this.label=new oD,this.line=new sD}};om([ly(by,{optional:!0})],aD.prototype,"maxWidth",2),om([ly(by)],aD.prototype,"paddingX",2),om([ly(by)],aD.prototype,"paddingY",2),om([ly(gy)],aD.prototype,"showSeriesStroke",2),om([ly(hy)],aD.prototype,"marker",2),om([ly(hy)],aD.prototype,"label",2),om([ly(hy)],aD.prototype,"line",2);var lD=class extends yv{};om([ly(my,{optional:!0})],lD.prototype,"legendItemClick",2),om([ly(my,{optional:!0})],lD.prototype,"legendItemDoubleClick",2);var cD="legend-visibility",dD="legend-other-series",uD=class extends yv{constructor(e){super(),this.ctx=e,this.id=nf(this),this.group=new Jb({name:"legend",layer:!0,zIndex:11}),this.itemSelection=gw.select(this.group,$k),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new aD,this.listeners=new lD,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new nD((t=>e.updateService.update(t)),(e=>this.updatePageNumber(e)),e.regionManager,e.cursorManager),this.pagination.attachPagination(this.group),e.contextMenuRegistry.registerDefaultAction({id:cD,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),e.contextMenuRegistry.registerDefaultAction({id:dD,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)});const{Default:t,Animation:i,ContextMenu:n}=Qw,o=t|i,r=t|i|n,s=e.regionManager.addRegion("legend",this.group);this.destroyFns.push(s.addListener("contextmenu",(e=>this.checkContextClick(e)),r),s.addListener("click",(e=>this.checkLegendClick(e)),o),s.addListener("dblclick",(e=>this.checkLegendDoubleClick(e)),o),s.addListener("hover",(e=>this.handleLegendMouseMove(e))),s.addListener("leave",(e=>this.handleLegendMouseExit(e)),o),s.addListener("enter",(e=>this.handleLegendMouseEnter(e)),o),e.layoutService.addListener("start-layout",(e=>this.positionLegend(e))),(()=>this.detachLegend()),e.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged()))),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"".concat(this.id,"-toolbar"),classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal"}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:"".concat(this.id,"-pagination"),classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"})}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-toolbar")),this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-pagination")),this.destroyFns.forEach((e=>e())),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each(((e,t,i)=>{var n;null!==(n=e.proxyButton)&&void 0!==n||(e.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"ag-charts-legend-item-".concat(i),textContent:this.getItemAriaText(i),parent:this.proxyLegendToolbar,focusable:e,onclick:()=>{this.doClick(e.datum),e.proxyButton.textContent=this.getItemAriaText(i,!e.datum.enabled)},onblur:()=>this.doMouseExit(),onfocus:()=>{const t=null===e||void 0===e?void 0:e.computeTransformedBBox(),i=BR(this.ctx.focusIndicator,{bounds:t,showFocusBox:!0});this.doHover(i,e.datum),this.pagination.setPage(e.pageIndex)}}))}));const e=this.itemSelection.nodes().map((e=>e.proxyButton)).filter((e=>!!e));Kk({orientation:this.getOrientation(),buttons:e,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(e){const{characterWidths:t}=this;if(t.has(e))return t.get(e);const i={"...":xC.getTextSize("...",e).width};return t.set(e,i),i}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}detachLegend(){var e;null===(e=this.group.parent)||void 0===e||e.removeChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:o,maxWidth:r,label:{maxLength:s=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:d}}=this.item,u=[...this.data];this.reverseOrder&&u.reverse();const h=0===this.itemSelection.nodes().length;this.itemSelection.update(u),h&&this.initLegendItemToolbar();const p=[],g=SC(o),m=null!==r&&void 0!==r?r:.8*e;if(this.itemSelection.each(((e,t)=>{var i;e.fontStyle=a,e.fontWeight=l,e.fontSize=c,e.fontFamily=d;const n=this.updateMarkerLabel(e,t,this.calcMarkerWidth()),o=null!==(i=t.itemId)&&void 0!==i?i:t.id,r=this.getItemLabel(t),u=(null!==r&&void 0!==r?r:"<unknown>").replace(/\r?\n/g," ");e.text=this.truncate(u,s,m,n,g,o),p.push(e.computeBBox())})),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const f=this.size,v=this.oldSize;f[0]=e,f[1]=t,f[0]===v[0]&&f[1]===v[1]||(v[0]=f[0],v[1]=f[1]);const{pages:y,maxPageHeight:b,maxPageWidth:C}=this.updatePagination(p,e,t),w=this.pages;this.pages=y,this.maxPageSize=[C-i,b-n];const x=this.pagination.currentPage,S=this.pages[x];return this.pages.length<1||!S?(this.visible=!1,{oldPages:w}):(this.visible=!0,this.updatePositions(x),this.update(),{oldPages:w})}calcSymbolsLengths(e){var t,i,n;const{showSeriesStroke:o,marker:r,line:s}=this.item,a=null!==(t=r.enabled)&&void 0!==t?t:o&&(null===(i=e.marker.enabled)||void 0===i||i),l=a?r.size:0,c=!(!e.line||!o);return{markerEnabled:a,markerLength:l,lineEnabled:c,lineLength:c?null!==(n=s.length)&&void 0!==n?n:25:0}}calcMarkerWidth(){let e=0;return this.itemSelection.each(((t,i)=>{i.symbols.forEach((t=>{const{lineLength:i,markerLength:n}=this.calcSymbolsLengths(t);e=Math.max(e,i,n)}))})),e}updateMarkerLabel(e,t,i){const{marker:n,paddingX:o}=this.item,r=[];let s=o;if(e.markers.length!==t.symbols.length&&e.lines.length!==t.symbols.length){const i=[],o=[];t.symbols.forEach((e=>{const{shape:t=e.marker.shape}=n,r=hk(t);o.push(new yw),i.push(new r)})),e.markers=i,e.lines=o}return t.symbols.forEach(((t,o)=>{var a;const l=null!==(a=t.marker.padding)&&void 0!==a?a:n.padding,{markerEnabled:c,lineEnabled:d}=this.calcSymbolsLengths(t);e.markers[o].size=c||!d?n.size:0,r.push({length:i,spacing:l}),(c||d)&&(s+=l+i)})),e.update(r),s}truncate(e,t,i,n,o,r){const s=e.split("");let a=!1;e.length>t&&(e="".concat(e.substring(0,t)),a=!0);if(Math.floor(n+xC.getTextSize(e,o).width)>i){let t="";const r=this.getCharacterWidths(o);let l=n+r["..."];for(const e of s){if(r[e]||(r[e]=xC.getTextSize(e,o).width),l+=r[e],l>i)break;t+=e}e=t,a=!0}return a?(e+="...",this.truncatedItems.add(r)):this.truncatedItems.delete(r),e}updatePagination(e,t,i){const n=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:s,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),d=r.findIndex((e=>e.endIndex>=o));this.pagination.currentPage=cf(0,d,r.length-1);const{paddingX:u,paddingY:h}=this.item,p=a-u,g=s-h;let m=0,f=-l.y-this.item.marker.size/2;c?f+=g+8:(m+=-l.x+p+8,f+=(g-l.height)/2),this.pagination.translationX=m,this.pagination.translationY=f,this.pagination.update(),this.pagination.updateMarkers();let v=0;return this.itemSelection.each(((e,t,i)=>{var n,o;i>(null!==(n=null===(o=r[v])||void 0===o?void 0:o.endIndex)&&void 0!==n?n:1/0)&&v++,e.pageIndex=v})),{maxPageHeight:s,maxPageWidth:a,pages:r}}updatePaginationProxyButtons(e){var t;this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const i=(null!==(t=null===e||void 0===e?void 0:e.length)&&void 0!==t?t:this.pages.length)>1,n=this.pages.length>1;if(i!==n)if(n){var o;this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-prev-page"),textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),null!==(o=this.proxyNextButton)&&void 0!==o||(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-next-page"),textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}));const{group:e,prev:t,next:i}=this.pagination.computeCSSBounds();uw(this.proxyLegendPagination,e),uw(this.proxyPrevButton,t),uw(this.proxyNextButton,i)}else{var r,s;null===(r=this.proxyNextButton)||void 0===r||r.remove(),null===(s=this.proxyPrevButton)||void 0===s||s.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]}}calculatePagination(e,t,i){const{paddingX:n,paddingY:o}=this.item,r=this.getOrientation(),s=["left","right"].includes(this.position);let a=this.pagination.computeBBox(),l=new xf(0,0,0,0),c=[],d=0,u=0,h=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{var g,m,f;if(h++>10){hm.warn("unable to find stable legend layout.");break}a=l;const v=t-(s?0:a.width),y=Zk({orientation:r,bboxes:e,maxHeight:i-(s?a.height:0),maxWidth:v,itemPaddingY:o,itemPaddingX:n,forceResult:p});c=null!==(g=null===y||void 0===y?void 0:y.pages)&&void 0!==g?g:[],d=null!==(m=null===y||void 0===y?void 0:y.maxPageWidth)&&void 0!==m?m:0,u=null!==(f=null===y||void 0===y?void 0:y.maxPageHeight)&&void 0!==f?f:0;const b=c.length;if(this.pagination.visible=b>1,this.pagination.totalPages=b,this.pagination.update(),l=this.pagination.computeBBox(),!this.pagination.visible)break}while((v=l).width!==a.width||v.height!==a.height);var v;return{maxPageWidth:d,maxPageHeight:u,pages:c,paginationBBox:a,paginationVertical:s}}updatePositions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:o,startIndex:r,endIndex:s}=n[e];let a=0,l=0;const c=o.length,d=o[0].indices.length,u="horizontal"===this.getOrientation(),h=o[0].bboxes[0].height+t,p=[];i.each(((e,t,i)=>{var n,g;if(i<r||i>s)return void(e.visible=!1);const m=i-r;let f=0,v=0;u?(f=m%c,v=Math.floor(m/c)):(f=Math.floor(m/d),v=m%d),e.visible=!0;const y=o[f];if(!y)return;l=Math.floor(h*v),a=Math.floor(null!==(n=p[v])&&void 0!==n?n:0),p[v]=(null!==(g=p[v])&&void 0!==g?g:0)+y.columnWidth,e.translationX=a,e.translationY=l;const{width:b,height:C}=e.computeBBox();uw(e.proxyButton,{x:a,y:l,width:b,height:C})}))}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:n}=t[e];0===i?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each(((t,i)=>{i.symbols.forEach(((e,i)=>{const n=t.markers[i],o=t.lines[i];if(n){const{strokeWidth:t,fill:i,stroke:o,fillOpacity:r,strokeOpacity:s}=this.getMarkerStyles(e);n.fill=i,n.stroke=o,n.strokeWidth=t,n.fillOpacity=r,n.strokeOpacity=s}if(o){const t=this.getLineStyles(e);o.stroke=t.stroke,o.strokeOpacity=t.strokeOpacity,o.strokeWidth=t.strokeWidth,o.lineDash=t.lineDash}})),t.opacity=i.enabled?1:.5,t.color=e})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e}=this;this.ctx.contextMenuRegistry.setActionVisiblity(cD,e),this.ctx.contextMenuRegistry.setActionVisiblity(dD,e)}getLineStyles(e){var t,i;const{stroke:n,strokeOpacity:o=1,strokeWidth:r,lineDash:s}=null!==(t=e.line)&&void 0!==t?t:{},a=Math.min(2,null!==r&&void 0!==r?r:1);return{stroke:n,strokeOpacity:o,strokeWidth:null!==(i=this.item.line.strokeWidth)&&void 0!==i?i:a,lineDash:s}}getMarkerStyles(e){var t;const{fill:i,stroke:n,strokeOpacity:o=1,fillOpacity:r=1,strokeWidth:s}=e.marker,a=Math.min(2,null!==s&&void 0!==s?s:1);return{fill:i,stroke:n,strokeOpacity:o,fillOpacity:r,strokeWidth:null!==(t=this.item.marker.strokeWidth)&&void 0!==t?t:a}}getDatumForPoint(e,t){const i=[],n={dist:1/0,datum:void 0};for(const o of this.group.children){if(!o.visible)continue;if(!(o instanceof $k))continue;const r=o.computeBBox();if(r.grow(this.item.paddingX/2,"horizontal"),r.grow(this.item.paddingY/2,"vertical"),r.containsPoint(e,t))return o.datum;const s=e-r.x-this.item.paddingX/2,a=t-r.y-this.item.paddingY/2,l=s**2+a**2;s>=0&&a>=0&&l<n.dist&&(n.dist=l,n.datum=o.datum),i.push(r)}if(xf.merge(i).containsPoint(e,t))return n.datum}computePagedBBox(){const e=this.group.computeBBox();if(this.pages.length<=1)return e;const[t,i]=this.maxPageSize;return e.height=Math.max(i,e.height),e.width=Math.max(t,e.width),e}contextToggleVisibility(e){const t=this.data.find((t=>t.itemId===e.itemId));this.doClick(t)}contextToggleOtherSeries(e){const t=this.data.find((t=>t.itemId===e.itemId));this.doDoubleClick(t)}checkContextClick(e){var t;const i=this.getDatumForPoint(e.offsetX,e.offsetY);this.preventHidingAll&&null!==(t=this.contextMenuDatum)&&void 0!==t&&t.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(cD):this.ctx.contextMenuRegistry.enableAction(cD),this.ctx.contextMenuRegistry.dispatchContext("legend",e,{legendItem:i})}checkLegendClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doClick(t)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((e=>e.getLegendData("category"))).filter((e=>e.enabled)).length}doClick(e){const{listeners:{legendItemClick:t},ctx:{chartService:i,highlightManager:n},preventHidingAll:o,toggleSeries:r}=this;if(!e)return!1;const{id:s,itemId:a,enabled:l}=e,c=i.series.find((e=>e.id===s));if(!c)return!1;let d=l;if(r){if(d=!l,o&&!d){this.getVisibleItemCount()<2&&(d=!0)}const t=d?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(t),this.ctx.chartEventManager.legendItemClick(c,a,d,e.legendItemName)}return d?n.updateHighlight(this.id,{series:c,itemId:a,datum:void 0}):n.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),null===t||void 0===t||t({type:"click",enabled:d,itemId:a,seriesId:c.id}),!0}checkLegendDoubleClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doDoubleClick(t)&&e.preventDefault()}doDoubleClick(e){const{listeners:{legendItemDoubleClick:t},ctx:{chartService:i},toggleSeries:n}=this;if("integrated"===i.mode)return!1;if(!e)return!1;const{id:o,itemId:r,seriesId:s}=e,a=i.series.find((e=>e.id===o));if(!a)return!1;if(n){var l;const e=i.series.flatMap((e=>e.getLegendData("category"))),t=e.filter((e=>e.enabled)).length,n=e.find((e=>e.itemId===r&&e.seriesId===s));this.ctx.chartEventManager.legendItemDoubleClick(a,r,null!==(l=null===n||void 0===n?void 0:n.enabled)&&void 0!==l&&l,t,null===n||void 0===n?void 0:n.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),null===t||void 0===t||t({type:"dblclick",enabled:!0,itemId:r,seriesId:a.id}),!0}handleLegendMouseMove(e){if(!this.enabled)return;const{offsetX:t,offsetY:i}=e;e.preventDefault();const n=this.getDatumForPoint(t,i);this.doHover(e,n)}doHover(e,t){var i;const{toggleSeries:n,listeners:o}=this;if(void 0===e||void 0===t)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);const r=t?this.ctx.chartService.series.find((e=>e.id===(null===t||void 0===t?void 0:t.id))):void 0;if(t&&this.truncatedItems.has(null!==(i=t.itemId)&&void 0!==i?i:t.id)){const{offsetX:i,offsetY:n}=e;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},jw({content:this.getItemLabel(t)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(n||null!=o.legendItemClick||null!=o.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),null!==t&&void 0!==t&&t.enabled&&r?this.ctx.highlightManager.updateHighlight(this.id,{series:r,itemId:null===t||void 0===t?void 0:t.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(e){this.doMouseExit()}doMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),16===this.ctx.interactionManager.getState()&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(e){const{enabled:t,toggleSeries:i,listeners:{legendItemClick:n,legendItemDoubleClick:o}}=this,r=this.getDatumForPoint(e.offsetX,e.offsetY);t&&void 0!==r&&(i||null!=n||null!=o)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(((e,t,i)=>{let{proxyButton:n}=e;null!=n&&(n.textContent=this.getItemAriaText(i))}))}getItemAriaText(e,t){var i;const n=this.data[e],o=n&&this.getItemLabel(n);null!==(i=t)&&void 0!==i||(t=n.enabled);const r=this.ctx.localeManager;if(e>=0&&o){const i=e+1,n=this.data.length;return[r.t("ariaLabelLegendItem",{label:o,index:i,count:n}),r.t(t?"ariaAnnounceVisible":"ariaAnnounceHidden")].join("")}return r.t("ariaLabelLegendItemUnknown")}positionLegend(e){const{shrinkRect:t}=e,i=t.clone();if(!this.enabled||!this.data.length)return{...e,shrinkRect:i};const[n,o]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0;const{oldPages:r}=this.calcLayout(n,o),s=this.computePagedBBox(),a=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-s.height;default:return t.width-s.width}};if(this.visible){let e,n;switch(this.position){case"top":case"bottom":e=(t.width-s.width)/2,n=a(),i.shrink(s.height,this.position);break;default:e=a(),n=(t.height-s.height)/2,i.shrink(s.width,this.position)}this.group.translationX=Math.floor(-s.x+t.x+e),this.group.translationY=Math.floor(-s.y+t.y+n);const o=this.group.computeTransformedBBox();o&&(uw(this.proxyLegendToolbar,o),this.proxyLegendToolbar.style.removeProperty("display")),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";if(this.updatePaginationProxyButtons(r),this.visible&&this.enabled&&this.data.length){const e=this.spacing;i.shrink(e,this.position);const t=s.clone();t.x+=this.group.translationX,t.y+=this.group.translationY}return{...e,shrinkRect:i}}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i;let o,r;switch(this.position){case"top":case"bottom":const e=n<1?Math.min(.5,1/n*.2):.2;o=this.maxWidth?Math.min(this.maxWidth,t):t,r=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*e);break;default:const s=n>1?Math.min(.5,.25*n):.25;o=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*s),r=this.maxHeight?Math.min(this.maxHeight,i):i}return[o,r]}};uD.className="Legend",om([ly(gy)],uD.prototype,"toggleSeries",2),om([ly(hy)],uD.prototype,"pagination",2),om([ly(hy)],uD.prototype,"item",2),om([ly(hy)],uD.prototype,"listeners",2),om([Aw((e=>e.updateGroupVisibility())),ly(gy)],uD.prototype,"enabled",2),om([ly(zy)],uD.prototype,"position",2),om([ly(by,{optional:!0})],uD.prototype,"maxWidth",2),om([ly(by,{optional:!0})],uD.prototype,"maxHeight",2),om([ly(gy,{optional:!0})],uD.prototype,"reverseOrder",2),om([ly(Jy(["horizontal","vertical"],"an orientation"),{optional:!0})],uD.prototype,"orientation",2),om([ly(gy,{optional:!0})],uD.prototype,"preventHidingAll",2),om([ly(by)],uD.prototype,"spacing",2);var hD={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:uD,packageType:"community"},pD=class extends jx{constructor(e){super(),this.ctx=e,this.localeText=void 0}};om([Aw((e=>{e.ctx.localeManager.setLocaleText(e.localeText)})),ly(py,{optional:!0})],pD.prototype,"localeText",2),om([Aw((e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)})),ly(my,{optional:!0})],pD.prototype,"getLocaleText",2);var gD={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:pD},mD=class extends CS{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)}get height(){return this._height}layout(e,t){this.centerX=e,this.centerY=t}static align(e,t,i,n,o,r,s,a){const l=e.strokeWidth/2,c=e.align(i+o*s)+l,d=c+e.align(i+o*s,o*(a-s))-2*l,u=e.align(n+r/2)+l;e.layout(c,u),t.layout(d,u)}computeBBox(){const{centerX:e,centerY:t,width:i,height:n}=this;return new xf(e-i/2,t-n/2,i,n)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.computeBBox().containsPoint(i.x,i.y)}updatePath(){var e,t;const{centerX:i,centerY:n,path:o,strokeWidth:r,gripLineGap:s,gripLineLength:a}=this,l=null!==(e=null===(t=this.layerManager)||void 0===t||null===(t=t.canvas)||void 0===t?void 0:t.pixelRatio)&&void 0!==e?e:1;o.clear();const c=Math.floor(this.width/2*l)/l,d=Math.floor(this.height/2*l)/l;o.moveTo(i-c,n-d),o.lineTo(i+c,n-d),o.lineTo(i+c,n+d),o.lineTo(i-c,n+d),o.closePath();const u=Math.floor((s+r)/2*l)/l,h=Math.floor(a/2*l)/l;o.moveTo(i-u,n-h),o.lineTo(i-u,n+h),o.moveTo(i+u,n-h),o.lineTo(i+u,n+h)}};mD.className="RangeHandle",om([ly(Py)],mD.prototype,"_fill",2),om([ly(Py)],mD.prototype,"_stroke",2),om([ly(by)],mD.prototype,"_strokeWidth",2),om([ly(By)],mD.prototype,"_lineCap",2),om([ly(by)],mD.prototype,"_width",2),om([ly(by)],mD.prototype,"_gripLineGap",2),om([ly(by)],mD.prototype,"_gripLineLength",2),om([ly(by)],mD.prototype,"_height",2);var fD=class extends CS{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this.dirtyPath=!0}update(e,t){this.min=isNaN(e)?this.min:e,this.max=isNaN(t)?this.max:t,this.dirtyPath=!0}computeBBox(){const{x:e,y:t,width:i,height:n}=this;return new xf(e,t,i,n)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:n,min:o,max:r}=this,s=e+i*o;return new xf(s,t,e+i*r-s,n)}updatePath(){const{path:e,x:t,y:i,width:n,height:o,min:r,max:s,strokeWidth:a}=this,l=a/2;e.clear();const c=this.align(t)+l,d=this.align(i)+l,u=c+this.align(t,n)-2*l,h=d+this.align(i,o)-2*l;e.moveTo(c,d),e.lineTo(u,d),e.lineTo(u,h),e.lineTo(c,h),e.closePath();const p=this.align(t+n*r)+l,g=p+this.align(t+n*r,n*(s-r))-2*l;e.moveTo(p,d),e.lineTo(p,h),e.lineTo(g,h),e.lineTo(g,d),e.closePath()}};fD.className="RangeMask";var vD=class extends Jb{constructor(e){super({name:"rangeSelectorGroup",layer:!0,zIndex:12}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new Jb({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(e)}layout(e,t,i,n,o,r){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=o,this.rOffset=r,this.background.translationX=e,this.background.translationY=t}updateBackground(e,t){null!=e&&this.background.removeChild(e),null!=t&&this.background.appendChild(t)}computeBBox(){const{x:e,y:t,width:i,height:n,lOffset:o,rOffset:r}=this;return new xf(e-o,t,i+(o+r),n)}},yD=class extends jx{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new fD,this.minHandle=new mD,this.maxHandle=new mD,this.maskVisibleRange={computeBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new vD([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const t=e.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",(e=>this.onHover(e)),25),t.addListener("drag-start",(e=>this.onDragStart(e)),25),t.addListener("drag",(e=>this.onDrag(e)),25),t.addListener("drag-end",(()=>this.onDragEnd()),25),t.addListener("leave",(e=>this.onLeave(e)),25),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),e.zoomManager.addListener("zoom-change",(e=>this.onZoomChange(e)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:e=>this.onMinSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:e=>this.onPanSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:e=>this.onMaxSliderChange(e)})],Kk({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((e=>e.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(e,t){var i;null===(i=this.rangeSelector)||void 0===i||i.updateBackground(e,t)}updateGroupVisibility(){const{enabled:e}=this;null!=this.rangeSelector&&e!==this.rangeSelector.visible&&(this.rangeSelector.visible=e,e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}async performLayout(e){const{shrinkRect:t}=e;if(this.enabled){const e=this.height+this.spacing;t.shrink(e,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0;return{...e,shrinkRect:t}}async performCartesianLayout(e){const{x:t,width:i}=e.seriesRect;if(this.enabled){const{y:e,height:n}=this;this.layoutNodes(t,e,i,n),uw(this.proxyNavigatorToolbar,{x:t,y:e,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=i}onHover(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n}=this,{offsetX:o,offsetY:r}=e;i.containsPoint(o,r)||n.containsPoint(o,r)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(o,r)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n,x:o,width:r,_min:s}=this,{offsetX:a,offsetY:l}=e;i.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":i.containsPoint(a,l)&&(this.dragging="min"):i.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),null==this.dragging&&t.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-o)/r-s),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||null==this.dragging)return;const{dragging:t,minRange:i,panStart:n,x:o,width:r}=this;let{_min:s,_max:a}=this;const{offsetX:l}=e,c=(l-o)/r;if("min"===t)s=cf(0,c,a-i);else if("max"===t)a=cf(s+i,c,1);else if("pan"===t&&null!=n){const e=a-s;s=cf(0,c-n,1-e),a=s+e}this._min=s,this._max=a,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){const{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max))}onPanSliderChange(e){const t=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=cf(0,t,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(e){const t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){const t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value="".concat(Math.round(100*e)),this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,i){const n=this.getSliderRatio(e),o=cf(t,n,i);return o!==n&&this.setSliderRatio(e,o),o}setSliderRatio(e,t){const i=Math.round(100*t);e.value="".concat(i),e.ariaValueText=Cf(i)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,i,n){const{rangeSelector:o,mask:r,minHandle:s,maxHandle:a,_min:l,_max:c}=this;o.layout(e,t,i,n,s.width/2,a.width/2),r.layout(e,t,i,n),mD.align(s,a,e,t,i,n,l,c),l+(c-l)/2<.5?(s.zIndex=3,a.zIndex=4):(s.zIndex=4,a.zIndex=3),[s,this.maskVisibleRange,a].forEach(((i,n)=>{const o=i.computeBBox(),r={x:o.x-e,y:o.y-t,height:o.height,width:o.width};uw(this.proxyNavigatorElements[n],r)}))}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;const{_min:e,_max:t}=this,i=this.ctx.zoomManager.getZoom();if(null==e||null==t)return;return this.setPanSliderValue(e,t),this.setSliderRatio(this.proxyNavigatorElements[0],e),this.setSliderRatio(this.proxyNavigatorElements[2],t),this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t},y:null===i||void 0===i?void 0:i.y},!1,(e=>{null==this.min&&null==this.max||hm.warnOnce("Could not apply [navigator.min] or [navigator.max] as [".concat(e,"] has modified the initial zoom state."))}))}};om([ly(hy,{optional:!0})],yD.prototype,"miniChart",2),om([ly(gy),Aw((e=>e.updateGroupVisibility()))],yD.prototype,"enabled",2),om([ly(by)],yD.prototype,"height",2),om([ly(by)],yD.prototype,"spacing",2),om([Dw({newValue(e){this._min=e,this.updateZoom()}}),ly(dy(Cy,ky("max")),{optional:!0})],yD.prototype,"min",2),om([Dw({newValue(e){this._max=e,this.updateZoom()}}),ly(dy(Cy,Dy("min")),{optional:!0})],yD.prototype,"max",2);var bD={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:yD,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function CD(e){let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}function wD(e){return{marker:CD(e)}}var xD=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(xD||{}),SD=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(SD||{}),RD=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(RD||{}),MD=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(MD||{}),kD=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(kD||{}),DD=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(DD||{}),AD=Symbol("is-dark-theme"),ED=Symbol("default-font"),TD=Symbol("default-label-colour"),PD=Symbol("default-inverted-label-colour"),FD=Symbol("default-inside-series-label-colour"),ND=Symbol("default-muted-label-colour"),LD=Symbol("default-axis-grid-colour"),ID=Symbol("default-axis-line-colour"),OD=Symbol("default-cross-lines-colour"),jD=Symbol("default-background-colour"),BD=Symbol("default-shadow-colour"),_D=Symbol("default-colours"),GD=Symbol("default-padding"),zD=Symbol("default-caption-layout-style"),HD=Symbol("default-caption-alignment"),VD=Symbol("palette-up-stroke"),WD=Symbol("palette-down-stroke"),UD=Symbol("palette-up-fill"),YD=Symbol("palette-down-fill"),KD=Symbol("palette-neutral-stroke"),qD=Symbol("palette-neutral-fill"),XD=Symbol("default-polar-series-stroke"),ZD=Symbol("default-diverging-series-colour-range"),QD=Symbol("default-hierarchy-fills"),JD=Symbol("default-hierarchy-strokes"),$D=Symbol("default-annotation-stroke"),eA=Symbol("default-annotation-background-fill"),tA=Symbol("default-annotation-handle-fill"),iA=Symbol("default-toolbar-position"),nA=Symbol("default-gridline-enabled");function oA(e,t,i,n,o){const{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:a}=o,l=(n,o,r)=>{i.animate({id:"".concat(e,"_").concat(t,"_").concat(o.id,"_").concat(n),groupId:e,from:0,to:1,ease:Fv,collapsable:!1,onUpdate(e,t){t&&"removed"!==n||(o.path.clear(!0),r(e,o),o.checkPathDirty())},onStop(){"added"===n&&(o.path.clear(!0),r(1,o),o.checkPathDirty())},phase:Wv[n]})};for(const c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,s)),l("added",c,r)}var rA=null;function sA(e){var t;if(null!=e)return""===e?"":(null!==(t=rA)&&void 0!==t||(rA=aw("div")),rA.textContent=String(e),rA.innerHTML)}function aA(e,t,i){let{id:n}=e;for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];Yv(n,t,i,r,{opacity:0},{opacity:1},{phase:"trailing"})}function lA(e,t,i){let{id:n}=e;for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];Yv(n,t,i,r,{opacity:1},{opacity:0},{phase:"remove"})}function cA(e){return{opacity:1}}var dA=class extends yv{constructor(){super(...arguments),this._dirty=3}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},uA=class extends dA{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};om([ly(gy),Rf({redraw:3})],uA.prototype,"enabled",2),om([ly(Py),Rf({redraw:3})],uA.prototype,"color",2),om([ly(vy),Rf({redraw:3})],uA.prototype,"xOffset",2),om([ly(vy),Rf({redraw:3})],uA.prototype,"yOffset",2),om([ly(by),Rf({redraw:3})],uA.prototype,"blur",2);var hA=tb((e=>uk(e)||"function"===typeof e&&Object.create(e.prototype)instanceof XM),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),pA=class extends dA{constructor(){super(...arguments),this.enabled=!0,this.shape=ZM,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:o,strokeWidth:r,strokeOpacity:s}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:o,strokeWidth:r,strokeOpacity:s}}getDiameter(){return this.size+this.strokeWidth}};om([ly(gy),Rf({redraw:3})],pA.prototype,"enabled",2),om([ly(hA),Rf({redraw:3})],pA.prototype,"shape",2),om([ly(by),Rf({redraw:3})],pA.prototype,"size",2),om([ly(Py,{optional:!0}),Rf({redraw:3})],pA.prototype,"fill",2),om([ly(Cy),Rf({redraw:3})],pA.prototype,"fillOpacity",2),om([ly(Py,{optional:!0}),Rf({redraw:3})],pA.prototype,"stroke",2),om([ly(by),Rf({redraw:3})],pA.prototype,"strokeWidth",2),om([ly(Cy),Rf({redraw:3})],pA.prototype,"strokeOpacity",2),om([ly(my,{optional:!0}),Rf({redraw:3})],pA.prototype,"itemStyler",2);var gA=class extends yv{constructor(){super(...arguments),this.enabled=!1}};om([ly(gy)],gA.prototype,"enabled",2);var mA=class extends yv{constructor(){super(...arguments),this.enabled=!0,this.interaction=new gA,this.position=new Bw,this.range=void 0}toTooltipHtml(e,t){return this.renderer?jw(this.renderer(t),e):jw(e)}};om([ly(gy)],mA.prototype,"enabled",2),om([ly(gy,{optional:!0})],mA.prototype,"showArrow",2),om([ly(my,{optional:!0})],mA.prototype,"renderer",2),om([ly(hy)],mA.prototype,"interaction",2),om([ly(hy)],mA.prototype,"position",2),om([ly(Zy,{optional:!0})],mA.prototype,"range",2);var fA=Jy(["linear","smooth","step"],"a line style"),vA=Jy(["start","middle","end"]),yA=class extends yv{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};om([ly(fA)],yA.prototype,"type",2),om([ly(Cy)],yA.prototype,"tension",2),om([ly(vA)],yA.prototype,"position",2);var bA=class extends xk{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new yA,this.shadow=new uA,this.marker=new pA,this.label=new RC,this.tooltip=new mA,this.connectMissingData=!1}};function CA(e,t,i){let{id:n}=e;const o={phase:i?Wv[i]:"trailing"};for(var r=arguments.length,s=new Array(r>3?r-3:0),a=3;a<r;a++)s[a-3]=arguments[a];Yv(n,"markers",t,s,{opacity:0},{opacity:1},o),s.forEach((e=>e.cleanup()))}function wA(e,t){let{id:i}=e;for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];Yv(i,"markers",t,o,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),o.forEach((e=>e.cleanup()))}function xA(e,t){let{id:i,nodeDataDependencies:n}=e;const o=n.seriesRectWidth;for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];Uv(i,"markers",t,s,{fromFn:(e,t)=>{var i,n;const r=null!==(i=null===(n=t.midPoint)||void 0===n?void 0:n.x)&&void 0!==i?i:o;let s=cf(0,jv(r/o),1);return isNaN(s)&&(s=0),{scalingX:0,scalingY:0,delay:s,duration:Bv,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function SA(e){return{opacity:1,scalingX:1,scalingY:1}}function RA(e,t){var i,n,o,r;return{translationX:null!==(i=null===(n=t.point)||void 0===n?void 0:n.x)&&void 0!==i?i:NaN,translationY:null!==(o=null===(r=t.point)||void 0===r?void 0:r.y)&&void 0!==o?o:NaN}}function MA(e,t){const i=(t,i)=>{const n=e[i][t];return Array.isArray(n)?n[0]:n},n=t=>{const{xValue:n}=t;return e.moved[n]?{point:i(n,"moved"),status:"updated"}:e.removed[n]?{point:i(n,"removed"),status:"removed"}:e.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(e,i)=>{var o,r,s,a;const{status:l,point:c}=n(i);if("unknown"===l)return{opacity:0};const d={translationX:null!==(o=null===c||void 0===c||null===(r=c.from)||void 0===r?void 0:r.x)&&void 0!==o?o:e.translationX,translationY:null!==(s=null===c||void 0===c||null===(a=c.from)||void 0===a?void 0:a.y)&&void 0!==s?s:e.translationY,opacity:e.opacity,phase:Wv[l]};var u,h;return"added"===t?{...d,opacity:0,translationX:null===c||void 0===c||null===(u=c.to)||void 0===u?void 0:u.x,translationY:null===c||void 0===c||null===(h=c.to)||void 0===h?void 0:h.y,phase:Wv.added}:("added"===l&&(d.opacity=0),d)},toFn:(e,i)=>{const{status:o,point:r}=n(i);if("unknown"===o)return{opacity:0};const s={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:Wv[o]};var a,l;return"removed"===o||"removed"===t?{...s,translationX:null===r||void 0===r||null===(a=r.to)||void 0===a?void 0:a.x,translationY:null===r||void 0===r||null===(l=r.to)||void 0===l?void 0:l.y,opacity:0,phase:Wv.removed}:s}}}function kA(e,t){let{datumIndex:i}=t;const n=e.getNodeData();if(void 0===n)return;const o=n[i];if(void 0===o||void 0===o.point)return;const r=e.getFormattedMarkerStyle(o).size,s=r/2,{x:a,y:l}=e.contentGroup.inverseTransformPoint(o.point.x-s,o.point.y-s);return new xf(a,l,r,r)}om([ly(fy)],bA.prototype,"xKey",2),om([ly(fy,{optional:!0})],bA.prototype,"xName",2),om([ly(fy)],bA.prototype,"yKey",2),om([ly(fy,{optional:!0})],bA.prototype,"yName",2),om([ly(by,{optional:!0})],bA.prototype,"normalizedTo",2),om([ly(Py)],bA.prototype,"fill",2),om([ly(Cy)],bA.prototype,"fillOpacity",2),om([ly(Py)],bA.prototype,"stroke",2),om([ly(by)],bA.prototype,"strokeWidth",2),om([ly(Cy)],bA.prototype,"strokeOpacity",2),om([ly(Gy)],bA.prototype,"lineDash",2),om([ly(by)],bA.prototype,"lineDashOffset",2),om([ly(hy)],bA.prototype,"interpolation",2),om([ly(hy)],bA.prototype,"shadow",2),om([ly(hy)],bA.prototype,"marker",2),om([ly(hy)],bA.prototype,"label",2),om([ly(hy)],bA.prototype,"tooltip",2),om([ly(gy)],bA.prototype,"connectMissingData",2);var DA=.05;function AA(e){return e.reduce(((e,t)=>{let{min:i,max:n}=e;return(null==i||i.point.x>t.point.x)&&(i=t),(null==n||n.point.x<t.point.x)&&(n=t),{min:i,max:n}}),{})}function EA(e,t,i){const n=(t.y-e.y)/(t.x-e.x);return{x:i,y:(i-e.x)*n+e.y}}function TA(e,t,i,n){let o=-1,r=0;const s=[];for(;r<e.length;)e[r].change!==t?e[r].change!==i?(s.length>0&&(n(s,o,r),s.length=0),o=r,r++):r++:(s.push(e[r]),r++);s.length>0&&n(s,o,r)}function PA(e,t){TA(e,"out","in",((i,n,o)=>{var r,s;-1===n&&e[o]?i.forEach((t=>t.to=e[o].from)):o===e.length&&e[n]?i.forEach((t=>t.to=e[n].from)):"intersect"===t&&null!==(r=e[n])&&void 0!==r&&r.from&&null!==(s=e[o])&&void 0!==s&&s.from?i.forEach((t=>t.to=EA(e[n].from,e[o].from,t.from.x))):i.forEach((e=>e.to=e.from))})),TA(e,"in","out",((i,n,o)=>{var r,s;-1===n&&e[o]?i.forEach((t=>t.from=e[o].to)):o===e.length&&e[n]?i.forEach((t=>t.from=e[n].to)):"intersect"===t&&null!==(r=e[n])&&void 0!==r&&r.to&&null!==(s=e[o])&&void 0!==s&&s.to?i.forEach((t=>t.from=EA(e[n].to,e[o].to,t.to.x))):i.forEach((e=>e.from=e.to))}))}function FA(e,t,i){const n=isNaN(e.x)?t.x:e.x,o=isNaN(e.y)?t.y:e.y,r=t.x-e.x,s=t.y-e.y;return{x:n+(isNaN(r)?0:r*i),y:o+(isNaN(s)?0:s*i)}}var NA={start:0,middle:.5,end:1};function LA(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:o}=t;var r;if("smooth"===(null===i||void 0===i?void 0:i.type))!function(e,t,i,n){const o=Array.isArray(t)?t:Array.from(t);if(0===o.length)return;if(n?e.lineTo(o[0].x,o[0].y):e.moveTo(o[0].x,o[0].y),o.length<=1)return;const r=o.map(((e,t)=>{const i=0===t?e:o[t-1],n=t===o.length-1?e:o[t+1],r=0===t||t===o.length-1;if(Math.sign(i.y-e.y)===Math.sign(n.y-e.y))return 0;if(!r){const t=Math.abs(i.y-n.y),o=Math.abs(e.y-i.y)/t,r=Math.abs(e.y-n.y)/t;if(o<=DA||1-o<=DA||r<=DA||1-r<=DA)return 0}return(n.y-i.y)/(n.x-i.x)}));0===r[1]&&(r[0]*=2),0===r[r.length-2]&&(r[r.length-1]*=2);for(let s=1;s<o.length;s+=1){const t=o[s-1],n=r[s-1],a=o[s],l=r[s],c=a.x-t.x,d=a.y-t.y;let u=c*i/3,h=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(h)>Math.abs(d)&&(u*=Math.abs(d/h),h=Math.sign(h)*Math.abs(d)),0===n&&Math.abs(g)>Math.abs(d)&&(p*=Math.abs(d/g),g=Math.sign(g)*Math.abs(d)),e.cubicCurveTo(t.x+u,t.y+h,a.x-p,a.y-g,a.x,a.y)}}(o,e,null!==(r=i.tension)&&void 0!==r?r:1,n);else if("step"===(null===i||void 0===i?void 0:i.type)){var s;!function(e,t,i,n){let o;for(const a of t){if(null!=o){var r,s;const t=o.x<a.x?i:1-i,n=(a.x-o.x)*t+o.x;e.lineTo(n,null!==(r=null===(s=o)||void 0===s?void 0:s.y)&&void 0!==r?r:a.y),e.lineTo(n,a.y),e.lineTo(a.x,a.y)}else n?e.lineTo(a.x,a.y):e.moveTo(a.x,a.y);o=a}}(o,e,NA[null!==(s=i.position)&&void 0!==s?s:"end"],n)}else!function(e,t,i){let n=i;for(const{x:o,y:r}of t)n?e.lineTo(o,r):(e.moveTo(o,r),n=!0)}(o,e,n)}function IA(e,t){let i,n;const o=[],r=()=>{null!=n&&(o.push(n),n=void 0)};for(const l of e){const{from:e,to:o}=l,c=t[l.change];if(null==c||null==e||null==o)continue;const d=FA(e,o,c);var s;if(!1===l.moveTo)null!==(s=n)&&void 0!==s||(n=[]),n.push(d);else if(!0!==l.moveTo&&i){if(i){var a;const e="in"===l.moveTo?c:1-c,{x:t,y:o}=FA(i,d,e);null!==(a=n)&&void 0!==a||(n=[]),n.push({x:t,y:o}),r(),n=[d]}}else r(),n=[d];i=d}return r(),o}function OA(e,t,i,n){IA(e,t).forEach((e=>{LA(e,i,n)}))}function jA(e,t){let{id:i,visible:n,nodeDataDependencies:o}=e;const{seriesRectWidth:r,seriesRectHeight:s}=o;for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];Yv(i,"path_properties",t,l,{clipX:0},{clipX:r},{phase:"initial",start:{clipMode:"normal",clipY:s,visible:n},finish:{clipMode:void 0,visible:n}})}function BA(e,t,i){let{id:n}=e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var r=arguments.length,s=new Array(r>4?r-4:0),a=4;a<r;a++)s[a-4]=arguments[a];Yv(n,t,i,s,{opacity:0},{opacity:1},{phase:o})}function _A(e,t,i){let{id:n}=e;for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];Yv(n,t,i,r,{opacity:1},{opacity:0},{phase:"remove"})}function GA(e){return t=>({opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function zA(e,t){let{nodeDataDependencies:i}=e;const n=e=>isFinite(e)?e:0;t.clipX=n(i.seriesRectWidth),t.clipY=n(i.seriesRectHeight)}function HA(e){return"continuous"===e.type||"log"===e.type}function VA(e){return"category"===e.type}function WA(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every(((e,i)=>e===t.domain[i]))&&e.range.every(((e,i)=>e===t.range[i]))}function UA(e,t){return void 0===e||void 0===t?void 0!==e||void 0!==t:HA(e)&&HA(t)?e.type===t.type&&WA(e,t):!(!VA(e)||!VA(t))&&WA(e,t)}function*YA(e){let t=-1,i=0;for(const{point:n}of e){if(n.moveTo){const e=t>=0?{start:t,end:i}:void 0;t=i,i=t,void 0!==e&&(yield e)}i+=1}-1!==t&&(yield{start:t,end:i})}function KA(e,t){let{start:i,end:n}=t;return function*(){for(let t=i;t<n;t+=1)yield e[t].point}()}function qA(e,t){let{start:i,end:n}=t;return function*(){for(let t=n-1;t>=i;t-=1)yield e[t].point}()}function XA(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),"continuous"===t.type&&"number"===typeof e){return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0]}if("log"===t.type&&"number"===typeof e)return t.convert(e);const i=t.domain.findIndex((t=>t===e));return i>=0?t.range[i]:NaN}function ZA(e,t){const i=Number(e),n=Number(t);return isNaN(i)||isNaN(n)?e===t:Math.abs(n-i)<.25}function QA(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(e):e?"in":"out"}function JA(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,o=t=>{var i,n;return{x:XA(null!==(i=t.xValue)&&void 0!==i?i:NaN,e.scales.x),y:XA(null!==(n=t.yValue)&&void 0!==n?n:NaN,e.scales.y)}},r=e=>{var i,n;return{x:XA(null!==(i=e.xValue)&&void 0!==i?i:NaN,t.scales.x),y:XA(null!==(n=e.yValue)&&void 0!==n?n:NaN,t.scales.y)}},s=[],a={added:{},moved:{},removed:{}},l=function(e,t,i){var n,o;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";e&&(isNaN(e.point.x)||isNaN(e.point.y))&&(e=t);const l={from:null===(n=e)||void 0===n?void 0:n.point,to:null===t||void 0===t?void 0:t.point,moveTo:QA(null===(o=e)||void 0===o?void 0:o.point.moveTo,null===t||void 0===t?void 0:t.point.moveTo),change:r};"move"===r?(a.moved[i]=l,p++,g++):"in"===r?(a.added[i]=l,g++):"out"===r&&(a.removed[i]=l,p++),s.push(l)},{min:c,max:d}=AA(t.nodeData),{min:u,max:h}=AA(e.nodeData);let p=0,g=0;for(;p<t.nodeData.length||g<e.nodeData.length;){var m,f,v,y;const i=t.nodeData[p],n=e.nodeData[g],s=i?o(i):void 0,a=n?r(n):void 0,b=void 0;if(s&&ZA(s.x,null===n||void 0===n?void 0:n.point.x))l(i,n,n.xValue,"move");else if(s&&s.x<(null!==(m=null===u||void 0===u?void 0:u.point.x)&&void 0!==m?m:-1/0))l(i,b,i.xValue,"out");else if(s&&s.x>(null!==(f=null===h||void 0===h?void 0:h.point.x)&&void 0!==f?f:1/0))l(i,b,i.xValue,"out");else if(a&&a.x<(null!==(v=null===c||void 0===c?void 0:c.point.x)&&void 0!==v?v:-1/0))l(b,n,n.xValue,"in");else if(a&&a.x>(null!==(y=null===d||void 0===d?void 0:d.point.x)&&void 0!==y?y:1/0))l(b,n,n.xValue,"in");else if(s&&s.x<(null===n||void 0===n?void 0:n.point.x))l(i,b,i.xValue,"out");else if(a&&a.x<(null===i||void 0===i?void 0:i.point.x))l(b,n,n.xValue,"in");else if(i)l(i,b,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");l(b,n,n.xValue,"in")}}return PA(s,n),{result:s,resultMap:a}}function $A(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:o="intersect",multiDatum:r=!1}=n,s=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let d,u;const h=(e,t)=>{var i;const n=c[t.change];var o;r?(null!==(o=(i=l[n])[e])&&void 0!==o||(i[e]=[]),l[n][e].push(t)):a[n][e]=t;d=t,u=NC(e)};let p=0,g=0,m=!1;for(;p<t.nodeData.length||g<e.nodeData.length;){const n=t.nodeData[p],o=e.nodeData[g],a=NC(null===n||void 0===n?void 0:n.xValue),l=NC(null===o||void 0===o?void 0:o.xValue);let c;var f;if(a===l)c={change:"move",moveTo:QA(null!==(f=n.point.moveTo)&&void 0!==f&&f,o.point.moveTo),from:n.point,to:o.point},h(null===n||void 0===n?void 0:n.xValue,c),p++,g++;else if(null!==i&&void 0!==i&&i.removed.has(String(a))){var v;c={change:"out",moveTo:null!==(v=n.point.moveTo)&&void 0!==v&&v,from:n.point},h(null===n||void 0===n?void 0:n.xValue,c),p++}else if(null!==i&&void 0!==i&&i.added.has(String(l))){var y;c={change:"in",moveTo:null!==(y=o.point.moveTo)&&void 0!==y&&y,to:o.point},h(null===o||void 0===o?void 0:o.xValue,c),g++}else if(r&&d&&u===a)c={...d},h(null===n||void 0===n?void 0:n.xValue,c),p++;else{if(!r||!d||u!==l){m=!0;break}c={...d},h(null===o||void 0===o?void 0:o.xValue,c),g++}s.push(c)}let b=-1/0;return m||(m=s.some((e=>{const{change:t,to:{x:i=-1/0}={}}=e;if("out"===t)return;const n=i<b;return b=i,n}))),m?{result:void 0,resultMap:void 0}:(PA(s,o),{result:s,resultMap:r?l:a})}function eE(e,t,i){let n="updated";const o=e=>e.visible;if(!o(t)&&o(e))n="added";else if(o(t)&&!o(e))n="removed";else for(let c=0;c<i.length;c++){var r,s,a,l;if("move"!==i[c].change)break;if((null===(r=i[c].from)||void 0===r?void 0:r.x)!==(null===(s=i[c].to)||void 0===s?void 0:s.x))break;if((null===(a=i[c].from)||void 0===a?void 0:a.y)!==(null===(l=i[c].to)||void 0===l?void 0:l.y))break;if(c===i.length-1)return"no-op"}return n}function tE(e,t){const i="none"===t?"updated":e,n={fromFn:t=>{let n;return n="removed"===e?{finish:{visible:!1}}:"added"===e?{start:{visible:!0}}:{},{phase:Wv[i],...n}},toFn:e=>({phase:Wv[i]})};return"fade"===t?{fromFn:t=>({opacity:"added"===e?0:t.opacity,...n.fromFn(t)}),toFn:t=>({opacity:"removed"===e?0:1,...n.toFn(t)})}:n}function iE(e,t,i,n,o,r){const s=eE(e,t,i);return{status:s,path:{addPhaseFn:(e,t)=>{r(i,{move:1,in:e},t,o)},updatePhaseFn:(e,t)=>{r(i,{move:e},t,o)},removePhaseFn:(e,t)=>{r(i,{move:0,out:e},t,o)}},pathProperties:tE(s,n)}}function nE(e,t,i,n){var o,r,s;const a="category"===(null===(o=e.scales.x)||void 0===o?void 0:o.type);if(a!==("category"===(null===(r=t.scales.x)||void 0===r?void 0:r.type)))return;const{result:l,resultMap:c}=a?$A(e,t,i):JA(e,t);let d="updated";if(t.visible&&!e.visible?d="removed":!t.visible&&e.visible&&(d="added"),void 0===l||void 0===c)return;const u=null===(s=null===i||void 0===i?void 0:i.changed)||void 0===s||s||function(e,t){return!UA(e.scales.x,t.scales.x)||!UA(e.scales.y,t.scales.y)}(e,t)||"updated"!==d;return{...iE(e,t,l,"fade",n,OA),marker:MA(c,d),hasMotion:u}}var oE=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(oE||{});function rE(e){const{points:t,phantomPoints:i}=e.fillData;return{top:t,bottom:i}}function sE(e,t,i){return{scales:t.scales,nodeData:i[e],visible:t.visible}}function aE(e,t,i,n,o){const r=IA(e,i),s=IA(t,i);if(r.length===s.length)for(let a=0;a<r.length;a+=1){const e=r[a],t=s[a].reverse();LA(e,n,o,!1),LA(t,n,o,!0),n.path.closePath()}}function lE(e,t,i,n,o,r){const s=eE(e,t,i);return{status:s,path:{addPhaseFn:(e,t)=>{aE(i,n,{move:1,in:e},t,r)},updatePhaseFn:(e,t)=>{aE(i,n,{move:e},t,r)},removePhaseFn:(e,t)=>{aE(i,n,{move:0,out:e},t,r)}},pathProperties:tE(s,o)}}function cE(e,t,i,n){var o,r;const s="category"===(null===(o=e.scales.x)||void 0===o?void 0:o.type),a="category"===(null===(r=t.scales.x)||void 0===r?void 0:r.type);if(s!==a)return;let l="updated";t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added");const{resultMap:c}=s?$A(e,t,i,{backfillSplitMode:"static",multiDatum:!0}):JA(e,t,{backfillSplitMode:"static"}),{top:d,bottom:u}=s?function(e,t,i){const n=rE(t),o=rE(e),r={multiDatum:!0};return{top:$A(sE("top",e,o),sE("top",t,n),i,r),bottom:$A(sE("bottom",e,o),sE("bottom",t,n),i,r)}}(e,t,i):function(e,t){const i=rE(t),n=rE(e);return{top:JA(sE("top",e,n),sE("top",t,i)),bottom:JA(sE("bottom",e,n),sE("bottom",t,i))}}(e,t);if(void 0===c||void 0===d.result||void 0===u.result)return;const h=d.result,p=u.result,g=!!t.stackVisible&&e.stackVisible,m=lE(e,t,h,p,g?"none":"fade",n),f=MA(c,l);return{status:m.status,fill:m,marker:f}}var dE=class extends Sk{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:GA({getOpacity:()=>this.getOpacity()}),label:cA,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...RA(0,t)})}}),this.properties=new bA}async processData(e){var t,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:o,seriesGrouping:{groupIndex:r=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=null===(t=this.axes.x)||void 0===t?void 0:t.scale,p=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{isContinuousX:g,xScaleType:m,yScaleType:f}=this.getScaleInformation({xScale:h,yScale:p}),v={value:"area-stack-".concat(r,"-yValue"),values:"area-stack-".concat(r,"-yValues"),valuesTrailing:"area-stack-".concat(r,"-yValues-trailing"),marker:"area-stack-".concat(r,"-yValues-marker")},y={values:"area-stack-".concat(r,"-yValues-prev"),valuesTrailing:"area-stack-".concat(r,"-yValues-trailing-prev")},b=[];Yf(d)&&(b.push(uM(Object.values(v),d,"range")),b.push(uM(Object.values(y),d,"range"))),!g&&u&&this.processedData&&b.push(CM(this.processedData)),u&&b.push(gM());const C={invalidValue:null};c&&s>1&&(C.invalidValue=0),o||(C.forceValue=0),await this.requestDataModel(e,n,{props:[DM(a,m,{id:"xValue"}),AM(l,f,{id:"yValueRaw",...C}),...NM(l,{id:"yValueContinuity",...C,groupId:"area-stack-".concat(r,"-yValues-continuity")}),AM(l,f,{id:"yValue",...C,groupId:v.value}),...FM(l,"window-trailing","current",{id:"yValueStart",...C,groupId:v.valuesTrailing},f),...FM(l,"window","current",{id:"yValueEnd",...C,groupId:v.values},f),...FM(l,"normal","current",{id:"yValueCumulative",...C,groupId:v.marker},f),...FM(l,"window","last",{id:"yValuePreviousEnd",...C,groupId:y.values},f),...FM(l,"window-trailing","last",{id:"yValuePreviousStart",...C,groupId:y.valuesTrailing},f),...b],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const o=n.x,r=n.y,s=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t),l=i.getDomain(this,"yValueEnd","value",t);if("x"===e)return"key"===(null===s||void 0===s?void 0:s.def.type)&&"category"===s.def.valueType?a:pR(ub(a),o);if(r instanceof Fk||r instanceof Nk)return pR(l,r);return pR([l[0]>0?0:l[0],l[1]<0?0:l[1]],r)}async createNodeData(){var e;const{axes:t,data:i,processedData:{data:n}={},dataModel:o}=this,r=t.x,s=t.y;if(!r||!s||!i||!o||!this.properties.isValid())return;const{yKey:a,xKey:l,marker:c,label:d,fill:u,stroke:h,connectMissingData:p}=this.properties,{scale:g}=r,{scale:m}=s,{isContinuousY:f}=this.getScaleInformation({xScale:g,yScale:m}),v=(null!==(e=g.bandwidth)&&void 0!==e?e:0)/2,y=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative","yValueContinuity","yValue"]),b=(e,t,i)=>{let n;return(Yf(this.properties.normalizedTo)?f&&PC(i):!isNaN(i))&&(n=t),{x:g.convert(e)+v,y:m.convert(n),size:c.size}},C=a,w=[],x=[],{visibleSameStackCount:S}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),R={itemId:C,fillData:{itemId:C,points:[],phantomPoints:[]},strokeData:{itemId:C,points:[]},labelData:w,nodeData:x,scales:this.calculateScaling(),visible:this.visible,stackVisible:S>0},M=R.fillData.points,k=R.fillData.phantomPoints,D=R.strokeData.points;let A,E,T=-1,P=!0;return null===n||void 0===n||n.forEach((e=>{const{keys:t,keys:[i],datum:n,values:r}=e;r.forEach(((e,r)=>{T++;const s=n[r],f=o.resolveProcessedDataDefsValues(y,{keys:t,values:e}),{yValueRaw:S,yValueCumulative:R,yValueContinuity:F}=f,{yValueStart:N,yValueEnd:L,yValuePreviousStart:I,yValuePreviousEnd:O,yValue:j}=f,B=null!=S,_=b(i,+R,S);var G,z,H;B&&c&&x.push({index:T,series:this,itemId:C,datum:s,midPoint:{x:_.x,y:_.y},cumulativeValue:L,yValue:S,xValue:i,yKey:a,xKey:l,point:_,fill:null!==(G=c.fill)&&void 0!==G?G:u,stroke:null!==(z=c.stroke)&&void 0!==z?z:h,strokeWidth:null!==(H=c.strokeWidth)&&void 0!==H?H:this.getStrokeWidth(this.properties.strokeWidth)});if(B&&d){const e=this.getLabelText(d,{value:S,datum:s,xKey:l,yKey:a,xName:this.properties.xName,yName:this.properties.yName},(e=>ov(e)?e.toFixed(2):String(e)));w.push({index:T,series:this,itemId:a,datum:s,x:_.x,y:_.y,label:e?{text:e,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}if(B||!p){B||(P=!0);const e=!P&&!p;e&&!1===E&&!0===F?(M.push({point:{x:_.x,y:m.convert(L),moveTo:!1},yValue:S,xValue:i}),k.push({point:{x:_.x,y:m.convert(N),moveTo:!1},yValue:S,xValue:i}),D.push({point:{x:_.x,y:m.convert(L),moveTo:!1},yValue:S,xValue:i}),P=!0):e&&!0===E&&!1===F&&(M.push({point:{x:g.convert(A)+v,y:m.convert(O),moveTo:!0},yValue:S,xValue:i}),k.push({point:{x:g.convert(A)+v,y:m.convert(I),moveTo:!0},yValue:S,xValue:i}),D.push({point:{x:g.convert(A)+v,y:m.convert(O),moveTo:!0},yValue:S,xValue:i}),P=!1),M.push({point:{x:_.x,y:m.convert(R),moveTo:P},yValue:S,xValue:i}),k.push({point:{x:_.x,y:m.convert(R-j),moveTo:P},yValue:S,xValue:i}),D.push({point:{x:_.x,y:m.convert(R),moveTo:P},yValue:S,xValue:i}),P=!B}A=i,E=F}))})),R}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(hk(e))}async updatePathNodes(e){const{opacity:t,visible:i,animationEnabled:n}=e,[o,r]=e.paths,s=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({tag:1,fill:void 0,lineJoin:r.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:t,visible:i||n,strokeWidth:s}),zA(this,r),zA(this,o)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){const{points:i,phantomPoints:n}=t.fillData,[o]=e,{interpolation:r}=this.properties;o.path.clear(!0);for(const s of YA(i))LA(KA(i,s),o,r,!1),LA(qA(n,s),o,r,!0),o.path.closePath();o.checkPathDirty()}updateStrokePath(e,t){const{points:i}=t.strokeData,[,n]=e,{path:o}=n,{interpolation:r}=this.properties;o.clear(!0);for(const s of YA(i))LA(KA(i,s),n,r);n.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,marker:r,fill:s,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:d,highlightStyle:u}=this.properties,h=dv(i&&u.item,r.getStyle(),{fill:s,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:d});t.each(((e,t)=>{this.updateMarkerStyle(e,r,{datum:t,highlighted:i,xKey:n,yKey:o},h)})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.tag=3}))}async updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:o,fontSize:r,fontFamily:s,color:a}=this.properties.label;t.each(((e,t)=>{const{x:l,y:c,label:d}=t;d&&i&&this.visible?(e.fontStyle=n,e.fontWeight=o,e.fontSize=r,e.fontFamily=s,e.textAlign=d.textAlign,e.textBaseline=d.textBaseline,e.text=d.text,e.x=l,e.y=c-10,e.fill=a,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{xKey:o,xName:r,yName:s,tooltip:a,marker:l}=this.properties,{yKey:c,xValue:d,yValue:u,datum:h,itemId:p}=e,g=i.x,m=i.y;if(!this.properties.isValid()||!(g&&m&&ov(u))||!n)return Iw;const f=g.formatDatum(d),v=m.formatDatum(u),y=sA(s),b=sA(f+": "+v),C=dv({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(l,{datum:e,xKey:o,yKey:c,highlighted:!1},C);return a.toTooltipHtml({title:y,content:b,backgroundColor:w},{datum:h,itemId:p,xKey:o,xName:r,yKey:c,yName:s,color:w,title:y,seriesId:t})}getLegendData(e){var t,i,n,o,r;if(null===(t=this.data)||void 0===t||!t.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==e)return[];const{yKey:s,yName:a,fill:l,stroke:c,fillOpacity:d,strokeOpacity:u,strokeWidth:h,lineDash:p,marker:g,visible:m,legendItemName:f}=this.properties,v=!g.enabled||void 0===g.fill;return[{legendType:e,id:this.id,itemId:s,seriesId:this.id,enabled:m,label:{text:null!==(i=null!==f&&void 0!==f?f:a)&&void 0!==i?i:s},symbols:[{marker:{shape:g.shape,fill:v?l:g.fill,fillOpacity:v?d:g.fillOpacity,stroke:null!==(n=g.stroke)&&void 0!==n?n:c,strokeOpacity:null!==(o=g.strokeOpacity)&&void 0!==o?o:u,strokeWidth:null!==(r=g.strokeWidth)&&void 0!==r?r:0,enabled:g.enabled||h<=0},line:{stroke:c,strokeOpacity:u,strokeWidth:h,lineDash:p}}],legendItemName:f}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:o}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(o,n),jA(this,r,...o),tw([t],RA),xA(this,r,t),aA(this,"labels",r,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var t;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:o,contextData:r,paths:s,previousContextData:a}=e,[l,c]=s;if(null==l&&null==c)return;super.resetAllAnimation(e);const d=()=>{this.updateAreaPaths(s,r),this.updateStrokePath(s,r)};if(null==r||null==a)return d(),CA(this,i,"added",n),BA(this,"fill_path_properties",i,"add",l),BA(this,"stroke",i,"trailing",c),void aA(this,"labels",i,o);const u=cE(r,a,null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.diff,this.properties.interpolation);if(void 0===u)return i.skipCurrentBatch(),void d();"no-op"!==u.status&&(CA(this,i,void 0,n),Uv(this.id,"fill_path_properties",i,[l],u.fill.pathProperties),oA(this.id,"fill_path_update",i,[l],u.fill.path),this.updateStrokePath(s,r),BA(this,"stroke",i,"trailing",c),aA(this,"labels",i,o))}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Jb}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return kA(this,e)}};dE.className="AreaSeries",dE.type="area";var uE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:dE,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:BD,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:ED,color:TD}}},paletteFactory:e=>{const{marker:t}=wD(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function*hE(e){for(const t of e.children)yield t}function pE(e,t){for(const i of t){const t=i.datum;void 0===t?hm.error("undefined datum"):e.addValue(i,t)}}function gE(e,t){const{x:i,y:n}=e.contentGroup.transformPoint(t.x,t.y),{nearest:o,distanceSquared:r}=e.getQuadTree().find(i,n);if(void 0!==o)return{datum:o.value,distance:Math.sqrt(r)}}var mE=class extends xk{constructor(){super(...arguments),this.direction="vertical"}};om([ly(qy)],mE.prototype,"direction",2);var fE=class extends Sk{constructor(){super(...arguments),this.groupScale=new ay,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}updateGroupScale(e){const{groupScale:t,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,o=e.scale,r=cb.is(o)?o.calcBandwidth(i):o.bandwidth,s=[],{index:a,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let c=0;c<l;c++)s.push(String(c));t.domain=s,t.range=[0,null!==r&&void 0!==r?r:0],e instanceof Rx?t.paddingInner=e.groupPaddingInner:t.padding=e instanceof Ox?.1:0,t.round=0!==t.padding;return{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:a}}resolveKeyDirection(e){return"x"===this.getBarDirection()?"x"===e?"y":"x":e}initQuadTree(e){pE(e,this.datumNodesIter())}pickNodeClosestDatum(e){return gE(this,e)}},vE=class extends RC{constructor(){super(...arguments),this.placement="inside"}};om([ly(Xy)],vE.prototype,"placement",2);var yE=class extends mE{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new uA,this.label=new vE,this.tooltip=new mA}};function bE(e){let{rect:t,config:i}=e;const{crisp:n=!0,fill:o,stroke:r,strokeWidth:s,fillOpacity:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,fillShadow:u,cornerRadius:h=0,topLeftCornerRadius:p=!0,topRightCornerRadius:g=!0,bottomRightCornerRadius:m=!0,bottomLeftCornerRadius:f=!0,visible:v=!0}=i;t.crisp=n,t.fill=o,t.stroke=r,t.strokeWidth=s,t.fillOpacity=a,t.strokeOpacity=l,t.lineDash=c,t.lineDashOffset=d,t.fillShadow=u,t.topLeftCornerRadius=p?h:0,t.topRightCornerRadius=g?h:0,t.bottomRightCornerRadius=m?h:0,t.bottomLeftCornerRadius=f?h:0,t.visible=v}function CE(e){var t,i,n,o,r,s,a,l,c,d,u,h,p,g,m,f;let{datum:v,isHighlighted:y,style:b,highlightStyle:C,itemStyler:w,seriesId:x,ctx:{callbackCache:S},...R}=e;const{fill:M,fillOpacity:k,stroke:D,strokeWidth:A,strokeOpacity:E,lineDash:T,lineDashOffset:P,cornerRadius:F=0}=dv(y&&C,b),{fillShadow:N,topLeftCornerRadius:L=!0,topRightCornerRadius:I=!0,bottomRightCornerRadius:O=!0,bottomLeftCornerRadius:j=!0}=b;let B;return w&&(B=S.call(w,{datum:v.datum,xKey:v.xKey,fill:M,fillOpacity:k,stroke:D,strokeWidth:A,strokeOpacity:E,lineDash:T,lineDashOffset:P,cornerRadius:F,highlighted:y,seriesId:x,...R})),{fill:null!==(t=null===(i=B)||void 0===i?void 0:i.fill)&&void 0!==t?t:M,fillOpacity:null!==(n=null===(o=B)||void 0===o?void 0:o.fillOpacity)&&void 0!==n?n:k,stroke:null!==(r=null===(s=B)||void 0===s?void 0:s.stroke)&&void 0!==r?r:D,strokeWidth:null!==(a=null===(l=B)||void 0===l?void 0:l.strokeWidth)&&void 0!==a?a:A,strokeOpacity:null!==(c=null===(d=B)||void 0===d?void 0:d.strokeOpacity)&&void 0!==c?c:E,lineDash:null!==(u=null===(h=B)||void 0===h?void 0:h.lineDash)&&void 0!==u?u:T,lineDashOffset:null!==(p=null===(g=B)||void 0===g?void 0:g.lineDashOffset)&&void 0!==p?p:P,cornerRadius:null!==(m=null===(f=B)||void 0===f?void 0:f.cornerRadius)&&void 0!==m?m:F,topLeftCornerRadius:L,topRightCornerRadius:I,bottomRightCornerRadius:O,bottomLeftCornerRadius:j,fillShadow:N}}function wE(e,t,i,n){if(null!=t){const[e,i]=t;if(0!==e||1!==i)return!1}if(cb.is(e)){const t=e.calcBandwidth(n)-e.calcBandwidth(i);if(t>0&&t<1)return!1}return!0}om([ly(fy)],yE.prototype,"xKey",2),om([ly(fy,{optional:!0})],yE.prototype,"xName",2),om([ly(fy)],yE.prototype,"yKey",2),om([ly(fy,{optional:!0})],yE.prototype,"yName",2),om([ly(fy,{optional:!0})],yE.prototype,"stackGroup",2),om([ly(vy,{optional:!0})],yE.prototype,"normalizedTo",2),om([ly(Py)],yE.prototype,"fill",2),om([ly(Cy)],yE.prototype,"fillOpacity",2),om([ly(Py)],yE.prototype,"stroke",2),om([ly(by)],yE.prototype,"strokeWidth",2),om([ly(Cy)],yE.prototype,"strokeOpacity",2),om([ly(Gy)],yE.prototype,"lineDash",2),om([ly(by)],yE.prototype,"lineDashOffset",2),om([ly(by)],yE.prototype,"cornerRadius",2),om([ly(gy,{optional:!0})],yE.prototype,"crisp",2),om([ly(my,{optional:!0})],yE.prototype,"itemStyler",2),om([ly(hy,{optional:!0})],yE.prototype,"shadow",2),om([ly(hy)],yE.prototype,"label",2),om([ly(hy)],yE.prototype,"tooltip",2);var xE=e=>{var t;return gf(null!==(t=e.yValue)&&void 0!==t?t:0)};function SE(e,t,i){const{startingX:n,startingY:o}=function(e,t){const i=t[e?"y":"x"];let n=1/0,o=0;if(!i)return{startingX:n,startingY:o};e?o=i.scale.convert(cb.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(cb.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:o}}(e,t);return{isVertical:e,calculate:(t,i)=>{let r=e?t.x:n,s=e?o:t.y,a=e?t.width:0,l=e?0:t.height;const{opacity:c}=t;let d;return i&&(isNaN(r)||isNaN(s))&&(({x:r,y:s}=i),a=e?i.width:0,l=e?0:i.height,e&&!xE(i)?s+=i.height:!e&&xE(i)&&(r+=i.width)),d=null==t.clipBBox?void 0:xE(t)?e?new xf(r,s-l,a,l):new xf(r-a,s,a,l):new xf(r,s,a,l),{x:r,y:s,width:a,height:l,clipBBox:d,opacity:c}},mode:i}}function RE(e,t){return{isVertical:e,calculate:t=>({x:e?t.x:t.x+t.width/2,y:e?t.y+t.height/2:t.y,width:e?t.width:0,height:e?0:t.height,clipBBox:t.clipBBox,opacity:t.opacity}),mode:t}}function ME(e){const t=e=>null==e||isNaN(e.x)||isNaN(e.y);return{toFn:(i,n,o)=>{let r;return r="removed"===o&&null==i.datum&&"fade"===e.mode?{...kE(i,n),opacity:0}:"removed"===o||t(n)?e.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},r},fromFn:(i,n,o)=>{let r;"updated"===o&&t(n)?o="removed":"updated"===o&&t(i.previousDatum)&&(o="added"),r="added"===o&&null==i.previousDatum&&"fade"===e.mode?{...kE(i,n),opacity:0}:"unknown"===o||"added"===o?e.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const s=Wv[o];return{...r,phase:s}}}}function kE(e,t){let{x:i,y:n,width:o,height:r,clipBBox:s,opacity:a}=t;return{x:i,y:n,width:o,height:r,clipBBox:s,opacity:a}}function DE(e,t,i){if(void 0===e)return;const{x:n,y:o,width:r,height:s}=e;return t.inverseTransformBBox(new xf(n,o,r,s)).clip(i)}function AE(e,t,i){if(t.enabled&&i){const{x:n,y:o,text:r,textAlign:s,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=t;e.setProperties({visible:!0,x:n,y:o,text:r,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:s,textBaseline:a})}else e.visible=!1}function EE(e){let{isPositive:t,isVertical:i,placement:n,padding:o=0,rect:r}=e,s=r.x+r.width/2,a=r.y+r.height/2,l="center",c="middle";switch(n){case"start":i?(a=t?r.y+r.height+o:r.y-o,c=t?"top":"bottom"):(s=t?r.x-o:r.x+r.width+o,l=t?"start":"end");break;case"outside":case"end":i?(a=t?r.y-o:r.y+r.height+o,c=t?"bottom":"top"):(s=t?r.x+r.width+o:r.x-o,l=t?"start":"end")}return{x:s,y:a,textAlign:l,textBaseline:c}}var TE=class extends fE{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,pickModes:[3,0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:kE,label:cA}}),this.properties=new yE}async processData(e){var t,i,n,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:r=this.id}={},data:s=[]}=this,{xKey:a,yKey:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=null===(t=this.getCategoryAxis())||void 0===t?void 0:t.scale,h=null===(i=this.getValueAxis())||void 0===i?void 0:i.scale,{isContinuousX:p,xScaleType:g,yScaleType:m}=this.getScaleInformation({xScale:u,yScale:h}),f="bar-stack-".concat(r,"-yValues"),v="".concat(f,"-trailing"),y=[];ov(c)&&y.push(uM([f,v],Math.abs(c),"range")),d&&this.processedData&&y.push(CM(this.processedData)),d&&y.push(gM());const b=this.visible?{}:{forceValue:0},{processedData:C}=await this.requestDataModel(e,s,{props:[DM(a,g,{id:"xValue"}),AM(l,m,{id:"yValue-raw",invalidValue:null,...b}),...FM(l,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0,...b},m),...FM(l,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0,...b},m),...p?[aM,lM]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=null===(n=C.reduced)||void 0===n?void 0:n.smallestKeyInterval,this.largestDataInterval=null===(o=C.reduced)||void 0===o?void 0:o.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,smallestDataInterval:n}=this;if(!t||!i||0===t.data.length)return[];const o=this.getCategoryAxis(),r=this.getValueAxis(),s=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t),l=i.getDomain(this,"yValue-end","value",t);if(e===this.getCategoryDirection()){var c;if("key"===(null===s||void 0===s?void 0:s.def.type)&&"category"===s.def.valueType)return a;const e=ov(n)?.5*n:0,t=null!==(c=ub(a))&&void 0!==c?c:[NaN,NaN];return pR([t[0]+-e,t[1]+e],o)}if(this.getValueAxis()instanceof Fk)return pR(l,r);return pR([Math.min(0,l[0]),Math.max(0,l[1])],r)}async createNodeData(){const{dataModel:e}=this,t=this.getCategoryAxis(),i=this.getValueAxis();if(!e||!t||!i||!this.properties.isValid())return;const n=t.scale,o=i.scale,{xKey:r,yKey:s,xName:a,yName:l,fill:c,stroke:d,strokeWidth:u,cornerRadius:h,legendItemName:p,label:g}=this.properties,m=i.isReversed(),{barWidth:f,groupIndex:v}=this.updateGroupScale(t),y=cb.is(n)?-.5*f:0,b=e.resolveProcessedDataIndexById(this,"xValue"),C=e.resolveProcessedDataIndexById(this,"yValue-raw"),w=e.resolveProcessedDataIndexById(this,"yValue-start"),x=e.resolveProcessedDataIndexById(this,"yValue-end"),S=e.resolveProcessedDataIndexById(this,"yValue-range"),R=!this.ctx.animationManager.isSkipped(),M={itemId:s,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible||R},{groupScale:k,processedData:D}=this;return null===D||void 0===D||D.data.forEach((e=>{let{keys:t,datum:i,values:R,aggValues:D}=e;R.forEach(((e,R)=>{var A;const E=t[b],T=n.convert(E),P=+e[x],F=+e[w],N=e[C],L=N>=0&&!Object.is(N,-0),I=L!==m,O=null!==(A=null===D||void 0===D?void 0:D[S][L?1:0])&&void 0!==A?A:0,j=T+k.convert(String(v))+y;if(isNaN(P))return;const B=o.convert(P),_=o.convert(F),G="x"===this.getBarDirection(),z=o.convert(O),H=o.convert(0),V={x:G?Math.min(B,_):j,y:G?j:Math.min(B,_),width:G?Math.abs(_-B):f,height:G?f:Math.abs(_-B)},W=new xf(V.x,V.y,V.width,V.height),U={x:G?Math.min(H,z):j,y:G?j:Math.min(H,z),width:G?Math.abs(H-z):f,height:G?f:Math.abs(H-z),clipBBox:W},{fontStyle:Y,fontWeight:K,fontSize:q,fontFamily:X,color:Z,placement:Q}=g,J=this.getLabelText(this.properties.label,{datum:i[R],value:N,xKey:r,yKey:s,xName:a,yName:l,legendItemName:p},(e=>ov(e)?e.toFixed(2):String(e))),$=J?{text:J,fill:Z,fontStyle:Y,fontWeight:K,fontSize:q,fontFamily:X,...EE({isPositive:L,isVertical:!G,placement:Q,rect:V})}:void 0,ee=this.shouldFlipXY()?V.height:V.width,te={series:this,itemId:s,datum:i[R],valueIndex:R,cumulativeValue:P,xValue:E,yValue:N,yKey:s,xKey:r,capDefaults:{lengthRatioMultiplier:ee,lengthMax:ee},x:U.x,y:U.y,width:U.width,height:U.height,midPoint:{x:V.x+V.width/2,y:V.y+V.height/2},fill:c,stroke:d,opacity:1,strokeWidth:u,cornerRadius:h,topLeftCornerRadius:G!==I,topRightCornerRadius:I,bottomRightCornerRadius:G===I,bottomLeftCornerRadius:!I,clipBBox:W,label:$,missing:null==N};M.nodeData.push(te),M.labelData.push(te)}))})),M}nodeFactory(){return new Bk}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,(e=>{e.tag=0}),(e=>wM(e.xValue,e.valueIndex)))}async updateDatumNodes(e){var t;if(!this.properties.isValid())return;const{yKey:i,stackGroup:n,fill:o,fillOpacity:r,stroke:s,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,itemStyler:u,shadow:h,highlightStyle:{item:p}}=this.properties,g=this.axes.x,m=null!==(t=this.properties.crisp)&&void 0!==t?t:wE(null===g||void 0===g?void 0:g.scale,null===g||void 0===g?void 0:g.visibleRange,this.smallestDataInterval,this.largestDataInterval),f="x"===this.getCategoryDirection();e.datumSelection.each(((t,g)=>{var v,y,b,C;const w={fill:o,stroke:s,fillOpacity:r,strokeOpacity:l,lineDash:c,lineDashOffset:d,fillShadow:h,strokeWidth:this.getStrokeWidth(a),cornerRadius:g.cornerRadius,topLeftCornerRadius:g.topLeftCornerRadius,topRightCornerRadius:g.topRightCornerRadius,bottomRightCornerRadius:g.bottomRightCornerRadius,bottomLeftCornerRadius:g.bottomLeftCornerRadius},x=f?(null!==(v=null===(y=g.clipBBox)||void 0===y?void 0:y.width)&&void 0!==v?v:g.width)>0:(null!==(b=null===(C=g.clipBBox)||void 0===C?void 0:C.height)&&void 0!==b?b:g.height)>0,S=CE({datum:g,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:p,yKey:i,style:w,itemStyler:u,stackGroup:n});S.crisp=m,S.visible=x,bE({rect:t,config:S})}))}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,(e=>{e.tag=1,e.pointerEvents=1}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{AE(e,this.properties.label,t.label)}))}getTooltipHtml(e){var t,i;const{id:n,processedData:o,ctx:{callbackCache:r}}=this,s=this.getCategoryAxis(),a=this.getValueAxis();if(!o||!this.properties.isValid()||!s||!a)return Iw;const{xKey:l,yKey:c,xName:d,yName:u,fill:h,stroke:p,strokeWidth:g,tooltip:m,itemStyler:f,stackGroup:v,legendItemName:y}=this.properties,{xValue:b,yValue:C,datum:w,itemId:x}=e,S=s.formatDatum(b),R=a.formatDatum(C),M=sA(u),k=sA(S+": "+R);let D;var A;f&&(D=r.call(f,{seriesId:n,datum:w,xKey:l,yKey:c,stackGroup:v,fill:h,stroke:p,strokeWidth:this.getStrokeWidth(g),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:null!==(A=this.properties.lineDash)&&void 0!==A?A:[],lineDashOffset:this.properties.lineDashOffset}));const E=null!==(t=null===(i=D)||void 0===i?void 0:i.fill)&&void 0!==t?t:h;return m.toTooltipHtml({title:M,content:k,backgroundColor:E},{seriesId:n,itemId:x,datum:w,xKey:l,yKey:c,xName:d,yName:u,stackGroup:v,title:M,color:E,legendItemName:y,...this.getModuleTooltipParams()})}getLegendData(e){var t,i;const{showInLegend:n}=this.properties;if("category"!==e||null===(t=this.data)||void 0===t||!t.length||!this.properties.isValid()||!n)return[];const{yKey:o,yName:r,fill:s,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:d,legendItemName:u,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:h,label:{text:null!==(i=null!==u&&void 0!==u?u:r)&&void 0!==i?i:o},symbols:[{marker:{fill:s,fillOpacity:c,stroke:a,strokeWidth:l,strokeOpacity:d}}],legendItemName:u}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i,annotationSelections:n}=e;const o=ME(SE(this.isVertical(),this.axes,"normal"));Uv(this.id,"nodes",this.ctx.animationManager,[t],o),aA(this,"labels",this.ctx.animationManager,i),aA(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){var t,i;const{datumSelection:n,labelSelection:o,annotationSelections:r,previousContextData:s}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.diff,l=null==s?"fade":"normal",c=ME(SE(this.isVertical(),this.axes,l));Uv(this.id,"nodes",this.ctx.animationManager,[n],c,((e,t)=>wM(t.xValue,t.valueIndex)),a);(null===(i=null===a||void 0===a?void 0:a.changed)||void 0===i||i)&&(aA(this,"labels",this.ctx.animationManager,o),aA(this,"annotations",this.ctx.animationManager,...r))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){var t;let{datumIndex:i,seriesRect:n}=e;return DE(null===(t=this.contextNodeData)||void 0===t?void 0:t.nodeData[i].clipBBox,this.contentGroup,n)}};TE.className="BarSeries",TE.type="bar";var PE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:TE,stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:e=>"horizontal"===(null===e||void 0===e?void 0:e.direction),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:ED,color:FD,placement:"inside"},shadow:{enabled:!1,color:BD,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:CD},FE=e=>{const t=Of.fromString(e),[i,n,o]=Of.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:o,a:t.a}},NE=1e-6,LE=e=>e.c<NE||e.l<NE||e.l>1-NE,IE=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(FE)}update(){const{domain:e,range:t}=this;e.length<2&&(hm.warnOnce("`colorDomain` should have at least 2 values."),0===e.length?e.push(0,1):1===e.length&&e.push(e[0]+1));for(let i=1;i<e.length;i++){if(e[i-1]>=e[i]){hm.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort(((e,t)=>e-t));break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(FE)}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,o=t[0],r=t.at(-1),s=i[0],a=i[i.length-1];if(e<=o)return s;if(e>=r)return a;let l,c;if(2===t.length){const t=(e-o)/(r-o),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(t*(i.length-1)),i.length-2),c=(t-l*n)/n}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const i=t[l];c=(e-i)/(t[l+1]-i)}return((e,t,i)=>{let n;if(i=cf(0,i,1),LE(e))n=t.h;else if(LE(t))n=e.h;else{const o=e.h;let r=t.h;const s=t.h-e.h;s>180?r-=360:s<-180&&(r+=360),n=o*(1-i)+r*i}const o=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,s=e.a*(1-i)+t.a*i;return Of.fromOKLCH(r,o,n,s)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&hm.warnOnce("Expected update to not invalidate scale"))}};om([ry],IE.prototype,"domain",2),om([ry],IE.prototype,"range",2);var OE=class extends pA{constructor(){super(...arguments),this.maxSize=30}};om([ly(by),Rf({redraw:3})],OE.prototype,"maxSize",2),om([ly(Ly,{optional:!0}),Rf({redraw:3})],OE.prototype,"domain",2);var jE=class extends RC{constructor(){super(...arguments),this.placement="top"}};om([ly(Qy)],jE.prototype,"placement",2);var BE=class extends xk{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new jE,this.tooltip=new mA,this.marker=new OE}};om([ly(fy)],BE.prototype,"xKey",2),om([ly(fy)],BE.prototype,"yKey",2),om([ly(fy)],BE.prototype,"sizeKey",2),om([ly(fy,{optional:!0})],BE.prototype,"labelKey",2),om([ly(fy,{optional:!0})],BE.prototype,"colorKey",2),om([ly(fy,{optional:!0})],BE.prototype,"xName",2),om([ly(fy,{optional:!0})],BE.prototype,"yName",2),om([ly(fy,{optional:!0})],BE.prototype,"sizeName",2),om([ly(fy,{optional:!0})],BE.prototype,"labelName",2),om([ly(fy,{optional:!0})],BE.prototype,"colorName",2),om([ly(Ly,{optional:!0})],BE.prototype,"colorDomain",2),om([ly(Fy)],BE.prototype,"colorRange",2),om([ly(fy,{optional:!0})],BE.prototype,"title",2),om([Rw("marker.shape")],BE.prototype,"shape",2),om([Rw("marker.size")],BE.prototype,"size",2),om([Rw("marker.maxSize")],BE.prototype,"maxSize",2),om([Rw("marker.domain",{optional:!0})],BE.prototype,"domain",2),om([Rw("marker.fill",{optional:!0})],BE.prototype,"fill",2),om([Rw("marker.fillOpacity")],BE.prototype,"fillOpacity",2),om([Rw("marker.stroke",{optional:!0})],BE.prototype,"stroke",2),om([Rw("marker.strokeWidth")],BE.prototype,"strokeWidth",2),om([Rw("marker.strokeOpacity")],BE.prototype,"strokeOpacity",2),om([Rw("marker.itemStyler",{optional:!0})],BE.prototype,"itemStyler",2),om([ly(hy)],BE.prototype,"label",2),om([ly(hy)],BE.prototype,"tooltip",2);var _E=class extends wk{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},GE=class extends Sk{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:cA,marker:SA}}),this.NodeEvent=_E,this.properties=new BE,this.sizeScale=new Ak,this.colorScale=new IE}async processData(e){var t,i,n;if(!this.properties.isValid()||null==this.data||!this.visible)return;const o=null===(t=this.axes.x)||void 0===t?void 0:t.scale,r=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:s,yScaleType:a}=this.getScaleInformation({xScale:o,yScale:r}),l=this.colorScale.type,c=this.sizeScale.type,{xKey:d,yKey:u,sizeKey:h,labelKey:p,colorDomain:g,colorRange:m,colorKey:f,marker:v}=this.properties,{dataModel:y,processedData:b}=await this.requestDataModel(e,this.data,{props:[DM(d,s,{id:"xKey-raw"}),DM(u,a,{id:"yKey-raw"}),...p?[DM(p,"band",{id:"labelKey-raw"})]:[],AM(d,s,{id:"xValue"}),AM(u,a,{id:"yValue"}),AM(h,c,{id:"sizeValue"}),...f?[AM(f,l,{id:"colorValue"})]:[],...p?[AM(p,"band",{id:"labelValue"})]:[]]}),C=y.resolveProcessedDataIndexById(this,"sizeValue"),w=null!==(n=b.domain.values[C])&&void 0!==n?n:[];if(this.sizeScale.domain=v.domain?v.domain:w,f){var x;const e=y.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(x=null!==g&&void 0!==g?g:b.domain.values[e])&&void 0!==x?x:[],this.colorScale.range=m,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",o=t.resolveProcessedDataDefById(this,n),r=t.getDomain(this,n,"value",i);if("value"===(null===o||void 0===o?void 0:o.def.type)&&"category"===(null===o||void 0===o?void 0:o.def.valueType))return r;const s=this.axes[e];return pR(ub(r),s)}async createNodeData(){var e,t;const{axes:i,dataModel:n,processedData:o,colorScale:r,sizeScale:s}=this,{xKey:a,yKey:l,sizeKey:c,labelKey:d,xName:u,yName:h,sizeName:p,labelName:g,label:m,colorKey:f,marker:v,visible:y}=this.properties,b=hk(v.shape),{placement:C}=m,w=i.x,x=i.y;if(!(n&&o&&y&&w&&x))return;const S=n.resolveProcessedDataIndexById(this,"xValue"),R=n.resolveProcessedDataIndexById(this,"yValue"),M=c?n.resolveProcessedDataIndexById(this,"sizeValue"):-1,k=f?n.resolveProcessedDataIndexById(this,"colorValue"):-1,D=d?n.resolveProcessedDataIndexById(this,"labelValue"):-1,A=w.scale,E=x.scale,T=(null!==(e=A.bandwidth)&&void 0!==e?e:0)/2,P=(null!==(t=E.bandwidth)&&void 0!==t?t:0)/2,F=[];s.range=[v.size,v.maxSize];const N=m.getFont();for(const{values:I,datum:O}of null!==(L=o.data)&&void 0!==L?L:[]){var L;const e=I[S],t=I[R],i=A.convert(e)+T,n=E.convert(t)+P,o=this.getLabelText(m,{value:d?I[D]:t,datum:O,xKey:a,yKey:l,sizeKey:c,labelKey:d,xName:u,yName:h,sizeName:p,labelName:g}),y=xC.getTextSize(String(o),N),w=c?s.convert(I[M]):v.size,x=f?r.convert(I[k]):void 0;F.push({series:this,itemId:l,yKey:l,xKey:a,datum:O,xValue:e,yValue:t,sizeValue:I[M],point:{x:i,y:n,size:w},midPoint:{x:i,y:n},fill:x,label:{text:o,...y},marker:b,placement:C})}return{itemId:l,nodeData:F,labelData:F,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e,t;return null!==(e=null===(t=this.contextNodeData)||void 0===t?void 0:t.labelData)&&void 0!==e?e:[]}markerFactory(){const{shape:e}=this.properties.marker;return new(hk(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,(e=>wM([e.xValue,e.yValue,e.label.text])))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,sizeKey:r,labelKey:s,marker:a}=this.properties,{size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g}=dv(i&&this.properties.highlightStyle.item,a.getStyle()),m={size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[a.size,a.maxSize],t.each(((e,t)=>{this.updateMarkerStyle(e,a,{datum:t,highlighted:i,xKey:n,yKey:o,sizeKey:r,labelKey:s},m)})),i||this.properties.marker.markClean()}async updateLabelSelection(e){var t,i;const n=this.properties.label.enabled&&null!==(t=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==t?t:[];return e.labelSelection.update(n.map((e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}}))))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{var n,o,r,s;e.text=i.label.text,e.fill=t.color,e.x=null!==(n=null===(o=i.point)||void 0===o?void 0:o.x)&&void 0!==n?n:0,e.y=null!==(r=null===(s=i.point)||void 0===s?void 0:s.y)&&void 0!==r?r:0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){var t;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return Iw;const{xKey:o,yKey:r,sizeKey:s,labelKey:a,xName:l,yName:c,sizeName:d,labelName:u,marker:h,tooltip:p}=this.properties,g=null!==(t=this.properties.title)&&void 0!==t?t:c,m=dv({fill:e.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:f="gray"}=this.getMarkerStyle(h,{datum:e,highlighted:!1,xKey:o,yKey:r,sizeKey:s,labelKey:a},m),{datum:v,xValue:y,yValue:b,sizeValue:C,label:{text:w},itemId:x}=e,S=sA(i.formatDatum(y)),R=sA(n.formatDatum(b));let M="<b>".concat(sA(null!==l&&void 0!==l?l:o),"</b>: ").concat(S,"<br><b>").concat(sA(null!==c&&void 0!==c?c:r),"</b>: ").concat(R);return s&&(M+="<br><b>".concat(sA(null!==d&&void 0!==d?d:s),"</b>: ").concat(sA(String(C)))),a&&(M="<b>".concat(sA(null!==u&&void 0!==u?u:a),"</b>: ").concat(sA(w),"<br>")+M),p.toTooltipHtml({title:g,content:M,backgroundColor:f},{datum:v,itemId:x,xKey:o,xName:l,yKey:r,yName:c,sizeKey:s,sizeName:d,labelKey:a,labelName:u,title:g,color:f,seriesId:this.id})}getLegendData(){var e,t;if(null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid())return[];const{yKey:i,yName:n,title:o,marker:r,visible:s}=this.properties,{shape:a,fill:l,stroke:c,fillOpacity:d,strokeOpacity:u,strokeWidth:h}=r;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:s,label:{text:null!==(t=null!==o&&void 0!==o?o:n)&&void 0!==t?t:i},symbols:[{marker:{shape:a,fill:null!==l&&void 0!==l?l:"rgba(0, 0, 0, 0)",stroke:null!==c&&void 0!==c?c:"rgba(0, 0, 0, 0)",fillOpacity:null!==d&&void 0!==d?d:1,strokeOpacity:null!==u&&void 0!==u?u:1,strokeWidth:null!==h&&void 0!==h?h:0}}]}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:i}=e;wA(this,this.ctx.animationManager,t),aA(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Jb}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:n,labelKey:o,highlighted:!1})}computeFocusBounds(e){return kA(this,e)}};GE.className="BubbleSeries",GE.type="bubble";var zE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:GE,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:ED,color:TD}}},paletteFactory:CD},HE=class extends xk{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new uA,this.label=new RC,this.tooltip=new mA}};om([ly(fy)],HE.prototype,"xKey",2),om([ly(fy,{optional:!0})],HE.prototype,"yKey",2),om([ly(fy,{optional:!0})],HE.prototype,"xName",2),om([ly(fy,{optional:!0})],HE.prototype,"yName",2),om([ly(Py,{optional:!0})],HE.prototype,"fill",2),om([ly(Cy)],HE.prototype,"fillOpacity",2),om([ly(Py,{optional:!0})],HE.prototype,"stroke",2),om([ly(by)],HE.prototype,"strokeWidth",2),om([ly(Cy)],HE.prototype,"strokeOpacity",2),om([ly(Gy)],HE.prototype,"lineDash",2),om([ly(by)],HE.prototype,"lineDashOffset",2),om([ly(by)],HE.prototype,"cornerRadius",2),om([ly(gy)],HE.prototype,"areaPlot",2),om([ly(Sy,{optional:!0})],HE.prototype,"bins",2),om([ly(Jy(["count","sum","mean"],"a histogram aggregation"))],HE.prototype,"aggregation",2),om([ly(by,{optional:!0})],HE.prototype,"binCount",2),om([ly(hy)],HE.prototype,"shadow",2),om([ly(hy)],HE.prototype,"label",2),om([ly(hy)],HE.prototype,"tooltip",2);var VE=class extends Sk{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:kE,label:cA}}),this.properties=new HE,this.calculatedBins=[]}deriveBins(e){const t=jb(e[0],e[1],10),i=_b(e[0],e[1],10),[n]=t;return[[n-i,n],...t.map((e=>[e,e+i]))]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],o=t||1,{start:r,binSize:s}=this.calculateNiceStart(i,n,o);return this.getBins(r,n,s,o)}getBins(e,t,i,n){const o=[],r=this.calculatePrecision(i);for(let s=0;s<n;s++){const a=Math.round((e+s*i)*r)/r;let l=Math.round((e+(s+1)*i)*r)/r;s===n-1&&(l=Math.max(l,t)),o[s]=[a,l]}return o}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,o=Math.floor(Math.log10(n)),r=Math.pow(10,o);return{start:Math.floor(e/r)*r,binSize:n}}async processData(e){var t,i;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:n,yKey:o,areaPlot:r,aggregation:s}=this.properties,a=null===(t=this.axes.x)||void 0===t?void 0:t.scale,l=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:c,yScaleType:d}=this.getScaleInformation({yScale:l,xScale:a}),u=[DM(n,c),cM];if(o){let e=iM("groupAgg");"count"===s||("sum"===s?e=eM("groupAgg"):"mean"===s&&(e=nM("groupAgg"))),r&&(e=oM("groupAgg",e)),u.push(AM(o,d,{invalidValue:void 0}),e)}else{let e=iM("groupAgg");r&&(e=oM("groupAgg",e)),u.push(e)}!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(CM(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:u,groupByFn:e=>{var t;const i=pR(e.domain.keys[0]);if(0===i.length)return e.domain.groups=[],()=>[];const n=nv(this.properties.binCount)?this.calculateNiceBins(i,this.properties.binCount):null!==(t=this.properties.bins)&&void 0!==t?t:this.deriveBins(i),o=n.length;return this.calculatedBins=[...n],e=>{const t=e.keys[0];for(let i=0;i<o;i++){const e=n[i];if(t>=e[0]&&t<e[1])return e;if(i===o-1&&t<=e[1])return e}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(e){var t,i,n,o;const{processedData:r,dataModel:s}=this;if(!r||!s||!this.calculatedBins.length)return[];const a=s.getDomain(this,"groupAgg","aggregate",r),l=null===(t=this.calculatedBins)||void 0===t?void 0:t[0][0],c=null===(i=this.calculatedBins)||void 0===i?void 0:i[(null!==(n=null===(o=this.calculatedBins)||void 0===o?void 0:o.length)&&void 0!==n?n:0)-1][1];return pR("x"===e?[l,c]:a)}async createNodeData(){var e;const{id:t,axes:i,processedData:n,ctx:{callbackCache:o}}=this,r=i.x,s=i.y;if(!r||!s)return;const{scale:a}=r,{scale:l}=s,{xKey:c,yKey:d,xName:u,yName:h,fill:p,stroke:g,strokeWidth:m,cornerRadius:f}=this.properties,{formatter:v=e=>String(e.value),fontStyle:y,fontWeight:b,fontSize:C,fontFamily:w,color:x}=this.properties.label,S=[],R={itemId:null!==(e=this.properties.yKey)&&void 0!==e?e:this.id,nodeData:S,labelData:S,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&n&&"grouped"===n.type?(n.data.forEach((e=>{const{aggValues:[[i,n]]=[[0,0]],datum:r,datum:{length:R},keys:M,keys:[k,D]}=e,A=a.convert(k),E=a.convert(D),T=i+n,P=l.convert(0),F=l.convert(T),N=Math.abs(E-A),L=Math.abs(F-P),I=Math.min(A,E),O=Math.min(P,F);let j;var B;0!==T&&(j={text:null!==(B=o.call(v,{value:T,datum:r,seriesId:t,xKey:c,yKey:d,xName:u,yName:h}))&&void 0!==B?B:String(T),fontStyle:y,fontWeight:b,fontSize:C,fontFamily:w,fill:x,x:I+N/2,y:O+L/2});const _={x:I+N/2,y:O+L/2},G=s.isReversed();S.push({series:this,datum:r,aggregatedValue:T,frequency:R,domain:M,yKey:d,xKey:c,x:I,y:O,xValue:A,yValue:F,width:N,height:L,midPoint:_,fill:p,stroke:g,cornerRadius:f,topLeftCornerRadius:!G,topRightCornerRadius:!G,bottomRightCornerRadius:G,bottomLeftCornerRadius:G,opacity:1,strokeWidth:m,label:j})})),S.sort(((e,t)=>e.x-t.x)),R):R}nodeFactory(){return new Bk}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,(e=>{e.tag=0,e.crisp=!0}),(e=>e.domain.join("_")))}async updateDatumNodes(e){const{isHighlight:t}=e,{fillOpacity:i,strokeOpacity:n,lineDash:o,lineDashOffset:r,shadow:s,highlightStyle:{item:{fill:a,fillOpacity:l=i,stroke:c,strokeWidth:d}}}=this.properties;e.datumSelection.each(((e,u,h)=>{var p,g;const{cornerRadius:m,topLeftCornerRadius:f,topRightCornerRadius:v,bottomRightCornerRadius:y,bottomLeftCornerRadius:b}=u,C=t&&void 0!==d?d:u.strokeWidth,w=t?l:i;e.fill=null!==(p=t?a:void 0)&&void 0!==p?p:u.fill,e.stroke=null!==(g=t?c:void 0)&&void 0!==g?g:u.stroke,e.fillOpacity=w,e.strokeOpacity=n,e.strokeWidth=C,e.lineDash=o,e.lineDashOffset=r,e.topLeftCornerRadius=f?m:0,e.topRightCornerRadius=v?m:0,e.bottomRightCornerRadius=y?m:0,e.bottomLeftCornerRadius=b?m:0,e.fillShadow=s,e.zIndex=t?OM.highlightedZIndex:h,e.visible=u.height>0}))}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.tag=1,e.pointerEvents=1,e.textAlign="center",e.textBaseline="middle"}))}async updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each(((e,i)=>{const n=i.label;n&&t?(e.text=n.text,e.x=n.x,e.y=n.y,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.fontSize=n.fontSize,e.fontFamily=n.fontFamily,e.fill=n.fill,e.visible=!0):e.visible=!1}))}initQuadTree(e){pE(e,hE(this.contentGroup.children[0]))}pickNodeClosestDatum(e){return gE(this,e)}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Iw;const{xKey:n,yKey:o,xName:r,yName:s,fill:a,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:d,frequency:u,domain:[h,p],itemId:g}=e,m="".concat(sA(null!==r&&void 0!==r?r:n),": ").concat(t.formatDatum(h)," - ").concat(t.formatDatum(p));let f=o?"<b>".concat(sA(null!==s&&void 0!==s?s:o)," (").concat(l,")</b>: ").concat(i.formatDatum(d),"<br>"):"";f+="<b>Frequency</b>: ".concat(u);const v={title:m,backgroundColor:a,content:f};return c.toTooltipHtml(v,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:g,xKey:n,xName:r,yKey:o,yName:s,color:a,title:m,seriesId:this.id})}getLegendData(e){var t,i;if(null===(t=this.data)||void 0===t||!t.length||"category"!==e)return[];const{xKey:n,yName:o,fill:r,fillOpacity:s,stroke:a,strokeWidth:l,strokeOpacity:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:d,label:{text:null!==(i=null!==o&&void 0!==o?o:n)&&void 0!==i?i:"Frequency"},symbols:[{marker:{fill:null!==r&&void 0!==r?r:"rgba(0, 0, 0, 0)",stroke:null!==a&&void 0!==a?a:"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:c,strokeWidth:l}}]}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i}=e;const n=ME(SE(!0,this.axes,"normal"));Uv(this.id,"datums",this.ctx.animationManager,[t],n),aA(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){var t;const i=null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.diff,n=ME(SE(!0,this.axes,"normal"));Uv(this.id,"datums",this.ctx.animationManager,[e.datumSelection],n,((e,t)=>wM(t.domain)),i),aA(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){var t;let{datumIndex:i,seriesRect:n}=e;return DE(null===(t=this.contextNodeData)||void 0===t?void 0:t.nodeData[i],this.contentGroup,n)}};VE.className="HistogramSeries",VE.type="histogram";var WE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:VE,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:ED,color:FD},shadow:{enabled:!1,color:BD,xOffset:3,yOffset:3,blur:5}}},paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}},UE=class extends xk{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new yA,this.marker=new pA,this.label=new RC,this.tooltip=new mA,this.connectMissingData=!1}};om([ly(fy)],UE.prototype,"xKey",2),om([ly(fy)],UE.prototype,"yKey",2),om([ly(fy,{optional:!0})],UE.prototype,"xName",2),om([ly(fy,{optional:!0})],UE.prototype,"yName",2),om([ly(fy,{optional:!0})],UE.prototype,"stackGroup",2),om([ly(by,{optional:!0})],UE.prototype,"normalizedTo",2),om([ly(fy,{optional:!0})],UE.prototype,"title",2),om([ly(Py)],UE.prototype,"stroke",2),om([ly(by)],UE.prototype,"strokeWidth",2),om([ly(Cy)],UE.prototype,"strokeOpacity",2),om([ly(Gy)],UE.prototype,"lineDash",2),om([ly(by)],UE.prototype,"lineDashOffset",2),om([ly(hy)],UE.prototype,"interpolation",2),om([ly(hy)],UE.prototype,"marker",2),om([ly(hy)],UE.prototype,"label",2),om([ly(hy)],UE.prototype,"tooltip",2),om([ly(gy)],UE.prototype,"connectMissingData",2);var YE=class extends Sk{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:GA({getOpacity:()=>this.getOpacity()}),label:cA,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...RA(0,t)})}}),this.properties=new UE}async processData(e){var t,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:o,seriesGrouping:{groupIndex:r=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=null===(t=this.axes.x)||void 0===t?void 0:t.scale,p=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{isContinuousX:g,xScaleType:m,yScaleType:f}=this.getScaleInformation({xScale:h,yScale:p}),v={invalidValue:null};c&&s>1&&(v.invalidValue=0),o||(v.forceValue=0);const y=[];if(g||y.push(DM(a,m,{id:"xKey"})),y.push(AM(a,m,{id:"xValue"}),AM(l,f,{id:"yValueRaw",...v,invalidValue:void 0})),s>1){const e=["line-stack-".concat(r,"-yValues"),"line-stack-".concat(r,"-yValues-trailing"),"line-stack-".concat(r,"-yValues-marker")];y.push(...FM(l,"window","current",{id:"yValueEnd",...v,groupId:e[0]},f),...FM(l,"window-trailing","current",{id:"yValueStart",...v,groupId:e[1]},f),...FM(l,"normal","current",{id:"yValueCumulative",...v,groupId:e[2]},f)),Yf(d)&&y.push(uM([e[0],e[1],e[2]],d,"range"))}u&&(y.push(gM(g?["xValue"]:void 0)),this.processedData&&y.push(CM(this.processedData))),await this.requestDataModel(e,n,{props:y}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const o=n.x,r=n.y,s=i.resolveProcessedDataDefById(this,"xValue");if("x"===e){const e=i.getDomain(this,"xValue","value",t);return"value"===(null===s||void 0===s?void 0:s.def.type)&&"category"===s.def.valueType?e:pR(ub(e),o)}var a,l;return pR((null!==(a=null===(l=this.seriesGrouping)||void 0===l?void 0:l.stackCount)&&void 0!==a?a:1)>1?i.getDomain(this,"yValueEnd","value",t):i.getDomain(this,"yValueRaw","value",t),r)}async createNodeData(){var e,t,i,n,o;const{processedData:r,dataModel:s,axes:a}=this,l=a.x,c=a.y;if(!r||!s||!l||!c)return;const{xKey:d,yKey:u,xName:h,yName:p,marker:g,label:m,connectMissingData:f,legendItemName:v}=this.properties,y=(null!==(e=null===(t=this.seriesGrouping)||void 0===t?void 0:t.stackCount)&&void 0!==e?e:1)>1,b=l.scale,C=c.scale,w=(null!==(i=b.bandwidth)&&void 0!==i?i:0)/2,x=(null!==(n=C.bandwidth)&&void 0!==n?n:0)/2,S=[],R=g.enabled?g.size:0,M=s.resolveProcessedDataIndexById(this,"xValue"),k=s.resolveProcessedDataIndexById(this,"yValueRaw"),D=y?s.resolveProcessedDataIndexById(this,"yValueCumulative"):k,A=y?s.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let E=!0;return null===(o=r.data)||void 0===o||o.forEach((e=>{let{datum:t,values:i}=e;const n=i[M],o=i[k],r=i[D],s=null!=A?i[A]:void 0;if(null==o)return void(E||(E=!f));const a=b.convert(n)+w;if(isNaN(a))return void(E||(E=!f));const l=C.convert(r)+x,c=this.getLabelText(m,{value:o,datum:t,xKey:d,yKey:u,xName:h,yName:p,legendItemName:v},(e=>ov(e)?e.toFixed(2):String(e)));S.push({series:this,datum:t,yKey:u,xKey:d,point:{x:a,y:l,moveTo:E,size:R},midPoint:{x:a,y:l},cumulativeValue:s,yValue:o,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:c?{text:c,fontStyle:m.fontStyle,fontWeight:m.fontWeight,fontSize:m.fontSize,fontFamily:m.fontFamily,textAlign:"center",textBaseline:"bottom",fill:m.color}:void 0}),E=!1})),{itemId:u,nodeData:S,labelData:S,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(hk(e))}async updatePathNodes(e){const{paths:[t],opacity:i,visible:n,animationEnabled:o}=e;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(t.visible=n),zA(this,t)}async updateMarkerSelection(e){let{nodeData:t}=e;const{markerSelection:i}=e,{shape:n,enabled:o}=this.properties.marker;return t=n&&o?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,(e=>wM(e.xValue)))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,stroke:r,strokeWidth:s,strokeOpacity:a,marker:l,highlightStyle:c}=this.properties,d=dv(i&&c.item,l.getStyle(),{stroke:r,strokeWidth:s,strokeOpacity:a}),u=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{this.updateMarkerStyle(e,l,{datum:t,highlighted:i,xKey:n,yKey:o},d,{applyTranslation:u})})),i||l.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:o,fontFamily:r,color:s}=this.properties.label;e.labelSelection.each(((e,a)=>{const{point:l,label:c}=a;a&&c&&t?(e.fontStyle=i,e.fontWeight=n,e.fontSize=o,e.fontFamily=r,e.textAlign=c.textAlign,e.textBaseline=c.textBaseline,e.text=c.text,e.x=l.x,e.y=l.y-10,e.fill=s,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){var t;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return Iw;const{xKey:o,yKey:r,xName:s,yName:a,strokeWidth:l,marker:c,tooltip:d}=this.properties,{datum:u,xValue:h,yValue:p,itemId:g}=e,m=i.formatDatum(h),f=n.formatDatum(p),v=sA(null!==(t=this.properties.title)&&void 0!==t?t:a),y=sA(m+": "+f),b=dv({fill:c.stroke},c.getStyle(),{strokeWidth:l}),{fill:C}=this.getMarkerStyle(c,{datum:e,xKey:o,yKey:r,highlighted:!1},b);return d.toTooltipHtml({title:v,content:y,backgroundColor:C},{datum:u,itemId:g,xKey:o,xName:s,yKey:r,yName:a,title:v,color:C,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var t,i,n,o,r,s,a,l,c,d;if(null===(t=this.data)||void 0===t||!t.length||!this.properties.isValid()||"category"!==e)return[];const{yKey:u,yName:h,stroke:p,strokeOpacity:g,strokeWidth:m,lineDash:f,title:v,marker:y,visible:b,legendItemName:C}=this.properties,w="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:u,legendItemName:C,seriesId:this.id,enabled:b,label:{text:null!==(i=null!==(n=null!==C&&void 0!==C?C:v)&&void 0!==n?n:h)&&void 0!==i?i:u},symbols:[{marker:{shape:y.shape,fill:null!==(o=y.fill)&&void 0!==o?o:w,stroke:null!==(r=null!==(s=y.stroke)&&void 0!==s?s:p)&&void 0!==r?r:w,fillOpacity:null!==(a=y.fillOpacity)&&void 0!==a?a:1,strokeOpacity:null!==(l=null!==(c=y.strokeOpacity)&&void 0!==c?c:g)&&void 0!==l?l:1,strokeWidth:null!==(d=y.strokeWidth)&&void 0!==d?d:0,enabled:y.enabled},line:{stroke:null!==p&&void 0!==p?p:w,strokeOpacity:g,strokeWidth:m,lineDash:f}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const{interpolation:i}=this.properties,{nodeData:n}=t,[o]=e;o.path.clear(!0);for(const r of YA(n))LA(KA(n,r),o,i);o.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:o,paths:r}=e,{animationManager:s}=this.ctx;this.updateLinePaths(r,o),jA(this,s,...r),tw([t],RA),xA(this,s,t),aA(this,"labels",s,i),aA(this,"annotations",s,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var t;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:o,annotationSelections:r,contextData:s,paths:a,previousContextData:l}=e,[c]=a;super.resetAllAnimation(e);const d=()=>{this.updateLinePaths(a,s)};if(null==s||null==l)return d(),CA(this,i,"added",n),BA(this,"path_properties",i,"add",c),aA(this,"labels",i,o),void aA(this,"annotations",i,...r);const u=nE(s,l,null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.diff,this.properties.interpolation);if(void 0===u)return i.skipCurrentBatch(),void d();"no-op"!==u.status&&(CA(this,i,void 0,n),Uv(this.id,"path_properties",i,[c],u.pathProperties),oA(this.id,"path_update",i,[c],u.path),u.hasMotion&&(aA(this,"labels",i,o),aA(this,"annotations",i,...r)))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Jb}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return kA(this,e)}};YE.className="LineSeries",YE.type="line";var KE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:YE,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:ED,color:TD}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=wD(e);return{stroke:t.fill,marker:t}}},qE=class extends RC{constructor(){super(...arguments),this.placement="top"}};om([ly(Qy)],qE.prototype,"placement",2);var XE=class extends xk{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new qE,this.tooltip=new mA,this.marker=new pA}};om([ly(fy)],XE.prototype,"xKey",2),om([ly(fy)],XE.prototype,"yKey",2),om([ly(fy,{optional:!0})],XE.prototype,"labelKey",2),om([ly(fy,{optional:!0})],XE.prototype,"colorKey",2),om([ly(fy,{optional:!0})],XE.prototype,"xName",2),om([ly(fy,{optional:!0})],XE.prototype,"yName",2),om([ly(fy,{optional:!0})],XE.prototype,"labelName",2),om([ly(fy,{optional:!0})],XE.prototype,"colorName",2),om([ly(Ly,{optional:!0})],XE.prototype,"colorDomain",2),om([ly(Fy)],XE.prototype,"colorRange",2),om([ly(fy,{optional:!0})],XE.prototype,"title",2),om([Rw("marker.shape")],XE.prototype,"shape",2),om([Rw("marker.size")],XE.prototype,"size",2),om([Rw("marker.fill")],XE.prototype,"fill",2),om([Rw("marker.fillOpacity")],XE.prototype,"fillOpacity",2),om([Rw("marker.stroke")],XE.prototype,"stroke",2),om([Rw("marker.strokeWidth")],XE.prototype,"strokeWidth",2),om([Rw("marker.strokeOpacity")],XE.prototype,"strokeOpacity",2),om([Rw("marker.itemStyler",{optional:!0})],XE.prototype,"itemStyler",2),om([ly(hy)],XE.prototype,"label",2),om([ly(hy)],XE.prototype,"tooltip",2);var ZE=class extends Sk{constructor(e){super({moduleCtx:e,directionKeys:bk,directionNames:Ck,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:SA,label:cA}}),this.properties=new XE,this.colorScale=new IE}async processData(e){var t,i;if(!this.properties.isValid()||null==this.data||!this.visible)return;const n=null===(t=this.axes.x)||void 0===t?void 0:t.scale,o=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:r,yScaleType:s}=this.getScaleInformation({xScale:n,yScale:o}),a=this.colorScale.type,{xKey:l,yKey:c,labelKey:d,colorKey:u,colorDomain:h,colorRange:p}=this.properties,{dataModel:g,processedData:m}=await this.requestDataModel(e,this.data,{props:[DM(l,r,{id:"xKey-raw"}),DM(c,s,{id:"yKey-raw"}),...d?[DM(d,"band",{id:"labelKey-raw"})]:[],AM(l,r,{id:"xValue"}),AM(c,s,{id:"yValue"}),...u?[AM(u,a,{id:"colorValue"})]:[],...d?[AM(d,"band",{id:"labelValue"})]:[]]});if(u){var f;const e=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(f=null!==h&&void 0!==h?h:m.domain.values[e])&&void 0!==f?f:[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",o=t.resolveProcessedDataDefById(this,n),r=t.getDomain(this,n,"value",i);if("value"===(null===o||void 0===o?void 0:o.def.type)&&"category"===(null===o||void 0===o?void 0:o.def.valueType))return r;const s=this.axes[e];return pR(ub(r),s)}async createNodeData(){var e,t;const{axes:i,dataModel:n,processedData:o,colorScale:r}=this,{xKey:s,yKey:a,labelKey:l,colorKey:c,xName:d,yName:u,labelName:h,marker:p,label:g,visible:m}=this.properties,{placement:f}=g,v=hk(p.shape),y=i.x,b=i.y;if(!(n&&o&&m&&y&&b))return;const C=n.resolveProcessedDataIndexById(this,"xValue"),w=n.resolveProcessedDataIndexById(this,"yValue"),x=c?n.resolveProcessedDataIndexById(this,"colorValue"):-1,S=l?n.resolveProcessedDataIndexById(this,"labelValue"):-1,R=y.scale,M=b.scale,k=(null!==(e=R.bandwidth)&&void 0!==e?e:0)/2,D=(null!==(t=M.bandwidth)&&void 0!==t?t:0)/2,A=[],E=g.getFont();for(const{values:P,datum:F}of null!==(T=o.data)&&void 0!==T?T:[]){var T;const e=P[C],t=P[w],i=R.convert(e)+k,n=M.convert(t)+D,o=this.getLabelText(g,{value:l?P[S]:t,datum:F,xKey:s,yKey:a,labelKey:l,xName:d,yName:u,labelName:h}),m=xC.getTextSize(o,E),y=c?r.convert(P[x]):void 0;A.push({series:this,itemId:a,yKey:a,xKey:s,datum:F,xValue:e,yValue:t,capDefaults:{lengthRatioMultiplier:p.getDiameter(),lengthMax:1/0},point:{x:i,y:n,size:p.size},midPoint:{x:i,y:n},fill:y,label:{text:o,...m},marker:v,placement:f})}return{itemId:a,nodeData:A,labelData:A,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e,t;return null!==(e=null===(t=this.contextNodeData)||void 0===t?void 0:t.labelData)&&void 0!==e?e:[]}markerFactory(){const{shape:e}=this.properties.marker;return new(hk(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,labelKey:r,marker:s,highlightStyle:a}=this.properties,l=dv(i&&a.item,s.getStyle());t.each(((e,t)=>{this.updateMarkerStyle(e,s,{datum:t,highlighted:i,xKey:n,yKey:o,labelKey:r},l)})),i||s.markClean()}async updateLabelSelection(e){var t,i;const n=this.isLabelEnabled()&&null!==(t=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==t?t:[];return e.labelSelection.update(n.map((e=>{let{datum:t,x:i,y:n}=e;return{...t,point:{x:i,y:n,size:t.point.size},placement:"top"}})),(e=>{e.pointerEvents=1}))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{var n,o,r,s;e.text=i.label.text,e.fill=t.color,e.x=null!==(n=null===(o=i.point)||void 0===o?void 0:o.x)&&void 0!==n?n:0,e.y=null!==(r=null===(s=i.point)||void 0===s?void 0:s.y)&&void 0!==r?r:0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Iw;const{xKey:n,yKey:o,labelKey:r,xName:s,yName:a,labelName:l,title:c=a,marker:d,tooltip:u}=this.properties,{datum:h,xValue:p,yValue:g,label:m,itemId:f}=e,v=dv({fill:e.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:y="gray"}=this.getMarkerStyle(d,{datum:e,highlighted:!1,xKey:n,yKey:o,labelKey:r},v),b=sA(t.formatDatum(p)),C=sA(i.formatDatum(g));let w="<b>".concat(sA(null!==s&&void 0!==s?s:n),"</b>: ").concat(b,"<br><b>").concat(sA(null!==a&&void 0!==a?a:o),"</b>: ").concat(C);return r&&(w="<b>".concat(sA(null!==l&&void 0!==l?l:r),"</b>: ").concat(sA(m.text),"<br>")+w),u.toTooltipHtml({title:c,content:w,backgroundColor:y},{datum:h,itemId:f,xKey:n,xName:s,yKey:o,yName:a,labelKey:r,labelName:l,title:c,color:y,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var t,i,n,o,r,s;const{yKey:a,yName:l,title:c,marker:d,visible:u}=this.properties,{fill:h,stroke:p,fillOpacity:g,strokeOpacity:m,strokeWidth:f}=d;return null!==(t=this.data)&&void 0!==t&&t.length&&this.properties.isValid()&&"category"===e?[{legendType:"category",id:this.id,itemId:a,seriesId:this.id,enabled:u,label:{text:null!==(i=null!==c&&void 0!==c?c:l)&&void 0!==i?i:a},symbols:[{marker:{shape:d.shape,fill:null!==(n=null!==(o=d.fill)&&void 0!==o?o:h)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(r=null!==(s=d.stroke)&&void 0!==s?s:p)&&void 0!==r?r:"rgba(0, 0, 0, 0)",fillOpacity:null!==g&&void 0!==g?g:1,strokeOpacity:null!==m&&void 0!==m?m:1,strokeWidth:null!==f&&void 0!==f?f:0}}]}]:[]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;wA(this,this.ctx.animationManager,t),aA(this,"labels",this.ctx.animationManager,i),aA(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Jb}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(e){return kA(this,e)}};ZE.className="ScatterSeries",ZE.type="scatter";var QE={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:ZE,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:ED,color:TD}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:CD},JE=class e{constructor(e,t,i,n){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:o}=this;return new e(t,i,n,o)}[rf](t,i){return new e(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function $E(e){let{startAngle:t,endAngle:i,innerRadius:n,outerRadius:o}=e,r=1/0,s=1/0,a=-1/0,l=-1/0;const c=(e,t)=>{r=Math.min(e,r),s=Math.min(t,s),a=Math.max(e,a),l=Math.max(t,l)};return c(n*Math.cos(t),n*Math.sin(t)),c(n*Math.cos(i),n*Math.sin(i)),c(o*Math.cos(t),o*Math.sin(t)),c(o*Math.cos(i),o*Math.sin(i)),nC(0,t,i)&&c(o,0),nC(.5*Math.PI,t,i)&&c(0,o),nC(Math.PI,t,i)&&c(-o,0),nC(1.5*Math.PI,t,i)&&c(0,-o),new xf(r,s,a-r,l-s)}function eT(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:o,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(o,r)||n>Math.max(o,r))return!1;const s=iC(i.startAngle),a=iC(i.endAngle),l=Math.atan2(t,e);return s<a?l<=a&&l>=s:l<=a&&l>=-Math.PI||l>=s&&l<=Math.PI}function tT(e,t){const{startAngle:i,endAngle:n,innerRadius:o,outerRadius:r}=t,s={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(n),y:r*Math.sin(n)},l=0===o?{x:0,y:0}:{x:o*Math.cos(i),y:o*Math.sin(i)},c=0===o?{x:0,y:0}:{x:o*Math.cos(n),y:o*Math.sin(n)};return gS(e.start.x,e.start.y,e.end.x,e.end.y,s.x,s.y,l.x,l.y)||gS(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||vS(0,0,r,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function iT(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},o={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return tT({start:i,end:n},t)||tT({start:o,end:r},t)}function nT(e,t,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let o=0,r=1;for(let s=0;s<8;s+=1){const s=(o+r)/2;Math.asin(Math.abs(s*i)/(e+s*i))+Math.asin(Math.abs(s*n)/(e+s*n))-t<0?o=s:r=s}return o}var oT=1e-6;function rT(e,t){return aC(e,t)<oT?t:eC(e-t)+t}function sT(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:eC(t-e);return{startAngle:e=rT(e,i),endAngle:t=e+n}}function aT(e,t,i,n,o,r){const s=Math.sin(r),a=Math.cos(r),l=e**2+t**2-i**2;let c=NaN,d=NaN,u=NaN,h=NaN;if(a>.5){const i=s/a,n=1+i**2,o=-2*(e+t*i),r=o**2-4*n*l;if(r<0)return;const p=(-o+Math.sqrt(r))/(2*n),g=(-o-Math.sqrt(r))/(2*n);c=p,d=p*i,u=g,h=g*i}else{const i=a/s,n=1+i**2,o=-2*(t+e*i),r=o**2-4*n*l;if(r<0)return;const p=(-o+Math.sqrt(r))/(2*n),g=(-o-Math.sqrt(r))/(2*n);c=p*i,d=p,u=g*i,h=g}const p=u*a+h*s,g=c*a+d*s>0?rT(Math.atan2(d-t,c-e),n):NaN,m=p>0?rT(Math.atan2(h-t,u-e),n):NaN;return g>=n&&g<=o?g:m>=n&&m<=o?m:void 0}function lT(e,t,i,n,o,r){const s=Math.hypot(e,t),a=s-(s**2-i**2+r**2)/(2*s),l=Math.atan2(t,e),c=Math.acos(-a/i),d=rT(l+c,n),u=rT(l-c,n);return d>=n&&d<=o?d:u>=n&&u<=o?u:void 0}var cT=class{constructor(e,t,i,n,o){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=o,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){null==e||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){null==e||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},dT=class extends CS{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return $E(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;return{innerRadius:Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),outerRadius:Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0)}}normalizedClipSector(){const{clipSector:e}=this;if(null==e)return;const{startAngle:t,endAngle:i}=sT(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:o}=this.normalizedRadii(),r=sT(e.startAngle,e.endAngle,t);return new JE(Math.max(t,r.startAngle),Math.min(i,r.endAngle),Math.max(n,e.innerRadius),Math.min(o,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,o,r,s,a){if(e<=0)return;const{startAngle:l,endAngle:c}=sT(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:u}=this.normalizedRadii(),h=this.normalizedClipSector();if(a&&d<=0)return;const p=this.getAngleOffset(d),g=this.getAngleOffset(u),m=a?this.getAngleOffset(d+e):this.getAngleOffset(u-e),f=s?l+m+t:c-m-t,v=a?d+e:u-e,y=v*Math.cos(f),b=v*Math.sin(f);if(null!=h){const e=1e-6;if(!s&&!(f>=l-e&&f<=h.endAngle-e))return;if(s&&!(f>=h.startAngle+e&&f<=c-e))return;if(a&&!(v>=h.innerRadius-e))return;if(!a&&!(v<=h.outerRadius+e))return}const C=new cT(y,b,e,i,n);if(null!=h){let t,c;if(a?(C.clipStart(aT(y,b,e,i,n,h.endAngle-p)),C.clipEnd(aT(y,b,e,i,n,h.startAngle+p))):(C.clipStart(aT(y,b,e,i,n,h.startAngle+g)),C.clipEnd(aT(y,b,e,i,n,h.endAngle-g))),s?(t=lT(y,b,e,i,n,h.innerRadius),c=lT(y,b,e,i,n,h.outerRadius)):(t=lT(y,b,e,i,n,h.outerRadius),c=lT(y,b,e,i,n,h.innerRadius)),C.clipStart(t),C.clipEnd(c),null!=t){const{x:e,y:i}=C.pointAt(t),n=rT(Math.atan2(i,e),l);s?null===r||void 0===r||r.clipStart(n):o.clipEnd(n)}if(null!=c){const{x:e,y:t}=C.pointAt(c),i=rT(Math.atan2(t,e),l);s?o.clipStart(i):null===r||void 0===r||r.clipEnd(i)}}if(null!=h){const{x:e,y:t}=C.pointAt((C.a0+C.a1)/2);if(!eT(e,t,h))return}const{x:w,y:x}=C.pointAt(s===a?C.a0:C.a1),S=rT(Math.atan2(x,w),l),R=a?r:o;return s?null===R||void 0===R||R.clipStart(S):null===R||void 0===R||R.clipEnd(S),C}updatePath(){var e,t,i,n,o;const r=1e-6,{path:s,centerX:a,centerY:l,concentricEdgeInset:c,radialEdgeInset:d}=this;let{startOuterCornerRadius:u,endOuterCornerRadius:h,startInnerCornerRadius:p,endInnerCornerRadius:g}=this;const{startAngle:m,endAngle:f}=sT(this.startAngle,this.endAngle),{innerRadius:v,outerRadius:y}=this.normalizedRadii(),b=this.normalizedClipSector(),C=f-m,w=C>=2*Math.PI-r;if(s.clear(),0===this.innerRadius&&0===this.outerRadius)return;if((null!==(e=null===b||void 0===b?void 0:b.startAngle)&&void 0!==e?e:m)===(null!==(t=null===b||void 0===b?void 0:b.endAngle)&&void 0!==t?t:f))return;if(w&&null==this.clipSector&&0===u&&0===h&&0===p&&0===g)return s.moveTo(a+y*Math.cos(m),l+y*Math.sin(m)),s.arc(a,l,y,m,f),v>c&&(s.moveTo(a+v*Math.cos(f),l+v*Math.sin(f)),s.arc(a,l,v,f,m,!0)),void s.closePath();const x=this.getAngleOffset(v),S=this.getAngleOffset(y);if(C<2*S)return;const R=(null!==(i=null===b||void 0===b?void 0:b.innerRadius)&&void 0!==i?i:v)>c,M=v<c||C<2*x,k=y-v,D=Math.max(u,p,h,g),A=D>0?Math.min(k/D,1):1;u*=A,h*=A,p*=A,g*=A;const E=nT(y,C-2*S,-u,-h);if(u*=E,h*=E,!M&&R){const e=nT(v,C-2*x,p,g);p*=e,g*=e}else p=0,g=0;const T=Math.max(u+p,h+g),P=T>0?Math.min(k/T,1):1;u*=P,h*=P,p*=P,g*=P;let F=0,N=0;const L=u/(y-u),I=h/(y-h);if(L>=0&&L<.999999)F=Math.asin(L);else{F=C/2;const e=y/(1/Math.sin(F)+1);u=Math.min(e,u)}if(I>=0&&I<.999999)N=Math.asin(I);else{N=C/2;const e=y/(1/Math.sin(N)+1);h=Math.min(e,h)}const O=Math.asin(p/(v+p)),j=Math.asin(g/(v+g)),B=null!==(n=null===b||void 0===b?void 0:b.outerRadius)&&void 0!==n?n:y,_=this.getAngleOffset(B),G=new cT(0,0,B,m+_,f-_),z=null!==(o=null===b||void 0===b?void 0:b.innerRadius)&&void 0!==o?o:v,H=this.getAngleOffset(z),V=R?new cT(0,0,z,m+H,f-H):void 0;null!=b&&(G.clipStart(b.startAngle),G.clipEnd(b.endAngle),null===V||void 0===V||V.clipStart(b.startAngle),null===V||void 0===V||V.clipEnd(b.endAngle));const W=this.arc(u,F,m-.5*Math.PI,m+F,G,V,!0,!1),U=this.arc(h,N,f-N,f+.5*Math.PI,G,V,!1,!1),Y=this.arc(g,j,f+.5*Math.PI,f+Math.PI-j,G,V,!1,!0),K=this.arc(p,O,m+Math.PI+O,m+1.5*Math.PI,G,V,!0,!0);if(M){const e=C<.5*Math.PI?d*(1+Math.cos(C))/Math.sin(C):NaN;let t;t=e>0&&e<y?Math.max(Math.hypot(d,e),v):v;const i=m+.5*C;s.moveTo(a+t*Math.cos(i),l+t*Math.sin(i))}else if(!0===(null===K||void 0===K?void 0:K.isValid())||!0===(null===V||void 0===V?void 0:V.isValid()));else{const e=m+C/2,t=v*Math.cos(e),i=v*Math.sin(e);s.moveTo(a+t,l+i)}if(!0===(null===W||void 0===W?void 0:W.isValid())){const{cx:e,cy:t,r:i,a0:n,a1:o}=W;s.arc(a+e,l+t,i,n,o)}if(G.isValid()){const{r:e,a0:t,a1:i}=G;s.arc(a,l,e,t,i)}if(!0===(null===U||void 0===U?void 0:U.isValid())){const{cx:e,cy:t,r:i,a0:n,a1:o}=U;s.arc(a+e,l+t,i,n,o)}if(!M){if(!0===(null===Y||void 0===Y?void 0:Y.isValid())){const{cx:e,cy:t,r:i,a0:n,a1:o}=Y;s.arc(a+e,l+t,i,n,o)}if(!0===(null===V||void 0===V?void 0:V.isValid())){const{r:e,a0:t,a1:i}=V;s.arc(a,l,e,i,t,!0)}if(!0===(null===K||void 0===K?void 0:K.isValid())){const{cx:e,cy:t,r:i,a0:n,a1:o}=K;s.arc(a+e,l+t,i,n,o)}}s.closePath()}isPointInPath(e,t){var i;const n=this.transformPoint(e,t),{startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=null!==(i=this.clipSector)&&void 0!==i?i:this;return eT(n.x-this.centerX,n.y-this.centerY,{startAngle:o,endAngle:r,innerRadius:Math.min(s,a),outerRadius:Math.max(s,a)})}};dT.className="Sector",om([bS()],dT.prototype,"centerX",2),om([bS()],dT.prototype,"centerY",2),om([bS()],dT.prototype,"innerRadius",2),om([bS()],dT.prototype,"outerRadius",2),om([bS()],dT.prototype,"startAngle",2),om([bS()],dT.prototype,"endAngle",2),om([bS()],dT.prototype,"clipSector",2),om([bS()],dT.prototype,"concentricEdgeInset",2),om([bS()],dT.prototype,"radialEdgeInset",2),om([bS()],dT.prototype,"startOuterCornerRadius",2),om([bS()],dT.prototype,"endOuterCornerRadius",2),om([bS()],dT.prototype,"startInnerCornerRadius",2),om([bS()],dT.prototype,"endInnerCornerRadius",2);var uT={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},hT={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},pT=class extends Gw{constructor(){super(...arguments),this.showInLegend=!1}};om([ly(gy)],pT.prototype,"showInLegend",2);var gT=class extends RC{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};om([ly(fy)],gT.prototype,"text",2),om([ly(vy)],gT.prototype,"spacing",2);var mT=class extends yv{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};om([ly(Py)],mT.prototype,"fill",2),om([ly(Cy)],mT.prototype,"fillOpacity",2);var fT=class extends RC{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};om([ly(by)],fT.prototype,"offset",2),om([ly(wy)],fT.prototype,"minAngle",2),om([ly(by)],fT.prototype,"minSpacing",2),om([ly(by)],fT.prototype,"maxCollisionOffset",2),om([ly(gy)],fT.prototype,"avoidCollisions",2);var vT=class extends RC{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};om([ly(vy)],vT.prototype,"positionOffset",2),om([ly(Cy)],vT.prototype,"positionRatio",2);var yT=class extends yv{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};om([ly(Fy,{optional:!0})],yT.prototype,"colors",2),om([ly(by)],yT.prototype,"length",2),om([ly(by)],yT.prototype,"strokeWidth",2);var bT=class extends yk{constructor(){super(...arguments),this.fills=Object.values(uT),this.strokes=Object.values(hT),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new bv(gT),this.title=new pT,this.innerCircle=new mT,this.shadow=new uA,this.calloutLabel=new fT,this.sectorLabel=new vT,this.calloutLine=new yT,this.tooltip=new mA}isValid(){const e=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(hm.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};function CT(e,t,i,n){const o=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],s=Math.PI/-2+oC(t),a=e?"initial":"update";return{nodes:{toFn:(e,t,i,n)=>{let{prevLive:r}=n,{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d}=t;const{stroke:u,fill:h}=t.sectorFormat;var p,g;"removed"===i&&r?(a=null===(p=r.datum)||void 0===p?void 0:p.endAngle,l=null===(g=r.datum)||void 0===g?void 0:g.endAngle):"removed"!==i||r||(a=s,l=s);if("removed"===i){const e=(e=>{let{radius:t}=e;return{innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*t}})(t);c=e.innerRadius,d=e.outerRadius}return{startAngle:a,endAngle:l,outerRadius:d,innerRadius:c,stroke:u,fill:h}},fromFn:(t,i,n,o)=>{let{prevFromProps:l}=o,{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h}=t,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l)c=s,d=s,u=i.innerRadius,h=i.outerRadius;else if("added"===n&&l){var m,f,v,y;c=null!==(m=l.endAngle)&&void 0!==m?m:s,d=null!==(f=l.endAngle)&&void 0!==f?f:s,u=null!==(v=l.innerRadius)&&void 0!==v?v:i.innerRadius,h=null!==(y=l.outerRadius)&&void 0!==y?y:i.outerRadius}if("added"===n&&!e){const e=(e=>{let{radius:t}=e;return{innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*t}})(i);u=e.innerRadius,h=e.outerRadius}var b,C;"updated"===n&&(p=null!==(b=t.fill)&&void 0!==b?b:p,g=null!==(C=t.stroke)&&void 0!==C?C:g);return{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,fill:p,stroke:g,phase:a}}},innerCircle:{fromFn:(e,t)=>{var i,n,o;return{size:null!==(i=null!==(n=null===(o=e.previousDatum)||void 0===o?void 0:o.radius)&&void 0!==n?n:e.size)&&void 0!==i?i:0,phase:a}},toFn:(e,t)=>{var i;return{size:null!==(i=t.radius)&&void 0!==i?i:0}}}}}function wT(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function xT(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,o=Math.atan2(i,n),r=e.getItemNodes();for(const s of r)if(!0!==s.datum.missing&&nC(o,s.startAngle,s.endAngle)){const e=Math.sqrt(n*n+i*i);let t=0;return e<s.innerRadius?t=s.innerRadius-e:e>s.outerRadius&&(t=e-s.outerRadius),{datum:s.datum,distance:t}}}function ST(e,t){const i=e.getNodeData();if(void 0!==i)return RT(i[t.datumIndex],e.centerX,e.centerY)}function RT(e,t,i){return $E(e).translate(t,i)}om([ly(fy)],bT.prototype,"angleKey",2),om([ly(fy,{optional:!0})],bT.prototype,"angleName",2),om([ly(fy,{optional:!0})],bT.prototype,"radiusKey",2),om([ly(fy,{optional:!0})],bT.prototype,"radiusName",2),om([ly(by,{optional:!0})],bT.prototype,"radiusMin",2),om([ly(by,{optional:!0})],bT.prototype,"radiusMax",2),om([ly(fy,{optional:!0})],bT.prototype,"calloutLabelKey",2),om([ly(fy,{optional:!0})],bT.prototype,"calloutLabelName",2),om([ly(fy,{optional:!0})],bT.prototype,"sectorLabelKey",2),om([ly(fy,{optional:!0})],bT.prototype,"sectorLabelName",2),om([ly(fy,{optional:!0})],bT.prototype,"legendItemKey",2),om([ly(Fy)],bT.prototype,"fills",2),om([ly(Fy)],bT.prototype,"strokes",2),om([ly(Cy)],bT.prototype,"fillOpacity",2),om([ly(Cy)],bT.prototype,"strokeOpacity",2),om([ly(Gy)],bT.prototype,"lineDash",2),om([ly(by)],bT.prototype,"lineDashOffset",2),om([ly(by)],bT.prototype,"cornerRadius",2),om([ly(my,{optional:!0})],bT.prototype,"itemStyler",2),om([ly(wy)],bT.prototype,"rotation",2),om([ly(vy)],bT.prototype,"outerRadiusOffset",2),om([ly(Cy)],bT.prototype,"outerRadiusRatio",2),om([ly(vy,{optional:!0})],bT.prototype,"innerRadiusOffset",2),om([ly(Cy,{optional:!0})],bT.prototype,"innerRadiusRatio",2),om([ly(by)],bT.prototype,"strokeWidth",2),om([ly(vy)],bT.prototype,"sectorSpacing",2),om([ly(jy)],bT.prototype,"innerLabels",2),om([ly(hy)],bT.prototype,"title",2),om([ly(hy)],bT.prototype,"innerCircle",2),om([ly(hy)],bT.prototype,"shadow",2),om([ly(hy)],bT.prototype,"calloutLabel",2),om([ly(hy)],bT.prototype,"sectorLabel",2),om([ly(hy)],bT.prototype,"calloutLine",2),om([ly(hy)],bT.prototype,"tooltip",2);var MT=class extends pk{constructor(e){let{useLabelLayer:t=!1,pickModes:i=[3,0],canHaveAxes:n=!1,animationResetFns:o,...r}=e;super({...r,useLabelLayer:t,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new Jb),this.nodeData=[],this.itemSelection=gw.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=gw.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=gw.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=gw.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new Tw("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}labelFactory(){const e=new xC;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){var e;const{item:t,label:i}=null!==(e=this.animationResetFns)&&void 0!==e?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&tw([this.itemSelection,this.highlightSelection],t),i&&tw([this.labelSelection,this.highlightLabelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){var t;const{item:i,label:n}=null!==(t=this.animationResetFns)&&void 0!==t?t:{};i&&tw([this.highlightSelection],i),n&&tw([this.highlightLabelSelection],n)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){var t;const i=null===(t=this.getNodeData())||void 0===t?void 0:t[e.datumIndex];if(void 0!==i)return this.itemSelection.select((e=>e instanceof CS&&e.datum===i))[0]}},kT=class extends LM{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},DT=class extends MT{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:wT,label:cA}}),this.properties=new bT,this.previousRadiusScale=new Ak,this.radiusScale=new Ak,this.calloutLabelGroup=this.contentGroup.appendChild(new Jb({name:"pieCalloutLabels"})),this.calloutLabelSelection=new gw(this.calloutLabelGroup,Jb),this.backgroundGroup=this.rootGroup.appendChild(new Jb({name:"".concat(this.id,"-background"),layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Jb({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ZM),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ZM),this.innerLabelsGroup=this.contentGroup.appendChild(new Jb({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Jb({name:"".concat(this.id,"-innerCircle")})),this.innerLabelsSelection=gw.select(this.innerLabelsGroup,xC),this.innerCircleSelection=gw.select(this.innerCircleGroup,ZM),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=kT,this.angleScale=new Ak,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2))}addChartEventListeners(){var e;this.destroyFns.push(null===(e=this.ctx.chartEventManager)||void 0===e?void 0:e.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((e=>e)))}nodeFactory(){return new dT}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:o,radiusKey:r,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),d=[],u=[];l?d.push(DM(l,"band",{id:"legendItemKey"})):s?d.push(DM(s,"band",{id:"calloutLabelKey"})):a&&d.push(DM(a,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;var g,m;r&&u.push(EM(r,{id:"radiusValue",min:null!==(g=this.properties.radiusMin)&&void 0!==g?g:0,max:this.properties.radiusMax}),AM(r,h,{id:"radiusRaw"}),pM({id:"radiusValue"},[0,1],1,null!==(m=this.properties.radiusMin)&&void 0!==m?m:0,this.properties.radiusMax));s&&u.push(AM(s,"band",{id:"calloutLabelValue"})),a&&u.push(AM(a,"band",{id:"sectorLabelValue"})),l&&u.push(AM(l,"band",{id:"legendItemValue"})),c&&this.processedData&&d.length>0&&u.push(CM(this.processedData)),u.push(gM()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[o]:0})),await this.requestDataModel(e,t,{props:[...d,TM(o,p,{id:"angleValue",onlyPositive:!0}),AM(o,p,{id:"angleRaw"}),pM({id:"angleValue"},[0,1],0,0),...u]});for(const y of null!==(f=null===(v=this.processedData)||void 0===v||null===(v=v.defs)||void 0===v?void 0:v.values)&&void 0!==f?f:[]){var f,v;const{id:e,missing:t,property:i}=y,n=gR(this,t);"angleRaw"!==e&&n>0&&hm.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var e;if(!this.nodeDataRefresh)return;const{nodeData:t=[]}=null!==(e=await this.createNodeData())&&void 0!==e?e:{};this.nodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:o,innerRadiusRatio:r}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:s,radiusIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(i);let u=0,h=0;const p=t.data.map(((e,t)=>{var i;const{datum:r,values:p}=e,g=p[s],m=n.convert(u)+oC(o);u=g,h+=g;const f=n.convert(u)+oC(o),v=Math.abs(f-m),y=m+v/2,b=p[s+1],C=a>=0&&null!==(i=p[a])&&void 0!==i?i:1,w=a>=0?p[a+1]:void 0,x=d>=0?p[d]:void 0,S=this.getLabels(r,y,v,!0,p[l],p[c],x),R=this.getSectorFormat(r,t,!1);return{itemId:t,series:this,datum:r,index:t,angleValue:b,midAngle:y,midCos:Math.cos(y),midSin:Math.sin(y),startAngle:m,endAngle:f,sectorFormat:R,radiusValue:w,radius:C,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(C),0),legendItemValue:x,enabled:this.seriesItemEnabled[t],...S}}));return this.zerosumOuterRing.visible=0===h,this.zerosumInnerRing.visible=0===h&&null!=r&&1!==r&&r>0,{itemId:e,nodeData:p,labelData:p}}getLabels(e,t,i,n,o,r,s){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return d&&i>oC(a.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:o}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:r})}),null!=c&&null!=s&&(p.legendItem={key:c,text:s}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=iC(e)- -.75*Math.PI;return t[vf(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){var n,o,r,s,a,l,c,d,u,h,p,g,m,f,v,y;const{callbackCache:b,highlightManager:C}=this.ctx,{angleKey:w,radiusKey:x,calloutLabelKey:S,sectorLabelKey:R,legendItemKey:M,fills:k,strokes:D,itemStyler:A}=this.properties,E=C.getActiveHighlight(),T=i&&(null===E||void 0===E?void 0:E.series)===this&&t===E.itemId,P=D[t%D.length],{fill:F,fillOpacity:N,stroke:L,strokeWidth:I,strokeOpacity:O,lineDash:j,lineDashOffset:B,cornerRadius:_}=dv(T&&this.properties.highlightStyle.item,{fill:k.length>0?k[t%k.length]:void 0,stroke:P,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let G;return A&&(G=b.call(A,{datum:e,angleKey:w,radiusKey:x,calloutLabelKey:S,sectorLabelKey:R,legendItemKey:M,fill:F,fillOpacity:N,stroke:L,strokeWidth:I,strokeOpacity:O,lineDash:j,lineDashOffset:B,cornerRadius:_,highlighted:T,seriesId:this.id})),{fill:null!==(n=null===(o=G)||void 0===o?void 0:o.fill)&&void 0!==n?n:F,fillOpacity:null!==(r=null===(s=G)||void 0===s?void 0:s.fillOpacity)&&void 0!==r?r:N,stroke:null!==(a=null===(l=G)||void 0===l?void 0:l.stroke)&&void 0!==a?a:L,strokeWidth:null!==(c=null===(d=G)||void 0===d?void 0:d.strokeWidth)&&void 0!==c?c:I,strokeOpacity:null!==(u=null===(h=G)||void 0===h?void 0:h.strokeOpacity)&&void 0!==u?u:O,lineDash:null!==(p=null===(g=G)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:j,lineDashOffset:null!==(m=null===(f=G)||void 0===f?void 0:f.lineDashOffset)&&void 0!==m?m:B,cornerRadius:null!==(v=null===(y=G)||void 0===y?void 0:y.cornerRadius)&&void 0!==v?v:_}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map((e=>{let{radius:t,...i}=e;return{...i,radius:t,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t),0)}}))}getTitleTranslationY(){var e,t;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(e=null===(t=this.properties.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-i)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:null===t||void 0===t?void 0:t.width,seriesRectHeight:null===t||void 0===t?void 0:t.height},o=null!=xv(this.nodeDataDependencies,n);if(o&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(o),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY(),t=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t,0,e),i.node.translationY=isFinite(e)?e:0}for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;if(e!==t){var i,n;if(e)null===(i=this.labelGroup)||void 0===i||i.removeChild(e.node);if(t)t.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(t.node);this.oldTitle=t}}updateNodeMidPoint(){this.nodeData.forEach((e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}}))}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,highlightLabelSelection:i,calloutLabelSelection:n,labelSelection:o,innerLabelsSelection:r}=this,s=this.ctx.highlightManager.getActiveHighlight(),a=(null===s||void 0===s?void 0:s.series)===this?this.nodeData.filter((e=>e.itemId===(null===s||void 0===s?void 0:s.itemId))):[],l=(e,t)=>{let i=this.nodeData;t&&(i=i.map((e=>({...e,sectorFormat:{...e.sectorFormat}})))),e.update(i,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};l(e,!1),l(t,!0),n.update(this.nodeData,(e=>{const t=new yw;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new xC;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),o.update(this.nodeData),i.update(a),r.update(this.properties.innerLabels,(e=>{e.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const e=Math.min(i,this.getOuterRadius()),n=1;t=Math.ceil(2*e+n)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===t||void 0===t?void 0:t.series)===this,this.highlightLabel.visible=i&&(null===t||void 0===t?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((e,t)=>{var i,n;let{radius:o}=t;e.setProperties({fill:null===(i=this.properties.innerCircle)||void 0===i?void 0:i.fill,opacity:null===(n=this.properties.innerCircle)||void 0===n?void 0:n.fillOpacity,size:o})}));const n=(e,t,i,n)=>{const o=this.getSectorFormat(t.datum,t.itemId,n);t.sectorFormat.fill=o.fill,t.sectorFormat.stroke=o.stroke;const r=this.ctx.animationManager.isSkipped();r&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(n||r)&&(e.fill=o.fill,e.stroke=o.stroke),e.strokeWidth=o.strokeWidth,e.fillOpacity=o.fillOpacity,e.strokeOpacity=o.strokeOpacity,e.lineDash=o.lineDash,e.lineDashOffset=o.lineDashOffset,e.cornerRadius=o.cornerRadius,e.fillShadow=this.properties.shadow;const s=Math.max((this.properties.sectorSpacing+(null!=o.stroke?o.strokeWidth:0))/2,0);e.inset=s,e.lineJoin=this.properties.sectorSpacing>=0||s>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>n(e,t,0,!1))),this.highlightSelection.each(((e,i,o)=>{const r=(null===t||void 0===t?void 0:t.series)===this&&e.datum.itemId===t.itemId;n(e,i,0,!0),e.visible=r})),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var e;const{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,o=null!==(e=t.colors)&&void 0!==e?e:this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,t)=>{const s=e.datum,{calloutLabel:a,outerRadius:l}=s;if(null!==a&&void 0!==a&&a.text&&!a.hidden&&0!==l){var c;e.visible=!0,e.strokeWidth=n,e.stroke=o[t%o.length],e.fill=void 0;const d=s.midCos*l,u=s.midSin*l;let h=s.midCos*(l+i),p=s.midSin*(l+i);if((null!==(c=a.collisionTextAlign)&&void 0!==c?c:0!==a.collisionOffsetY)&&null!=a.box){const e=a.box;let t=h,i=p;h<e.x?t=e.x:h>e.x+e.width&&(t=e.x+e.width),p<e.y?i=e.y:p>e.y+e.height&&(i=e.y+e.height);const n=t-h,o=i-p,s=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),l=s-r;l>0&&(h+=n*l/s,p+=o*l/s)}e.x1=d,e.y1=u,e.x2=h,e.y2=p}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,o=i.x+i.width-this.centerX,r=i.y-this.centerY,s=i.y+i.height-this.centerY;let a=1;t.x+1<n?a=(t.x+t.width-n)/t.width:t.x+t.width-1>o&&(a=(o-t.x)/t.width);const l=t.y+1<r||t.y+t.height-1>s;return{textLength:1===a?e.length:Math.floor(e.length*a)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const o=[{x:e.x+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+e.height+i},{x:e.x+t,y:e.y+e.height+i}],r=n**2;return o.some((e=>e.x**2+e.y**2>r))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:o}=t,r=e.convert(0),s=this.nodeData,a=this.nodeData.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(a.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),a.length<=1)return;const l=a.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=a.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),d=a.filter((e=>{var t;return e.midSin<0&&"center"===(null===(t=e.calloutLabel)||void 0===t?void 0:t.textAlign)})).sort(((e,t)=>e.midCos-t.midCos)),u=a.filter((e=>{var t;return e.midSin>=0&&"center"===(null===(t=e.calloutLabel)||void 0===t?void 0:t.textAlign)})).sort(((e,t)=>e.midCos-t.midCos)),h=new xC,p=e=>{var t;const o=e.calloutLabel;if(null==o)return new xf(0,0,0,0);const r=e.outerRadius+i.length+n,s=e.midCos*r,a=e.midSin*r+o.collisionOffsetY;return h.text=o.text,h.x=s,h.y=a,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:null!==(t=o.collisionTextAlign)&&void 0!==t?t:o.textAlign,textBaseline:o.textBaseline}),h.computeBBox()},g=(e,t,i)=>{const n=p(e).grow(o/2),r=p(t).grow(o/2);if(n.x<r.x+r.width&&n.x+n.width>r.x&&("to-top"===i?n.y<r.y+r.height:n.y+n.height>r.y)){const e="to-top"===i?n.y-r.y-r.height:n.y+n.height-r.y;t.calloutLabel.collisionOffsetY=e}},m=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];g(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];g(t,i,"to-bottom")}},f=e=>{const t=a.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>p(e))),n=i.map((e=>e.clone().grow(o/2)));let l=!1;for(let o=0;o<n.length&&!l;o++){const t=n[o];for(let i=o+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=s.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:r,outerRadius:n}})),d=i.some((e=>c.some((t=>iT(e,t)))));(l||t||d)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};m(l),m(c),f(d),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:r,color:s}=i,a=new xC;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,d=c.calloutLabel,u=t.convert(c.radius),h=Math.max(0,u);if(null===d||void 0===d||!d.text||0===h||d.hidden)return void(n.visible=!1);const p=h+o+r,g=c.midCos*p,m=c.midSin*p+d.collisionOffsetY,f={textAlign:null!==(l=d.collisionTextAlign)&&void 0!==l?l:d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=g,a.y=m,a.setFont(this.properties.calloutLabel),a.setAlign(f);const v=a.computeBBox();let y=d.text,b=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(d.text,v,e);y=d.text.length===t?d.text:"".concat(d.text.substring(0,t),"\u2026"),b=!i}n.text=y,n.x=g,n.y=m,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=s,n.visible=b}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:r,maxCollisionOffset:s,minSpacing:a}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new xC;let d;const{title:u}=this.properties;if(null!==u&&void 0!==u&&u.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.computeBBox(),l.push(d))}return this.nodeData.forEach((i=>{var n;const u=i.calloutLabel;if(!u||0===i.outerRadius)return null;const h=i.outerRadius+o+r,p=i.midCos*h,g=i.midSin*h+u.collisionOffsetY;c.text=u.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=u.collisionTextAlign)&&void 0!==n?n:u.textAlign,textBaseline:u.textBaseline});const m=c.computeBBox();if(u.box=m,Math.abs(u.collisionOffsetY)>s)u.hidden=!0;else{if(d){const e=t.y-this.centerY,i=new xf(d.x-a,e,d.width+2*a,d.y+d.height+a-e);if(m.collidesBBox(i))return void(u.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(u.text,m,t),o=u.text.length>2&&e<2;if(i||o||n)return void(u.hidden=!0)}u.hidden=!1,l.push(m)}})),0===l.length?null:xf.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:o,fontFamily:r,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel,c=(e,c)=>{const{sectorLabel:d,outerRadius:u}=c;let h=!1;if(d&&0!==u){const p=t*(1-a)+u*a+s;e.fill=l,e.fontStyle=n,e.fontWeight=o,e.fontSize=i,e.fontFamily=r,e.text=d.text,e.x=c.midCos*p,e.y=c.midSin*p,e.textAlign="center",e.textBaseline="middle";const g=e.computeBBox(),m=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:f,endAngle:v}=c,y={startAngle:f,endAngle:v,innerRadius:t,outerRadius:u};m.every((e=>{let[t,i]=e;return eT(t,i,y)}))&&(h=!0)}e.visible=h};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:o,fontWeight:r,fontSize:s,fontFamily:a,color:l}=n;i.fontStyle=o,i.fontWeight=r,i.fontSize=s,i.fontFamily=a,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",e.push(i.computeBBox()),t.push(n.spacing)}));const i=e=>0===e?0:t[e],n=e=>e===t.length-1?0:t[e],o=e.reduce(((e,t,o)=>e+t.height+i(o)+n(o)),0),r=Math.max(...e.map((e=>e.width))),s=this.getInnerRadius(),a=Math.sqrt(Math.pow(r/2,2)+Math.pow(o/2,2))<=(s>0?s:this.getOuterRadius()),l=[];for(let c=0,d=-o/2;c<e.length;c++){const t=e[c].height+d+i(c);l.push(t),d=t+n(c)}this.innerLabelsSelection.each(((e,t,i)=>{e.y=l[i],e.visible=a}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties,{sectorLabel:r,calloutLabel:s,legendItem:a}=e;return o&&void 0!==a?a.text:i&&i!==t&&void 0!==(null===s||void 0===s?void 0:s.text)?s.text:n&&n!==t&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:void 0}pickNodeClosestDatum(e){return xT(this,e)}getTooltipHtml(e){var t;if(!this.properties.isValid())return Iw;const{datum:i,angleValue:n,sectorFormat:{fill:o},itemId:r}=e,s=sA(null===(t=this.properties.title)||void 0===t?void 0:t.text),a=ov(n)?ff(n):String(n),l=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:null!==s&&void 0!==s?s:l,content:s&&l?"".concat(l,": ").concat(a):a,backgroundColor:o},{datum:i,itemId:r,title:s,color:o,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var t;const{visible:i,processedData:n,dataModel:o}=this;if(!o||null===n||void 0===n||!n.data.length||!this.properties.isValid()||"category"!==e)return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!s||s===r)&&(!a||a===r))return[];const{calloutLabelIdx:c,sectorLabelIdx:d,legendItemIdx:u}=this.getProcessedDataIndexes(o),h=(null===(t=this.properties.title)||void 0===t?void 0:t.showInLegend)&&this.properties.title.text,p=[];for(let y=0;y<n.data.length;y++){var g,m;const{datum:e,values:t}=n.data[y],o=[];h&&o.push(h);const b=this.getLabels(e,2*Math.PI,2*Math.PI,!1,t[c],t[d],t[u]);if(l&&void 0!==b.legendItem)o.push(b.legendItem.text);else if(s&&s!==r&&void 0!==(null===(g=b.calloutLabel)||void 0===g?void 0:g.text)){var f;o.push(null===(f=b.calloutLabel)||void 0===f?void 0:f.text)}else if(a&&a!==r&&void 0!==(null===(m=b.sectorLabel)||void 0===m?void 0:m.text)){var v;o.push(null===(v=b.sectorLabel)||void 0===v?void 0:v.text)}if(0===o.length)continue;const C=this.getSectorFormat(e,y,!1);p.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:i&&this.seriesItemEnabled[y],label:{text:o.join(" - ")},symbols:[{marker:{fill:C.fill,stroke:C.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?e[l]:void 0})}return p}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:o}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=o&&this.toggleOtherSeriesItems(o,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,o)=>{let{values:r}=i;r[n]===e&&this.toggleSeriesItem(o,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=CT(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Uv(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],i.nodes),Uv(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),aA(this,"callout",t,this.calloutLabelSelection),aA(this,"sector",t,this.labelSelection),aA(this,"highlight",t,this.highlightLabelSelection),aA(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var e,t,i,n,o;const{itemSelection:r,highlightSelection:s,processedData:a,radiusScale:l,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,u=null===a||void 0===a||null===(e=a.reduced)||void 0===e?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=0===(null!==(t=null===u||void 0===u?void 0:u.moved.size)&&void 0!==t?t:0),p=(null!==(i=null===a||void 0===a?void 0:a.defs.keys.length)&&void 0!==i?i:0)>0,g=null===(n=null===a||void 0===a||null===(o=a.reduced)||void 0===o||null===(o=o.animationValidation)||void 0===o?void 0:o.uniqueKeys)||void 0===n||n;h&&p&&g||this.ctx.animationManager.skipCurrentBatch();const m=CT(!1,this.properties.rotation,l,c);Uv(this.id,"nodes",d,[r,s],m.nodes,((e,t)=>this.getDatumId(t)),u),Uv(this.id,"innerCircle",d,[this.innerCircleSelection],m.innerCircle),aA(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),aA(this,"sector",this.ctx.animationManager,this.labelSelection),aA(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),aA(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,radiusScale:i,previousRadiusScale:n}=this,{animationManager:o}=this.ctx,r=CT(!1,this.properties.rotation,i,n);Uv(this.id,"nodes",o,[e,t],r.nodes),Uv(this.id,"innerCircle",o,[this.innerCircleSelection],r.innerCircle),lA(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),lA(this,"sector",this.ctx.animationManager,this.labelSelection),lA(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),lA(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var t;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties;if(null!==(t=this.processedData)&&void 0!==t&&null!==(t=t.reduced)&&void 0!==t&&null!==(t=t.animationValidation)&&void 0!==t&&t.uniqueKeys)return o?e[o]:i?e[i]:n?e[n]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):"".concat(t)}onDataChange(){var e;const{data:t,seriesItemEnabled:i}=this;this.seriesItemEnabled=null!==(e=null===t||void 0===t?void 0:t.map(((e,t)=>{var n;return null===(n=i[t])||void 0===n||n})))&&void 0!==e?e:[]}};DT.className="DonutSeries",DT.type="donut";var AT={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:ED,color:ND,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:ED,color:TD,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:ED,color:FD,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:BD,xOffset:3,yOffset:3,blur:5}}},ET=e=>{let{takeColors:t,colorsCount:i}=e;const{fills:n,strokes:o}=t(i);return{fills:n,strokes:o,calloutLine:{colors:o}}},TT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:DT,tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:ED,color:ND,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:ED,color:TD,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:ED,color:FD,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:BD,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:ED,color:TD,spacing:2}}},paletteFactory:ET},PT=class extends Gw{constructor(){super(...arguments),this.showInLegend=!1}};om([ly(gy)],PT.prototype,"showInLegend",2);var FT=class extends RC{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};om([ly(by)],FT.prototype,"offset",2),om([ly(wy)],FT.prototype,"minAngle",2),om([ly(by)],FT.prototype,"minSpacing",2),om([ly(by)],FT.prototype,"maxCollisionOffset",2),om([ly(gy)],FT.prototype,"avoidCollisions",2);var NT=class extends RC{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};om([ly(vy)],NT.prototype,"positionOffset",2),om([ly(Cy)],NT.prototype,"positionRatio",2);var LT=class extends yv{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};om([ly(Fy,{optional:!0})],LT.prototype,"colors",2),om([ly(by)],LT.prototype,"length",2),om([ly(by)],LT.prototype,"strokeWidth",2);var IT=class extends yk{constructor(){super(...arguments),this.fills=Object.values(uT),this.strokes=Object.values(hT),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new PT,this.shadow=new uA,this.calloutLabel=new FT,this.sectorLabel=new NT,this.calloutLine=new LT,this.tooltip=new mA}};om([ly(fy)],IT.prototype,"angleKey",2),om([ly(fy,{optional:!0})],IT.prototype,"angleName",2),om([ly(fy,{optional:!0})],IT.prototype,"radiusKey",2),om([ly(fy,{optional:!0})],IT.prototype,"radiusName",2),om([ly(by,{optional:!0})],IT.prototype,"radiusMin",2),om([ly(by,{optional:!0})],IT.prototype,"radiusMax",2),om([ly(fy,{optional:!0})],IT.prototype,"calloutLabelKey",2),om([ly(fy,{optional:!0})],IT.prototype,"calloutLabelName",2),om([ly(fy,{optional:!0})],IT.prototype,"sectorLabelKey",2),om([ly(fy,{optional:!0})],IT.prototype,"sectorLabelName",2),om([ly(fy,{optional:!0})],IT.prototype,"legendItemKey",2),om([ly(Fy)],IT.prototype,"fills",2),om([ly(Fy)],IT.prototype,"strokes",2),om([ly(Cy)],IT.prototype,"fillOpacity",2),om([ly(Cy)],IT.prototype,"strokeOpacity",2),om([ly(Gy)],IT.prototype,"lineDash",2),om([ly(by)],IT.prototype,"lineDashOffset",2),om([ly(by)],IT.prototype,"cornerRadius",2),om([ly(my,{optional:!0})],IT.prototype,"itemStyler",2),om([ly(wy)],IT.prototype,"rotation",2),om([ly(vy)],IT.prototype,"outerRadiusOffset",2),om([ly(Cy)],IT.prototype,"outerRadiusRatio",2),om([ly(by)],IT.prototype,"strokeWidth",2),om([ly(vy)],IT.prototype,"sectorSpacing",2),om([ly(hy)],IT.prototype,"title",2),om([ly(hy)],IT.prototype,"shadow",2),om([ly(hy)],IT.prototype,"calloutLabel",2),om([ly(hy)],IT.prototype,"sectorLabel",2),om([ly(hy)],IT.prototype,"calloutLine",2),om([ly(hy)],IT.prototype,"tooltip",2);var OT=class extends LM{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},jT=class extends MT{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:wT,label:cA}}),this.properties=new IT,this.previousRadiusScale=new Ak,this.radiusScale=new Ak,this.calloutLabelGroup=this.contentGroup.appendChild(new Jb({name:"pieCalloutLabels"})),this.calloutLabelSelection=new gw(this.calloutLabelGroup,Jb),this.backgroundGroup=this.rootGroup.appendChild(new Jb({name:"".concat(this.id,"-background"),layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Jb({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ZM),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=OT,this.angleScale=new Ak,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2))}addChartEventListeners(){var e;this.destroyFns.push(null===(e=this.ctx.chartEventManager)||void 0===e?void 0:e.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((e=>e)))}nodeFactory(){const e=new dT;return e.miterLimit=1e9,e}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:o,radiusKey:r,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),d=[],u=[];l?d.push(DM(l,"band",{id:"legendItemKey"})):s?d.push(DM(s,"band",{id:"calloutLabelKey"})):a&&d.push(DM(a,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;var g,m;r&&u.push(EM(r,{id:"radiusValue",min:null!==(g=this.properties.radiusMin)&&void 0!==g?g:0,max:this.properties.radiusMax}),AM(r,h,{id:"radiusRaw"}),pM({id:"radiusValue"},[0,1],1,null!==(m=this.properties.radiusMin)&&void 0!==m?m:0,this.properties.radiusMax));s&&u.push(AM(s,"band",{id:"calloutLabelValue"})),a&&u.push(AM(a,"band",{id:"sectorLabelValue"})),l&&u.push(AM(l,"band",{id:"legendItemValue"})),c&&this.processedData&&d.length>0&&u.push(CM(this.processedData)),u.push(gM()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[o]:0})),await this.requestDataModel(e,t,{props:[...d,TM(o,p,{id:"angleValue",onlyPositive:!0}),AM(o,p,{id:"angleRaw"}),pM({id:"angleValue"},[0,1],0,0),...u]});for(const y of null!==(f=null===(v=this.processedData)||void 0===v||null===(v=v.defs)||void 0===v?void 0:v.values)&&void 0!==f?f:[]){var f,v;const{id:e,missing:t,property:i}=y,n=gR(this,t);"angleRaw"!==e&&n>0&&hm.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var e;if(!this.nodeDataRefresh)return;const{nodeData:t=[]}=null!==(e=await this.createNodeData())&&void 0!==e?e:{};this.nodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:o}=this.properties;if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:r,radiusIdx:s,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(i);let d=0,u=0;const h=t.data.map(((e,t)=>{var i;const{datum:h,values:p}=e,g=p[r],m=n.convert(d)+oC(o);d=g,u+=g;const f=n.convert(d)+oC(o),v=Math.abs(f-m),y=m+v/2,b=p[r+1],C=s>=0&&null!==(i=p[s])&&void 0!==i?i:1,w=s>=0?p[s+1]:void 0,x=c>=0?p[c]:void 0,S=this.getLabels(h,y,v,!0,p[a],p[l],x),R=this.getSectorFormat(h,t,!1);return{itemId:t,series:this,datum:h,index:t,angleValue:b,midAngle:y,midCos:Math.cos(y),midSin:Math.sin(y),startAngle:m,endAngle:f,sectorFormat:R,radiusValue:w,radius:C,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(C),0),legendItemValue:x,enabled:this.seriesItemEnabled[t],...S}}));return this.zerosumOuterRing.visible=0===u,{itemId:e,nodeData:h,labelData:h}}getLabels(e,t,i,n,o,r,s){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return d&&i>oC(a.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:o}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:r})}),null!=c&&null!=s&&(p.legendItem={key:c,text:s}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=iC(e)- -.75*Math.PI;return t[vf(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){var n,o,r,s,a,l,c,d,u,h,p,g,m,f,v,y;const{callbackCache:b,highlightManager:C}=this.ctx,{angleKey:w,radiusKey:x,calloutLabelKey:S,sectorLabelKey:R,legendItemKey:M,fills:k,strokes:D,itemStyler:A}=this.properties,E=C.getActiveHighlight(),T=i&&(null===E||void 0===E?void 0:E.series)===this&&t===E.itemId,P=D[t%D.length],{fill:F,fillOpacity:N,stroke:L,strokeWidth:I,strokeOpacity:O,lineDash:j,lineDashOffset:B,cornerRadius:_}=dv(T&&this.properties.highlightStyle.item,{fill:k.length>0?k[t%k.length]:void 0,stroke:P,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let G;return A&&(G=b.call(A,{datum:e,angleKey:w,radiusKey:x,calloutLabelKey:S,sectorLabelKey:R,legendItemKey:M,fill:F,strokeOpacity:O,stroke:L,strokeWidth:I,fillOpacity:N,lineDash:j,lineDashOffset:B,cornerRadius:_,highlighted:T,seriesId:this.id})),{fill:null!==(n=null===(o=G)||void 0===o?void 0:o.fill)&&void 0!==n?n:F,fillOpacity:null!==(r=null===(s=G)||void 0===s?void 0:s.fillOpacity)&&void 0!==r?r:N,stroke:null!==(a=null===(l=G)||void 0===l?void 0:l.stroke)&&void 0!==a?a:L,strokeWidth:null!==(c=null===(d=G)||void 0===d?void 0:d.strokeWidth)&&void 0!==c?c:I,strokeOpacity:null!==(u=null===(h=G)||void 0===h?void 0:h.strokeOpacity)&&void 0!==u?u:O,lineDash:null!==(p=null===(g=G)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:j,lineDashOffset:null!==(m=null===(f=G)||void 0===f?void 0:f.lineDashOffset)&&void 0!==m?m:B,cornerRadius:null!==(v=null===(y=G)||void 0===y?void 0:y.cornerRadius)&&void 0!==v?v:_}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map((e=>{let{radius:t,...i}=e;return{...i,radius:t,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t),0)}}))}getTitleTranslationY(){var e,t;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(e=null===(t=this.properties.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-i)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:null===t||void 0===t?void 0:t.width,seriesRectHeight:null===t||void 0===t?void 0:t.height},o=null!=xv(this.nodeDataDependencies,n);if(o&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(o),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY(),t=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t,0,e),i.node.translationY=isFinite(e)?e:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;if(e!==t){var i,n;if(e)null===(i=this.labelGroup)||void 0===i||i.removeChild(e.node);if(t)t.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(t.node);this.oldTitle=t}}updateNodeMidPoint(){this.nodeData.forEach((e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}}))}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,highlightLabelSelection:i,calloutLabelSelection:n,labelSelection:o}=this,r=this.ctx.highlightManager.getActiveHighlight(),s=(null===r||void 0===r?void 0:r.series)===this?this.nodeData.filter((e=>e.itemId===(null===r||void 0===r?void 0:r.itemId))):[],a=(e,t)=>{let i=this.nodeData;t&&(i=i.map((e=>({...e,sectorFormat:{...e.sectorFormat}})))),e.update(i,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};a(e,!1),a(t,!0),n.update(this.nodeData,(e=>{const t=new yw;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new xC;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),o.update(this.nodeData),i.update(s)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===t||void 0===t?void 0:t.series)===this,this.highlightLabel.visible=i&&(null===t||void 0===t?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=(e,t,i,n)=>{const o=this.getSectorFormat(t.datum,t.itemId,n);t.sectorFormat.fill=o.fill,t.sectorFormat.stroke=o.stroke;const r=this.ctx.animationManager.isSkipped();r&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(n||r)&&(e.fill=o.fill,e.stroke=o.stroke),e.strokeWidth=o.strokeWidth,e.fillOpacity=o.fillOpacity,e.strokeOpacity=o.strokeOpacity,e.lineDash=o.lineDash,e.lineDashOffset=o.lineDashOffset,e.cornerRadius=o.cornerRadius,e.fillShadow=this.properties.shadow;const s=Math.max((this.properties.sectorSpacing+(null!=o.stroke?o.strokeWidth:0))/2,0);e.inset=s,e.lineJoin=this.properties.sectorSpacing>=0||s>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>n(e,t,0,!1))),this.highlightSelection.each(((e,t,i)=>n(e,t,0,!0))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var e;const{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,o=null!==(e=t.colors)&&void 0!==e?e:this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,t)=>{const s=e.datum,{calloutLabel:a,outerRadius:l}=s;if(null!==a&&void 0!==a&&a.text&&!a.hidden&&0!==l){var c;e.visible=!0,e.strokeWidth=n,e.stroke=o[t%o.length],e.fill=void 0;const d=s.midCos*l,u=s.midSin*l;let h=s.midCos*(l+i),p=s.midSin*(l+i);if((null!==(c=a.collisionTextAlign)&&void 0!==c?c:0!==a.collisionOffsetY)&&null!=a.box){const e=a.box;let t=h,i=p;h<e.x?t=e.x:h>e.x+e.width&&(t=e.x+e.width),p<e.y?i=e.y:p>e.y+e.height&&(i=e.y+e.height);const n=t-h,o=i-p,s=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),l=s-r;l>0&&(h+=n*l/s,p+=o*l/s)}e.x1=d,e.y1=u,e.x2=h,e.y2=p}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,o=i.x+i.width-this.centerX,r=i.y-this.centerY,s=i.y+i.height-this.centerY;let a=1;t.x+1<n?a=(t.x+t.width-n)/t.width:t.x+t.width-1>o&&(a=(o-t.x)/t.width);const l=t.y+1<r||t.y+t.height-1>s;return{textLength:1===a?e.length:Math.floor(e.length*a)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const o=[{x:e.x+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+e.height+i},{x:e.x+t,y:e.y+e.height+i}],r=n**2;return o.some((e=>e.x**2+e.y**2>r))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:o}=t,r=e.convert(0),s=this.nodeData,a=this.nodeData.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(a.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),a.length<=1)return;const l=a.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=a.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),d=a.filter((e=>{var t;return e.midSin<0&&"center"===(null===(t=e.calloutLabel)||void 0===t?void 0:t.textAlign)})).sort(((e,t)=>e.midCos-t.midCos)),u=a.filter((e=>{var t;return e.midSin>=0&&"center"===(null===(t=e.calloutLabel)||void 0===t?void 0:t.textAlign)})).sort(((e,t)=>e.midCos-t.midCos)),h=new xC,p=e=>{var t;const o=e.calloutLabel;if(null==o)return new xf(0,0,0,0);const r=e.outerRadius+i.length+n,s=e.midCos*r,a=e.midSin*r+o.collisionOffsetY;return h.text=o.text,h.x=s,h.y=a,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:null!==(t=o.collisionTextAlign)&&void 0!==t?t:o.textAlign,textBaseline:o.textBaseline}),h.computeBBox()},g=(e,t,i)=>{const n=p(e).grow(o/2),r=p(t).grow(o/2);if(n.x<r.x+r.width&&n.x+n.width>r.x&&("to-top"===i?n.y<r.y+r.height:n.y+n.height>r.y)){const e="to-top"===i?n.y-r.y-r.height:n.y+n.height-r.y;t.calloutLabel.collisionOffsetY=e}},m=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];g(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];g(t,i,"to-bottom")}},f=e=>{const t=a.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>p(e))),n=i.map((e=>e.clone().grow(o/2)));let l=!1;for(let o=0;o<n.length&&!l;o++){const t=n[o];for(let i=o+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=s.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:r,outerRadius:n}})),d=i.some((e=>c.some((t=>iT(e,t)))));(l||t||d)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};m(l),m(c),f(d),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:r,color:s}=i,a=new xC;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,d=c.calloutLabel,u=t.convert(c.radius),h=Math.max(0,u);if(null===d||void 0===d||!d.text||0===h||d.hidden)return void(n.visible=!1);const p=h+o+r,g=c.midCos*p,m=c.midSin*p+d.collisionOffsetY,f={textAlign:null!==(l=d.collisionTextAlign)&&void 0!==l?l:d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=g,a.y=m,a.setFont(this.properties.calloutLabel),a.setAlign(f);const v=a.computeBBox();let y=d.text,b=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(d.text,v,e);y=d.text.length===t?d.text:"".concat(d.text.substring(0,t),"\u2026"),b=!i}n.text=y,n.x=g,n.y=m,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=s,n.visible=b}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:r,maxCollisionOffset:s,minSpacing:a}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new xC;let d;const{title:u}=this.properties;if(null!==u&&void 0!==u&&u.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.computeBBox(),l.push(d))}return this.nodeData.forEach((i=>{var n;const u=i.calloutLabel;if(!u||0===i.outerRadius)return null;const h=i.outerRadius+o+r,p=i.midCos*h,g=i.midSin*h+u.collisionOffsetY;c.text=u.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=u.collisionTextAlign)&&void 0!==n?n:u.textAlign,textBaseline:u.textBaseline});const m=c.computeBBox();if(u.box=m,Math.abs(u.collisionOffsetY)>s)u.hidden=!0;else{if(d){const e=t.y-this.centerY,i=new xf(d.x-a,e,d.width+2*a,d.y+d.height+a-e);if(m.collidesBBox(i))return void(u.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(u.text,m,t),o=u.text.length>2&&e<2;if(i||o||n)return void(u.hidden=!0)}u.hidden=!1,l.push(m)}})),0===l.length?null:xf.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:o,fontFamily:r,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel,c=t>0,d=1===this.seriesItemEnabled.filter(Boolean).length,u=(e,u)=>{const{sectorLabel:h,outerRadius:p}=u;let g=!1;if(h&&0!==p){const m=t*(1-a)+p*a+s;e.fill=l,e.fontStyle=n,e.fontWeight=o,e.fontSize=i,e.fontFamily=r,e.text=h.text;!c&&d?(e.x=0,e.y=0):(e.x=u.midCos*m,e.y=u.midSin*m),e.textAlign="center",e.textBaseline="middle";const f=e.computeBBox(),v=[[f.x,f.y],[f.x+f.width,f.y],[f.x+f.width,f.y+f.height],[f.x,f.y+f.height]],{startAngle:y,endAngle:b}=u,C={startAngle:y,endAngle:b,innerRadius:t,outerRadius:p};v.every((e=>{let[t,i]=e;return eT(t,i,C)}))&&(g=!0)}e.visible=g};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties,{sectorLabel:r,calloutLabel:s,legendItem:a}=e;return o&&void 0!==a?a.text:i&&i!==t&&void 0!==(null===s||void 0===s?void 0:s.text)?s.text:n&&n!==t&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:void 0}pickNodeClosestDatum(e){return xT(this,e)}getTooltipHtml(e){var t;if(!this.properties.isValid())return Iw;const{datum:i,angleValue:n,sectorFormat:{fill:o},itemId:r}=e,s=sA(null===(t=this.properties.title)||void 0===t?void 0:t.text),a=ov(n)?ff(n):String(n),l=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:null!==s&&void 0!==s?s:l,content:s&&l?"".concat(l,": ").concat(a):a,backgroundColor:o},{datum:i,itemId:r,title:s,color:o,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var t;const{visible:i,processedData:n,dataModel:o}=this;if(!o||null===n||void 0===n||!n.data.length||"category"!==e)return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!s||s===r)&&(!a||a===r))return[];const{calloutLabelIdx:c,sectorLabelIdx:d,legendItemIdx:u}=this.getProcessedDataIndexes(o),h=(null===(t=this.properties.title)||void 0===t?void 0:t.showInLegend)&&this.properties.title.text,p=[];for(let y=0;y<n.data.length;y++){var g,m;const{datum:e,values:t}=n.data[y],o=[];h&&o.push(h);const b=this.getLabels(e,2*Math.PI,2*Math.PI,!1,t[c],t[d],t[u]);if(l&&void 0!==b.legendItem)o.push(b.legendItem.text);else if(s&&s!==r&&void 0!==(null===(g=b.calloutLabel)||void 0===g?void 0:g.text)){var f;o.push(null===(f=b.calloutLabel)||void 0===f?void 0:f.text)}else if(a&&a!==r&&void 0!==(null===(m=b.sectorLabel)||void 0===m?void 0:m.text)){var v;o.push(null===(v=b.sectorLabel)||void 0===v?void 0:v.text)}if(0===o.length)continue;const C=this.getSectorFormat(e,y,!1);p.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:i&&this.seriesItemEnabled[y],label:{text:o.join(" - ")},symbols:[{marker:{fill:C.fill,stroke:C.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?e[l]:void 0})}return p}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:o}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=o&&this.toggleOtherSeriesItems(o,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,o)=>{let{values:r}=i;r[n]===e&&this.toggleSeriesItem(o,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=CT(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Uv(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],i.nodes),aA(this,"callout",t,this.calloutLabelSelection),aA(this,"sector",t,this.labelSelection),aA(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var e,t,i,n,o;const{itemSelection:r,highlightSelection:s,processedData:a,radiusScale:l,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,u=null===a||void 0===a||null===(e=a.reduced)||void 0===e?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=0===(null!==(t=null===u||void 0===u?void 0:u.moved.size)&&void 0!==t?t:0),p=(null!==(i=null===a||void 0===a?void 0:a.defs.keys.length)&&void 0!==i?i:0)>0,g=null===(n=null===a||void 0===a||null===(o=a.reduced)||void 0===o||null===(o=o.animationValidation)||void 0===o?void 0:o.uniqueKeys)||void 0===n||n;h&&p&&g||this.ctx.animationManager.skipCurrentBatch();const m=CT(!1,this.properties.rotation,l,c);Uv(this.id,"nodes",d,[r,s],m.nodes,((e,t)=>this.getDatumId(t)),u),aA(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),aA(this,"sector",this.ctx.animationManager,this.labelSelection),aA(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,radiusScale:i,previousRadiusScale:n}=this,{animationManager:o}=this.ctx,r=CT(!1,this.properties.rotation,i,n);Uv(this.id,"nodes",o,[e,t],r.nodes),lA(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),lA(this,"sector",this.ctx.animationManager,this.labelSelection),lA(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var t;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties;if(null!==(t=this.processedData)&&void 0!==t&&null!==(t=t.reduced)&&void 0!==t&&null!==(t=t.animationValidation)&&void 0!==t&&t.uniqueKeys)return o?e[o]:i?e[i]:n?e[n]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):"".concat(t)}onDataChange(){var e;const{data:t,seriesItemEnabled:i}=this;this.seriesItemEnabled=null!==(e=null===t||void 0===t?void 0:t.map(((e,t)=>{var n;return null===(n=i[t])||void 0===n||n})))&&void 0!==e?e:[]}};jT.className="PieSeries",jT.type="pie";var BT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:jT,tooltipDefaults:{range:"exact"},themeTemplate:AT,paletteFactory:ET},_T=class extends yv{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal"}};om([Aw((e=>{e.onChange(e.enabled)})),ly(gy)],_T.prototype,"enabled",2),om([Aw((e=>{e.onChange(e.enabled)})),ly(Jy([...KS]),{optional:!0})],_T.prototype,"align",2),om([Aw((e=>{e.onChange(e.enabled)})),ly(Jy(ZS),{optional:!0})],_T.prototype,"position",2),om([Aw((e=>{e.onChange(e.enabled)})),ly(Jy(["small","normal"]),{optional:!0})],_T.prototype,"size",2),om([Aw((e=>{e.onButtonsChange(e.buttons)})),ly(Sy,{optional:!0})],_T.prototype,"buttons",2);var GT="ag-charts-toolbar",zT="ag-charts-toolbar__align",HT="ag-charts-toolbar__section",VT="ag-charts-toolbar__button",WT="ag-charts-toolbar__icon",UT="ag-charts-toolbar__label",YT={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled"}},KT=class extends jx{constructor(e){super(),this.ctx=e,this.enabled=!0,this.annotations=new _T(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new _T(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new _T(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new _T(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.groupDestroyFns={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,e.domManager.addStyles(GT,".ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity 0.2s ease-in-out,transform 0.2s ease-in-out}.ag-charts-toolbar--hidden,\n.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity 0.4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size:var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size:var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding:var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,\n.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,\n.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,\n.ag-charts-toolbar--floating-top,\n.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;overflow:hidden;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,\n.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,\n.ag-charts-toolbar--left .ag-charts-toolbar__align--end,\n.ag-charts-toolbar--right .ag-charts-toolbar__align--center,\n.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,\n.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform 0.4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font-size:var(--ag-charts-toolbar-font-size);font-weight:500;justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;transition:background-color 0.25s ease-in-out,color 0.25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:first-child{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:last-child{border-bottom-right-radius:var(--ag-charts-button-radius);border-right:var(--ag-charts-toolbar-border);border-top-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar--left .ag-charts-toolbar__button,\n.ag-charts-toolbar--right .ag-charts-toolbar__button{border-left:var(--ag-charts-toolbar-border);border-right:var(--ag-charts-toolbar-border);border-radius:0;margin:-1px 0 0 0;max-width:100%;overflow:hidden}.ag-charts-toolbar--left .ag-charts-toolbar__button:first-child,\n.ag-charts-toolbar--right .ag-charts-toolbar__button:first-child{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar--left .ag-charts-toolbar__button:last-child,\n.ag-charts-toolbar--right .ag-charts-toolbar__button:last-child{border-bottom:var(--ag-charts-toolbar-border);border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar__button--hidden-value,\n.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color)}.ag-charts-toolbar .ag-charts-toolbar__button:focus-visible{border-left:var(--ag-charts-toolbar-border);border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:1}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);color:var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled='true']{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled='true']){cursor:pointer}.ag-charts-toolbar__icon{height:1.2em;width:1.2em}.ag-charts-toolbar__icon + .ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,\n.ag-charts-toolbar__label{pointer-events:none}"),this.elements={};for(const t of ZS)this.elements[t]=e.domManager.addChild("canvas-overlay","toolbar-".concat(t)),this.renderToolbar(t);this.toggleVisibilities(),this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),31),e.interactionManager.addListener("leave",this.onLeave.bind(this),31),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),e.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(GT);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay","toolbar-".concat(e))}onHover(e){const{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:o}}=this,{offsetY:r,sourceEvent:{target:s}}=e,{FloatingBottom:a,FloatingTop:l}=XS;if(!t)return;const c=i[a],d=i[l],u=r>c.offsetTop-n&&r<o.canvas.element.offsetHeight||s===c,h=d.offsetTop+d.offsetHeight+n,p=r>0&&r<h||s===d;this.translateFloatingElements(a,u),this.translateFloatingElements(l,p)}onLeave(e){const{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:o}=e,{FloatingBottom:r,FloatingTop:s}=XS;if(!t||o!==i.canvas.element)return;qS.some((e=>this.groupButtons[e].some((e=>e===n))))||(this.translateFloatingElements(r,!1),this.translateFloatingElements(s,!1))}onGroupChanged(e){null==this[e]||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t){this.enabled&&!this.groupProxied.has(e)&&(this.createGroupButtons(e,t),this.toggleVisibilities())}onLayoutComplete(){for(const e of ZS)this.elements[e].classList.remove(YT.preventFlash)}onButtonToggled(e){const{group:t,value:i,active:n,enabled:o,visible:r}=e;if(0!==this.groupButtons[t].length)for(const s of this.groupButtons[t])s.dataset.toolbarValue==="".concat(i)&&(s.ariaDisabled="".concat(!o),s.classList.toggle(YT.button.hiddenToggled,!r),s.classList.toggle(YT.button.active,n));else this.pendingButtonToggledEvents.push(e)}onGroupToggled(e){const{caller:t,group:i,visible:n}=e;this.toggleGroup(t,i,n),this.toggleVisibilities()}onFloatingAnchorChanged(e){const{elements:t,groupButtons:i,positions:n,horizontalSpacing:o,verticalSpacing:r,ctx:{domManager:s,toolbarManager:a}}=this,{group:l,anchor:c}=e;if(!n.floating.has(l))return;const d=t.floating;if(d.classList.contains(YT.hidden))return;let u=c.y-d.offsetHeight-r,h=c.x-d.offsetWidth/2;"above"===c.position&&(u=c.y-d.offsetHeight/2,h=c.x+o);const p=s.getBoundingClientRect();u=cf(0,u,p.height-d.offsetHeight),h=cf(0,h,p.width-d.offsetWidth),d.style.top="".concat(u,"px"),d.style.left="".concat(h,"px");for(const f of i[l]){var g,m;if(f.classList.contains(YT.button.hiddenToggled))return;const e=f.offsetParent;a.buttonMoved(l,f.dataset.toolbarValue,new xf(f.offsetLeft-f.offsetWidth+(null!==(g=null===e||void 0===e?void 0:e.offsetLeft)&&void 0!==g?g:0),f.offsetTop+(null!==(m=null===e||void 0===e?void 0:e.offsetTop)&&void 0!==m?m:0),f.offsetWidth,f.offsetWidth))}}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){var n,o;null!==(n=t)&&void 0!==n||(t=this[e].enabled),null!==(o=i)&&void 0!==o||(i=this[e].position);for(const r of ZS)t&&i===r?this.positions[r].add(e):this.positions[r].delete(e)}createGroupButtons(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const p of this.groupButtons[e])p.remove();if(this.groupButtons[e]=[],this.groupDestroyFns[e].forEach((e=>e())),this.groupDestroyFns[e]=[],0===i.length)return;const{align:n,position:o}=this[e],r=this.positionAlignments[o][n];if(!r)return;let s=0;const a=()=>{let t=r.children.item(s);return t||(t=aw("div"),r.appendChild(t),this.destroyFns.push((()=>t.remove()))),t.classList.add(HT,YT[this[e].size]),s++,t};let l=a(),c=null===(t=i.at(0))||void 0===t?void 0:t.section;for(const p of i){c!==p.section&&(l=a()),c=p.section;const t=this.createButtonElement(e,p);l.appendChild(t),this.groupButtons[e].push(t)}let d,u;QS(o)&&(d=()=>this.translateFloatingElements(o,!0),u=()=>this.translateFloatingElements(o,!1));const h=this.computeAriaOrientation(this[e].position);this.groupDestroyFns[e]=Kk({orientation:h,toolbar:r,buttons:this.groupButtons[e],onEscape:()=>{this.ctx.toolbarManager.cancel(e)},onFocus:d,onBlur:u}),this.updateToolbarAriaLabel(e,r)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i){i?this.groupCallers[t].add(e):this.groupCallers[t].delete(e)}processPendingEvents(){var e;const t=(null!==(e=this.pendingButtonToggledEvents)&&void 0!==e?e:[]).slice();for(const i of t)this.onButtonToggled(i);this.pendingButtonToggledEvents=[]}async performLayout(e){return this.enabled?(this.refreshOuterLayout(e.shrinkRect),this.refreshLocale(),e):e}async performCartesianLayout(e){this.enabled&&this.refreshInnerLayout(e.seriesRect)}refreshOuterLayout(e){const{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains(YT.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains(YT.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains(YT.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top="".concat(e.y+e.height+n,"px")),t.left.classList.contains(YT.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){const{groupButtons:e,groupProxied:t,hasNewLocale:i}=this;if(i){for(const i of qS){const n=t.get(i);e[i].forEach((e=>this.refreshButtonLocale(e,this[i],n))),this.updateToolbarAriaLabel(i)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:o}=XS;t.top.style.top="".concat(e.y-t.top.offsetHeight-i,"px"),t.top.style.left="".concat(e.x,"px"),t.top.style.width="".concat(e.width,"px"),t.bottom.style.left="".concat(e.x,"px"),t.bottom.style.width="".concat(e.width,"px"),t.right.style.top="".concat(e.y,"px"),t.right.style.right="0px",t.right.style.height="".concat(e.height,"px"),t.left.style.top="".concat(e.y,"px"),t.left.style.left="0px",t.left.style.height="".concat(e.height,"px"),t[o].style.top="".concat(e.y,"px"),t[n].style.top="".concat(e.y+e.height-t[n].offsetHeight,"px")}refreshButtonLocale(e,t,i){var n,o,r;const{dataset:{toolbarValue:s}}=e,a=null!==(n=null===i||void 0===i||null===(o=i.buttons)||void 0===o?void 0:o.find((e=>{let{value:t}=e;return t===s})))&&void 0!==n?n:null===(r=t.buttons)||void 0===r?void 0:r.find((e=>{let{value:t}=e;return t===s}));a&&this.updateButtonText(e,a)}toggleVisibilities(){if(null==this.elements)return;const e=e=>this[e].enabled&&this.groupCallers[e].size>0,t=e=>t=>"string"!==typeof t.value&&"number"!==typeof t.value||"".concat(t.value)===e.dataset.toolbarValue;for(const n of ZS){const t=this.enabled&&Array.from(this.positions[n].values()).some(e);this.elements[n].classList.toggle(YT.hidden,!t)}for(const n of qS){if(null==this[n])continue;const o=e(n);for(const e of this.groupButtons[n]){var i;const r=o&&(null===(i=this[n].buttons)||void 0===i?void 0:i.some(t(e)));e.classList.toggle(YT.button.hiddenValue,!r)}}}translateFloatingElements(e,t){const{elements:i,verticalSpacing:n,positionAlignments:o}=this,r=i[e],s=Object.values(o[e]);r.classList.toggle(YT.floatingHidden,!t);const a="floating-bottom"===e?1:-1;for(const l of s)l.style.transform=t&&""!==l.style.transform?"translateY(0)":"translateY(".concat((r.offsetHeight+n)*a,"px)")}renderToolbar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const t=this.elements[e];t.classList.add(GT,YT[e],YT.preventFlash),QS(e)&&t.classList.add(YT.floatingHidden);for(const i of KS){const n=aw("div");n.classList.add(zT,YT.align[i]),t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){const i=aw("button");return i.classList.add(VT),i.dataset.toolbarGroup=e,i.tabIndex=-1,"string"!==typeof t.value&&"number"!==typeof t.value||(i.dataset.toolbarValue="".concat(t.value)),i.onclick=Xk(i,this.onButtonPress.bind(this,e,t.value)),this.updateButtonText(i,t),this.destroyFns.push((()=>i.remove())),i}updateToolbarAriaLabel(e,t){if(!t){const{align:i,position:n}=this[e];if(!(t=this.positionAlignments[n][i]))return}t.ariaLabel=this.ctx.localeManager.t({annotations:"ariaLabelAnnotationsToolbar",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[e])}updateButtonText(e,t){if(t.tooltip){const i=this.ctx.localeManager.t(t.tooltip);e.title=i}let i="";if(null!=t.icon&&(i='<span class="ag-charts-icon-'.concat(t.icon," ").concat(WT,'"></span>')),null!=t.label){const e=this.ctx.localeManager.t(t.label);i="".concat(i,'<span class="').concat(UT,'">').concat(e,"</span>")}e.innerHTML=i;Pw(e,"aria-label",t.ariaLabel?this.ctx.localeManager.t(t.ariaLabel):void 0)}onButtonPress(e,t){this.ctx.toolbarManager.pressButton(e,t)}};om([Aw((e=>{e.processPendingEvents(),e.toggleVisibilities()})),ly(gy)],KT.prototype,"enabled",2);var qT=2592e6,XT={enabled:!1,position:iA,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:qT},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:7776e6},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:15552e6},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date("".concat(new Date(t).getFullYear(),"-01-01")).getTime(),t]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:31536e6},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t]}]},ZT={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:KT,themeTemplate:{toolbar:{enabled:!0,annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line",tooltip:"toolbarAnnotationsTrendLine",value:"line",section:"create"},{icon:"parallel-channel",tooltip:"toolbarAnnotationsParallelChannel",value:"parallel-channel",section:"create"},{icon:"disjoint-channel",tooltip:"toolbarAnnotationsDisjointChannel",value:"disjoint-channel",section:"create"},{icon:"horizontal-line",tooltip:"toolbarAnnotationsHorizontalLine",value:"horizontal-line",section:"create"},{icon:"vertical-line",tooltip:"toolbarAnnotationsVerticalLine",value:"vertical-line",section:"create"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",buttons:[{icon:"line-color",tooltip:"toolbarAnnotationsColor",value:"line-color"},{icon:"lock",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"unlock",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:XT,zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out-alt",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in-alt",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function QT(){for(const e of _x.modules){if("enterprise"!==e.packageType||RR(e)||hm.errorOnce("Unexpected enterprise module registered: "+e.identifier),"root"===e.type&&e.themeTemplate)for(const t of e.chartTypes)PR.set(t,e.themeTemplate);if("series"===e.type){if(e.chartTypes.length>1)throw new Error("AG Charts - Module definition error: ".concat(e.identifier));FR.register(e.identifier,e)}if("series-option"===e.type&&e.themeTemplate)for(const t of e.seriesTypes)FR.setThemeTemplate(t,e.themeTemplate);if("axis-option"===e.type&&e.themeTemplate)for(const t of e.axisTypes){const i=e.themeTemplate[t],n={...e.themeTemplate,...i};for(const t of e.axisTypes)delete n[t];wR.setThemeTemplate(t,n)}"axis"===e.type&&wR.register(e.identifier,e),"legend"===e.type&&MR.register(e.identifier,e)}if(_x.hasEnterpriseModules()){const e=xR.filter((e=>{let{useCount:t}=e;return null==t||0===t}));e.length>0&&hm.errorOnce("Enterprise modules expected but not registered: ",e)}}var JT=class extends WM{async updateData(){await super.updateData();const{nodes:e}=this.getOptions();this.series.forEach((t=>{(function(e){return"sankey"===e.type||"chord"===e.type})(t)&&t.setChartNodes(e)}))}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:o}=this,r=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;const s=this.series.some((e=>e.visible));i.visible=s;for(const a of[i,n,o])a.translationX=Math.floor(e.x),a.translationY=Math.floor(e.y),a.setClipRectInGroupCoordinateSpace(new xf(r.x,r.y,r.width,r.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:r,paddedRect:e,visible:s},axes:[]}),e}};JT.className="FlowProportionChart",JT.type="flow-proportion";var $T=class extends WM{constructor(e,t){super(e,t)}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:o}=this,r=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;for(const s of[i,n,o])s.translationX=Math.floor(e.x),s.translationY=Math.floor(e.y);return await Promise.all(this.series.map((async t=>{await t.update({seriesRect:e})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new xf(e.x,e.y,e.width,e.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:r,paddedRect:e,visible:!0},axes:[]}),e}getAriaLabel(){const e=this.getCaptionText();return"hierarchical chart, ".concat(e)}handleSeriesFocus(e,t){this.focus.series=this.series[0];const{focus:{series:i,seriesIndex:n,datumIndex:o},seriesRect:r}=this;if(void 0===i)return;const s=i.pickFocus({datumIndex:o,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:r});this.updatePickedFocus(s)}};$T.className="HierarchyChart",$T.type="hierarchy";var eP=class extends Cx{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};om([ly(Jy(["polygon","circle"],"a polar axis shape"))],eP.prototype,"shape",2),om([ly(Cy)],eP.prototype,"innerRadiusRatio",2);var tP=class extends WM{constructor(e,t){super(e,t),this.padding=new Vx(40),this.ctx.axisManager.axisGroup.zIndex=6}async performLayout(){const e=await super.performLayout(),t=e.clone();return this.computeSeriesRect(e),await this.computeCircle(e),this.axes.forEach((e=>e.update())),this.hoverRect=e,this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:t,paddedRect:e,visible:!0},axes:[]}),e}updateAxes(e,t,i){var n,o;const r=this.axes.find((e=>"x"===e.direction)),s=this.axes.find((e=>"y"===e.direction));if(!(r instanceof eP)||!(s instanceof eP))return;const a=r.scale,l=null===(n=a.ticks)||void 0===n?void 0:n.call(a).map((e=>a.convert(e))),c=s.innerRadiusRatio;r.innerRadiusRatio=c,null===(o=r.computeRange)||void 0===o||o.call(r),r.gridLength=i,s.gridAngles=l,s.gridRange=r.range,s.range=[i,i*c],[r,s].forEach((i=>{i.translation.x=e,i.translation.y=t,i.calculateLayout()}))}computeSeriesRect(e){const{seriesArea:{padding:t}}=this;e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}async computeCircle(e){var t=this;const i=this.series.filter((e=>e instanceof MT)),n=this.axes.filter((e=>e instanceof eP)),o=(e,t,n)=>{this.updateAxes(e,t,n),i.forEach((i=>{i.centerX=e,i.centerY=t,i.radius=n}));const o=i.filter((e=>"donut"===e.type||"pie"===e.type));if(o.length>1){const e=o.map((e=>{const t=e.getInnerRadius();return{series:e,innerRadius:t}})).sort(((e,t)=>e.innerRadius-t.innerRadius));e.at(-1).series.surroundingRadius=void 0;for(let t=0;t<e.length-1;t++)e[t].series.surroundingRadius=e[t+1].innerRadius}},r=e.x+e.width/2,s=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2);let l=a;o(r,s,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d=[];for(const t of[...n,...i]){const i=await t.computeLabelsBBox({hideWhenNecessary:c},e);i&&d.push(i)}if(0===d.length)return void o(r,s,a);const u=xf.merge(d),h=t.refineCircle(u,l,e);o(h.centerX,h.centerY,h.radius),h.radius!==l&&(l=h.radius)};return await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0}),{radius:l,centerX:r,centerY:s}}refineCircle(e,t,i){const n=-t,o=-t,r=t,s=t;let a=Math.max(0,n-e.x),l=Math.max(0,o-e.y),c=Math.max(0,e.x+e.width-r),d=Math.max(0,e.y+e.height-s);a=c=Math.max(a,c),l=d=Math.max(l,d);const u=i.width-a-c,h=i.height-l-d;let p=Math.min(u,h)/2;const g=.5*i.width/2,m=.5*i.height/2,f=Math.min(g,m);if(p<f){p=f;const e=a+c;if(2*p+(l+d)>i.height){const e=i.height-2*p;2*Math.min(l,d)>e?(l=e/2,d=e/2):l>d?l=e-d:d=e-l}if(2*p+e>i.width){const e=i.width-2*p;2*Math.min(a,c)>e?(a=e/2,c=e/2):a>c?a=e-c:c=e-a}}const v=a+2*p+c,y=l+2*p+d;return{centerX:i.x+(i.width-v)/2+a+p,centerY:i.y+(i.height-y)/2+l+p,radius:p}}};tP.className="PolarChart",tP.type="polar";var iP=Math.PI/180,nP=e=>e*iP,oP=e=>-Math.log(Math.tan(.25*Math.PI+e*iP*.5)),rP=e=>e/iP,sP=e=>(Math.atan(Math.exp(-e))-.25*Math.PI)/(.5*iP),aP=class e{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=e.bounds(t)}static bounds(e){const[[t,i],[n,o]]=e,r=nP(t),s=oP(i),a=nP(n),l=oP(o);return new xf(Math.min(r,a),Math.min(s,l),Math.abs(a-r),Math.abs(l-s))}static fixedScale(){return new e([[rP(0),sP(0)],[rP(1),sP(1)]],[[0,0],[1,1]])}convert(e){let[t,i]=e;const[[n,o],[r,s]]=this.range,a=(r-n)/this.bounds.width,l=(s-o)/this.bounds.height;return[(nP(t)-this.bounds.x)*a+n,(oP(i)-this.bounds.y)*l+o]}invert(e){let[t,i]=e;const[[n,o],[r,s]]=this.range,a=(r-n)/this.bounds.width,l=(s-o)/this.bounds.height;return[rP((t-n)/a+this.bounds.x),sP((i-o)/l+this.bounds.y)]}};function lP(e){return"map-shape"===e.type||"map-line"===e.type||"map-marker"===e.type||"map-shape-background"===e.type||"map-line-background"===e.type}var cP=class extends WM{constructor(e,t){super(e,t),this.xAxis=new Tk(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Tk(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}async updateData(){await super.updateData();const{topology:e}=this.getOptions();this.series.forEach((t=>{lP(t)&&t.setChartTopology(e)}))}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:o}=this,r=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;const s=this.series.filter(lP),a=s.reduce(((e,t)=>{if(!t.visible)return e;const i=t.topologyBounds;return null==i?e:null==e?i:(e.merge(i),e)}),void 0);let l;if(null!=a){const{lon0:t,lat0:i,lon1:n,lat1:o}=a,r=[[t,i],[n,o]],s=aP.bounds(r),{width:c,height:d}=e,u=Math.min(c/s.width,d/s.height),h=s.width*u,p=s.height*u,g=(c-h)/2,m=(d-p)/2,f=g,v=m,y=g+h,b=m+p,C=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),w=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),x=(y-f)/(C.max-C.min),S=f-x*C.min,R=(b-v)/(1-w.min-(1-w.max)),M=v-R*(1-w.max);l=new aP(r,[[S,M],[S+x,M+R]])}s.forEach((e=>{e.scale=l}));const c=this.series.some((e=>e.visible));i.visible=c;for(const d of[i,n,o])d.translationX=Math.floor(e.x),d.translationY=Math.floor(e.y),d.setClipRectInGroupCoordinateSpace(new xf(e.x,e.y,e.width,e.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:r,paddedRect:e,visible:c},axes:[]}),e}};function dP(e,t){if($f(e))return t(e)}cP.className="TopologyChart",cP.type="topology";var uP="range-area";var hP={"price-volume":function(e,t){var i,n;const{xKey:o="date",highKey:r="high",openKey:s="open",lowKey:a="low",closeKey:l="close",volumeKey:c="volume",chartType:d="candlestick",navigator:u=!1,volume:h=!0,rangeToolbar:p=!0,statusBar:g=!0,annotations:m=!0,zoom:f=!0,theme:v,data:y,...b}=e,C=function(e,t,i,n,o,r,s){var a,l,c,d,u,h,p;const g={xKey:i,openKey:r,closeKey:s,highKey:n,lowKey:o},m={xKey:i,yKey:s};switch(t){case"ohlc":return[{type:"ohlc",...g}];case"line":return[{type:"line",...m,stroke:null!==(a=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.line)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.stroke})))&&void 0!==a?a:KD,marker:null!==(l=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.line)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.marker})))&&void 0!==l?l:{enabled:!1}}];case"step-line":return[{type:"line",...m,stroke:null!==(c=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.line)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.stroke})))&&void 0!==c?c:KD,interpolation:null!==(d=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.line)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.interpolation})))&&void 0!==d?d:{type:"step"},marker:null!==(u=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.line)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.marker})))&&void 0!==u?u:{enabled:!1}}];case uP:const t=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t["range-area"])||void 0===t||null===(t=t.series)||void 0===t?void 0:t.fill})),r=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t["range-area"])||void 0===t||null===(t=t.series)||void 0===t?void 0:t.stroke}));return[{type:uP,xKey:i,yHighKey:n,yLowKey:s,fill:null!==t&&void 0!==t?t:VD,stroke:null!==r&&void 0!==r?r:VD},{type:uP,xKey:i,yHighKey:s,yLowKey:o,fill:null!==t&&void 0!==t?t:WD,stroke:null!==r&&void 0!==r?r:WD}];default:case"candlestick":return[{type:"candlestick",...g}];case"hollow-candlestick":const f=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.candlestick)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.item}));return[{type:"candlestick",...g,item:{up:{fill:null!==(h=null===f||void 0===f||null===(p=f.up)||void 0===p?void 0:p.fill)&&void 0!==h?h:"transparent"}}}]}}(v,d,o,r,a,s,l),w=function(e,t,i,n,o,r){var s;if(!o)return[];const a=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.bar)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.fill})),l=a?{fill:a}:{itemStyler(e){let{datum:o}=e;const{up:r,down:s}=t().palette;return{fill:o[i]<o[n]?null===r||void 0===r?void 0:r.fill:null===s||void 0===s?void 0:s.fill}}};return[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},fillOpacity:null!==(s=dP(e,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.bar)||void 0===t||null===(t=t.series)||void 0===t?void 0:t.fillOpacity})))&&void 0!==s?s:.5,...l}]}(v,t,s,l,h,c),x={navigator:{enabled:u,...h?{miniChart:{enabled:u,series:[{type:"line",xKey:"date",yKey:c,marker:{enabled:!1}}]}}:null}},S=g?{statusBar:{enabled:!0,data:y,highKey:r,openKey:s,lowKey:a,closeKey:l,volumeKey:h?c:void 0}}:null,R={zoom:{enabled:f,enableIndependentAxes:!0}},M=m||p?{toolbar:{annotationOptions:{enabled:m},annotations:{enabled:m},ranges:{enabled:p}}}:null,k=h?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"},disableZoom:!0}]:[];return{theme:"string"===typeof v?v:{baseTheme:"ag-financial",...null!==v&&void 0!==v?v:{}},animation:{enabled:!1},legend:{enabled:!1},series:[...w,...C],padding:{top:6,right:8},axes:[{type:"number",position:"right",keys:[s,l,r,a],interval:{maxSpacing:null!==(i=dP(v,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.common)||void 0===t||null===(t=t.axes)||void 0===t||null===(t=t.number)||void 0===t||null===(t=t.interval)||void 0===t?void 0:t.maxSpacing})))&&void 0!==i?i:45},label:{format:null!==(n=dP(v,(e=>{var t;return null===(t=e.overrides)||void 0===t||null===(t=t.common)||void 0===t||null===(t=t.axes)||void 0===t||null===(t=t.number)||void 0===t||null===(t=t.label)||void 0===t?void 0:t.format})))&&void 0!==n?n:".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...k,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:m},tooltip:{enabled:!1},data:y,titlePadding:4,...x,...S,...R,...M,...b}}};function pP(e){return null!==e&&void 0!==e&&e.up||null!==e&&void 0!==e&&e.down||null!==e&&void 0!==e&&e.neutral?"user-full":null!==e&&void 0!==e&&e.fills||null!==e&&void 0!==e&&e.strokes?"user-indexed":"inbuilt"}var gP="white",mP={fills:Object.values(uT),strokes:Object.values(hT)},fP={get cartesian(){return{seriesTypes:ER.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ER.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:ER.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:ER.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:ER.flowProportionTypes,commonOptions:[]}}},vP=Object.values(fP).reduce(((e,t)=>{let{commonOptions:i}=t;return e.concat(i)}),[]),yP=class e{getPalette(){return mP}static getAxisDefaults(e){return dv(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:ED,color:TD},label:{fontSize:12,fontFamily:ED,padding:5,color:TD,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:ID},tick:{enabled:!1,width:1,stroke:ID},gridLine:{enabled:!0,style:[{stroke:LD,lineDash:[]}]},crossLines:{enabled:!1,fill:OD,stroke:OD,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:ED,padding:5,color:TD}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:jD},padding:{top:GD,right:GD,bottom:GD,left:GD},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:ED,color:TD,wrapping:"hyphenate",layoutStyle:zD,textAlign:HD},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:ED,color:ND,wrapping:"hyphenate",layoutStyle:zD,textAlign:HD},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:ED,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:zD,textAlign:HD},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:TD,fontSize:12,fontFamily:ED}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:TD},inactiveStyle:{fill:ND},highlightStyle:{fill:TD},label:{color:TD}}},tooltip:{enabled:!0,darkTheme:AD,range:void 0,delay:0},overlays:{darkTheme:AD},listeners:{}}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:t,palette:i}=Sv(e),n=this.createChartConfigPerChartType(this.getDefaults());t&&this.mergeOverrides(n,t);const{fills:o,strokes:r,...s}=this.getDefaultColors();this.palette=dv(i,this.getPalette(),{...s}),this.paletteType=pP(i),this.config=Object.freeze(this.templateTheme(n))}mergeOverrides(e,t){for(const{seriesTypes:i,commonOptions:n}of Object.values(fP)){const o={...t.common};for(const e of vP)n.includes(e)||delete o[e];if(o)for(const t of i){const i=t;e[i]=dv(o,e[i])}}ER.seriesTypes.forEach((i=>{const n=i;t[n]&&(e[n]=dv(t[n],e[n]))}))}createChartConfigPerChartType(e){for(const[t,{seriesTypes:i}]of Object.entries(fP)){const n=PR.get(t);for(const t of i)e[t]||(e[t]=Sv(n))}return e}getDefaults(){const t=(t,i)=>{const n={},o={axes:{},...MR.getThemeTemplates(),...this.getChartDefaults(),...PR.get(t)};for(const s of i){var r;n[s]=dv(FR.getThemeTemplate(s),null!==(r=n[s])&&void 0!==r?r:Sv(o));const{axes:t}=n[s];for(const i of wR.keys())t[i]=dv(t[i],wR.getThemeTemplate(i),e.cartesianAxisDefault[i])}return n};return dv(t("cartesian",ER.cartesianTypes),t("polar",ER.polarTypes),t("hierarchy",ER.hierarchyTypes),t("topology",ER.topologyTypes),t("flow-proportion",ER.flowProportionTypes))}templateTheme(e){const t=Sv(e),i=this.getTemplateParameters();return Mv(t,(e=>{if(Kf(e))for(let t=0;t<e.length;t++){const n=e[t];i.has(n)&&(e[t]=i.get(n))}else for(const[t,n]of Object.entries(e))i.has(n)&&(e[t]=i.get(n))})),Sv(t)}getDefaultColors(){return{fills:uT,strokes:hT,up:{fill:uT.BLUE,stroke:hT.BLUE},down:{fill:uT.ORANGE,stroke:hT.ORANGE},neutral:{fill:uT.GRAY,stroke:hT.GRAY}}}getTemplateParameters(){var e,t,i,n,o,r,s,a,l,c,d,u;const h=new Map;h.set(AD,!1),h.set(ED,"Verdana, sans-serif"),h.set(TD,"rgb(70, 70, 70)"),h.set(PD,"white"),h.set(ND,"rgb(140, 140, 140)"),h.set(LD,"rgb(224,234,241)"),h.set(ID,"rgb(195, 195, 195)"),h.set(OD,"rgb(70, 70, 70)"),h.set(FD,gP),h.set(jD,gP),h.set(BD,"rgba(0, 0, 0, 0.5)"),h.set(ZD,[uT.ORANGE,uT.YELLOW,uT.GREEN]),h.set(GD,20),h.set(zD,"block"),h.set(HD,"center"),h.set(QD,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),h.set(JD,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),h.set(XD,gP),h.set($D,uT.BLUE),h.set(eA,uT.BLUE),h.set(tA,gP),h.set(iA,"top"),h.set(nA,!1);const p=this.getDefaultColors();return h.set(VD,null!==(e=null===(t=this.palette.up)||void 0===t?void 0:t.stroke)&&void 0!==e?e:p.up.stroke),h.set(UD,null!==(i=null===(n=this.palette.up)||void 0===n?void 0:n.fill)&&void 0!==i?i:p.up.fill),h.set(WD,null!==(o=null===(r=this.palette.down)||void 0===r?void 0:r.stroke)&&void 0!==o?o:p.down.stroke),h.set(YD,null!==(s=null===(a=this.palette.down)||void 0===a?void 0:a.fill)&&void 0!==s?s:p.down.fill),h.set(KD,null!==(l=null===(c=this.palette.neutral)||void 0===c?void 0:c.stroke)&&void 0!==l?l:p.neutral.stroke),h.set(qD,null!==(d=null===(u=this.palette.neutral)||void 0===u?void 0:u.fill)&&void 0!==d?d:p.neutral.fill),h}};yP.cartesianAxisDefault={number:yP.getAxisDefaults({line:{enabled:!1}}),log:yP.getAxisDefaults({base:10,line:{enabled:!1}}),category:yP.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:nA}}),time:yP.getAxisDefaults({gridLine:{enabled:nA}}),"ordinal-time":yP.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:nA},crosshair:{enabled:!0,snap:!0,stroke:ND,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}),"angle-category":yP.getAxisDefaults({gridLine:{enabled:nA}}),"angle-number":yP.getAxisDefaults({gridLine:{enabled:nA}}),"radius-category":yP.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"radius-number":yP.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"grouped-category":yP.getAxisDefaults()};var bP=yP,CP="#192232",wP={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},xP={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},SP={fills:Object.values(wP),strokes:Object.values(xP)},RP=class extends bP{getDefaultColors(){return{fills:wP,strokes:xP,up:{fill:wP.BLUE,stroke:xP.BLUE},down:{fill:wP.ORANGE,stroke:xP.ORANGE},neutral:{fill:wP.GRAY,stroke:xP.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(AD,!0),e.set(XD,CP),e.set(TD,"white"),e.set(ND,"#7D91A0"),e.set(LD,"#545A6E"),e.set(OD,"white"),e.set(ZD,[wP.ORANGE,wP.YELLOW,wP.GREEN]),e.set(QD,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(JD,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(jD,CP),e.set(FD,CP),e.set($D,wP.BLUE),e.set(eA,wP.BLUE),e.set(tA,CP),e}getPalette(){return SP}constructor(e){super(e)}},MP={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},kP={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},DP={fills:Object.values(MP),strokes:Object.values(kP)},AP=class extends RP{getDefaultColors(){return{fills:{...MP},strokes:{...kP},up:{fill:MP.GREEN,stroke:kP.GREEN},down:{fill:MP.RED,stroke:kP.RED},neutral:{fill:MP.BLUE,stroke:kP.BLUE}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[MP.GREEN,MP.BLUE,MP.RED]),e.set($D,MP.BLUE),e.set(eA,MP.BLUE),e.set(LD,"#343A4E"),e.set(GD,0),e.set(zD,"overlay"),e.set(HD,"left"),e.set(iA,"bottom"),e.set(nA,!0),e}getPalette(){return DP}},EP={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},TP={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},PP={fills:Object.values(EP),strokes:Object.values(TP)},FP=class extends bP{getDefaultColors(){return{fills:{...EP},strokes:{...TP},up:{fill:EP.GREEN,stroke:TP.GREEN},down:{fill:EP.RED,stroke:TP.RED},neutral:{fill:EP.BLUE,stroke:TP.BLUE}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[EP.GREEN,EP.BLUE,EP.RED]),e.set($D,EP.BLUE),e.set(eA,EP.BLUE),e.set(LD,"#F2F3F3"),e.set(GD,0),e.set(zD,"overlay"),e.set(HD,"left"),e.set(iA,"bottom"),e.set(nA,!0),e}getPalette(){return PP}},NP={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},LP={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},IP={fills:Object.values(NP),strokes:Object.values(LP)},OP=class extends RP{getDefaultColors(){return{fills:NP,strokes:LP,up:{fill:NP.BLUE,stroke:LP.BLUE},down:{fill:NP.RED,stroke:LP.RED},neutral:{fill:NP.GRAY,stroke:LP.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[NP.ORANGE,NP.YELLOW,NP.GREEN]),e.set($D,NP.BLUE),e.set(eA,NP.BLUE),e}getPalette(){return IP}},jP={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},BP={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},_P={fills:Object.values(jP),strokes:Object.values(BP)},GP=class extends bP{getDefaultColors(){return{fills:jP,strokes:BP,up:{fill:jP.BLUE,stroke:BP.BLUE},down:{fill:jP.RED,stroke:BP.RED},neutral:{fill:jP.GRAY,stroke:BP.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[jP.ORANGE,jP.YELLOW,jP.GREEN]),e.set($D,jP.BLUE),e.set(eA,jP.BLUE),e}getPalette(){return _P}},zP={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},HP={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},VP={fills:Object.values(zP),strokes:Object.values(HP)},WP=class extends RP{getDefaultColors(){return{fills:zP,strokes:HP,up:{fill:zP.BLUE,stroke:HP.BLUE},down:{fill:zP.RED,stroke:HP.RED},neutral:{fill:"#bbbbbb",stroke:"#eeeeee"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[zP.BLUE,zP.RED]),e.set($D,zP.BLUE),e.set(eA,zP.BLUE),e}getPalette(){return VP}},UP={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},YP={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},KP={fills:Object.values(UP),strokes:Object.values(YP)},qP=class extends bP{getDefaultColors(){return{fills:UP,strokes:YP,up:{fill:UP.BLUE,stroke:YP.BLUE},down:{fill:UP.RED,stroke:YP.RED},neutral:{fill:"#bbbbbb",stroke:"#888888"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[UP.BLUE,UP.RED]),e.set($D,UP.BLUE),e.set(eA,UP.BLUE),e}getPalette(){return KP}},XP={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},ZP={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},QP={fills:Object.values(XP),strokes:Object.values(ZP)},JP=class extends RP{getDefaultColors(){return{fills:{...XP,RED:XP.ORANGE},strokes:{...ZP,RED:ZP.ORANGE},up:{fill:XP.BLUE,stroke:ZP.BLUE},down:{fill:XP.ORANGE,stroke:ZP.ORANGE},neutral:{fill:XP.GRAY,stroke:ZP.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[XP.ORANGE,XP.YELLOW,XP.GREEN]),e.set($D,XP.BLUE),e.set(eA,XP.BLUE),e}getPalette(){return QP}},$P={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},eF={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},tF={fills:Object.values($P),strokes:Object.values(eF)},iF=class extends bP{getDefaultColors(){return{fills:{...$P,RED:$P.ORANGE},strokes:{...eF,RED:eF.ORANGE},up:{fill:eF.BLUE,stroke:$P.BLUE},down:{fill:eF.ORANGE,stroke:$P.ORANGE},neutral:{fill:eF.GRAY,stroke:$P.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[$P.ORANGE,$P.YELLOW,$P.GREEN]),e.set($D,$P.BLUE),e.set(eA,$P.BLUE),e}getPalette(){return tF}},nF={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},oF={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},rF={fills:Object.values(nF),strokes:Object.values(oF)},sF=class extends RP{getDefaultColors(){return{fills:nF,strokes:oF,up:{fill:nF.BLUE,stroke:oF.BLUE},down:{fill:nF.ORANGE,stroke:oF.ORANGE},neutral:{fill:nF.GRAY,stroke:oF.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[nF.ORANGE,nF.YELLOW,nF.GREEN]),e.set($D,nF.BLUE),e.set(eA,nF.BLUE),e}getPalette(){return rF}},aF={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},lF={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},cF={fills:Object.values(aF),strokes:Object.values(lF)},dF=class extends bP{getDefaultColors(){return{fills:aF,strokes:lF,up:{fill:aF.BLUE,stroke:lF.BLUE},down:{fill:aF.ORANGE,stroke:lF.ORANGE},neutral:{fill:aF.GRAY,stroke:lF.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ZD,[aF.ORANGE,aF.YELLOW,aF.GREEN]),e.set($D,aF.BLUE),e.set(eA,aF.BLUE),e}getPalette(){return cF}},uF=()=>new bP,hF=()=>new RP,pF={...{undefined:hF,null:hF,"ag-default-dark":hF,"ag-sheets-dark":()=>new JP,"ag-polychroma-dark":()=>new WP,"ag-vivid-dark":()=>new sF,"ag-material-dark":()=>new OP,"ag-financial-dark":()=>new AP},...{undefined:uF,null:uF,"ag-default":uF,"ag-sheets":()=>new iF,"ag-polychroma":()=>new qP,"ag-vivid":()=>new dF,"ag-material":()=>new GP,"ag-financial":()=>new FP}};function gF(e){return void 0===e||"string"===typeof e||e instanceof bP?e:"object"===typeof e?function(e){if(null===e)return;let t=!0;const{baseTheme:i,palette:n,overrides:o}=e;if(void 0!==i&&"string"!==typeof i&&"object"!==typeof i&&(hm.warn("invalid theme.baseTheme type ".concat(typeof i,", expected (string | object).")),t=!1),void 0!==o&&"object"!==typeof o&&(hm.warn("invalid theme.overrides type ".concat(typeof o,", expected object.")),t=!1),"object"===typeof n){if(null!==n){const{fills:e,strokes:i}=n;void 0===e||Array.isArray(e)||(hm.warn("theme.overrides.fills must be undefined or an array"),t=!1),void 0===i||Array.isArray(i)||(hm.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else void 0!==n&&(hm.warn("invalid theme.palette type ".concat(typeof n,", expected object.")),t=!1);return t?e:void 0}(e):void hm.warn("invalid theme value type ".concat(typeof e,", expected object or string."))}function mF(e){let t=gF(e);if(t instanceof bP)return t;if(null==t||"string"===typeof t){const e=pF[t];return e?e():(hm.warnOnce("the theme [".concat(t,"] is invalid, using [ag-default] instead.")),uF())}const i=[];let n;for(;"object"===typeof t;){var o;i.push(t.overrides),null!==(o=n)&&void 0!==o||(n=t.palette),t=t.baseTheme}const r={baseTheme:t,overrides:dv(...i),palette:n};return new((r.baseTheme?mF(r.baseTheme):uF()).constructor)(r)}var fF=new Set(["map-shape-background","map-line-background"]),vF=class{constructor(e,t){var i,n;this.debug=pw.create(!0,"opts");const o={shallow:["data"]};this.userOptions=Sv(e,o);const r=this.optionsType(this.userOptions);let s=Sv(e,o);if(this.type=null===t||void 0===t?void 0:t.type,null!=this.type){var a,l;const e=null!==(a=null===(l=hP[this.type])||void 0===l?void 0:l.call(hP,s,(()=>this.activeTheme)))&&void 0!==a?a:s;this.debug(">>> AgCharts.createOrUpdate() - applying preset",s,e),s=e}this.activeTheme=mF(s.theme),this.type&&(s=this.activeTheme.templateTheme(s)),this.sanityCheckAndCleanup(s),this.defaultAxes=this.getDefaultAxes(s),this.specialOverrides=this.specialOverridesDefaults({...t});const{axes:c={},annotations:{axesButtons:d,...u}={},series:h,...p}=this.getSeriesThemeConfig(r);var g;(this.processedOptions=Sv(dv(s,null!=d?{annotations:{axesButtons:d}}:{},p,this.defaultAxes),o),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=u,(HR(this.processedOptions)||function(e){const t=zR(e);return VR(e)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==(null===(i=this.processedOptions.legend)||void 0===i?void 0:i.enabled))&&(null!==(g=(n=this.processedOptions).legend)&&void 0!==g||(n.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1);this.enableConfiguredOptions(this.processedOptions),kR.isEnterprise||function(e){const t=[],i=ER.get(zR(e));for(const{type:a,chartTypes:l,optionsKey:c,optionsInnerKey:d,identifier:u}of xR)if("unknown"===i||l.includes(i))if("root"===a||"legend"===a){const i=e[c];if(null==i)continue;d?i[d]&&(t.push("".concat(c,".").concat(d)),delete i[d]):(t.push(c),delete e[c])}else if("axis"===a){var n;if(!("axes"in e)||null===(n=e.axes)||void 0===n||!n.some((e=>e.type===u)))continue;t.push("axis[type=".concat(u,"]")),e.axes=e.axes.filter((e=>e.type!==u))}else if("axis-option"===a){var o;if(!("axes"in e)||null===(o=e.axes)||void 0===o||!o.some((e=>e[c])))continue;t.push("axis.".concat(c)),e.axes.forEach((e=>{e[c]&&delete e[c]}))}else if("series"===a){var r;if(null===(r=e.series)||void 0===r||!r.some((e=>e.type===u)))continue;t.push("series[type=".concat(u,"]")),e.series=e.series.filter((e=>e.type!==u))}else if("series-option"===a){var s;if(null===(s=e.series)||void 0===s||!s.some((e=>e[c])))continue;t.push("series.".concat(c)),e.series.forEach((e=>{e[c]&&delete e[c]}))}if(t.length){let i="ag-charts-enterprise",n="https://charts.ag-grid.com/javascript/installation/";"integrated"===e.mode&&(i="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",n="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),hm.warnOnce(["unable to use these enterprise features as '".concat(i,"' has not been loaded:"),"",...t,"","See: ".concat(n)].join("\n"))}}(this.processedOptions)}getOptions(){var e;return null!==(e=this.processedOptions)&&void 0!==e?e:{}}diffOptions(e){return xv(e,this.processedOptions)}getSeriesThemeConfig(e){var t,i;return Sv(null!==(t=null===(i=this.activeTheme)||void 0===i?void 0:i.config[e])&&void 0!==t?t:{})}getDefaultAxes(e){const t=this.optionsType(e),i=FR.cloneDefaultAxes(t);return FR.isDefaultAxisSwapNeeded(e)&&this.swapAxesPosition(i),i}optionsType(e){var t,i;return null!==(t=null===(i=e.series)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type)&&void 0!==t?t:"line"}sanityCheckAndCleanup(e){var t;this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),null!==(t=e.series)&&void 0!==t&&t.some((e=>"bullet"===e.type))&&null!=e.sync&&!1!==e.sync.enabled&&(hm.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){if(HR(e)){var t;const[i,n]=null!==(t=e.axes)&&void 0!==t?t:[];e.axes=[{...i,position:n.position},{...n,position:i.position}]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map((e=>{var i,n,o;const{crossLines:r,...s}=dv(null===(i=t[e.type])||void 0===i?void 0:i[e.position],t[e.type]);e.crossLines&&(e.crossLines=uv(e.crossLines,r));const a=null===(n=s.gridLine)||void 0===n?void 0:n.style;null!==(o=e.gridLine)&&void 0!==o&&o.style&&null!==a&&void 0!==a&&a.length&&(e.gridLine.style=e.gridLine.style.map(((e,t)=>null!=e.stroke||null!=e.lineDash?dv(e,a.at(t%a.length)):e)));const{top:l,right:c,bottom:d,left:u,...h}=dv(e,s);return h})))}processSeriesOptions(e){var t,i;const n=this.getDefaultSeriesType(e),o=this.getTooltipPositionDefaults(e),r=$f(e.theme)?pP(null===(t=e.theme)||void 0===t?void 0:t.palette):"inbuilt",s={colourIndex:0,userPalette:r},a=null===(i=e.series)||void 0===i?void 0:i.map((t=>{var i,a;null!==(i=t.type)&&void 0!==i||(t.type=n);const{innerLabels:l,...c}=null!==(a=this.getSeriesThemeConfig(t.type).series)&&void 0!==a?a:{},d=fF.has(t.type)?{colourIndex:0,userPalette:r}:s,u=this.getSeriesPalette(t.type,d),h=this.getTooltipRangeDefaults(e,t.type),p=dv(this.getSeriesGroupingOptions(t),t,o,h,c,u,{visible:!0});return p.innerLabels&&(p.innerLabels=uv(p.innerLabels,l)),this.activeTheme.templateTheme(p)}));e.series=this.setSeriesGroupingOptions(null!==a&&void 0!==a?a:[])}processMiniChartSeriesOptions(e){var t;let i=null===(t=e.navigator)||void 0===t||null===(t=t.miniChart)||void 0===t?void 0:t.series;if(null==i)return;const n={colourIndex:0,userPalette:$f(e.theme)?pP(e.theme.palette):"inbuilt"};i=i.map((e=>{var t,i;null!==(t=e.type)&&void 0!==t||(e.type="line");const{innerLabels:o,...r}=null!==(i=this.getSeriesThemeConfig(e.type).series)&&void 0!==i?i:{},s=dv(this.getSeriesGroupingOptions(e),e,r,this.getSeriesPalette(e.type,n));return this.activeTheme.templateTheme(s)})),e.navigator.miniChart.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(e,t){const i=FR.getPaletteFactory(e),{colourIndex:n,userPalette:o}=t,{fills:r=[],strokes:s=[]}=this.activeTheme.palette;return null===i||void 0===i?void 0:i({userPalette:o,colorsCount:Math.max(r.length,s.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:e=>(t.colourIndex+=e,{fills:yb(r,e,n),strokes:yb(s,e,n)})})}getSeriesGroupingOptions(e){var t,i;const n=FR.isGroupable(e.type),o=FR.isStackable(e.type),r=FR.isStackedByDefault(e.type);e.grouped&&!n&&hm.warnOnce('unsupported grouping of series type "'.concat(e.type,'".')),!e.stacked&&!e.stackGroup||o||hm.warnOnce('unsupported stacking of series type "'.concat(e.type,'".'));let{grouped:s,stacked:a}=e;return null!==(t=a)&&void 0!==t||(a=(r||null!=e.stackGroup)&&!(n&&s)),null!==(i=s)&&void 0!==i||(s=!0),{stacked:o&&a,grouped:n&&s&&!(o&&a)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const i={},n=t.reduce(((e,t)=>{var i,n;return"default"===t.groupType||(null!==(i=e[n=t.seriesType])&&void 0!==i||(e[n]=0),e[t.seriesType]+="stack"===t.groupType?1:t.series.length),e}),{});return t.flatMap((e=>{var t,o;switch(null!==(t=i[o=e.seriesType])&&void 0!==t||(i[o]=0),e.groupType){case"stack":const t=i[e.seriesType]++;return e.series.map(((i,o)=>Object.assign(i,{seriesGrouping:{groupIndex:t,groupCount:n[e.seriesType],stackIndex:o,stackCount:e.series.length}})));case"group":return e.series.map((t=>Object.assign(t,{seriesGrouping:{groupIndex:i[e.seriesType]++,groupCount:n[e.seriesType],stackIndex:0,stackCount:0}})))}return e.series})).map((e=>{let{stacked:t,grouped:i,...n}=e;return n}))}getSeriesGroupId(e){var t;return[e.type,e.xKey,e.stacked?null!==(t=e.stackGroup)&&void 0!==t?t:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce(((e,i)=>{const n=i.type;if(i.stacked||i.grouped){const o=this.getSeriesGroupId(i);if(!t.has(o)){const r={groupType:i.stacked?"stack":"group",seriesType:n,series:[]};t.set(o,r),e.push(r)}t.get(o).series.push(i)}else e.push({groupType:"default",seriesType:n,series:[i]});return e}),[])}getDefaultSeriesType(e){if(HR(e))return"line";if(VR(e))return"pie";if(WR(e))return"treemap";if(UR(e))return"map-shape";if(YR(e))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){var t;const i=null===(t=e.tooltip)||void 0===t?void 0:t.position;if(!tv(i))return;const{type:n,xOffset:o,yOffset:r}=i,s={};return iv(n)&&av(sm,n)&&(s.type=n),ov(o)&&(s.xOffset=o),ov(r)&&(s.yOffset=r),{tooltip:{position:s}}}getTooltipRangeDefaults(e,t){var i,n,o;return{tooltip:{range:null!==(i=null===(n=e.tooltip)||void 0===n?void 0:n.range)&&void 0!==i?i:null===(o=FR.getTooltipDefauls(t))||void 0===o?void 0:o.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((t=>{var i;let[n,o]=t;null!==(i=e.series)&&void 0!==i&&i.some((e=>null!=e[n]))&&hm.warnOnce("Property [series.".concat(n,"] is deprecated, please use [series.").concat(o,"] and multiple series instead."))}))}axesTypeIntegrity(e){if("axes"in e){var t;const n=null!==(t=e.axes)&&void 0!==t?t:[];for(const{type:t}of n)if(null==(i=t)||!wR.has(i)){delete e.axes;const i=Array.from(wR.publicKeys()).join(", ");hm.warnOnce("unknown axis type: ".concat(t,"; expected one of: ").concat(i))}}var i}seriesTypeIntegrity(e){var t;e.series=null===(t=e.series)||void 0===t?void 0:t.filter((e=>{let{type:t}=e;if(null==t||null!=(i=t)&&ER.has(i)||function(e){return xR.some((t=>"series"===t.type&&t.identifier===e))}(t))return!0;var i;hm.warnOnce("unknown series type: ".concat(t,"; expected one of: ").concat(TR.seriesTypes.join(", ")))}))}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some((e=>FR.isSolo(e.type)))){const i=this.optionsType(e);if(FR.isSolo(i))hm.warn("series[0] of type '".concat(i,"' is incompatible with other series types. Only processing series[0]")),e.series=t.slice(0,1);else{const{solo:i,nonSolo:n}=vb(t,(e=>FR.isSolo(e.type)?"solo":"nonSolo")),o=fb(i.map((e=>e.type))).join(", ");hm.warn("Unable to mix these series types with the lead series type: ".concat(o)),e.series=n}}}enableConfiguredOptions(e){Mv(this.userOptions,((e,t)=>{t&&"enabled"in t&&!t._enabledFromTheme&&null==e.enabled&&(t.enabled=!0)}),{skip:["data","theme"]},e),Mv(e,(e=>{null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(e){Mv(e,(e=>{"enabled"in e&&!1===e.enabled&&Object.keys(e).forEach((t=>{"enabled"!==t&&delete e[t]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(e){Mv(e,(e=>{if(e&&$f(e))for(const[t,i]of Object.entries(e))lv(i)&&delete e[t]}),{skip:["data"]})}specialOverridesDefaults(e){if(null!=e.window?dw(e.window):"undefined"!==typeof window?e.window=window:"undefined"!==typeof global&&(e.window=global.window),null!=e.document?cw(e.document):"undefined"!==typeof document?e.document=document:"undefined"!==typeof global&&(e.document=global.document),null==e.window)throw new Error("AG Charts - unable to resolve global window");if(null==e.document)throw new Error("AG Charts - unable to resolve global document");return e}},yF=pw.create(!0,"opts");function bF(e){if(HR(e))return"cartesian";if(VR(e))return"polar";if(WR(e))return"hierarchy";if(UR(e))return"topology";if(YR(e))return"flow-proportion";throw new Error("AG Chart - unknown type of chart for options with type: ".concat(e.type))}var CF=class{static licenseCheck(e){var t,i,n;this.licenseChecked||(this.licenseManager=null===(t=kR.licenseManager)||void 0===t?void 0:t.call(kR,e),null===(i=this.licenseManager)||void 0===i||i.setLicenseKey(this.licenseKey,this.gridContext),null===(n=this.licenseManager)||void 0===n||n.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){var t;return null===(t=kR.licenseManager)||void 0===t?void 0:t.call(kR,{}).getLicenseDetails(e)}static getInstance(e){return xF.getInstance(e)}static create(e){var t;this.licenseCheck(e);const i=xF.createOrUpdate(e);var n;null!==(t=this.licenseManager)&&void 0!==t&&t.isDisplayWatermark()&&(null===(n=kR.injectWatermark)||void 0===n||n.call(kR,i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()));return i}static createFinancialChart(e){return this.create({_type:"price-volume",...e})}};CF.licenseChecked=!1,CF.gridContext=!1;var wF=class e{static getInstance(e){const t=WM.getInstance(e);return t?Dk.chartInstances.get(t):void 0}static initialiseModules(){e.initialised||(!function(){_x.register(Gk,hD,gD,bD,ZT,uE,PE,zE,KE,QE,TT,BT,WE);for(const e of[Tk,Rx,Nk,Ox,Fk])wR.register(e.type,{instanceConstructor:e,hidden:e===Ox})}(),QT(),e.initialised=!0)}static createOrUpdate(t,i){var n,o,r;e.initialiseModules(),yF(">>> AgCharts.createOrUpdate() user options",t);const s=null===(n=i)||void 0===n?void 0:n.chart.chartOptions.type,{_type:a=s,...l}=t;let c=l;CF.optionsMutationFn&&(c=CF.optionsMutationFn(c,a),yF(">>> AgCharts.createOrUpdate() MUTATED user options",t));const{overrideDevicePixelRatio:d,document:u,window:h,...p}=c,g=new vF(p,{overrideDevicePixelRatio:d,document:u,window:h,type:a});let m=null===(o=i)||void 0===o?void 0:o.chart;var f;(null!=m&&bF(p)===bF(null===(r=m)||void 0===r?void 0:r.chartOptions.processedOptions)||(m=e.createChartInstance(g,m)),null==i?i=new Dk(m,e.callbackApi):i.chart=m,yF.check()&&"undefined"!==typeof window)&&(null!==(f=window.agChartInstances)&&void 0!==f||(window.agChartInstances={}),window.agChartInstances[m.id]=m);return m.queuedUserOptions.push(p),m.requestFactoryUpdate((e=>{e.applyOptions(g);const t=e.queuedUserOptions.indexOf(p)+1;e.queuedUserOptions.splice(0,t),e.applyInitialState()})),i}static updateUserDelta(t,i){Mv(i=Sv(i,{shallow:["data"]}),(e=>{if("object"===typeof e)for(const[t,i]of Object.entries(e))"undefined"===typeof i&&Object.assign(e,{[t]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=t,o=n.getOptions(),r=dv(i,o);yF(">>> AgCharts.updateUserDelta() user delta",i),yF("AgCharts.updateUserDelta() - base options",o),e.createOrUpdate(r,t)}static createChartInstance(t,i){const n=null===i||void 0===i?void 0:i.destroy({keepTransferableResources:!0});return new(e.getChartByOptions(t.processedOptions))(t,n)}static getChartByOptions(e){if(HR(e))return Mk;if(WR(e))return $T;if(VR(e))return tP;if(UR(e))return cP;if(YR(e))return JT;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};wF.caretaker=new Yx(Ux),wF.initialised=!1,wF.callbackApi={caretaker:wF.caretaker,createOrUpdate:(e,t)=>wF.createOrUpdate(e,t),updateUserDelta:(e,t)=>wF.updateUserDelta(e,t)};var xF=wF;nm({},{Arc:()=>SF,BBox:()=>xf,BandScale:()=>ay,Caption:()=>Gw,ChangeDetectableProperties:()=>dA,Circle:()=>ZM,ContinuousScale:()=>cb,Diamond:()=>ek,DropShadow:()=>uA,ExtendedPath2D:()=>yS,Group:()=>Jb,HdpiCanvas:()=>Xx,Image:()=>AF,Label:()=>RC,Line:()=>yw,LinearGradientFill:()=>RF,LinearScale:()=>Ak,Marker:()=>XM,Node:()=>Pf,OrdinalTimeScale:()=>Kb,Path:()=>CS,PointerEvents:()=>Ef,RadialColumnShape:()=>kF,Rect:()=>Bk,RedrawType:()=>Sf,Scene:()=>iS,SceneChangeDetection:()=>Rf,ScenePathChangeDetection:()=>bS,Sector:()=>dT,SectorBox:()=>JE,Selection:()=>gw,Shape:()=>pC,Square:()=>rk,Text:()=>xC,Tooltip:()=>_w,Triangle:()=>lk,easing:()=>Ev,getFont:()=>SC,getMarker:()=>hk,getRadialColumnWidth:()=>DF,motion:()=>EF,sectorBox:()=>$E,toRadians:()=>oC,toTooltipHtml:()=>jw});var SF=class extends CS{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return pf(eC(this.startAngle),eC(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?e.closePath():2!==this.type||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new xf(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(e,t){const i=this.transformPoint(e,t),n=this.computeBBox();return 0!==this.type&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};SF.className="Arc",SF.defaultStyles=Object.assign({},pC.defaultStyles,{lineWidth:1,fillStyle:null}),om([bS()],SF.prototype,"centerX",2),om([bS()],SF.prototype,"centerY",2),om([bS()],SF.prototype,"radius",2),om([bS()],SF.prototype,"startAngle",2),om([bS()],SF.prototype,"endAngle",2),om([bS()],SF.prototype,"counterClockwise",2),om([bS()],SF.prototype,"type",2);var RF=class extends pC{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){null!=this._mask&&this.removeChild(this._mask),null!=e&&this.appendChild(e),this._mask=e}isPointInPath(e,t){var i,n;return null!==(i=null===(n=this.mask)||void 0===n?void 0:n.isPointInPath(e,t))&&void 0!==i&&i}computeBBox(){var e;return null===(e=this.mask)||void 0===e?void 0:e.computeBBox()}render(e){const{mask:t,stops:i}=this,{ctx:n,devicePixelRatio:o}=e,r=1/o,s=null===t||void 0===t?void 0:t.computeTransformedBBox();if(null==t||null==i||null==s)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),n.save(),n.clip(t.path.getPath2D()),n.setTransform(o,0,0,o,0,0);const a=Math.floor(s.x),l=Math.ceil(s.x+s.width),c=Math.floor(s.y),d=Math.ceil(s.y+s.height),u="to-right"===this.direction||"to-left"===this.direction,h="to-top"===this.direction||"to-left"===this.direction,p=new IE,[g,m]=u?[a,l]:[c,d];p.domain=i.map(((e,t)=>g+(m-g)*t/(i.length-1))),p.range=h?i.slice().reverse():i,p.update();const f=d-c,v=l-a;switch(this.direction){case"to-right":case"to-left":for(let e=a;e<=l;e+=r)n.fillStyle=p.convert(e),n.fillRect(e,c,r,f);break;case"to-bottom":case"to-top":for(let e=c;e<=d;e+=r)n.fillStyle=p.convert(e),n.fillRect(a,e,v,r)}n.restore()}};function MF(e,t,i){const n=Math.sqrt(e**2+t**2),o=Math.atan2(t,e)+i;return{x:Math.cos(o)*n,y:Math.sin(o)*n}}om([Rf({redraw:3})],RF.prototype,"direction",2),om([Rf({redraw:3})],RF.prototype,"stops",2),om([Rf({redraw:3})],RF.prototype,"_mask",2);var kF=class extends CS{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),o=-i/2,r=i/2,s=-t,a=-e;let l=1/0,c=1/0,d=-1/0,u=-1/0;for(let h=0;h<4;h+=1){const{x:e,y:t}=MF(h%2===0?o:r,h<2?s:a,n);l=Math.min(e,l),c=Math.min(t,c),d=Math.max(e,d),u=Math.max(t,u)}return new xf(l,c,d-l,u-c)}getRotation(){const{startAngle:e,endAngle:t}=this;return eC(e+aC(e,t)/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,o=-e/2,r=e/2,s=-i,a=-t,l=this.getRotation(),c=[[o,a],[o,s],[r,s],[r,a]].map((e=>{let[t,i]=e;return MF(t,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:o,axisOuterRadius:r,isRadiusAxisReversed:s}=this,a=pf(n,o),l=Math.asin(e/2/n),c=this.getRotation(),d=(e,t)=>MF(e,t,c),u=(e,t)=>Math.sqrt(e**2+t**2),h=(e,t)=>t>e?0:Math.sqrt(e**2-t**2),p=(e,t,i)=>i?e<t:e>t,g=a&&!isNaN(l)&&l<Math.PI/6;let m=-e/2,f=e/2;const v=-i,y=-n*(g?Math.cos(l):1),b=p(r,u(n,e/2),!s);if(b){const e=h(r,n);m=-e,f=e}t.clear(!0);const C=d(m,y);t.moveTo(C.x,C.y);const w=pf(n,i),x=p(r,u(i,e/2),!s);if(w&&g)t.arc(0,0,n,eC(-l-Math.PI/2)+c,eC(l-Math.PI/2)+c,!1);else if(x){const n=-h(r,e/2),o=h(r,i);if(!b){const e=d(m,n);t.lineTo(e.x,e.y)}if(t.arc(0,0,r,Math.atan2(n,m)+c,Math.atan2(v,-o)+c,!1),!pf(o,0)){const e=d(o,v);t.lineTo(e.x,e.y)}t.arc(0,0,r,Math.atan2(v,o)+c,Math.atan2(n,f)+c,!1)}else{const e=d(m,v),i=d(f,v);t.lineTo(e.x,e.y),t.lineTo(i.x,i.y)}const S=d(f,y);if(t.lineTo(S.x,S.y),g)t.arc(0,0,n,eC(l-Math.PI/2)+c,eC(-l-Math.PI/2)+c,!0);else{const e=d(m,y);t.lineTo(e.x,e.y)}t.closePath()}};function DF(e,t,i,n,o){const r=aC(e,t),s=r*(1-n)/2;if(e+=s,t-=s,r<.001)return 2*i*o;if(r>=2*Math.PI){const i=e+r/2;e=i-Math.PI,t=i+Math.PI}const a=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),d=i*Math.sin(t),u=Math.floor(Math.sqrt((a-c)**2+(l-d)**2)),h=2*i*o;return Math.max(1,Math.min(h,u))}kF.className="RadialColumnShape",om([bS()],kF.prototype,"isBeveled",2),om([bS()],kF.prototype,"columnWidth",2),om([bS()],kF.prototype,"startAngle",2),om([bS()],kF.prototype,"endAngle",2),om([bS()],kF.prototype,"outerRadius",2),om([bS()],kF.prototype,"innerRadius",2),om([bS()],kF.prototype,"axisInnerRadius",2),om([bS()],kF.prototype,"axisOuterRadius",2),om([bS()],kF.prototype,"isRadiusAxisReversed",2);var AF=class extends Pf{constructor(e){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=e}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(t);const o=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),super.render(e)}};om([Rf({redraw:3})],AF.prototype,"x",2),om([Rf({redraw:3})],AF.prototype,"y",2),om([Rf({redraw:3})],AF.prototype,"width",2),om([Rf({redraw:3})],AF.prototype,"height",2),om([Rf({redraw:3})],AF.prototype,"opacity",2);var EF={...$m,...ew};nm({},{CARTESIAN_AXIS_TYPE:()=>MD,ChartTheme:()=>bP,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>eA,DEFAULT_ANNOTATION_HANDLE_FILL:()=>tA,DEFAULT_ANNOTATION_STROKE:()=>$D,DEFAULT_AXIS_GRID_COLOUR:()=>LD,DEFAULT_AXIS_LINE_COLOUR:()=>ID,DEFAULT_BACKGROUND_COLOUR:()=>jD,DEFAULT_CAPTION_ALIGNMENT:()=>HD,DEFAULT_CAPTION_LAYOUT_STYLE:()=>zD,DEFAULT_COLOURS:()=>_D,DEFAULT_CROSS_LINES_COLOUR:()=>OD,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>ZD,DEFAULT_FONT_FAMILY:()=>ED,DEFAULT_GRIDLINE_ENABLED:()=>nA,DEFAULT_HIERARCHY_FILLS:()=>QD,DEFAULT_HIERARCHY_STROKES:()=>JD,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>FD,DEFAULT_INVERTED_LABEL_COLOUR:()=>PD,DEFAULT_LABEL_COLOUR:()=>TD,DEFAULT_MUTED_LABEL_COLOUR:()=>ND,DEFAULT_PADDING:()=>GD,DEFAULT_POLAR_SERIES_STROKE:()=>XD,DEFAULT_SHADOW_COLOUR:()=>BD,DEFAULT_TOOLBAR_POSITION:()=>iA,FONT_SIZE:()=>xD,FONT_WEIGHT:()=>SD,IS_DARK_THEME:()=>AD,PALETTE_DOWN_FILL:()=>YD,PALETTE_DOWN_STROKE:()=>WD,PALETTE_NEUTRAL_FILL:()=>qD,PALETTE_NEUTRAL_STROKE:()=>KD,PALETTE_UP_FILL:()=>UD,PALETTE_UP_STROKE:()=>VD,POLAR_AXIS_SHAPE:()=>DD,POLAR_AXIS_TYPE:()=>kD,POSITION:()=>RD,getChartTheme:()=>mF,markerPaletteFactory:()=>wD,singleSeriesPaletteFactory:()=>CD,themes:()=>TF});var TF=hv(pF,(e=>null===e||void 0===e?void 0:e()));nm({},{BandScale:()=>ay,ColorScale:()=>IE,ContinuousScale:()=>cb,Invalidating:()=>ry,LinearScale:()=>Ak,OrdinalTimeScale:()=>Kb,TimeScale:()=>Wb});nm({},{Color:()=>Of,Debug:()=>pw,Logger:()=>hm,Padding:()=>Vx,TimeInterval:()=>pm,Vec2:()=>PF,angleBetween:()=>aC,angleDiff:()=>sC,areArrayItemsStrictlyEqual:()=>xw,areArrayNumbersEqual:()=>Sw,bifurcate:()=>bb,checkDatum:()=>FC,clamp:()=>cf,clampArray:()=>df,countFractionDigits:()=>yf,createId:()=>nf,day:()=>Nm,deepClone:()=>Sv,displacePointFromVector:()=>lC,extent:()=>ub,findMinMax:()=>uf,findRangeExtent:()=>hf,formatNormalizedPercentage:()=>bf,formatPercentage:()=>Cf,friday:()=>zm,hour:()=>Pm,interpolateColor:()=>Bf,interpolateNumber:()=>jf,isBetweenAngles:()=>nC,isContinuous:()=>PC,isDate:()=>Zf,isDenseInterval:()=>Vb,isEqual:()=>pf,isNegative:()=>gf,isNumber:()=>ov,isNumberEqual:()=>pf,isNumberObject:()=>TC,isString:()=>iv,isStringObject:()=>EC,jsonApply:()=>kv,jsonDiff:()=>xv,jsonWalk:()=>Mv,millisecond:()=>mm,minute:()=>Am,mod:()=>vf,monday:()=>jm,month:()=>Wm,normalisedExtent:()=>hb,normalisedExtentWithMetadata:()=>pb,normalizeAngle180:()=>iC,normalizeAngle360:()=>eC,normalizeAngle360Inclusive:()=>tC,range:()=>Hb,resetIds:()=>tf,round:()=>mf,sanitizeHtml:()=>sA,saturday:()=>Hm,second:()=>Mm,setAttribute:()=>Pw,shallowClone:()=>Rv,sunday:()=>Om,thursday:()=>Gm,tickFormat:()=>zb,tickStep:()=>_b,ticks:()=>jb,toDegrees:()=>rC,toFixed:()=>ff,toRadians:()=>oC,transformIntegratedCategoryValue:()=>NC,tuesday:()=>Bm,utcDay:()=>Zm,utcHour:()=>Xm,utcMinute:()=>qm,utcMonth:()=>Qm,utcYear:()=>Jm,uuid:()=>of,wednesday:()=>_m,year:()=>Ym,zipObject:()=>LF});var PF={add:function(e,t){return{x:e.x+t.x,y:e.y+t.y}},angle:function(e,t){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},apply:function(e,t){return e.x=t.x,e.y=t.y,e},equal:function(e,t){return e.x===t.x&&e.y===t.y},distance:function(e,t){const i=FF(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(e,t){const i=FF(e,t);return i.x*i.x+i.y*i.y},from:function(e,t){return{x:e,y:t}},fromOffset:function(e){return{x:e.offsetX,y:e.offsetY}},length:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},lengthSquared:function(e){return e.x*e.x+e.y*e.y},required:NF,rotate:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NF();const n=PF.length(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}},sub:FF};function FF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function NF(e){var t,i;return{x:null!==(t=null===e||void 0===e?void 0:e.x)&&void 0!==t?t:0,y:null!==(i=null===e||void 0===e?void 0:e.y)&&void 0!==i?i:0}}function LF(e,t){const i={};if(Array.isArray(t))for(let n=0;n<e.length;n++)i["".concat(e[n])]=t[n];else for(let n=0;n<e.length;n++)i["".concat(e[n])]=t;return i}function IF(){return(e,t)=>{const i=["Property [".concat(e,"] is deprecated."),t].filter(Boolean).join(" ");hm.warnOnce(i)}}function OF(e,t){const i=IF(),n=null===t||void 0===t?void 0:t.default;return Hf(((t,o,r)=>(r!==n&&i(o.toString(),e),r)))}function jF(e,t){const i=IF();return Hf(((n,o,r)=>(r!==n[e]&&(i(o.toString(),"Use [".concat(e,"] instead.")),fv(n,e,t?t(r):r)),_f)),((t,n)=>(i(n.toString(),"Use [".concat(e,"] instead.")),gv(t,e))))}function BF(e){let{defs:t,values:i,xAxis:n,yAxis:o}=e;if(!n||!o)throw new Error("Axes must be defined");const r={};for(const[s,{def:a}]of t)if(Object.hasOwn(i,s)){const{scale:e}="key"===a.type?n:o;r[s]=Math.round(e.convert(i[s]))}return r}nm({},{AND:()=>dy,ARRAY:()=>Sy,ARRAY_OF:()=>Ry,AbstractBarSeries:()=>fE,AbstractBarSeriesProperties:()=>mE,ActionOnSet:()=>Dw,Animation:()=>Vv,AnimationManager:()=>FS,AreaSeriesTag:()=>oE,Axis:()=>Cx,AxisInterval:()=>sx,AxisLabel:()=>ax,AxisTick:()=>cx,BOOLEAN:()=>gy,BOOLEAN_ARRAY:()=>Ny,Background:()=>_k,BackgroundModule:()=>Gk,BaseModuleInstance:()=>jx,BaseProperties:()=>yv,COLOR_STRING:()=>Py,COLOR_STRING_ARRAY:()=>Fy,CartesianAxis:()=>Sx,CartesianSeries:()=>Sk,CartesianSeriesNodeEvent:()=>wk,CartesianSeriesProperties:()=>xk,CategoryAxis:()=>Rx,ChartAxisDirection:()=>rb,ChartEventManager:()=>LS,ChartOptions:()=>vF,ChartUpdateType:()=>rR,ContextMenuRegistry:()=>IS,Cursor:()=>jS,CursorManager:()=>BS,DATE:()=>Ay,DATE_ARRAY:()=>Oy,DATE_OR_DATETIME_MS:()=>Ey,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>bk,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Ck,DEFAULT_TOOLTIP_CLASS:()=>Nw,DEFAULT_TOOLTIP_DARK_CLASS:()=>Lw,DEGREE:()=>wy,DIRECTION:()=>qy,DOMManager:()=>hS,DataController:()=>CR,DataModel:()=>yR,DataModelSeries:()=>pk,DataService:()=>sS,Default:()=>ox,Deprecated:()=>OF,DeprecatedAndRenamedTo:()=>jF,EMPTY_TOOLTIP_CONTENT:()=>Iw,FONT_STYLE:()=>Hy,FONT_WEIGHT:()=>Vy,FUNCTION:()=>my,GREATER_THAN:()=>Dy,GestureDetector:()=>GS,GroupedCategoryAxis:()=>Ox,HierarchyNode:()=>GF,HierarchySeries:()=>zF,HierarchySeriesProperties:()=>HF,HighlightManager:()=>zS,HighlightStyle:()=>vk,INTERACTION_RANGE:()=>Zy,INTERPOLATION_STEP_POSITION:()=>vA,INTERPOLATION_TYPE:()=>fA,InteractionManager:()=>$w,InteractionState:()=>Qw,InterpolationProperties:()=>yA,KeyNavManager:()=>HS,LABEL_PLACEMENT:()=>Qy,LARGEST_KEY_INTERVAL:()=>lM,LESS_THAN:()=>ky,LINE_CAP:()=>By,LINE_DASH:()=>Gy,LINE_JOIN:()=>_y,Layers:()=>AC,LayoutService:()=>eR,LonLatBBox:()=>VF,MARKER_SHAPE:()=>hA,MATCHING_CROSSLINE_TYPE:()=>LC,MAX_SPACING:()=>eb,MIN_SPACING:()=>$y,MercatorScale:()=>aP,ModuleRegistry:()=>Bx,Motion:()=>Ev,NAN:()=>yy,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Wv,NUMBER:()=>vy,NUMBER_ARRAY:()=>Ly,NUMBER_OR_NAN:()=>xy,Navigator:()=>yD,NavigatorModule:()=>bD,OBJECT:()=>hy,OBJECT_ARRAY:()=>jy,OR:()=>uy,OVERFLOW_STRATEGY:()=>Ky,ObserveChanges:()=>Aw,PHASE_METADATA:()=>Gv,PHASE_ORDER:()=>_v,PLACEMENT:()=>Xy,PLAIN_OBJECT:()=>py,POINTER_INTERACTION_TYPES:()=>Uw,POSITION:()=>zy,POSITION_TOP_COORDINATES:()=>GC,POSITIVE_NUMBER:()=>by,PolarAxis:()=>eP,PolarSeries:()=>MT,PropertiesArray:()=>bv,ProxyOnWrite:()=>Mw,ProxyProperty:()=>Rw,ProxyPropertyOnWrite:()=>kw,QUICK_TRANSITION:()=>Bv,RATIO:()=>Cy,REGIONS:()=>ex,RepeatType:()=>zv,SKIP_JS_BUILTINS:()=>mv,SMALLEST_KEY_INTERVAL:()=>aM,SORT_DOMAIN_GROUPS:()=>cM,STRING:()=>fy,STRING_ARRAY:()=>Iy,Series:()=>OM,SeriesGroupingChangedEvent:()=>IM,SeriesItemHighlightStyle:()=>gk,SeriesMarker:()=>pA,SeriesNodeEvent:()=>LM,SeriesNodePickMode:()=>xM,SeriesProperties:()=>yk,SeriesTooltip:()=>mA,StateMachine:()=>Tw,TEXT_ALIGN:()=>Uy,TEXT_WRAP:()=>Wy,TICK_INTERVAL:()=>rx,ToolbarManager:()=>JS,Tooltip:()=>_w,TooltipManager:()=>$S,TooltipPosition:()=>Bw,UNION:()=>Jy,UpdateService:()=>sR,VERTICAL_ALIGN:()=>Yy,Validate:()=>ly,ZoomManager:()=>IR,__FORCE_MODULE_DETECTION:()=>WF,accumulateContinuity:()=>bM,accumulateGroup:()=>vM,accumulatedValue:()=>rM,accumulativeValueProperty:()=>TM,addHitTestersToQuadtree:()=>pE,adjustLabelPlacement:()=>EE,allInStringUnion:()=>wb,animationValidation:()=>gM,area:()=>oM,arraysEqual:()=>gb,assignJsonApplyConstructedArray:()=>ab,backfillPathPointData:()=>PA,basicContinuousCheckDatumValidation:()=>SM,bifurcate:()=>bb,buildFormatter:()=>ty,buildResetPathFn:()=>GA,calculateDefaultTimeTickFormat:()=>oy,calculateLabelChartPadding:()=>_C,calculateLabelTranslation:()=>BC,calculatePlacement:()=>Fw,checkCrisp:()=>wE,childrenIter:()=>hE,circularSliceArray:()=>yb,clamp:()=>cf,clampArray:()=>df,collapsedStartingBarPosition:()=>SE,computeBarFocusBounds:()=>DE,computeMarkerFocusBounds:()=>kA,computeSectorFocusBounds:()=>RT,computeSectorSeriesFocusBounds:()=>ST,convertValuesToScaleByDefs:()=>BF,countFractionDigits:()=>yf,createDatumId:()=>wM,createDeprecationWarning:()=>IF,createElement:()=>aw,dateToNumber:()=>iy,deconstructSelectionsOrNodes:()=>Hv,deepClone:()=>Sv,deepMerge:()=>cv,defaultTimeTickFormat:()=>ny,determinePathStatus:()=>eE,diff:()=>CM,downloadUrl:()=>lw,enterpriseModule:()=>kR,extent:()=>ub,extractDecoratedProperties:()=>Uf,findMinMax:()=>uf,findQuadtreeMatch:()=>gE,findRangeExtent:()=>hf,fixNumericExtent:()=>pR,formatNormalizedPercentage:()=>bf,formatPercentage:()=>Cf,fromToMotion:()=>Uv,getDocument:()=>rw,getMissCount:()=>gR,getPath:()=>gv,getPathComponents:()=>fR,getRectConfig:()=>CE,getWindow:()=>sw,groupAccumulativeContinuityProperty:()=>NM,groupAccumulativeValueProperty:()=>FM,groupAverage:()=>nM,groupBy:()=>vb,groupCount:()=>iM,groupSum:()=>eM,initMenuKeyNav:()=>qk,initToolbarKeyNav:()=>Kk,isArray:()=>Kf,isBoolean:()=>qf,isDate:()=>Xf,isDecoratedObject:()=>Vf,isDefined:()=>Yf,isEnumKey:()=>sv,isEnumValue:()=>av,isEqual:()=>pf,isFiniteNumber:()=>ov,isFunction:()=>Jf,isHtmlElement:()=>rv,isNegative:()=>gf,isNumber:()=>nv,isObject:()=>$f,isObjectLike:()=>ev,isPlainObject:()=>tv,isProperties:()=>Cv,isRegExp:()=>Qf,isString:()=>iv,isSymbol:()=>lv,isValidDate:()=>Zf,jsonApply:()=>kv,jsonDiff:()=>xv,jsonWalk:()=>Mv,keyProperty:()=>DM,labelDirectionHandling:()=>qC,listDecoratedProperties:()=>Wf,makeAccessibleClickListener:()=>Xk,mapIterable:()=>Cb,mapValues:()=>hv,markerFadeInAnimation:()=>CA,markerPaletteFactory:()=>wD,markerScaleInAnimation:()=>wA,markerSwipeScaleInAnimation:()=>xA,mergeArrayDefaults:()=>uv,mergeDefaults:()=>dv,midpointStartingBarPosition:()=>RE,minMax:()=>AA,mod:()=>vf,moduleRegistry:()=>_x,nearestSquared:()=>af,nearestSquaredInContainer:()=>lf,normaliseGroupTo:()=>uM,normalisePropertyTo:()=>pM,normalisedExtent:()=>hb,normalisedExtentWithMetadata:()=>pb,pairCategoryData:()=>$A,pairContinuousData:()=>JA,partialAssign:()=>vv,pathFadeInAnimation:()=>BA,pathFadeOutAnimation:()=>_A,pathRangePoints:()=>KA,pathRangePointsReverse:()=>qA,pathRanges:()=>YA,pathSwipeInAnimation:()=>jA,pickByMatchingAngle:()=>xT,plotPath:()=>LA,predicateWithMessage:()=>tb,prepareAreaPathAnimation:()=>cE,prepareAreaPathAnimationFns:()=>lE,prepareAxisAnimationContext:()=>ux,prepareAxisAnimationFunctions:()=>gx,prepareBarAnimationFunctions:()=>ME,prepareLinePathAnimation:()=>nE,prepareLinePathAnimationFns:()=>iE,prepareLinePathPropertyAnimation:()=>tE,prepareMarkerAnimation:()=>MA,preparePieSeriesAnimationFunctions:()=>CT,range:()=>tM,rangedValueProperty:()=>EM,renderPartialPath:()=>OA,resetAxisGroupFn:()=>mx,resetAxisLabelSelectionFn:()=>vx,resetAxisLineSelectionFn:()=>yx,resetAxisSelectionFn:()=>fx,resetBarSelectionsFn:()=>kE,resetIds:()=>tf,resetLabelFn:()=>cA,resetMarkerFn:()=>SA,resetMarkerPositionFn:()=>RA,resetMotion:()=>tw,resetPieSelectionsFn:()=>wT,round:()=>mf,seriesLabelFadeInAnimation:()=>aA,seriesLabelFadeOutAnimation:()=>lA,setDocument:()=>cw,setElementBBox:()=>uw,setPath:()=>fv,setWindow:()=>dw,shallowClone:()=>Rv,singleSeriesPaletteFactory:()=>CD,splitPairData:()=>IA,staticFromToMotion:()=>Yv,stringify:()=>ob,sum:()=>$R,sumValues:()=>JR,times:()=>db,toArray:()=>mb,toFixed:()=>ff,toTooltipHtml:()=>jw,trailingAccumulatedValue:()=>sM,trailingAccumulatedValueProperty:()=>PM,unique:()=>fb,updateClipPath:()=>zA,updateLabelNode:()=>AE,updateRect:()=>bE,validateCrossLineValues:()=>IC,valueProperty:()=>AM,without:()=>pv});var _F=class e{constructor(e,t,i,n,o,r,s,a,l,c,d){this.series=e,this.index=t,this.datum=i,this.size=n,this.colorValue=o,this.fill=r,this.stroke=s,this.sumSize=a,this.depth=l,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(e){let t=e;for(;null!=t&&t.index>=this.index;){if(t===this)return!0;t=t.parent}return!1}walk(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Walk.PreOrder;i===e.Walk.PreOrder&&t(this),this.children.forEach((e=>{e.walk(t,i)})),i===e.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};_F.Walk={PreOrder:0,PostOrder:1};var GF=_F,zF=class extends OM{constructor(e){super({moduleCtx:e,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new GF(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Tw("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}async processData(){var e,t;const{childrenKey:i,sizeKey:n,colorKey:o,fills:r,strokes:s,colorRange:a}=this.properties;let l=0;let c=0,d=1/0,u=-1/0;const h=new Array((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)+1).fill(void 0),p=(e,t)=>{const r=(l+=1,l),s=null!=t.depth?t.depth+1:0,a=null!=i?e[i]:void 0,p=null==a||0===a.length;let m=null!=n?e[n]:void 0;m=Number.isFinite(m)?Math.max(m,0):p?1:0;const f=m;c=Math.max(c,s);const v=null!=o?e[o]:void 0;return"number"===typeof v&&(h[r]=v,d=Math.min(d,v),u=Math.max(u,v)),g(new GF(this,r,e,m,v,void 0,void 0,f,s,t,[]),a)},g=(e,t)=>(null===t||void 0===t||t.forEach((t=>{const i=p(t,e);e.children.push(i),e.sumSize+=i.sumSize})),e),m=g(new GF(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),f=[d,u];let v;null!=a&&Number.isFinite(d)&&Number.isFinite(u)&&(v=new IE,v.domain=f,v.range=a,v.update()),m.children.forEach(((e,t)=>{e.walk((e=>{var i;let n;const o=h[e.index];var a;null!=o&&(n=null===(a=v)||void 0===a?void 0:a.convert(o));null!==(i=n)&&void 0!==i||(n=null===r||void 0===r?void 0:r[t%r.length]),e.fill=n,e.stroke=null==v?null===s||void 0===s?void 0:s[t%s.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=m,this.maxDepth=c,this.colorDomain=f,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(e){let{seriesRect:t}=e;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(e){var t;const i=null===(t=this.animationResetFns)||void 0===t?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=i&&tw(e.datumSelections,i)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t;const i=null===(t=this.animationResetFns)||void 0===t?void 0:t.datum;null!=i&&tw([e],i)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n,visible:o}=this.properties;return"gradient"===e&&null!=t&&null!=n?[{legendType:"gradient",enabled:o,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return"".concat(e.index)}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&hm.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,o=n.length-2;if(0!==i||1===n.length){const e=Math.max(0,o+i);if(void 0!==n[e+1])return n.length=e+2,this.computeFocusOutputs(n[e+1]);{let t=n[n.length-1];for(;t.nodeDatum.children.length>0&&(null!==(r=t.nodeDatum.depth)&&void 0!==r?r:-1)<e;){var r;const e={nodeDatum:t.nodeDatum.children[0],childIndex:0};n.push(e),t=e}return this.computeFocusOutputs(t)}}if(0===t)return this.computeFocusOutputs(n[n.length-1]);{var s;const e=n[o+1].childIndex+t,i=n[o].nodeDatum,r=null===i||void 0===i||null===(s=i.children)||void 0===s?void 0:s.length;if(void 0!==r){const t=cf(0,e,r-1),s={nodeDatum:i.children[t],childIndex:t};return n[o+1]=s,n.length=o+2,this.computeFocusOutputs(s)}}}getDatumAriaText(e,t){var i;if(e instanceof GF)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(null!==(i=e.depth)&&void 0!==i?i:-1)+1,count:e.children.length,description:t});hm.error("datum is not HierarchyNode: ".concat(e))}computeFocusOutputs(e){let{nodeDatum:t,childIndex:i}=e;const n=this.computeFocusBounds(t);if(n)return{datum:t,datumIndex:i,otherIndex:t.depth,bounds:n,showFocusBox:!0}}},HF=class extends yk{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(uT),this.strokes=Object.values(hT)}};om([ly(fy)],HF.prototype,"childrenKey",2),om([ly(fy,{optional:!0})],HF.prototype,"sizeKey",2),om([ly(fy,{optional:!0})],HF.prototype,"colorKey",2),om([ly(fy,{optional:!0})],HF.prototype,"colorName",2),om([ly(Fy)],HF.prototype,"fills",2),om([ly(Fy)],HF.prototype,"strokes",2),om([ly(Fy,{optional:!0})],HF.prototype,"colorRange",2);var VF=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},WF=0;function UF(e,t){return{...e,container:t.current}}function YF(e,t){const i=(0,n.forwardRef)((function(t,i){const{options:o,style:r,className:s}=t,a=(0,n.useRef)(null),l=(0,n.useRef)();(0,n.useLayoutEffect)((()=>{const t=e(UF(o,a));return l.current=t,()=>{t.destroy()}}),[]);const c=void 0===l.current;return(0,n.useEffect)((()=>{var e;c||(null===(e=l.current)||void 0===e||e.update(UF(o,a)))}),[o]),(0,n.useImperativeHandle)(i,(()=>l.current),[]),(0,n.useMemo)((()=>(0,n.createElement)("div",{ref:a,style:r,className:s})),[r,s])}));return i.displayName=t,i}var KF=YF((e=>CF.create(e)),"AgCharts");const qF=kg(Ag()),XF=()=>{const[e,t]=(0,n.useState)(Ag()().format("YYYY-MM-DD")),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)([]);(0,n.useEffect)((()=>{p()}),[]),(0,n.useEffect)((()=>{r&&g(e)}),[r]);const p=async()=>{try{const e=await localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);s(t.enrollment_or_employee_id)}}catch(e){console.error("Error fetching user profile:",e)}},g=async e=>{try{const i=await fetch("".concat(Ga,"/attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,student_id:r})}),n=await i.json();i.ok?n.Error?alert("No data found"):(o(n.attendance),t(e),m(n.attendance),d(n.attendance.status)):alert("No data found")}catch(i){console.error("Error fetching data:",i)}},m=e=>{const t=e.filter((e=>"Present"===e.status)).length,i=e.filter((e=>"Absent"===e.status)).length;h([{label:"Present",value:t},{label:"Absent",value:i}])},f=()=>{l(!1)},v={data:u,series:[{type:"pie",angleKey:"value",labelKey:"label",fills:["#4caf50","#f44336"]}]};return(0,it.jsxs)("div",{className:"flex flex-col p-6 bg-gray-100 min-h-screen",children:[(0,it.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Student Dashboard"}),(0,it.jsxs)("div",{className:"flex flex-row w-full max-w-8xl space-x-6",children:[(0,it.jsx)(xg,{localizer:qF,events:[],startAccessor:"start",endAccessor:"end",style:{height:"700px",width:"100%"},selectable:!0,onSelectSlot:e=>g(e.start)}),(0,it.jsxs)(At,{className:"flex flex-col w-1/3 space-y-4",children:[(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md",children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold mb-4",children:"Monthly Attendance"}),(0,it.jsx)(KF,{options:v})]}),i&&(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md cursor-pointer",onClick:()=>{l(!0)},children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold",children:"Attendance Status"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Date:"})," ",Ag()(e).format("YYYY-MM-DD")]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",c]})]})]})]}),(0,it.jsxs)(Bg,{open:a,onClose:f,children:[(0,it.jsx)(Wg,{children:"Attendance Details"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Date:"})," ",Ag()(e).format("YYYY-MM-DD")]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",c]})]}),(0,it.jsx)(em,{children:(0,it.jsx)(oa,{onClick:f,color:"primary",children:"Close"})})]})]})};var ZF=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let o=n.get(e);return!o&&i&&(o=new Set,n.set(e,o)),o}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,i,!0).add(t)}removeEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getListeners(e,i,!1);if(n&&(n.delete(t),0===n.size)){(i?this.allAsyncListeners:this.allSyncListeners).delete(e)}}addGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var i;const n=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const o=(i,n)=>i.forEach((i=>{if(!n.has(i))return;const o=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(e))):()=>i(e);t?this.dispatchAsync(o):o()})),r=null!==(i=this.getListeners(n,t,!1))&&void 0!==i?i:new Set,s=new Set(r);s.size>0&&o(s,r);new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((i=>{const o=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(n,e))):()=>i(n,e);t?this.dispatchAsync(o):o()}))}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((e=>e()))}};function QF(e){if(e&&e.length)return e[e.length-1]}function JF(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,n)=>i?i(e,t[n]):t[n]===e))}function $F(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function eN(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function tN(e,t,i){e.splice(i,0,t)}function iN(e,t,i){!function(e,t){for(let i=0;i<t.length;i++)eN(e,t[i])}(e,t),t.slice().reverse().forEach((t=>tN(e,t,i)))}function nN(e,t){return e.indexOf(t)>-1}function oN(e,t){null!=t&&null!=e&&t.forEach((t=>e.push(t)))}var rN="__ag_Grid_Stop_Propagation",sN=["touchstart","touchend","touchmove","touchcancel","scroll"],aN={};function lN(e){e[rN]=!0}function cN(e){return!0===e[rN]}var dN=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof aN[t])return aN[t];const i=document.createElement(e[t]||"div");return aN[t="on"+t]=t in i}})();function uN(e,t,i){let n=t;for(;n;){const t=e.getDomData(n,i);if(t)return t;n=n.parentElement}return null}function hN(e,t){return!(!t||!e)&&function(e){const t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}(t)}(t).indexOf(e)>=0}var pN=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t){this.localEventService||(this.localEventService=new ZF),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n in t){const o=t[n];o&&i.push(this._setupListener(e,n,o))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?function(e,t,i,n){const o=nN(sN,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,o)}(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==n)),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==i)),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=e.changeSet.id}const n={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(n)};e.forEach((e=>this.setupGridOptionListener(e,n)))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},gN=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing((()=>e(t)))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,i)=>{this.frameworkOverrides.wrapOutgoing((()=>e(t,i)))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return null!==(t=this.wrappedListeners.get(e))&&void 0!==t?t:e}unwrapGlobal(e){var t;return null!==(t=this.wrappedGlobalListeners.get(e))&&void 0!==t?t:e}};function mN(e){return null==e||""===e?null:e}function fN(e){return null!=e&&(""!==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function vN(e){return!fN(e)}function yN(e){return null==e||0===e.length}function bN(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function CN(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function wN(e){if(void 0!==e)return null!==e&&""!==e&&xN(e)}function xN(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}function SN(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function RN(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return r(e,t);if(!i)return r(e,t);try{return e.localeCompare(t)}catch(YQ){return r(e,t)}}function MN(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach((e=>t.push(e))),t}return Object.values(e)}var kN=new Set(["__proto__","constructor","prototype"]);function DN(e,t){if(null!=e)if(Array.isArray(e))for(let i=0;i<e.length;i++)t(i.toString(),e[i]);else for(const[i,n]of Object.entries(e))t(i,n)}function AN(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(kN.has(i[n]))continue;const o=i[n],r=e[o];t[o]=r}return t}function EN(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach((e=>{if(t&&t.indexOf(e)>=0||kN.has(e))return;const o=i[e],r=NN(o)&&o.constructor===Object;n[e]=r?EN(o):o})),n}function TN(e){if(!e)return[];const t=Object;if("function"===typeof t.values)return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function PN(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];fN(t)&&DN(t,((t,o)=>{if(kN.has(t))return;let r=e[t];if(r!==o){if(n){if(null==r&&null!=o){"object"===typeof o&&o.constructor===Object&&(r={},e[t]=r)}}NN(o)&&NN(r)&&!Array.isArray(r)?PN(r,o,i,n):(i||void 0!==o)&&(e[t]=o)}}))}function FN(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let o=e;for(let r=0;r<n.length;r++){if(null==o)return;o=o[n[r]]}return o}function NN(e){return"object"===typeof e&&null!==e}var LN={resizable:!0,sortable:!0},IN=0;function ON(){return IN++}function jN(e){return e instanceof BN}var BN=class extends pN{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=ON(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new ZF,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const n=e.hide,o=e.initialHide;this.visible=void 0!==n?!n:!o,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const r=e.flex,s=e.initialFlex;void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=fN(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=fN(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){var e,t;const i=this.colDef;this.minWidth=null!==(e=i.minWidth)&&void 0!==e?e:20,this.maxWidth=null!==(t=i.maxWidth)&&void 0!==t?t:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=fN(this.colDef.tooltipField)||fN(this.colDef.tooltipValueGetter)||fN(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=CN(e.width),n=CN(e.initialWidth);return t=null!=i?i:null!=n?n:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(vN(this.colDef)||vN(this.colDef.showRowGroup))return!1;const t=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){var i,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new gN(this.frameworkOverrides));const o=null!==(i=null===(n=this.frameworkEventListenerService)||void 0===n?void 0:n.wrap(t))&&void 0!==i?i:t;this.columnEventService.addEventListener(e,o)}removeEventListener(e,t){var i,n;const o=null!==(i=null===(n=this.frameworkEventListenerService)||void 0===n?void 0:n.unwrap(t))&&void 0!==i?i:t;this.columnEventService.removeEventListener(e,o)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){return!(e.group&&!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var t;return null!==(t=this.colDef[e])&&void 0!==t?t:LN[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return vN(this.sort)}isSorting(){return fN(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&PN(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(vN(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(vN(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function _N(e){return e instanceof GN}var GN=class extends pN{constructor(e,t,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=ON(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((e=>e.isVisible()))}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach((t=>{jN(t)?e.push(t):_N(t)&&t.addLeafColumns(e)}))}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((t=>t.addEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((t=>t.removeEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let r=0,s=n.length;r<s;r++){const o=n[r];if(!o.isVisible())continue;const s=o.getColumnGroupShow();"open"===s?(e=!0,i=!0):"closed"===s?(t=!0,i=!0):(e=!0,t=!0)}const o=e&&t&&i;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach((i=>{_N(i)&&i.isPadding()?t(i.children):e.push(i)}))};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},zN={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},HN={};function VN(e,t){HN[t]||(e(),HN[t]=!0)}function WN(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.log("AG Grid: "+e,...i)}function UN(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];VN((()=>console.warn("AG Grid: "+e,...i)),e+(null===i||void 0===i?void 0:i.join("")))}function YN(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];VN((()=>console.error("AG Grid: "+e,...i)),e+(null===i||void 0===i?void 0:i.join("")))}function KN(e){return!!(e&&e.constructor&&e.call&&e.apply)}function qN(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((()=>e.forEach((e=>e()))),t)}(e,400)}var XN=[],ZN=!1;function QN(e){XN.push(e),ZN||(ZN=!0,window.setTimeout((()=>{const e=XN.slice();XN.length=0,ZN=!1,e.forEach((e=>e()))}),0))}function JN(e,t){let i;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const s=this;window.clearTimeout(i),i=window.setTimeout((function(){e.apply(s,o)}),t)}}function $N(e,t){let i=0;return function(){const n=(new Date).getTime();if(!(n-i<t)){i=n;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];e.apply(this,r)}}}var eL=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=bN(e);let i=0;for(;;){let n;if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},tL="ag-Grid-AutoColumn";function iL(e){const t=[],i=e=>{for(let n=0;n<e.length;n++){const o=e[n];jN(o)?t.push(o):_N(o)&&i(o.getChildren())}};return i(e),t}function nL(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}function oL(e,t,i){const n={};if(!t)return;lL(null,t,(e=>{n[e.getInstanceId()]=e})),i&&lL(null,i,(e=>{n[e.getInstanceId()]=null}));const o=Object.values(n).filter((e=>null!=e));e.destroyBeans(o)}function rL(e){return e.getId().startsWith(tL)}function sL(e){let t=[];if(e instanceof Array){e.some((e=>"string"!==typeof e))?UN("if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):UN("colDef.type should be of type 'string' | 'string[]'");return t}var aL=class extends pN{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,n){const o=new eL,{existingCols:r,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(i);o.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,o,s,n),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,o);return lL(null,d,((e,t)=>{_N(e)&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&lL(null,e,(e=>{if(_N(e)){const t=e;i.push(t)}else{const i=e;n.push(i.getId()),t.push(i)}})),{existingCols:t,existingGroups:i,existingColKeys:n}}createForAutoGroups(e,t){const i=[],n=this.findDepth(t);return e.forEach((e=>{let t=e;for(let i=n-1;i>=0;i--){const n=new GN(null,"FAKE_PATH_".concat(e.getId(),"}_").concat(i),!0,i);this.createBean(n),n.setChildren([t]),t.setOriginalParent(n),t=n}0===n&&e.setOriginalParent(null),i.push(t)})),[i,n]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&_N(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const o=[];for(let r=0;r<e.length;r++){const s=e[r];if(_N(s)){const e=s,r=this.balanceColumnTree(e.getChildren(),t+1,i,n);e.setChildren(r),o.push(e)}else{let r,a;for(let e=i-1;e>=t;e--){const e=n.getUniqueKey(null,null),i=this.createMergedColGroupDef(null),o=new GN(i,e,!0,t);this.createBean(o),a&&a.setChildren([o]),a=o,r||(r=a)}if(r&&a){o.push(r);if(e.some((e=>_N(e)))){a.setChildren([s]);continue}a.setChildren(e);break}o.push(s)}}return o}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const o=e[n];if(_N(o)){const e=o,n=this.findMaxDept(e.getChildren(),t+1);i<n&&(i=n)}}return i}recursivelyCreateColumns(e,t,i,n,o,r,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,n,o,r,s):a[l]=this.createColumn(i,c,n,o,s)}return a}createColumnGroup(e,t,i,n,o,r,s){const a=this.createMergedColGroupDef(t),l=o.getUniqueKey(a.groupId||null,null),c=new GN(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,r);d&&r.splice(d.idx,1);const u=null===d||void 0===d?void 0:d.group;u&&c.setExpanded(u.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,e,n,o,r,s);return c.setChildren(h),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,o){var r;const s=this.findExistingColumn(t,i);s&&(null===i||void 0===i||i.splice(s.idx,1));let a=null===s||void 0===s?void 0:s.column;if(a){const e=this.addColumnDefaultAndTypes(t,a.getColId());a.setColDef(e,t,o),this.applyColumnState(a,e,o)}else{const i=n.getUniqueKey(t.colId,t.field),o=this.addColumnDefaultAndTypes(t,i);a=new BN(o,t,i,e),this.createBean(a)}return null===(r=this.dataTypeService)||void 0===r||r.addColumnListeners(a),a}applyColumnState(e,t,i){const n=CN(t.flex);void 0!==n&&e.setFlex(n);if(e.getFlex()<=0){const n=CN(t.width);if(null!=n)e.setActualWidth(n,i);else{const t=e.getActualWidth();e.setActualWidth(t,i)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,i):e.setSort(void 0,i));const o=CN(t.sortIndex);void 0!==o&&e.setSortIndex(o);const r=wN(t.hide);void 0!==r&&e.setVisible(!r,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(!n)continue;if(null!=e.colId){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(null!=e.field){if(n.field===e.field)return{idx:i,column:t[i]}}else if(n===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let i=0;i<t.length;i++){const n=t[i];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:i,group:n}}}addColumnDefaultAndTypes(e,t){var i;const n={};PN(n,this.gos.get("defaultColDef"),!1,!0);const o=this.updateColDefAndGetColumnType(n,e,t);o&&this.assignColumnTypes(o,n),PN(n,e,!1,!0);const r=this.gos.get("autoGroupColumnDef"),s=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&r&&s&&PN(n,{sort:r.sort,initialSort:r.initialSort},!1,!0),null===(i=this.dataTypeService)||void 0===i||i.validateColDef(n),n}updateColDefAndGetColumnType(e,t,i){var n,o,r;const s=null===(n=this.dataTypeService)||void 0===n?void 0:n.updateColDefAndGetColumnType(e,t,i),a=null!==(o=null!==(r=t.type)&&void 0!==r?r:s)&&void 0!==o?o:e.type;return e.type=a,a?sL(a):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},zN);DN(this.gos.get("columnTypes")||{},((e,t)=>{if(e in i)UN("the column type '".concat(e,"' is a default column type and cannot be overridden."));else{t.type&&UN("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[e]=t}})),e.forEach((e=>{const n=i[e.trim()];n?PN(t,n,!1,!0):UN("colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(e){return void 0!==e.children}};function lL(e,t,i){if(t)for(let n=0;n<t.length;n++){const o=t[n];_N(o)&&lL(o,o.getChildren(),i),i(o,e)}}var cL=class extends pN{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(e=>this.refreshAll(dL(e.source)))),this.addManagedPropertyListener("autoGroupColumnDef",(e=>this.onAutoGroupColumnDefChanged(dL(e.source)))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],(e=>this.recreateColumnDefs(dL(e.source)))),this.addManagedPropertyListener("pivotMode",(e=>this.setPivotMode(this.gos.get("pivotMode"),dL(e.source)))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e,t){var i;const n=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const o=this.colDefCols&&this.colDefCols.list,r=this.colDefCols&&this.colDefCols.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,r,t);oL(this.context,null===(i=this.colDefCols)||void 0===i?void 0:i.tree,s.columnTree);const a=s.columnTree,l=s.treeDept,c=iL(a),d={};c.forEach((e=>d[e.getId()]=e)),this.colDefCols={tree:a,treeDepth:l,list:c,map:d},this.funcColsService.extractCols(t,o),this.ready=!0,this.refreshCols();e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),n&&(this.changeEventsDispatching=!0,n(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),"gridInitializing"===t&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){var e,t,i;if(!this.colDefCols)return;const n=null===(e=this.cols)||void 0===e?void 0:e.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),null===(t=this.showRowGroupColsService)||void 0===t||t.refresh(),null===(i=this.quickFilterService)||void 0===i||i.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear();!JF(n,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:i,tree:n,treeDepth:o}=e;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:o};e.list.some((e=>{var t;return void 0!==(null===(t=this.cols)||void 0===t?void 0:t.map[e.getColId()])}))||(this.lastPivotOrder=null)}else{const{map:e,list:t,tree:i,treeDepth:n}=this.colDefCols;this.cols={list:t.slice(),map:{...e},tree:i.slice(),treeDepth:n}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter((i=>{const n=rL(i);if(e){const e=t&&nN(t,i);return n||e}return n||i.isVisible()}))}addAutoCols(){var e;null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),(e=this.cols).map={},e.list.forEach((t=>e.map[t.getId()]=t)))}createAutoCols(){var e,t,i;const n=this.gos.isGroupUseEntireRow(this.pivotMode),o=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),s=()=>{this.autoCols&&(oL(this.context,this.autoCols.tree),this.autoCols=null)};if(!(r.length>0||this.gos.get("treeData"))||o||n||!this.autoColService)return void s();const a=null!==(e=this.autoColService.createAutoCols(r))&&void 0!==e?e:[],l=(c=a,d=(null===(t=this.autoCols)||void 0===t?void 0:t.list)||null,JF(c,d,((e,t)=>e.getColId()===t.getColId())));var c,d;const u=this.cols.treeDepth,h=this.autoCols?this.autoCols.treeDepth:-1;if(l&&h==u)return;s();const[p,g]=this.columnFactory.createForAutoGroups(a,null===(i=this.cols)||void 0===i?void 0:i.tree);this.autoCols={list:a,tree:p,treeDepth:g,map:{}};const m=e=>{if(!e)return null;const t=e.filter((e=>!rL(e)));return[...a,...t]};this.lastOrder=m(this.lastOrder),this.lastPivotOrder=m(this.lastPivotOrder)}refreshAll(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}setColsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.columnApplyStateService.applyColumnState({state:e.map((e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t})))},i)}setColsPinned(e,t,i){if(!this.cols)return;if(yN(e))return;if(this.gos.isDomLayout("print"))return void UN("Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null;const o=[];e.forEach((e=>{if(!e)return;const t=this.getCol(e);t&&t.getPinned()!==n&&(t.setPinned(n),o.push(t))})),o.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(o,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;n=_N(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){var t;let i=null;return lL(null,null===(t=this.cols)||void 0===t?void 0:t.tree,(t=>{_N(t)&&t.getId()===e&&(i=t)})),i}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===t)return!1;if(-1===t)return!0;return t>this.funcColsService.getRowGroupColumns().findIndex((t=>t.getColId()===e.getColId()))}isSuppressAutoCol(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){if(this.autoHeightActive=this.cols.list.some((e=>e.isAutoHeight())),this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||UN("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map(((e,t)=>[e,t])));if(!this.cols.list.some((e=>t.has(e))))return;const i=new Map(this.cols.list.map((e=>[e,!0]))),n=e.filter((e=>i.has(e))),o=new Map(n.map((e=>[e,!0]))),r=this.cols.list.filter((e=>!o.has(e))),s=n.slice();r.forEach((e=>{let t=e.getOriginalParent();if(!t)return void s.push(e);const i=[];for(;!i.length&&t;){t.getLeafColumns().forEach((e=>{const t=s.indexOf(e)>=0,n=i.indexOf(e)<0;t&&n&&i.push(e)})),t=t.getOriginalParent()}if(!i.length)return void s.push(e);const n=i.map((e=>s.indexOf(e))),o=Math.max(...n);tN(s,e,o+1)})),this.cols.list=s}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;const e=this.colDefCols.list.filter((e=>this.cols.list.indexOf(e)>=0)),t=this.cols.list.filter((t=>e.indexOf(t)<0));this.cols.list=[...t,...e],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const i={};e.forEach((e=>{if(i[e])return;const n=this.cols.map[e];n&&(t.push(n),i[e]=!0)}));let n=0;this.cols.list.forEach((e=>{const o=e.getColId();if(null!=i[o])return;o.startsWith(tL)?tN(t,e,n++):t.push(e)})),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:UN("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){if(!e||e.length<=1)return;e.filter((e=>this.cols.list.indexOf(e)<0)).length>0||e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)))}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((e=>e())),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){var n;iN(null===(n=this.cols)||void 0===n?void 0:n.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=null===(e=this.cols)||void 0===e?void 0:e.list:this.lastOrder=null===(t=this.cols)||void 0===t?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort(((e,t)=>this.lastOrder.indexOf(e)-this.lastOrder.indexOf(t))):this.lastOrder&&e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return(null===(e=this.colDefCols)||void 0===e?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((e=>null!=e.getColDef().colSpan))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(UN("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!yN(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}setColumnDefs(e,t){const i=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(i,t)}destroy(){var e,t;oL(this.context,null===(e=this.colDefCols)||void 0===e?void 0:e.tree),oL(this.context,null===(t=this.autoCols)||void 0===t?void 0:t.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return null!==(e=this.colDefCols)&&void 0!==e&&e.list?this.colDefCols.list:null}getCols(){var e,t;return null!==(e=null===(t=this.cols)||void 0===t?void 0:t.list)&&void 0!==e?e:[]}getAllCols(){var e,t;const i=this.pivotResultColsService.getPivotResultCols(),n=null===i||void 0===i?void 0:i.list;return[].concat((null===(e=this.colDefCols)||void 0===e?void 0:e.list)||[],(null===(t=this.autoCols)||void 0===t?void 0:t.list)||[],n||[])}getColsForKeys(e){if(!e)return[];return e.map((e=>this.getCol(e))).filter((e=>null!=e))}getColDefCol(e){var t;return null!==(t=this.colDefCols)&&void 0!==t&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:i,list:n}=t;if("string"==typeof e&&i[e])return i[e];for(let o=0;o<n.length;o++)if(uL(n[o],e))return n[o];return this.getAutoCol(e)}getAutoCol(e){return null==this.autoCols?null:this.autoCols.list.find((t=>uL(t,e)))||null}getAutoCols(){var e;return(null===(e=this.autoCols)||void 0===e?void 0:e.list)||null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&this.eventDispatcher.headerHeight(e)}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.visibleColsService.getAllCols().filter((e=>e.isAutoHeaderHeight())).map((e=>e.getAutoHeaderHeight()||0));return Math.max(e,...t)}getHeaderHeight(){var e;return null!==(e=this.gos.get("headerHeight"))&&void 0!==e?e:this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){var e;return null!==(e=this.gos.get("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!==(e=this.gos.get("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!==(e=this.gos.get("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!==(e=this.gos.get("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==(null===e||void 0===e?void 0:e.type))return;const{colIds:t,skipHeader:i}=e;setTimeout((()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)}))}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}};function dL(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function uL(e,t){const i=e===t,n=e.getColDef()===t,o=e.getColId()==t;return i||n||o}var hL=class extends pN{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeCols(e)));const{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:o,source:r="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>this.autoSizeCols(e)));this.timesDelayed=0;const s=[];let a=-1;const l=null!=i?i:this.gos.get("skipHeaderOnAutoSize"),c=null!=n?n:l;for(;0!==a;){a=0;const e=[];t.forEach((t=>{if(!t)return;const i=this.columnModel.getCol(t);if(!i)return;if(s.indexOf(i)>=0)return;const n=this.autoWidthCalculator.getPreferredWidthForColumn(i,l);if(n>0){const e=this.normaliseColumnWidth(i,n);i.setActualWidth(e,r),s.push(i),a++}e.push(i)})),e.length&&this.visibleColsService.refresh(r)}c||this.autoSizeColumnGroupsByColumns(t,r,o),this.eventDispatcher.columnResized(s,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;let o;this.columnModel.getColsForKeys(e).forEach((e=>{let t=e.getParent();for(;t&&t!=i;)t.isPadding()||n.add(t),t=t.getParent()}));for(const r of n){for(const e of this.ctrlsService.getHeaderRowContainerCtrls())if(o=e.getHeaderCtrlForColumn(r),o)break;o&&o.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(e,t)));const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},pL=class extends pN{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>eN(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>eN(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>eN(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return yN(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,((e,i)=>this.setRowGroupActive(e,i,t)),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,(e=>this.setRowGroupActive(!0,e,t)),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,(e=>this.setRowGroupActive(!1,e,t)),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,(e=>e.setPivotActive(!0,t)),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,((e,i)=>{i.setPivotActive(e,t)}),t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,(e=>e.setPivotActive(!1,t)),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,((e,i)=>this.setValueActive(e,i,t)),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,(e=>this.setValueActive(!0,e,t)),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,(e=>this.setValueActive(!1,e,t)),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],o=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(o,i)}setColList(e,t,i,n,o,r,s){if(yN(this.columnModel.getCols()))return;const a=new Map;t.forEach(((e,t)=>a.set(e,t))),t.length=0,fN(e)&&e.forEach((e=>{const i=this.columnModel.getColDefCol(e);i&&t.push(i)})),t.forEach(((e,t)=>{const i=a.get(e);void 0!==i?n&&i!==t||a.delete(e):a.set(e,0)}));(this.columnModel.getColDefCols()||[]).forEach((e=>{const i=t.indexOf(e)>=0;r(i,e)})),o&&this.columnModel.refreshCols(),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(i,[...a.keys()],s)}updateColList(e,t,i,n,o,r,s){if(!e||yN(e))return;let a=!1;e.forEach((e=>{if(!e)return;const n=this.columnModel.getColDefCol(e);if(n){if(i){if(t.indexOf(n)>=0)return;t.push(n)}else{if(t.indexOf(n)<0)return;eN(t,n)}o(n),a=!0}})),a&&(n&&this.columnModel.refreshCols(),this.visibleColsService.refresh(s),this.eventDispatcher.genericColumnEvent(r,t,s))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,((t,i)=>t.setValueActive(i,e)),(()=>{}),(()=>{}),(e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(e=>null!=e.initialAggFunc&&""!=e.initialAggFunc)),this.valueCols.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,((t,i)=>t.setRowGroupActive(i,e)),(e=>e.rowGroupIndex),(e=>e.initialRowGroupIndex),(e=>e.rowGroup),(e=>e.initialRowGroup))}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,((t,i)=>t.setPivotActive(i,e)),(e=>e.pivotIndex),(e=>e.initialPivotIndex),(e=>e.pivot),(e=>e.initialPivot))}extractColsCommon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach((i=>{const c=e.indexOf(i)<0,d=i.getColDef(),u=wN(r(d)),h=wN(s(d)),p=CN(n(d)),g=CN(o(d));let m;if(m=void 0!==u?u:void 0!==p?null!==p&&p>=0:c?void 0!==h?h:!!(void 0!==g)&&(null!=g&&g>=0):t.indexOf(i)>=0,m){(c?null!=p||null!=g:null!=p)?a.push(i):l.push(i)}}));const c=e=>{const t=n(e.getColDef()),i=o(e.getColDef());return null!=t?t:i};a.sort(((e,t)=>{const i=c(e),n=c(t);return i===n?0:i<n?-1:1}));const d=[].concat(a);return t.forEach((e=>{l.indexOf(e)>=0&&d.push(e)})),l.forEach((e=>{d.indexOf(e)<0&&d.push(e)})),t.forEach((e=>{d.indexOf(e)<0&&i(e,!1)})),d.forEach((e=>{t.indexOf(e)<0&&i(e,!0)})),d}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},n=(e,t,n,o,r,s)=>{const a=this.columnModel.getColDefCols();if(!t.length||!a)return[];const l=Object.keys(e),c=new Set(l),d=new Set(l),u=new Set(t.map((e=>{const t=e.getColId();return d.delete(t),t})).concat(l)),h=[],p={};let g=0;for(let i=0;i<a.length;i++){const e=a[i].getColId();u.has(e)&&(h.push(e),p[e]=g++)}let m=1e3,f=!1,v=0;const y=t=>{const i=p[t];for(let n=v;n<i;n++){const t=h[n];d.has(t)&&(e[t][r]=m++,d.delete(t))}v=i};t.forEach((t=>{const a=t.getColId();if(c.has(a))y(a),e[a][r]=m++;else{const l=t.getColDef();if(null===l[r]||void 0===l[r]&&null==l[s]){if(!f){l[n]||void 0===l[n]&&l[o]?y(a):(d.forEach((t=>{e[t][r]=m+p[t]})),m+=h.length,f=!0)}i[a]||(i[a]={colId:a}),i[a][r]=m++}}}))};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},gL=class extends pN{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(yN(i))return!1;if(e&&e.state&&!e.state.forEach)return UN("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),o=(i,o,r)=>{const s=this.compareColumnStatesAndDispatchEvents(t),a=o.slice(),l={},c={},d=[],u=[];let h=0;const p=this.funcColsService.getRowGroupColumns().slice(),g=this.funcColsService.getPivotColumns().slice();i.forEach((i=>{const o=i.colId||"";if(o.startsWith(tL))return d.push(i),void u.push(i);const s=r(o);s?(this.syncColumnWithStateItem(s,i,e.defaultState,l,c,!1,t,n),eN(a,s)):(u.push(i),h+=1)}));const m=i=>this.syncColumnWithStateItem(i,null,e.defaultState,l,c,!1,t,n);a.forEach(m),this.funcColsService.sortRowGroupColumns(mL.bind(this,l,p)),this.funcColsService.sortPivotColumns(mL.bind(this,c,g)),this.columnModel.refreshCols();const f=(this.columnModel.getAutoCols()||[]).slice();return d.forEach((i=>{const o=this.columnModel.getAutoCol(i.colId);eN(f,o),this.syncColumnWithStateItem(o,i,e.defaultState,null,null,!0,t,n)})),f.forEach(m),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),s(),{unmatchedAndAutoStates:u,unmatchedCount:h}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:s}=o(e.state||[],i,(e=>this.columnModel.getColDefCol(e)));if(r.length>0||fN(e.defaultState)){const e=this.pivotResultColsService.getPivotResultCols();s=o(r,(null===e||void 0===e?void 0:e.list)||[],(e=>this.pivotResultColsService.getPivotResultCol(e))).unmatchedCount}return this.columnAnimationService.finish(),0===s}resetColumnState(e){if(yN(this.columnModel.getColDefCols()))return;const t=iL(this.columnModel.getColDefColTree()),i=[];let n=1e3,o=1e3,r=[];const s=this.columnModel.getAutoCols();s&&(r=r.concat(s)),t&&(r=r.concat(t)),r.forEach((e=>{const t=this.getColumnStateFromColDef(e);vN(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=n++),vN(t.pivotIndex)&&t.pivot&&(t.pivotIndex=o++),i.push(t)})),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(e,t)=>null!=e?e:null!=t?t:null,i=e.getColDef(),n=t(i.sort,i.initialSort),o=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),s=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);null!=c||null!=d&&0!=d||(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);null!=u||null!=h&&0!=h||(u=null,h=null);const p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:o,hide:r,pinned:s,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:p}}syncColumnWithStateItem(e,t,i,n,o,r,s,a){var l;if(!e)return;const c=(e,n)=>{const o={value1:void 0,value2:void 0};let r=!1;return t&&(void 0!==t[e]&&(o.value1=t[e],r=!0),fN(n)&&void 0!==t[n]&&(o.value2=t[n],r=!0)),!r&&i&&(void 0!==i[e]&&(o.value1=i[e]),fN(n)&&void 0!==i[n]&&(o.value2=i[n])),o},d=c("hide").value1;void 0!==d&&e.setVisible(!d,s);const u=c("pinned").value1;void 0!==u&&e.setPinned(u);const h=null!==(l=e.getColDef().minWidth)&&void 0!==l?l:20,p=c("flex").value1;if(void 0!==p&&e.setFlex(p),null==p){const t=c("width").value1;null!=t&&null!=h&&t>=h&&e.setActualWidth(t,s)}const g=c("sort").value1;void 0!==g&&("desc"===g||"asc"===g?e.setSort(g,s):e.setSort(void 0,s));const m=c("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),r||!e.isPrimary())return;const f=c("aggFunc").value1;void 0!==f&&("string"===typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,s),a.addValueCol(e))):(fN(f)&&UN("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),a.removeValueCol(e))));const{value1:v,value2:y}=c("rowGroup","rowGroupIndex");void 0===v&&void 0===y||("number"===typeof y||v?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),a.addGroupCol(e)),n&&"number"===typeof y&&(n[e.getId()]=y)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),a.removeGroupCol(e)));const{value1:b,value2:C}=c("pivot","pivotIndex");void 0===b&&void 0===C||("number"===typeof C||b?(e.isPivotActive()||(e.setPivotActive(!0,s),a.addPivotCol(e)),o&&"number"===typeof C&&(o[e.getId()]=C)):e.isPivotActive()&&(e.setPivotActive(!1,s),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach((e=>{null!=e.colId&&t.push(e.colId)})),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach((e=>{n[e.colId]=e})),()=>{const o=this.columnModel.getAllCols(),r=(t,i,n,o)=>{if(JF(i.map(o),n.map(o)))return;const r=new Set(i);n.forEach((e=>{r.delete(e)||r.add(e)}));const s=[...r],a={type:t,columns:s,column:1===s.length?s[0]:null,source:e};this.eventService.dispatchEvent(a)},s=e=>{const t=[];return o.forEach((i=>{const o=n[i.getColId()];o&&e(o,i)&&t.push(i)})),t},a=e=>e.getColId();r("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),r("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const l=s(((e,t)=>{const i=null!=e.aggFunc,n=i!=t.isValueActive(),o=i&&e.aggFunc!=t.getAggFunc();return n||o}));l.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",l,e);this.eventDispatcher.columnResized(s(((e,t)=>e.width!=t.getActualWidth())),!0,e);this.eventDispatcher.columnPinned(s(((e,t)=>e.pinned!=t.getPinned())),e);this.eventDispatcher.columnVisible(s(((e,t)=>e.hide==t.isVisible())),e);const c=s(((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()));c.length>0&&this.sortController.dispatchSortChangedEvents(e,c),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),n={};i.forEach((e=>n[e.colId]=e));const o={};e.forEach((e=>{n[e.colId]&&(o[e.colId]=!0)}));const r=e.filter((e=>o[e.colId])),s=i.filter((e=>o[e.colId])),a=[];s.forEach(((e,t)=>{const i=r&&r[t];if(i&&i.colId!==e.colId){const e=this.columnModel.getCol(i.colId);e&&a.push(e)}})),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},mL=(e,t,i,n)=>{const o=e[i.getId()],r=e[n.getId()],s=null!=o,a=null!=r;if(s&&a)return o-r;if(s)return-1;if(a)return 1;const l=t.indexOf(i),c=t.indexOf(n),d=l>=0;return d&&c>=0?l-c:d?-1:1},fL=class extends pN{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const n=this.columnModel.getCols();if(!n)return;const o=n[e];this.moveColumns([o],t,i)}moveColumns(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=this.columnModel.getCols();if(!o)return;if(this.columnAnimationService.start(),t>o.length-e.length)return UN("tried to insert columns in invalid location, toIndex = ",t),void UN("remember that you should not count the moving columns when calculating the new index");const r=this.columnModel.getColsForKeys(e);!this.doesMovePassRules(r,t)||(this.columnModel.moveInCols(r,t,i),this.eventDispatcher.columnMoved({movedColumns:r,source:i,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){const i=this.columnModel.getCols().slice();return iN(i,e,t),i}doesMovePassLockedPositions(e){const t=this.gos.get("enableRtl");let i=t?1:-1,n=!0;return e.forEach((e=>{const o=(r=e.getColDef().lockPosition)?"left"===r||!0===r?-1:1:0;var r;t?o>i&&(n=!1):o<i&&(n=!1),i=o})),n}doesMovePassMarryChildren(e){let t=!0;return lL(null,this.columnModel.getColTree(),(i=>{if(!_N(i))return;const n=i,o=n.getColGroupDef();if(!(o&&o.marryChildren))return;const r=[];n.getLeafColumns().forEach((t=>{const i=e.indexOf(t);r.push(i)}));Math.max.apply(Math,r)-Math.min.apply(Math,r)>n.getLeafColumns().length-1&&(t=!1)})),t}placeLockedColumns(e){const t=[],i=[],n=[];e.forEach((e=>{const o=e.getColDef().lockPosition;"right"===o?n.push(e):"left"===o||!0===o?t.push(e):i.push(e)}));return this.gos.get("enableRtl")?[...n,...i,...t]:[...t,...i,...n]}},vL=/[&<>"']/g,yL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bL(e){const t=String.fromCharCode;function i(e,i){return t(e>>i&63|128)}function n(e){if(0==(4294967168&e))return t(e);let n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+=t(63&e|128),n}const o=function(e){const t=[];if(!e)return[];const i=e.length;let n,o,r=0;for(;r<i;)n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<i?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)):t.push(n);return t}(e),r=o.length;let s,a=-1,l="";for(;++a<r;)s=o[a],l+=n(s);return l}function CL(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(vL,(e=>yL[e]))}var wL=class extends pN{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,o){const r=e.headerValueGetter;if(r){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:o});return"function"===typeof r?r(s):"string"===typeof r?this.expressionService.evaluate(r,s):(UN("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?(s=e.field)&&null!=s?s.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):""))).join(" "):null:"";var s}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let n,o=null;if(fN(i)){const r=this.funcColsService.getValueColumns(),s=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===r.length,a=void 0!==e.getColDef().pivotTotalColumnIds;if(s&&!a)return t;o=i?i.getAggFunc():null,n=!0}else{const t=e.isValueActive(),i=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();t&&i?(o=e.getAggFunc(),n=!0):n=!1}if(n){const e="string"===typeof o?o:"func",i=this.localeService.getLocaleTextFunc()(e,e);return"".concat(i,"(").concat(t,")")}return t}},xL=class extends pN{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;oL(this.context,null===(e=this.pivotResultCols)||void 0===e?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach((t=>{const o=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;JF(o,e)&&r===i&&(n=t)})),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){var i,n;this.processPivotResultColDef(e);const o=this.columnFactory.createColumnTree(e,!1,(null===(i=this.pivotResultCols)||void 0===i?void 0:i.tree)||this.previousPivotResultCols||void 0,t);oL(this.context,null===(n=this.pivotResultCols)||void 0===n?void 0:n.tree,o.columnTree);const r=o.columnTree,s=o.treeDept,a=iL(r),l={};this.pivotResultCols={tree:r,treeDepth:s,list:a,map:l},this.pivotResultCols.list.forEach((e=>this.pivotResultCols.map[e.getId()]=e)),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=e=>{e.forEach((e=>{if(fN(e.children)){const t=e;i&&i(t),n(t.children)}else{t&&t(e)}}))};e&&n(e)}},SL=class extends pN{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,n){const o=[];e.forEach((e=>{const i=this.columnModel.getColDefCol(e.key)||this.columnModel.getCol(e.key);if(!i)return;o.push({width:e.newWidth,ratios:[1],columns:[i]});if("shift"===this.gos.get("colResizeDefault")&&(t=!t),t){const t=this.visibleColsService.getColAfter(i);if(!t)return;const n=i.getActualWidth()-e.newWidth,r=t.getActualWidth()+n;o.push({width:r,ratios:[1],columns:[t]})}})),0!==o.length&&this.resizeColumnSets({resizeSets:o,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every((e=>this.checkMinAndMaxWidthsForSet(e))))){if(i){const e=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(e,i,n)}return}const o=[],r=[];t.forEach((e=>{const{width:t,columns:i,ratios:s}=e,a={},l={};i.forEach((e=>r.push(e)));let c=!0,d=0;for(;c;){if(d++,d>1e3){YN("infinite loop in resizeColumnSets");break}c=!1;const e=[];let n=0,o=t;i.forEach(((t,i)=>{if(l[t.getId()])o-=a[t.getId()];else{e.push(t);const o=s[i];n+=o}}));const r=1/n;e.forEach(((i,n)=>{let d;n===e.length-1?d=o:(d=Math.round(s[n]*t*r),o-=d);const u=i.getMinWidth(),h=i.getMaxWidth();d<u?(d=u,l[i.getId()]=!0,c=!0):h>0&&d>h&&(d=h,l[i.getId()]=!0,c=!0),a[i.getId()]=d}))}i.forEach((e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),o.push(e))}))}));const s=o.length>0;let a=[];s&&(a=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const l=r.concat(a);(s||i)&&this.eventDispatcher.columnResized(l,i,n,a)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,o=0,r=!0;t.forEach((e=>{const t=e.getMinWidth();n+=t||0;const i=e.getMaxWidth();i>0?o+=i:r=!1}));return i>=n&&(!r||i<=o)}refreshFlexedColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const t=new Set(e.resizingCols);for(let e=i.length-1;e>=0;e--)if(t.has(i[e])){n=e;break}}let o=0,r=[],s=0,a=0;for(let h=0;h<i.length;h++){i[h].getFlex()&&h>n?(r.push(i[h]),a+=i[h].getFlex(),s+=i[h].getMinWidth()):o+=i[h].getActualWidth()}if(!r.length)return[];let l=[];o+s>this.flexViewportWidth&&(r.forEach((e=>e.setActualWidth(e.getMinWidth(),t))),l=r,r=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-o;const e=d/a;for(let i=0;i<r.length;i++){const n=r[i],s=e*n.getFlex();let d=0;const u=n.getMinWidth(),h=n.getMaxWidth();if(s<u?d=u:s>h&&(d=h),d){n.setActualWidth(d,t),$F(r,n),a-=n.getFlex(),l.push(n),o+=n.getActualWidth();continue e}c[i]=Math.round(s)}break}let u=d;return r.forEach(((e,i)=>{e.setActualWidth(Math.min(c[i],u),t),l.push(e),u-=c[i]})),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,r),r}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(e,t,i,n)));const o={};var r;n&&(null===n||void 0===n||null===(r=n.columnLimits)||void 0===r||r.forEach((e=>{let{key:t,...i}=e;o["string"===typeof t?t:t.getColId()]=i})));const s=this.visibleColsService.getAllCols(),a=e===nL(s);if(e<=0||!s.length||a)return;const l=[],c=[];s.forEach((e=>{!0===e.getColDef().suppressSizeToFit?c.push(e):l.push(e)}));const d=l.slice(0);let u=!1;const h=e=>{eN(l,e),c.push(e)};for(l.forEach((e=>{var i,r;e.resetActualWidth(t);const s=null===o||void 0===o?void 0:o[e.getId()],a=null!==(i=null===s||void 0===s?void 0:s.minWidth)&&void 0!==i?i:null===n||void 0===n?void 0:n.defaultMinWidth,l=null!==(r=null===s||void 0===s?void 0:s.maxWidth)&&void 0!==r?r:null===n||void 0===n?void 0:n.defaultMaxWidth,c=e.getActualWidth();"number"===typeof a&&c<a?e.setActualWidth(a,t,!0):"number"===typeof l&&c>l&&e.setActualWidth(l,t,!0)}));!u;){u=!0;const i=e-nL(c);if(i<=0)l.forEach((e=>{var i,r;const s=null!==(i=null===o||void 0===o||null===(r=o[e.getId()])||void 0===r?void 0:r.minWidth)&&void 0!==i?i:null===n||void 0===n?void 0:n.defaultMinWidth;"number"!==typeof s?e.setMinimum(t):e.setActualWidth(s,t,!0)}));else{const e=i/nL(l);let r=i;for(let i=l.length-1;i>=0;i--){var p,g;const s=l[i],a=null===o||void 0===o?void 0:o[s.getId()],c=null!==(p=null===a||void 0===a?void 0:a.minWidth)&&void 0!==p?p:null===n||void 0===n?void 0:n.defaultMinWidth,d=null!==(g=null===a||void 0===a?void 0:a.maxWidth)&&void 0!==g?g:null===n||void 0===n?void 0:n.defaultMaxWidth,m=s.getMinWidth(),f=s.getMaxWidth(),v="number"===typeof c&&c>m?c:m,y="number"===typeof d&&d<f?d:f;let b=Math.round(s.getActualWidth()*e);b<v?(b=v,h(s),u=!1):b>y?(b=y,h(s),u=!1):0===i&&(b=r),s.setActualWidth(b,t,!0),r-=b}}}d.forEach((e=>{e.fireColumnWidthChangedEvent(t)})),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),i||this.eventDispatcher.columnResized(d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout((()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:i,defaultMaxWidth:n}=e,o=null===t||void 0===t?void 0:t.map((e=>{let{colId:t,minWidth:i,maxWidth:n}=e;return{key:t,minWidth:i,maxWidth:n}}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:n,columnLimits:o})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}};function RL(e,t){return e+"_"+t}function ML(e){return e instanceof kL}var kL=class extends pN{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return RL(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((e=>e.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((e=>{ML(e)&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=QF(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach((t=>{e+=t.getActualWidth()})),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach((t=>{t.isResizable()&&(e=!0)})),e}getMinWidth(){let e=0;return this.displayedChildren.forEach((t=>{e+=t.getMinWidth()})),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach((t=>{jN(t)?e.push(t):ML(t)&&t.addDisplayedLeafColumns(e)}))}addLeafColumns(e){this.children.forEach((t=>{jN(t)?e.push(t):ML(t)&&t.addLeafColumns(e)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!(!!e&&e.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((t=>{if(ML(t)&&(!t.displayedChildren||!t.displayedChildren.length))return;switch(t.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},DL=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!==typeof t?0:t+1,this.existingIds[e]=i,i}},AL=class extends pN{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=TL(this.treeLeft),this.columnsCenter=TL(this.treeCenter),this.columnsRight=TL(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter((e=>e.isAutoHeight())),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}updateBodyWidths(){const e=nL(this.columnsCenter),t=nL(this.columnsLeft),i=nL(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e;if(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;const n={type:"columnContainerWidthChanged"};this.eventService.dispatchEvent(n);const o={type:"displayedColumnsWidthChanged"};this.eventService.dispatchEvent(o)}}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?QF(this.columnsRight):null):(t=this.columnsLeft?QF(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)}))}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter((e=>"left"==e.getPinned())),i=e.filter((e=>"right"==e.getPinned())),n=e.filter((e=>"left"!=e.getPinned()&&"right"!=e.getPinned())),o=new DL;this.treeLeft=this.createGroups({columns:t,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],n=[];for(const o of e){const e=o.getPinned();e?!0===e||"left"===e?t.push(o):n.push(o):i.push(o)}this.ariaOrderColumns=t.concat(i).concat(n)}getAriaColIndex(e){let t;return t=ML(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((e=>{e.forEach((e=>{if(ML(e)){e.checkLeft()}}))}))}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const t=this.columnModel.getCols().slice(0),i=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((n=>{if(i){let t=nL(n);n.forEach((i=>{t-=i.getActualWidth(),i.setLeft(t,e)}))}else{let t=0;n.forEach((i=>{i.setLeft(t,e),t+=i.getActualWidth()}))}!function(e,t){for(let i=0;i<t.length;i++)$F(e,t[i])}(t,n)})),t.forEach((t=>{t.setLeft(null,e)}))}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,n){const o=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const e=c-1;for(let i=1;i<=e;i++)d.push(t[s+i]);s+=e}let u;if(i?(u=!1,d.forEach((e=>{i(e)&&(u=!0)}))):u=!0,u){if(0===o.length&&r){!!n&&n(a)&&o.push(r)}o.push(a)}r=a}return o}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),o="After"===t?QF(n):n[0],r="getCol".concat(t);for(;;){const t=this[r](o);if(!t)return null;const n=this.getColGroupAtLevel(t,i);if(n!==e)return n}}getColGroupAtLevel(e,t){let i,n,o=e.getParent();for(;;){if(i=o.getProvidedColumnGroup().getLevel(),n=o.getPaddingLevel(),i+n<=t)break;o=o.getParent()}return o}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};EL(this.treeCenter,!1,e),EL(this.treeLeft,!1,e),EL(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){EL(this.getAllTrees(),!1,(e=>{ML(e)&&e.calculateDisplayedColumns()}))}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?QF(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(ML(e))return e;const i=this.getAllTrees(),n="number"===typeof t;let o=null;return EL(i,!1,(i=>{if(ML(i)){const r=i;let s;s=n?e===r.getGroupId()&&t===r.getPartId():e===r.getGroupId(),s&&(o=r)}})),o}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return nL(this.columnsLeft)}getDisplayedColumnsRightWidth(){return nL(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const n="first"===t;let o;if(ML(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;o=n?t[0]:QF(t)}else o=e;return(n?i[0]:QF(i))===o}createGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:o,isStandaloneStructure:r}=e,s=this.mapOldGroupsById(o),a=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const o=o=>{const c=t;t=o;const d=e[c],u=(ML(d)?d.getProvidedColumnGroup():d).getOriginalParent();if(null==u){for(let t=c;t<o;t++)a.push(e[t]);return}const h=this.createColGroup(u,i,s,n,r);for(let t=c;t<o;t++)h.addChild(e[t]);l.push(h)};for(let i=1;i<e.length;i++){const n=e[i],r=(ML(n)?n.getProvidedColumnGroup():n).getOriginalParent(),s=e[t];r!==(ML(s)?s.getProvidedColumnGroup():s).getOriginalParent()&&o(i)}t<e.length&&o(e.length)}return r||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,n,o){const r=e.getGroupId(),s=t.getInstanceIdForKey(r);let a=i[RL(r,s)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),fN(a)?a.reset():(a=new kL(e,r,s,n),o||this.createBean(a)),a}mapOldGroupsById(e){const t={},i=e=>{e.forEach((e=>{if(ML(e)){const n=e;t[e.getUniqueId()]=n,i(n.getChildren())}}))};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach((e=>{if(e.setParent(t),ML(e)){const t=e;this.setupParentsIntoCols(t.getChildren(),t)}}))}};function EL(e,t,i){if(e)for(let n=0;n<e.length;n++){const o=e[n];if(ML(o)){EL(t?o.getDisplayedChildren():o.getChildren(),t,i)}i(o)}}function TL(e){const t=[];return EL(e,!0,(e=>{jN(e)&&t.push(e)})),t}var PL=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],FL=[...PL,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged"],NL={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},LL=class{};LL.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],LL.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],LL.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],LL.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],LL.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"],LL.OTHER_PROPERTIES=["suppressStickyTotalRow"],LL.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],LL.ALL_PROPERTIES=[...LL.ARRAY_PROPERTIES,...LL.OBJECT_PROPERTIES,...LL.STRING_PROPERTIES,...LL.NUMBER_PROPERTIES,...LL.FUNCTION_PROPERTIES,...LL.BOOLEAN_PROPERTIES,...LL.OTHER_PROPERTIES];var IL=LL,OL=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};OL.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",OL.PUBLIC_EVENTS=PL,OL.EVENT_CALLBACKS=FL.map((e=>OL.getCallbackForEvent(e))),OL.BOOLEAN_PROPERTIES=IL.BOOLEAN_PROPERTIES,OL.ALL_PROPERTIES=IL.ALL_PROPERTIES,OL.ALL_PROPERTIES_AND_CALLBACKS=[...OL.ALL_PROPERTIES,...OL.EVENT_CALLBACKS],OL.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(OL.ALL_PROPERTIES_AND_CALLBACKS);var jL=OL;var BL,_L,GL,zL,HL,VL,WL,UL,YL,KL=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.addCssClass(e)));if(!0!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.removeCssClass(e)));if(!1!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1)return void i.forEach((e=>this.addOrRemoveCssClass(e,t)))}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}};function qL(e,t,i){null==i||"string"===typeof i&&""==i?ZL(e,t):XL(e,t,i)}function XL(e,t,i){e.setAttribute(QL(t),i.toString())}function ZL(e,t){e.removeAttribute(QL(t))}function QL(e){return"aria-".concat(e)}function JL(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function $L(e,t){qL(e,"label",t)}function eI(e,t){qL(e,"labelledby",t)}function tI(e,t){qL(e,"live",t)}function iI(e,t){qL(e,"hidden",t)}function nI(e,t){XL(e,"expanded",t)}function oI(e,t){XL(e,"rowcount",t)}function rI(e,t){XL(e,"rowindex",t)}function sI(e,t){XL(e,"colcount",t)}function aI(e,t){XL(e,"colindex",t)}function lI(e,t){XL(e,"sort",t)}function cI(e){ZL(e,"sort")}function dI(e,t){qL(e,"selected",t)}function uI(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function hI(){return void 0===BL&&(BL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),BL}function pI(){if(void 0===_L)if(hI()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(_L=null!=e[1]?parseFloat(e[1]):0)}else _L=0;return _L}function gI(){if(void 0===GL){const e=window;GL=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return GL}function mI(){return void 0===zL&&(zL=/(firefox)/i.test(navigator.userAgent)),zL}function fI(){return void 0===HL&&(HL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),HL}function vI(){return void 0===VL&&(VL=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),VL}function yI(){return!hI()||pI()>=15}function bI(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||mI())?t.toString():null}function CI(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(UL=i,WL=0===i)}function wI(){return null==WL&&CI(),WL}var xI="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function SI(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),n=t.call(e,xI),o=_I(e);return i&&!n&&o}function RI(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||iI(e,!t)}function MI(e,t){const i="disabled",n=t?e=>e.setAttribute(i,""):e=>e.removeAttribute(i);n(e),KI(e.querySelectorAll("input"),(e=>n(e)))}function kI(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++n>i)break}else if(e===i)break}return!1}function DI(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:o,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function AI(e){const t=DI(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function EI(e){const t=DI(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function TI(e){const{height:t,marginBottom:i,marginTop:n}=DI(e);return Math.floor(t+i+n)}function PI(e){const{width:t,marginLeft:i,marginRight:n}=DI(e);return Math.floor(t+i+n)}function FI(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:o,borderBottomWidth:r}=DI(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(o||0),bottom:t.bottom+(r||0)}}function NI(){if("boolean"===typeof YL)return YL;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,YL=0===Math.floor(e.scrollLeft),document.body.removeChild(e),YL}function LI(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),gI()&&!NI()&&(i=e.scrollWidth-e.clientWidth-i)),i}function II(e,t,i){i&&(NI()?t*=-1:(hI()||gI())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function OI(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function jI(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function BI(e){return!!e.offsetParent}function _I(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!BI(e)||"visible"!==window.getComputedStyle(e).visibility)}function GI(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function zI(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):HI(e,t)}function HI(e,t){t=WI(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function VI(e,t){t=WI(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function WI(e){return"number"===typeof e?"".concat(e,"px"):e}function UI(e){return e instanceof Node||e instanceof HTMLElement}function YI(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function KI(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}var qI=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},XI=class e extends pN{constructor(e,t,i,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=n,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return t<0&&UN("".concat(e," should not be lower than 0")),Math.max(200,t)}getTooltipDelay(e){var t,i;return"show"===e?null!==(i=this.tooltipShowDelayOverride)&&void 0!==i?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(t=this.tooltipHideDelayOverride)&&void 0!==t?t:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),vI()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(t)}),100):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;const i=e.relatedTarget,n=this.parentComp.getGui(),o=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui();this.isInteractingWithTooltip||n.contains(i)||this.interactionEnabled&&null!==o&&void 0!==o&&o.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-e.lastTooltipHideTime<1e3}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!fN(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime());const i={type:"tooltipHide",parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),t&&(this.isInteractingWithTooltip=!1),this.state=0}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.destroyBean(t);const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:i,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const e=this.setToDoNothing.bind(this);[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:e,columnMoved:e})}this.interactionEnabled&&(0===this.tooltipTrigger?[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}):[this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}));const r={type:"tooltipShow",tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var t;const i=this.parentComp.getGui(),n=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui(),o=e.relatedTarget;null!==n&&void 0!==n&&n.contains(o)||(this.isInteractingWithTooltip=!1,i.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{e(),this.destroyBean(t)}),i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((e=>{e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};XI.isLocked=!1;var ZI=XI,QI=class extends pN{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,i,n;if(null!=this.tooltipManager)return;const o={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new ZI(o,null===(e=(t=this.ctrl).getTooltipShowDelayOverride)||void 0===e?void 0:e.call(t),null===(i=(n=this.ctrl).getTooltipHideDelayOverride)||void 0===i?void 0:i.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var e;return null===(e=this.tooltipManager)||void 0===e?void 0:e.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},JI=new qI,$I=null,eO=class e extends pN{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=JI.next(),this.cssClassManager=new KL((()=>this.eGui)),this.componentSelectors=new Map((null!==t&&void 0!==t?t:[]).map((e=>[e.selector,e]))),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:t,showDelayOverride:i,hideDelayOverride:n,location:o,shouldDisplayTooltip:r}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);const s=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new QI({getTooltipValue:s,getGui:()=>this.getGui(),getLocation:()=>null!==o&&void 0!==o?o:"UNKNOWN",getColDef:null===e||void 0===e?void 0:e.getColDef,getColumn:null===e||void 0===e?void 0:e.getColumn,getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=n?()=>n:void 0,shouldDisplayTooltip:r})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const o=this[t];if(o===$I)this[t]=null!==n&&void 0!==n?n:e;else{const e=i&&i[t];this.suppressDataRefValidation||e||UN("Issue with data-ref: ".concat(t," on ").concat(this.constructor.name," with ").concat(o))}}}createChildComponentsFromTags(e,t){(function(e){if(null==e)return[];const t=[];return KI(e,(e=>t.push(e))),t})(e.childNodes).forEach((i=>{if(!(i instanceof HTMLElement))return;const n=this.createComponentFromElement(i,(e=>{e.getGui()&&this.copyAttributesFromNode(i,e.getGui())}),t);if(n){if(n.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const e=Array.prototype.slice.call(i.children);n.addItems(e)}this.swapComponentForNode(n,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)}))}createComponentFromElement(t,i,n){const o=t.nodeName,r=this.getDataRefAttribute(t),s=0===o.indexOf("AG-"),a=s?this.componentSelectors.get(o):null;let l=null;if(a){e.elementGettingCreated=t;const o=n&&r?n[r]:void 0;l=new a.component(o),l.setParentComponent(this),this.createBean(l,null,i)}else s&&UN("Missing selector: ".concat(o));return this.applyElementsToComponent(t,r,n,l),l}copyAttributesFromNode(e,t){!function(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}(e.attributes,((e,i)=>t.setAttribute(e,i)))}swapComponentForNode(e,t,i){const n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((e=>e.setAttribute("tabindex",t.toString())))}setTemplate(e,t,i){const n=GI(e);this.setTemplateFromElement(n,t,i)}setTemplateFromElement(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let o=0;o<t.length;o++){const e=t[o];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return null==e?null:(i||(i=this.eGui),UI(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};i&&n&&n.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};i&&n&&n.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;!function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||iI(e,!t)}(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;RI(this.eGui,e,{skipAriaHidden:i});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc((()=>this.eGui.removeEventListener(e,t)))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}},tO={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"};function iO(e,t,i){const n=nO(e,t,i);if(n){const{className:e}=n;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return n}const o=document.createElement("span");return o.appendChild(n),o}function nO(e,t,i,n){let o=null;const r=i&&i.getColDef().icons;if(r&&(o=r[e]),t&&!o){const i=t.get("icons");i&&(o=i[e])}if(!o){const t=document.createElement("span");let i=tO[e];return i||(n?i=e:(UN("Did not find icon ".concat(e)),i="")),t.setAttribute("class","ag-icon ag-icon-".concat(i)),t.setAttribute("unselectable","on"),JL(t,"presentation"),t}{let e;if("function"===typeof o)e=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");e=o}if("string"===typeof e)return GI(e);if(UI(e))return e;UN("iconRenderer should return back a string or a dom object")}}function oO(e,t,i){if(0===i)return!1;const n=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(n,o)<=i}var rO=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new ZF,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})}))}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout((()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const t={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(t)}}),500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!oO(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const e={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach((e=>e()))}},sO=class extends eO{constructor(e){super(),this.eSortOrder=$I,this.eSortAsc=$I,this.eSortDesc=$I,this.eSortMixed=$I,this.eSortNone=$I,e||this.setTemplate('<span class="ag-sort-indicator-container">\n        <span data-ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n    </span>')}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,n,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=o}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",(()=>this.updateIcons())),this.addManagedEventListeners({newColumnsLoaded:this.updateIcons.bind(this),sortChanged:this.onSortChanged.bind(this),columnRowGroupChanged:this.onSortChanged.bind(this)}),this.onSortChanged())}addInIcon(e,t,i){if(null==t)return;const n=nO(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t="asc"===e;RI(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t="desc"===e;RI(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=null===e||void 0===e;RI(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);RI(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),i=null!==(e=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==e?e:-1,n=t.some((e=>{var t;return null!==(t=this.sortController.getDisplaySortIndexForColumn(e))&&void 0!==t&&t})),o=i>=0&&n;RI(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():OI(this.eSortOrder)}},aO={selector:"AG-SORT-INDICATOR",component:sO},lO=class extends eO{constructor(){super(...arguments),this.eFilter=$I,this.eFilterButton=$I,this.eSortIndicator=$I,this.eMenu=$I,this.eLabel=$I,this.eText=$I,this.eSortOrder=$I,this.eSortAsc=$I,this.eSortDesc=$I,this.eSortMixed=$I,this.eSortNone=$I,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){var e;let t=null!==(e=this.params.template)&&void 0!==e?e:'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return t=t&&t.trim?t.trim():t,t}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[aO]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=CL(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const n=nO(e,this.gos,i);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new rO(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&fN(this.eMenu),o=n?new rO(this.eMenu,!0):t;if(this.params.enableMenu){const e=n?"tap":"longTap",t=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListeners(o,{[e]:t})}if(this.params.enableSorting){const e=e=>{var t,n;const o=e.touchStart.target;i&&(null!==(t=this.eMenu)&&void 0!==t&&t.contains(o)||null!==(n=this.eFilterButton)&&void 0!==n&&n.contains(o))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:e})}if(this.params.enableFilterButton){const e=new rO(this.eFilterButton,!0);this.addManagedListeners(e,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc((()=>e.destroy()))}this.addDestroyFunc((()=>t.destroy())),n&&this.addDestroyFunc((()=>o.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return jI(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();var n,o;if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(null!==(n=null!==(o=this.eFilterButton)&&void 0!==o?o:this.eMenu)&&void 0!==n?n:this.getGui()),!0}else if(this.params.enableMenu){var r,s;return this.params.showColumnMenu(null!==(r=null!==(s=this.eMenu)&&void 0!==s?s:this.eFilterButton)&&void 0!==r?r:this.getGui()),!0}return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new sO(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const t=this.params.column.isMoving(),i=(new Date).getTime()-this.lastMovingChanged<50;if(!(t||i)){const t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}}});const e=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const e=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),t=!(null===e||void 0===e?void 0:e.every((e=>this.params.column.getSort()==e.getSort())));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",t)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return jI(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();RI(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var t,i,n,o;return e?null!==(n=null!==(o=this.eFilterButton)&&void 0!==o?o:this.eMenu)&&void 0!==n?n:this.getGui():null!==(t=null!==(i=this.eMenu)&&void 0!==i?i:this.eFilterButton)&&void 0!==t?t:this.getGui()}},cO=class extends eO{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=$I,this.agClosed=$I,this.agLabel=$I}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&UN("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=e=>{if(cN(e))return;const t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=e=>{lN(e)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const i=new rO(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc((()=>i.destroy())),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();RI(this.agOpened,e),RI(this.agClosed,!e)}else RI(this.agOpened,!1),RI(this.agClosed,!1)}addInIcon(e,t){const i=nO(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return RI(this.agOpened,!1),void RI(this.agClosed,!1)}setupLabel(){var e;const{displayName:t,columnGroup:i}=this.params;if(fN(t)){const e=CL(t,!0);this.agLabel.textContent=e}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=i.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))}},dO=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(dO||{}),uO=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,i,n){e.runVersionChecks(t),void 0!==n?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[n]&&(e.gridModulesMap[n]={}),e.gridModulesMap[n][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(i)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,i,n){e.setModuleBased(i),t&&t.forEach((t=>e.__register(t,i,n)))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[o,r]=e.currentModuleVersion.split(".")||[];return i===o&&n===r}static runVersionChecks(t){e.currentModuleVersion||(e.currentModuleVersion=t.version);const i=e=>"You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ".concat(e," Please update all modules to the same version.");if(t.version?e.isValidModuleVersion(t)||YN(i("'".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(e.currentModuleVersion,"."))):YN(i("'".concat(t.moduleName,"' is incompatible."))),t.validate){const e=t.validate();if(!e.isValid){YN("".concat(e.message))}}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&(YN("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),YN("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,i,n){if(this.__isRegistered(t,n))return!0;let o;if(e.isBundled)o="AG Grid: unable to use ".concat(i," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(e.moduleBased||void 0===e.moduleBased){var r;const s=null===(r=Object.entries(dO).find((e=>{let[i,n]=e;return n===t})))||void 0===r?void 0:r[0];o="AG Grid: unable to use ".concat(i," as the ").concat(s," is not registered").concat(e.areGridScopedModules?" for gridId: ".concat(n):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(s," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(s," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else o="AG Grid: unable to use ".concat(i," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';");return YN(o),!1}static __isRegistered(t,i){var n;return!!e.globalModulesMap[t]||!(null===(n=e.gridModulesMap[i])||void 0===n||!n[t])}static __getRegisteredModules(t){return[...MN(e.globalModulesMap),...MN(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return MN(null!==(i=e.gridModulesMap[t])&&void 0!==i?i:{})||[]}static __isPackageBased(){return!e.moduleBased}};uO.globalModulesMap={},uO.gridModulesMap={},uO.areGridScopedModules=!1;var hO=uO,pO=class extends eO{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),o=fN(n)?n:i,r=t>=0;this.eDelta.textContent=r?"\u2191"+o:"\u2193"+o,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),OI(this.eDelta)}refresh(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.value;if(n===this.lastValue)return!1;if(fN(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:fN(e.value)?this.eValue.textContent=n:OI(this.eValue),null!==(t=this.filterManager)&&void 0!==t&&t.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof n&&"number"===typeof this.lastValue){const t=n-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},gO=class extends eO{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.value;return vN(n)&&(n=""),n!==this.lastValue&&((null===(t=this.filterManager)||void 0===t||!t.isSuppressFlashingCellsBecauseFiltering())&&(i||this.addSlideAnimation(),this.lastValue=n,fN(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:fN(e.value)?this.eCurrent.textContent=n:OI(this.eCurrent),!0))}},mO=class{};mO.BACKSPACE="Backspace",mO.TAB="Tab",mO.ENTER="Enter",mO.ESCAPE="Escape",mO.SPACE=" ",mO.LEFT="ArrowLeft",mO.UP="ArrowUp",mO.RIGHT="ArrowRight",mO.DOWN="ArrowDown",mO.DELETE="Delete",mO.F2="F2",mO.PAGE_UP="PageUp",mO.PAGE_DOWN="PageDown",mO.PAGE_HOME="Home",mO.PAGE_END="End",mO.A="KeyA",mO.C="KeyC",mO.D="KeyD",mO.V="KeyV",mO.X="KeyX",mO.Y="KeyY",mO.Z="KeyZ";var fO=class extends eO{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:o}=this.config;null!=o&&this.setDisabled(o),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){OI(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(RI(this.eLabel,!1),JL(this.eLabel,"presentation")):(RI(this.eLabel,!0),JL(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||zI(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return MI(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},vO=class extends fO{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();null==i||""==i||null!==e.getAttribute("aria-label")?eI(e,""):eI(e,null!==t&&void 0!==t?t:"")}setAriaLabel(e){return $L(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return HI(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},yO=class extends vO{constructor(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,null!==(i=null===e||void 0===e?void 0:e.template)&&void 0!==i?i:'\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(o,' data-ref="eInput" class="ag-input-field-input"></').concat(o,">\n                </div>\n            </div>"),[],t),this.inputType=n,this.displayFieldTag=o,this.eLabel=$I,this.eWrapper=$I,this.eInput=$I}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return zI(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return YI(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return $L(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return MI(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)YI(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";YI(this.eInput,"autocomplete",t)}return this}},bO=class extends yO{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement(),o={type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t};this.eventService.dispatchEvent(o)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},CO={selector:"AG-CHECKBOX",component:bO},wO=class extends eO{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[CO]),this.eCheckbox=$I}init(e){this.params=e,this.updateCheckbox(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),tI(t,"polite"),this.addManagedListeners(t,{click:e=>{if(lN(e),this.eCheckbox.isDisabled())return;const t=this.eCheckbox.getValue();this.onCheckboxChanged(t)},dblclick:e=>{lN(e)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:e=>{if(e.key===mO.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t;let i,n=!0;if(e.node.group&&e.column){const t=e.column.getColId();if(t.startsWith(tL))i=null==e.value||""===e.value?void 0:"true"===e.value;else if(e.node.aggData&&void 0!==e.node.aggData[t]){var o;i=null!==(o=e.value)&&void 0!==o?o:void 0}else n=!1}else{var r;i=null!==(r=e.value)&&void 0!==r?r:void 0}if(!n)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(i);const s=null!=e.disabled?e.disabled:!(null!==(t=e.column)&&void 0!==t&&t.isCellEditable(e.node));this.eCheckbox.setDisabled(s);const a=this.localeService.getLocaleTextFunc(),l=uI(a,i),c=s?l:"".concat(a("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(l,")");this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:t,node:i,value:n}=this.params,o={type:"cellEditingStarted",column:t,colDef:null===t||void 0===t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n};this.eventService.dispatchEvent(o);const r=this.params.node.setDataValue(this.params.column,e,"edit"),s={type:"cellEditingStopped",column:t,colDef:null===t||void 0===t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:r};this.eventService.dispatchEvent(s)}},xO=class extends eO{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=$I,this.eLoadingText=$I}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=nO("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},SO=class extends eO{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t="ag-cell-skeleton-renderer-".concat(this.getCompId());this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>eI(e.eParentOfValue))),eI(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");$L(this.getGui(),t)}setupLoading(e){const t=this.gos.getDocument().createElement("div");t.classList.add("ag-skeleton-effect");const i=e.node.rowIndex;if(null!=i){const e=75+25*(i%2===0?Math.sin(i):Math.cos(i));t.style.width="".concat(e,"%")}this.getGui().appendChild(t);const n=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");$L(this.getGui(),n)}refresh(e){return!1}destroy(){super.destroy()}},RO=class extends eO{constructor(){super()}destroy(){super.destroy()}},MO=class extends RO{init(){const e=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(null!==e&&void 0!==e?e:'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("loadingOoo","Loading...")}))}}},kO=class extends RO{init(){const e=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(null!==e&&void 0!==e?e:'<span class="ag-overlay-no-rows-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")}))}}},DO=class extends eO{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},AO=class extends DO{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=CL(t,!0)}};function EO(e,t,i,n){let o=t.map(((t,i)=>({value:t,relevance:TO(e.toLowerCase(),t.toLocaleLowerCase()),idx:i})));if(o.sort(((e,t)=>t.relevance-e.relevance)),i&&(o=o.filter((e=>0!==e.relevance))),o.length>0&&n&&n>0){const e=o[0].relevance*n;o=o.filter((t=>e-t.relevance<0))}const r=[],s=[];for(const a of o)r.push(a.value),s.push(a.idx);return{values:r,indices:s}}function TO(e,t){const i=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let o=0,r=-1;for(let s=0;s<i.length;s++){const e=n.indexOf(i[s],r+1);-1!==e&&(r=e,o+=100-100*r/1e4*100)}return o}var PO=class extends pN{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:lO,agColumnGroupHeader:cO,agSortIndicator:sO,agAnimateShowChangeCellRenderer:pO,agAnimateSlideCellRenderer:gO,agLoadingCellRenderer:xO,agSkeletonCellRenderer:SO,agCheckboxCellRenderer:wO,agLoadingOverlay:MO,agNoRowsOverlay:kO,agTooltipComponent:AO},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&DN(e,((e,t)=>this.registerJsComponent(e,t)))}registerDefaultComponent(e,t){this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(e,t)=>({componentFromFramework:t,component:e}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=n)return i(n,!0);const o=this.jsComps[t];if(o){return i(o,this.getFrameworkOverrides().isFrameworkComponent(o))}const r=this.agGridDefaults[t];if(r)return i(r,!1);const s=this.enterpriseAgDefaultCompsModule[t];return s?hO.__assertRegistered(s,"AG Grid '".concat(e,"' component: ").concat(t),this.gridId):VN((()=>{this.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=EO(t,[...Object.keys(this.agGridDefaults).filter((e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e))),...Object.keys(this.jsComps)],!0,.8).values;UN("Could not find '".concat(t,"' component. It was configured as \"").concat(e,": '").concat(t,"'\" but it wasn't found in the list of registered components.")),i.length>0&&UN("         Did you mean: [".concat(i.slice(0,3),"]?")),UN("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))}},FO=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e((e=>this.onDone(e)),(e=>this.onReject(e)))}static all(t){return t.length?new e((e=>{let i=t.length;const n=new Array(i);t.forEach(((t,o)=>{t.then((t=>{n[o]=t,i--,0===i&&e(n)}))}))})):e.resolve()}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((e=>e(t)))}then(t){return new e((e=>{1===this.status?e(t(this.resolution)):this.waiters.push((i=>e(t(i))))}))}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach((t=>t(e)))}onReject(e){}},NO={propertyName:"dateComponent",cellRenderer:!1},LO={propertyName:"headerComponent",cellRenderer:!1},IO={propertyName:"headerGroupComponent",cellRenderer:!1},OO={propertyName:"cellRenderer",cellRenderer:!0},jO={propertyName:"cellRenderer",cellRenderer:!1},BO={propertyName:"loadingCellRenderer",cellRenderer:!0},_O={propertyName:"cellEditor",cellRenderer:!1},GO={propertyName:"innerRenderer",cellRenderer:!0},zO={propertyName:"loadingOverlayComponent",cellRenderer:!1},HO={propertyName:"noRowsOverlayComponent",cellRenderer:!1},VO={propertyName:"tooltipComponent",cellRenderer:!1},WO={propertyName:"filter",cellRenderer:!1},UO={propertyName:"floatingFilterComponent",cellRenderer:!1},YO={propertyName:"toolPanel",cellRenderer:!1},KO={propertyName:"statusPanel",cellRenderer:!1},qO={propertyName:"fullWidthCellRenderer",cellRenderer:!0},XO={propertyName:"loadingCellRenderer",cellRenderer:!0},ZO={propertyName:"groupRowRenderer",cellRenderer:!0},QO={propertyName:"detailCellRenderer",cellRenderer:!0},JO={propertyName:"menuItem",cellRenderer:!1},$O=class e extends pN{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getHeaderCompDetails(e,t){return this.getCompDetails(e,LO,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,IO,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,qO,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,XO,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,ZO,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,QO,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,GO,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,GO,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,OO,null,t)}getEditorRendererDetails(e,t){return this.getCompDetails(e,jO,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,BO,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,_O,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,WO,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,NO,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,zO,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,HO,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,VO,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,OO,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,UO,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,YO,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,KO,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,JO,"agMenuItem",t,!0)}getCompDetails(t,i,n,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{propertyName:s,cellRenderer:a}=i;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=e.getCompKeys(this.frameworkOverrides,t,i,o);const g=e=>{const t=this.userComponentRegistry.retrieve(s,e);t&&(c=t.componentFromFramework?void 0:t.component,d=t.componentFromFramework?t.component:void 0)};if(null!=l&&g(l),null==c&&null==d&&null!=n&&g(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),!c&&!d)return void(r&&YN("Could not find component ".concat(l,", did you forget to configure this component?")));const m=this.mergeParamsWithApplicationProvidedParams(t,i,o,u),f=null==c,v=c||d;return{componentFromFramework:f,componentClass:v,params:m,type:i,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(v,f,m,i)}}static getCompKeys(e,t,i,n){const{propertyName:o}=i;let r,s,a,l,c,d;if(t){const i=t,u=i[o+"Selector"],h=u?u(n):null,p=t=>{if("string"===typeof t)r=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:s=t}};h?(p(h.component),l=h.params,c=h.popup,d=h.popupPosition):p(i[o])}return{compName:r,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}newAgStackInstance(e,t,i,n){const o=n.propertyName;let r;if(!t)r=new e;else{const t=this.componentMetadataProvider.retrieve(o);r=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,n)}const s=this.initComponent(r,i);return null==s?FO.resolve(r):s.then((()=>r))}mergeParamsWithApplicationProvidedParams(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=this.gos.getGridCommonParams();PN(o,i);const r=e&&e[t.propertyName+"Params"];if("function"===typeof r){PN(o,r(i))}else"object"===typeof r&&PN(o,r);return PN(o,n),o}initComponent(e,t){if(this.createBean(e),null!=e.init)return e.init(t)}};function ej(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var tj=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach((e=>{let[t,i]=e;this.beans[t]=i})),e.beanClasses.forEach((e=>{const t=new e;t.beanName?this.beans[t.beanName]=t:console.error("Bean ".concat(e.name," is missing beanName")),this.createdBeans.push(t)})),null===(t=e.derivedBeans)||void 0===t||t.forEach((e=>{const{beanName:t,bean:i}=e(this);this.beans[t]=i,this.createdBeans.push(i)})),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach((e=>{var t,i;null===(t=e.preWireBeans)||void 0===t||t.call(e,this.beans),null===(i=e.wireBeans)||void 0===i||i.call(e,this.beans)})),e.forEach((e=>{var t;return null===(t=e.preConstruct)||void 0===t?void 0:t.call(e)})),t&&e.forEach(t),e.forEach((e=>{var t;return null===(t=e.postConstruct)||void 0===t?void 0:t.call(e)}))}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;null===e||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},ij=class extends tj{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),hO.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},nj=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(nj||{}),oj=class extends pN{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}postConstruct(){this.dropIconMap={pinned:iO("columnMovePin",this.gos,null),hide:iO("columnMoveHide",this.gos,null),move:iO("columnMoveMove",this.gos,null),left:iO("columnMoveLeft",this.gos,null),right:iO("columnMoveRight",this.gos,null),group:iO("columnMoveGroup",this.gos,null),aggregate:iO("columnMoveValue",this.gos,null),pivot:iO("columnMovePivot",this.gos,null),notAllowed:iO("dropNotAllowed",this.gos,null)}}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find((t=>t.dragSource===e));t&&(this.dragService.removeDragSource(t.params),eN(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach((e=>this.dragService.removeDragSource(e.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(e,t){const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const o=this.dropTargets.filter((t=>this.isMouseOnDropTarget(e,t))),r=this.findCurrentDropTarget(e,o);if(r!==this.lastDropTarget){var s,a,l,c;if(this.leaveLastTargetIfExists(e,i,n,t),null!==this.lastDropTarget&&null===r)null===(s=(a=this.dragSource).onGridExit)||void 0===s||s.call(a,this.dragItem);if(null===this.lastDropTarget&&null!==r)null===(l=(c=this.dragSource).onGridEnter)||void 0===l||l.call(c,this.dragItem);this.enterDragTargetIfExists(r,e,i,n,t),this.lastDropTarget=r}else if(r&&r.onDragging){const o=this.createDropTargetEvent(r,e,i,n,t);r.onDragging(o)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const t=i.getBoundingClientRect();if(0===t.width||0===t.height)return!1;const n=e.clientX>=t.left&&e.clientX<t.right,o=e.clientY>=t.top&&e.clientY<t.bottom;if(!n||!o)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of i)if(this.allContainersIntersect(e,o)){n=!0;break}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const n=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const r of n)for(const e of t){if(-1!==(o=this.getAllContainersFromDropTarget(e),[].concat.apply([],o)).indexOf(r))return e}var o;return null}enterDragTargetIfExists(e,t,i,n,o){if(e){if(e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,o);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter((t=>t.getContainer()!==e.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((e=>e.external))}findExternalZone(e){return this.dropTargets.filter((e=>e.external)).find((t=>t.getContainer()===e.getContainer()))||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,o){const r=e.getContainer(),s=r.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-s.left,d=t.clientY-s.top;return this.gos.addGridCommonParams({event:t,x:c,y:d,vDirection:n,hDirection:i,dragSource:l,fromNudge:o,dragItem:a,dropZoneTarget:r})}positionGhost(e){const t=this.eGhost;if(!t)return;const i=t.getBoundingClientRect().height,n=function(){var e,t,i;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(i=document.documentElement)||void 0===i?void 0:i.clientWidth)||-1}()-2,o=function(){var e,t,i;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(i=document.documentElement)||void 0===i?void 0:i.clientHeight)||-1}()-2,r=FI(t.offsetParent),{clientY:s,clientX:a}=e;let l=s-r.top-i/2,c=a-r.left-10;const d=this.gos.getDocument(),u=d.defaultView||window,h=u.pageYOffset||d.documentElement.scrollTop,p=u.pageXOffset||d.documentElement.scrollLeft;n>0&&c+t.clientWidth>n+p&&(c=n+p-t.clientWidth),c<0&&(c=0),o>0&&l+t.clientHeight>o+h&&(l=o+h-t.clientHeight),l<0&&(l=0),t.style.left="".concat(c,"px"),t.style.top="".concat(l,"px")}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=GI('<div class="ag-dnd-ghost ag-unselectable">\n<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n<div class="ag-dnd-ghost-label"></div>\n</div>'),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let t=this.dragSource.dragItemName;KN(t)&&(t=t()),e.innerHTML=CL(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gos.getDocument();let n=null,o=null;try{n=i.fullscreenElement}catch(YQ){}finally{n||(n=this.gos.getRootNode());const e=n.querySelector("body");if(e)o=e;else if(n instanceof ShadowRoot)o=n;else if(n instanceof Document){var r;o=null===(r=n)||void 0===r?void 0:r.documentElement}else o=n}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):UN("Could not find document body, it is needed for dragging columns")}setGhostIcon(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];OI(this.eGhostIcon);let i=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||i&&this.eGhostIcon.appendChild(i)}},rj=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!t,this.tickDown=e.clientY>i.bottom-n&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},sj=class extends pN{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((e=>{const t=e.gridBodyCtrl;this.autoScrollService=new rj({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var e;if(this.funcColsService.getRowGroupColumns().length)return!0;if(null===(e=this.filterManager)||void 0===e?void 0:e.isAnyFilterPresent())return!0;return!!this.sortController.isSortActive()}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const e=[...this.selectionService.getSelectedNodes()].sort(((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t)));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach((e=>{e.setDragging(!0)})),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!t.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),o=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(QF(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))o.forEach((e=>{e.rowTop<n&&(r-=1)})),this.moveRows(o,n,r);else{const e=this.gos.getRowIdCallback();let t=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&t--,this.clientSideRowModel.updateRowData({add:o.filter((t=>{var i;return!this.clientSideRowModel.getRowNode(null!==(i=null===e||void 0===e?void 0:e({data:t.data,level:0,rowPinned:t.rowPinned}))&&void 0!==i?i:t.data.id)})).map((e=>e.data)),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var n;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),null===(n=this.rangeService)||void 0===n||n.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void UN("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void UN("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))})),this.dragAndDropService.addDropTarget({isInterestedIn:e=>2===e,getIconName:()=>"move",external:!0,...t})}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),o=this.onDragging.bind(this),r=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{i(t),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}:i,onDragLeave:e.onDragLeave?t=>{n(t),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}:n,onDragging:e.onDragging?t=>{o(t),e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}:o,onDragStop:e.onDragStop?t=>{r(t),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}:r,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:o,onDragStop:r,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let n,o,r=-1;switch(i>this.pageBoundsService.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r)),t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),!this.gos.get("rowDragManaged")||!this.gos.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((e=>{e.setDragging(!1)}))}},aj=class extends pN{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find((t=>t.dragSource===e));t&&(this.removeListener(t),eN(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:o}=e;i.addEventListener("mousedown",t);let r=null;const s=this.gos.get("suppressTouch");n&&!s&&(r=t=>{SI(t.target)||(t.cancelable&&(t.preventDefault(),o&&t.stopPropagation()),this.onTouchStart(e,t))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=t=>this.onTouchUp(t,e.eElement),o=t.target,r=[{target:this.gos.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(i._alreadyProcessedByDragService)return;if(i._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=this.gos.getRootNode(),o=[{target:n,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:n,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:n,type:"contextmenu",listener:e=>e.preventDefault()}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach((e=>{const{target:t,type:i,listener:n,options:o}=e;t.addEventListener(i,n,o)})),this.dragEndFunctions.push((()=>{e.forEach((e=>{const{target:t,type:i,listener:n,options:o}=e;t.removeEventListener(i,n,o)}))}))}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return oO(e,t,fN(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const n={type:"dragStarted",target:i};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){if(hI()){var i;null===(i=this.gos.getDocument().getSelection())||void 0===i||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i="mousemove"===e.type;return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=null===t||void 0===t?void 0:t.tagName.toLocaleLowerCase();return!(null===i||void 0===i||!i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const i={type:"dragStopped",target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((e=>e())),this.dragEndFunctions.length=0}},lj=class extends eO{constructor(e,t,i,n,o,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=o,this.suppressVisibilityChange=r,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(nO("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new uj(this,this.beans,this.rowNode,this.column):new dj(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&UN("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{null===e||void 0===e||e.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var e;const t=this.getDragItem(),n=(null===(e=t.rowNodes)||void 0===e?void 0:e.length)||1,o=this.getRowDragText(this.column);return o?o(t,n):1===n?this.cellValueFn():"".concat(n," ").concat(i("rowDragRows","rows"))},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},cj=class extends pN{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,i=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=KN(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},dj=class extends cj{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},uj=class extends cj{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),o=t&&!n||i;this.setDisplayedOrVisible(o)}},hj=class e{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var i;const n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,n,t);null===(i=this.localEventService)||void 0===i||i.dispatchEvent(o)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return null==this.rowIndex?(YN("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){var i;const n=fN(this.id)?this.createDaemonNode():null,o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const r=this.createDataChangedEvent(e,o,!1);null===(i=this.localEventService)||void 0===i||i.dispatchEvent(r)}checkRowSelectable(){const e=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(e,t){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),t)return;if(this.beans.gos.get("groupSelectsChildren")){const e=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:null!==e&&void 0!==e&&e,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gos.getRowIdCallback();if(i)if(this.data){const t=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&YN("Row IDs cannot start with ".concat(e.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature."))}else this.id=void 0;else this.id=t}getGroupKeys(){const e=[];let t=this;for(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(t=t.parent);t&&t.level>=0;)e.push(t.key),t=t.parent;return e.reverse(),e}isPixelInRange(e){return!(!fN(this.rowTop)||!fN(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)}updateIfDifferent(e,t,i){this[e]!==t&&(this[e]=t,this.dispatchRowEvent(i))}setFirstChild(e){this.updateIfDifferent("firstChild",e,"firstChildChanged")}setLastChild(e){this.updateIfDifferent("lastChild",e,"lastChildChanged")}setChildIndex(e){this.updateIfDifferent("childIndex",e,"childIndexChanged")}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.updateIfDifferent("displayed",e,"displayedChanged")}setDragging(e){this.updateIfDifferent("dragging",e,"draggingChanged")}setHighlighted(e){this.updateIfDifferent("highlighted",e,"rowHighlightChanged")}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.updateIfDifferent("allChildrenCount",e,"allChildrenCountChanged")}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=JN(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,i=0;const n=this.__autoHeights;if(null==n)return;if(this.beans.visibleColsService.getAllAutoHeightCols().forEach((o=>{let r=n[o.getId()];if(null==r){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let t=[];switch(o.getPinned()){case"left":t=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":t=this.beans.visibleColsService.getRightColsForRow(this);break;case null:t=this.beans.columnViewportService.getColsWithinViewport(this)}if(t.includes(o))return void(e=!0);r=-1}}else t=!1;r>i&&(i=r)})),e)return;if((t||i<10)&&(i=this.beans.gos.getRowHeightForNode(this).height),i==this.rowHeight)return;this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.updateIfDifferent("rowIndex",e,"rowIndexChanged")}setUiLevel(e){this.updateIfDifferent("uiLevel",e,"uiLevelChanged")}setExpanded(e,t,i){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const n={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:t||null};this.beans.rowNodeEventThrottle.dispatchExpanded(n,i),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,t,i){const n=(()=>{var t;return"string"!==typeof e?e:null!==(t=this.beans.columnModel.getCol(e))&&void 0!==t?t:this.beans.columnModel.getColDefCol(e)})(),o=this.getValueFromValueService(n);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,o,t,i),!1;const r=this.beans.valueService.setValue(this,n,t,i);return this.dispatchCellChangedEvent(n,t,o),this.checkRowSelectable(),r}getValueFromValueService(e){var t;const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!i;let o=!1;const r=null!==(t=this.beans.gos.get("groupTotalRow"))&&void 0!==t?t:this.beans.gos.get("groupIncludeFooter");if("function"!==typeof r)o=!!r;else{var s;o=!!(null!==(s=this.beans.gos.getCallback("groupTotalRow"))&&void 0!==s?s:this.beans.gos.getCallback("groupIncludeFooter"))({node:this})}const a=this.beans.gos.get("groupSuppressBlankHeader"),l=n&&o&&!a;return this.beans.valueService.getValue(e,this,!1,l)}dispatchEventForSaveValueReadOnly(e,t,i,n){const o=this.beans.gos.addGridCommonParams({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:i,value:i,source:n});this.beans.eventService.dispatchEvent(o)}setGroupValue(e,t){const i=this.beans.columnModel.getCol(e);vN(this.groupData)&&(this.groupData={});const n=i.getColId(),o=this.groupData[n];o!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(i,t,o))}setAggData(e){const t=this.aggData;if(this.aggData=e,this.localEventService){const i=e=>{const i=this.aggData?this.aggData[e]:void 0,n=t?t[e]:void 0;if(i===n)return;const o=this.beans.columnModel.getCol(e);o&&this.dispatchCellChangedEvent(o,i,n)};for(const e in this.aggData)i(e);for(const t in e)t in this.aggData||i(t)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const t=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(t?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){var e;return null!==(e=this.group&&yN(this.childrenAfterGroup))&&void 0!==e&&e}dispatchCellChangedEvent(e,t,i){var n;const o={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};null===(n=this.localEventService)||void 0===n||n.dispatchEvent(o)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((t=>t.depthFirstSearch(e))),e(this)}calculateSelectedFromChildren(){var e;let t=!1,i=!1,n=!1;if(null===(e=this.childrenAfterGroup)||void 0===e||!e.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const e=this.childrenAfterGroup[o];let r=e.isSelected();if(!e.selectable){const t=e.calculateSelectedFromChildren();if(null===t)continue;r=t}switch(r){case!0:t=!0;break;case!1:i=!0;break;default:n=!0}}return n||t&&i?void 0:!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){var t;const i={type:e,node:this};null===(t=this.localEventService)||void 0===t||t.dispatchEvent(i)}selectThisNode(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";const n=!this.selectable&&e,o=this.selected===e;if(n||o)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const r=this.sibling;r&&r.footer&&r.localEventService&&r.dispatchRowEvent("rowSelected");const s={...this.createGlobalRowEvent("rowSelected"),event:t||null,source:i};return this.beans.eventService.dispatchEvent(s),!0}setSelected(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof i?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i}):UN("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(UN("cannot select pinned rows"),0):void 0===this.id?(UN("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){var i,n;this.localEventService||(this.localEventService=new ZF),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new gN(this.beans.frameworkOverrides));const o=null!==(i=null===(n=this.frameworkEventListenerService)||void 0===n?void 0:n.wrap(t))&&void 0!==i?i:t;this.localEventService.addEventListener(e,o)}removeEventListener(e,t){var i,n;if(!this.localEventService)return;const o=null!==(i=null===(n=this.frameworkEventListenerService)||void 0===n?void 0:n.unwrap(t))&&void 0!==i?i:t;this.localEventService.removeEventListener(e,o),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(e){let t=this,i=!0,n=!1,o=null;for(;i&&!n;){const r=t.parent;fN(r)&&t.firstChild?r.rowGroupColumn===e&&(n=!0,o=r):i=!1,t=r}return n?o:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let t=this;for(;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),i=new e(this.beans);Object.keys(this).forEach((e=>{t.has(e)||(i[e]=this[e])})),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};hj.ID_PREFIX_ROW_GROUP="row-group-",hj.ID_PREFIX_TOP_PINNED="t-",hj.ID_PREFIX_BOTTOM_PINNED="b-",hj.OBJECT_ID_SEQUENCE=0;var pj=hj,gj=class extends eO{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e,t;return null!==(e=null===(t=this.filterWrapper)||void 0===t?void 0:t.filterPromise)&&void 0!==e?e:null}afterInit(){var e,t;return null!==(e=null===(t=this.filterWrapper)||void 0===t||null===(t=t.filterPromise)||void 0===t?void 0:t.then((()=>{})))&&void 0!==e?e:FO.resolve()}afterGuiAttached(e){var t;null===(t=this.filterWrapper)||void 0===t||null===(t=t.filterPromise)||void 0===t||t.then((t=>{var i;null===t||void 0===t||null===(i=t.afterGuiAttached)||void 0===i||i.call(t,e)}))}afterGuiDetached(){var e;null===(e=this.filterWrapper)||void 0===e||null===(e=e.filterPromise)||void 0===e||e.then((e=>{var t;null===e||void 0===e||null===(t=e.afterGuiDetached)||void 0===t||t.call(e)}))}createFilter(e){var t,i,n;const{column:o,source:r}=this;this.filterWrapper=null!==(t=null===(i=this.filterManager)||void 0===i?void 0:i.getOrCreateFilterWrapper(o))&&void 0!==t?t:null,null!==(n=this.filterWrapper)&&void 0!==n&&n.filterPromise&&this.filterWrapper.filterPromise.then((t=>{const i=t.getGui();if(fN(i)||UN("getGui method from filter returned ".concat(i,"; it should be a DOM element.")),this.appendChild(i),e){const e={type:"filterOpened",column:o,source:r,eGui:this.getGui()};this.eventService.dispatchEvent(e)}}))}onFilterDestroyed(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(OI(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},mj="ag-resizer-wrapper",fj='<div class="'.concat(mj,'">\n        <div data-ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div data-ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div data-ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div data-ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div data-ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div data-ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div data-ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div data-ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),vj=class extends pN{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:o,height:r,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=_I(this.element);if(d){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const i=e.offsetWidth-this.element.offsetWidth;c=parseInt(t.minWidth,10)-i}if(null!=t.minHeight){const i=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-i}}if(this.minHeight=o||l,this.minWidth=i||c,n&&this.setWidth(n),r&&this.setHeight(r),n&&r||this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(d&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){const i=parseFloat(e.style.top),n=parseFloat(e.style.left);t?this.offsetElement(isNaN(n)?0:n,isNaN(i)?0:i):this.setPosition(n,i)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((t=>{const i=!!e[t],n=this.getResizerElement(t),o={dragStartPixels:0,eElement:n,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(o),this.resizeListeners.push(o),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=i)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width="".concat(t,"px")),-1!==e&&(this.element.style.height="".concat(e,"px"))}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))VI(i,e),e=TI(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?VI(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,s=e?0:o.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-n.bottom}}return i+s-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))HI(t,e),e=PI(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;t&&e+n>t&&(e=t-n)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?HI(t,e):(t.style.width="".concat(e,"px"),t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height","".concat(e,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:o,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!o,s)?0:s,movementY:this.shouldSkipY(t,!!n,r,a)?0:a}}shouldSkipX(e,t,i,n){const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return!!l||(l=t?n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?n<0&&e.clientX>s.right||n>0&&e.clientX<a+r.left:n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return!!l||(l=t?n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const t=(new DOMParser).parseFromString(fj,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(".".concat(mj));e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;i||n||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((e=>!e.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const o=e[n],r=!!o.style.flex&&"0 0 auto"!==o.style.flex;if(o===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(r){const e=window.getComputedStyle(o);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=o.offsetHeight,a=o.offsetWidth;t+=s,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const o=i[n];o!==t&&(e?o.style.height="".concat(o.offsetHeight,"px"):o.style.width="".concat(o.offsetWidth,"px"),o.style.flex="0 0 auto",o===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((e=>e))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:o,isBottom:r,isLeft:s}=this.currentResizer,a=o||s,l=r||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e:e,isLeft:s,isTop:n}),u=this.position.x,h=this.position.y;let p=0,g=0;if(a&&c){const e=s?-1:1,t=this.getWidth(),i=t+c*e;let n=!1;s&&(p=t-i,(u+p<=0||i<=this.minWidth)&&(n=!0,p=0)),n||this.setWidth(i)}if(l&&d){const e=n?-1:1,t=this.getHeight(),i=t+d*e;let o=!1;n?(g=t-i,(h+g<=0||i<=this.minHeight)&&(o=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<i&&this.getMinSizeOfSiblings().height+i>this.element.parentElement.offsetHeight&&(o=!0),o||this.setHeight(i)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(u+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:o,movementY:r}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+o,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},yj=class e extends pN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{e.defaultPrevented||cN(e)||(this.callbacks.shouldStopEventPropagation(e)?lN(e):e.key===mO.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}})}};yj.FOCUS_MANAGED_CLASS="ag-focus-managed";var bj=yj,Cj={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function wj(e,t){return xj(e)?(null!=e.debounceMs&&UN("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function xj(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Sj=class extends eO{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=$I,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new bj(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vj(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" data-ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(e){this.providedFilterParams=e,this.applyActive=xj(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=xj(e),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,t=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(OI(this.eButtonsPanel),this.buttonListeners.forEach((e=>e())),this.buttonListeners=[]):t&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!t)return void(this.eButtonsPanel&&jI(this.eButtonsPanel));const i=document.createDocumentFragment(),n=e=>{let t,n;switch(e){case"apply":t=this.translate("applyFilter"),n=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),n=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),n=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),n=e=>{this.onBtCancel(e)};break;default:return void UN("Unknown button type specified")}const o=GI('<button\n                    type="'.concat("apply"===e?"submit":"button",'"\n                    data-ref="').concat(e,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(t,"\n                </button>"));this.buttonListeners.push(...this.addManagedElementListeners(o,{click:n})),i.append(o)};e.forEach((e=>n(e))),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=wj(this.providedFilterParams,this.getDefaultDebounceMs()),t=JN(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),null===t||void 0===t||t()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:i})}const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let n;"Enter"!==i&&"Space"!==i||(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const e=this.isModelValid(this.getModelFromUi()),t=this.queryForHtmlElement('[data-ref="applyFilterButton"]');t&&MI(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(null===e||void 0===e?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,Cj[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Rj=class extends bO{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Mj=class extends eO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super('<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>')),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case mO.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case mO.DOWN:case mO.UP:e.preventDefault(),this.navigate(t);break;case mO.PAGE_DOWN:case mO.PAGE_UP:case mO.PAGE_HOME:case mO.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===mO.DOWN;let i;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),i=this.itemEls[e]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,o=Math.floor(this.getGui().clientHeight/n);let r=-1;e===mO.PAGE_HOME?r=0:e===mO.PAGE_END?r=i:e===mO.PAGE_DOWN?r=Math.min(t+o,i):e===mO.PAGE_UP&&(r=Math.max(t-o,0)),-1!==r&&this.highlightItem(this.itemEls[r])}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((e=>{jI(e)})),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(((t,i)=>{XL(t,"posinset",i+1),function(e,t){XL(e,"setsize",t)}(t,e.length)}))}renderOption(e,t){const i=this.gos.getDocument(),n=i.createElement("div");JL(n,"option"),n.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item"));const o=i.createElement("span");n.appendChild(o),o.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:t=>{t.preventDefault(),t.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new QI({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex((t=>t.value===e));if(-1!==i){const e=this.options[i];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex((e=>e.value===this.value));-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!_I(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),dI(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:o,offsetHeight:r}=e;(o+r>i+n||o<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&_I(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),dI(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},kj=class extends vO{constructor(e){if(super(e,(null===e||void 0===e?void 0:e.template)||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                    <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',(null===e||void 0===e?void 0:e.agComponents)||[],null===e||void 0===e?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=$I,this.eWrapper=$I,this.eDisplayField=$I,this.eIcon=$I,this.ariaRole=null===e||void 0===e?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:o,maxPickerWidth:r}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=i&&this.setPickerMaxHeight(i),null!=o&&this.setPickerMinWidth(o),null!=r&&this.setPickerMaxWidth(r)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:n}=this.config;if(i){const e=nO(i,this.gos);e&&this.eIcon.appendChild(e)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),nI(e,!1),this.ariaRole&&JL(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(null===e||void 0===e?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case mO.UP:case mO.DOWN:case mO.ENTER:case mO.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case mO.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:o,modalPicker:r=!0}=this.config,s={modal:r,eChild:t,closeOnEsc:!0,closedCallback:()=>{const t=this.gos.getActiveDomElement(),i=!t||t===e.body;this.beforeHidePicker(),i&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(n,o)},a=this.popupService.addPopup(s),{maxPickerHeight:l,minPickerWidth:c,maxPickerWidth:d,variableWidth:u}=this;u?(c&&(t.style.minWidth=c),t.style.width=WI(PI(this.eWrapper)),d&&(t.style.maxWidth=d)):zI(t,null!==d&&void 0!==d?d:PI(this.eWrapper));const h=null!==l&&void 0!==l?l:"".concat(AI(this.popupService.getPopupParent()),"px");return t.style.setProperty("max-height",h),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;nI(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;null!==(t=this.pickerComponent)&&void 0!==t&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return zI(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}},Dj=class extends kj{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new Mj("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t="ag-select-list-".concat(this.listComponent.getCompId());var i,n;e.setAttribute("id",t),qL(i=this.getAriaElement(),"controls",(n=e).id),eI(n,i.id),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===mO.TAB&&this.hidePicker(),t){case mO.ENTER:case mO.UP:case mO.DOWN:case mO.PAGE_UP:case mO.PAGE_DOWN:case mO.PAGE_HOME:case mO.PAGE_END:var i;if(e.preventDefault(),this.isPickerDisplayed)null===(i=this.listComponent)||void 0===i||i.handleKeyDown(e);else super.onKeyDown(e);break;case mO.ESCAPE:super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null===(e=this.listComponent)||void 0===e||e.clearOptions(),this}setValue(e,t,i){var n;if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);if(this.listComponent.getValue()===this.getValue())return this;let o=this.listComponent.getDisplayValue();return null==o&&this.config.placeholder&&(o=this.config.placeholder),this.eDisplayField.textContent=o,this.setTooltip({newTooltipText:null!==(n=o)&&void 0!==n?n:null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Aj={selector:"AG-SELECT",component:Dj},Ej=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((e=>{if("string"===typeof e)return;[["displayKey"],["displayName"],["predicate","test"]].every((t=>!!t.some((t=>null!=e[t]))||(UN("ignoring FilterOptionDef as it doesn't contain one of '".concat(t,"'")),!1)))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter((t=>t===e))||[]}))}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:UN("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else UN("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},Tj=class extends Sj{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:e}=t;return null!=e?e:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach(((t,i)=>{0===i?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map((e=>e.getValue()))}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let o;if(i){const i=e,n=t;o=this.areSimpleModelsEqual(i,n)}else{const i=e,n=t;o=i.operator===n.operator&&JF(i.conditions,n.conditions,((e,t)=>this.areSimpleModelsEqual(e,t)))}return o}shouldRefresh(e){var t,i,n;const o=this.getModel(),r=o?null!==(t=o.conditions)&&void 0!==t?t:[o]:null,s=null!==(i=null===(n=e.filterOptions)||void 0===n?void 0:n.map((e=>"string"===typeof e?e:e.displayKey)))&&void 0!==i?i:this.getDefaultFilterOptions();return!(r&&!r.every((e=>void 0!==s.find((t=>t===e.type)))))&&!("number"===typeof e.maxNumConditions&&r&&r.length>e.maxNumConditions)}refresh(e){if(!this.shouldRefresh(e))return!1;return!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const t=e;let i=t.conditions;null==i&&(i=[],UN("Filter model is missing 'conditions'"));const n=this.validateAndUpdateConditions(i),o=this.getNumConditions();if(n<o)this.removeConditionsAndOperators(n);else if(n>o)for(let e=o;e<n;e++)this.createJoinOperatorPanel(),this.createOption();const r="OR"===t.operator;this.eJoinOperatorsAnd.forEach((e=>e.setValue(!r,!0))),this.eJoinOperatorsOr.forEach((e=>e.setValue(r,!0))),i.forEach(((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)}))}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),FO.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),UN('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:i}=t,n=[];if(i){var o;const e=t;n.push(...null!==(o=e.conditions)&&void 0!==o?o:[])}else n.push(t);return n[i&&"OR"===i?"some":"every"]((t=>this.individualConditionPasses(e,t)))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Ej,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var t,i;this.maxNumConditions=null!==(t=e.maxNumConditions)&&void 0!==t?t:2,this.maxNumConditions<1&&(UN('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(i=e.numAlwaysVisibleConditions)&&void 0!==i?i:1,this.numAlwaysVisibleConditions<1&&(UN('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(UN('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Dj);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,(e=>this.resetInput(e))),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,o),this.resetJoinOperatorOr(i,n,o),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new Rj);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass("ag-filter-condition-operator-".concat(i)),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e)))}putOptionsIntoDropdown(e){this.filterListOptions.forEach((t=>{e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{var i;const t=null!==(i=this.lastUiCompletePosition)&&void 0!==i?i:this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);const i=e+1,n=t-i;n>0&&this.removeConditionsAndOperators(i,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach(((t,i)=>{const n=this.isConditionDisabled(i,e);t.setDisabled(n||this.filterListOptions.length<=1),1===i&&(MI(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))})),this.eConditionBodies.forEach(((e,t)=>{RI(e,this.isConditionBodyVisible(t))}));const i="OR"===(null!==t&&void 0!==t?t:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((e=>{e.setValue(!i,!0)})),this.eJoinOperatorsOr.forEach((e=>{e.setValue(i,!0)})),this.forEachInput(((t,i,n,o)=>{this.setElementDisplayed(t,i<o),this.setElementDisabled(t,this.isConditionDisabled(n,e))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach((e=>jI(e)))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach((e=>{jI(e.getGui()),this.destroyBean(e)}))}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),null===e||void 0===e||!e.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof yO&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const o=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===t&&(t=s,i=s);else{const e=s<t;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||e)&&(this.removeConditionsAndOperators(s,1),n=!0,e&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,o),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(KN(this.filterPlaceholder)){const e=this.filterPlaceholder,n=this.eTypes[t].getValue();i=e({filterOptionKey:n,filterOption:this.translate(n),placeholder:i})}else"string"===typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput(((t,i,n,o)=>{if(!(t instanceof yO))return;const r=0===i&&o>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",s=0===i&&o>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(s)}))}setElementValue(e,t,i){e instanceof yO&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof eO&&RI(e.getGui(),t)}setElementDisabled(e,t){e instanceof eO&&MI(e.getGui(),t)}attachElementOnChange(e,t){e instanceof yO&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach(((t,i)=>{this.forEachPositionTypeInput(i,t,e)}))}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),o=this.getInputs(e);for(let r=0;r<o.length;r++){const t=o[r];null!=t&&i(t,r,e,n)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){if(e>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(e)&&!this.getValues(e).some((e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((e=>this.resetType(e))),this.eJoinOperatorsAnd.forEach(((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t))),this.joinOperatorId++,this.forEachInput((e=>this.resetInput(e))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),FO.resolve()}resetType(e){const t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,o){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(o)).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t)))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput(((e,n,o)=>{o===t&&this.setElementValue(e,null!=i[n]?i[n]:null)}))}setValueFromFloatingFilter(e){this.forEachInput(((t,i,n)=>{this.setElementValue(t,0===i&&0===n?e:null,!0)}))}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(e=>{this.attachElementOnChange(e,this.listener)})))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(o,n,i);return null!=r?r:null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e)}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:n}=e;return null==n||t.some((e=>null==e))?void 0:n(t,i)}isBlank(e){return null==e||"string"===typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},Pj=class extends Tj{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const n=this.comparator(),o=null!=e[0]?n(e[0],t):0;switch(i.type){case"equals":return 0===o;case"notEqual":return 0!==o;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const i=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&i<=0:o>0&&i<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return UN('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function Fj(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===e.key.length}function Nj(e,t,i,n,o){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s=e.addGridCommonParams({event:t,editing:o,column:n,node:i,data:i.data,colDef:n.getColDef()});if(r){if(r(s))return!0}return!1}var Lj=class extends yO{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=fN(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListeners(this.eInput,{keydown:t=>{Fj(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{var i;const n=null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text");n&&n.split("").some((t=>!e.test(t)))&&t.preventDefault()}})}},Ij={selector:"AG-INPUT-TEXT-FIELD",component:Lj},Oj=class extends Lj{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;"number"===typeof e&&this.setPrecision(e),"number"===typeof t&&this.setMin(t),"number"===typeof i&&this.setMax(i),"number"===typeof n&&this.setStep(n)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const t=parseFloat(e).toFixed(this.precision);return parseFloat(t).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return"".concat(i[0],".").concat(i[1].slice(0,this.precision))}return i[0]}setMin(e){return this.min===e||(this.min=e,YI(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,YI(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,YI(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue((e=>super.setValue(e,t)),(()=>this),e)}setStartValue(e){return this.setValueOrInputValue((e=>super.setValue(e,!0)),(e=>{this.eInput.value=e}),e)}setValueOrInputValue(e,t,i){if(fN(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},jj={selector:"AG-INPUT-NUMBER-FIELD",component:Oj},Bj=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],_j=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){var n;const t=e,o=(null!==(n=t.conditions)&&void 0!==n?n:[]).map((e=>this.getModelAsString(e))),r="AND"===t.operator?"andCondition":"orCondition";return o.join(" ".concat(i(r,Cj[r])," "))}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);{const t=e,n=this.optionsFactory.getCustomOption(t.type),{displayKey:o,displayName:r,numberOfInputs:s}=n||{};return o&&r&&0===s?(i(o,r),r):this.conditionToString(t,n)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?null!==(t=this.valueFormatter(null!==e&&void 0!==e?e:null))&&void 0!==t?t:"":String(e)}},Gj=class extends _j{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)}};function zj(e){const{allowedCharPattern:t}=null!==e&&void 0!==e?e:{};return null!==t&&void 0!==t?t:null}var Hj=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Vj=class extends _j{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?"".concat(e.filter,"-").concat(e.filterTo):null!=e.filter?"".concat(e.filter):"".concat(e.type)}};function Wj(e){const t=e&&e.trim();return""===t?e:t}function Uj(e){if("number"===typeof e)return e;if("string"===typeof e){const t=parseInt(e);if(isNaN(t))return;return t}}function Yj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return i=>{const n=Uj(i);if(!(null==n||n<e||n>t))return n}}function Kj(e,t){return e.toString().padStart(t,"0")}function qj(e,t,i){return"number"!==typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function Xj(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((e=>Kj(e,2))).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>Kj(e,2))).join(":")),n}var Zj=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Qj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const i=Kj(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>"".concat(e.getFullYear()),MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Kj(e.getMonth()+1,2),Mo:()=>"".concat(e.getMonth()+1).concat(Zj(e.getMonth()+1)),M:()=>"".concat(e.getMonth()+1),Do:()=>"".concat(e.getDate()).concat(Zj(e.getDate())),DD:()=>Kj(e.getDate(),2),D:()=>"".concat(e.getDate()),dddd:()=>o[e.getDay()],ddd:()=>o[e.getDay()].slice(0,3),dd:()=>o[e.getDay()].slice(0,2),do:()=>"".concat(e.getDay()).concat(Zj(e.getDay())),d:()=>"".concat(e.getDay())},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,(e=>e in r?r[e]():e))}function Jj(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map((e=>parseInt(e,10)));if(3!==n.filter((e=>!isNaN(e))).length)return null;const[o,r,s]=n,a=new Date(o,r-1,s);if(a.getFullYear()!==o||a.getMonth()!==r-1||a.getDate()!==s)return null;if(!i||"00:00:00"===i)return a;const[l,c,d]=i.split(":").map((e=>parseInt(e,10)));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var $j=class{constructor(e,t,i,n,o){this.alive=!0,this.context=e,this.eParent=n;t.getDateCompDetails(i).newAgStackInstance().then((t=>{this.alive?(this.dateComp=t,t&&(n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),null===o||void 0===o||o(this))):e.destroyBean(t)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){RI(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,i;let n=!1;if(null!==(t=this.dateComp)&&void 0!==t&&t.refresh&&"function"===typeof this.dateComp.refresh){null!==this.dateComp.refresh(e)&&(n=!0)}if(!n&&null!==(i=this.dateComp)&&void 0!==i&&i.onParamsUpdated&&"function"===typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(e)&&UN("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},eB=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],tB=class extends _j{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},o="inRange"==i||2===n,r=Jj(e.dateFrom),s=Jj(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){const e=null!==r?Qj(r,a):"null",t=null!==s?Qj(s,a):"null";return"".concat(e,"-").concat(t)}return null!=r?Qj(r,a):"".concat(i)}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},iB=1/0,nB=class extends pN{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?QF(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=fN(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===o&&this.setLeft(o)}))}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print"))return t;if("left"===e.getPinned())return t;const i=this.beans.visibleColsService.getColsLeftWidth();if("right"===e.getPinned()){return i+this.beans.visibleColsService.getBodyContainerWidth()+t}return i+t}setLeft(e){if(fN(e)&&(this.eCell.style.left="".concat(e,"px")),ML(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&(t=this.ariaEl,i=e.length,XL(t,"colspan",i))}var t,i}};function oB(e,t,i,n){return vN(e)?[]:sB(e.headerClass,e,t,i,n)}function rB(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColAtEdge(t,"last"))}function sB(e,t,i,n,o){if(vN(e))return[];let r;if("function"===typeof e){const s=function(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}(t,i,n,o);r=e(s)}else r=e;return"string"===typeof r?[r]:Array.isArray(r)?[...r]:[]}var aB=0,lB=class e extends pN{constructor(e,t,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=t,this.instanceId=e.getUniqueId()+"-"+aB++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],(()=>this.refreshTabIndex()))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.focusService.getFocusedHeader();return function(e,t,i,n){const o=n.getDefinition(),r=o&&o.suppressHeaderKeyboardEvent;return!!fN(r)&&!!r(e.addGridCommonParams({colDef:o,column:n,headerRowIndex:i,event:t}))}(this.gos,e,t,i)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){const e={type:"headerFocused",column:this.column};this.eventService.dispatchEvent(e)}onDisplayedColumnsChanged(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;rB(e,t,i.visibleColsService)}refreshAriaColIndex(){const{beans:e,column:t}=this,i=e.visibleColsService.getAriaColIndex(t);aI(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&this.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){const t=this.gos.getActiveDomElement(),i=e.key===mO.LEFT||e.key===mO.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i)return;const n=e.key===mO.LEFT!==this.gos.get("enableRtl"),o=nj[n?"Left":"Right"];if(e.altKey){var r;this.isResizing=!0,this.resizeMultiplier+=1;const t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),null===(r=this.resizeFeature)||void 0===r||r.toggleColumnResizing(!0)}else this.moveHeader(o)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){const e=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),n=EI(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+i+t>n){if(!(n>e+i))return 0;t=n-e-i}}return t}getResizeDiff(e){let t=e.key===mO.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned(),n=this.gos.get("enableRtl");return i&&n!==("right"===i)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{var e;null===(e=this.resizeFeature)||void 0===e||e.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case mO.PAGE_DOWN:case mO.PAGE_UP:case mO.PAGE_HOME:case mO.PAGE_END:t&&e.preventDefault()}}addDomData(){const t=e.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc((()=>this.gos.setDomData(this.eGui,t,null)))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const n=null!==e&&void 0!==e?e:t;this.gos.get("preventDefaultOnContextMenu")&&n.preventDefault();const o=jN(i)?i:void 0;this.menuService.isHeaderContextMenuEnabled(o)&&this.menuService.showHeaderContextMenu(o,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){const i={type:e,column:t};this.eventService.dispatchEvent(i)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};lB.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var cB=lB,dB=class extends pN{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},uB="32.0.2";var hB=class extends eO{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return null===e||void 0===e?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new Ej,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(t," ").concat(i("ariaFilterInput","Filter Input"))}},pB=class extends pN{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=$I,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new Lj(null===(t=this.params)||void 0===t?void 0:t.config));const i=this.eFloatingFilterTextInput.getGui();e.appendChild(i);const n=e=>this.valueChangedListener(e);this.addManagedListeners(i,{input:n,keydown:n})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},gB=class extends hB{constructor(){super(...arguments),this.eFloatingFilterInputContainer=$I}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const i=null!==(t=e.browserAutoComplete)&&void 0!==t&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=xj(this.params.filterParams),!this.isReadOnly()){const e=wj(this.params.filterParams,this.getDefaultDebounceMs()),t=JN(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();OI(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===mO.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Wj(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance((e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,i||null)}))}setEditable(e){this.floatingFilterInputService.setEditable(e)}},mB=class extends pN{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Oj),this.eFloatingFilterTextInput=this.createManagedBean(new Lj),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,(e=>this.valueChangedListener(e))),this.setupListeners(i,(e=>this.valueChangedListener(e)))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}};var fB={version:uB,moduleName:"@ag-grid-community/filter-core",beans:[class extends pN{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){this.addManagedEventListeners({columnValueChanged:this.refreshFiltersForAggregations.bind(this),columnPivotChanged:this.refreshFiltersForAggregations.bind(this),columnPivotModeChanged:this.refreshFiltersForAggregations.bind(this),newColumnsLoaded:this.updateAdvancedFilterColumns.bind(this),columnVisible:this.updateAdvancedFilterColumns.bind(this),advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onAdvancedFilterEnabledChanged(t)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(e=>this.setAdvancedFilterModel(e.currentValue))),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterModel(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():null===(t=this.columnFilterService)||void 0===t||t.setFilterModel(e,i)}getFilterModel(){var e,t;return null!==(e=null===(t=this.columnFilterService)||void 0===t?void 0:t.getFilterModel())&&void 0!==e?e:{}}isColumnFilterPresent(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,i;e?null!==(t=this.columnFilterService)&&void 0!==t&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):null!==(i=this.advancedFilterService)&&void 0!==i&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!(null===(e=this.advancedFilterService)||void 0===e||!e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;null===(e=this.quickFilterService)||void 0===e||e.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):FO.resolve()).then((()=>{var e;const o={source:t,type:"filterChanged",columns:n};i&&PN(o,i),this.eventService.dispatchEvent(o),null===(e=this.columnFilterService)||void 0===e||e.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!(null===(e=this.quickFilterService)||void 0===e||!e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}isFilterActive(e){var t;return!(null===(t=this.columnFilterService)||void 0===t||!t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t,i;return null!==(t=null===(i=this.columnFilterService)||void 0===i?void 0:i.getOrCreateFilterWrapper(e))&&void 0!==t?t:null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return!this.isAdvancedFilterEnabled()&&!(null===(t=this.columnFilterService)||void 0===t||!t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return null===(i=this.columnFilterService)||void 0===i?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return null===(t=this.columnFilterService)||void 0===t?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";null===(t=this.columnFilterService)||void 0===t||t.destroyFilter(e,i)}areFilterCompsDifferent(e,t){var i;return!(null===(i=this.columnFilterService)||void 0===i||!i.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;this.isAdvancedFilterEnabled()&&(null!==(t=this.dataTypeService)&&void 0!==t&&t.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(null!==e&&void 0!==e?e:null),this.onFilterChanged({source:"advancedFilter"})))}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,e)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return!this.isAdvancedFilterEnabled()&&!(null===(e=this.columnFilterService)||void 0===e||!e.hasFloatingFilters())}getFilterInstance(e,t){var i;if(!this.isAdvancedFilterEnabled())return null===(i=this.columnFilterService)||void 0===i?void 0:i.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){var t,i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):null!==(t=null===(i=this.columnFilterService)||void 0===i?void 0:i.getColumnFilterInstance(e))&&void 0!==t?t:Promise.resolve(void 0)}warnAdvancedFilters(){UN("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;null===(t=this.advancedFilterService)||void 0===t||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((e=>this.setAdvancedFilterModel(e))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return null===(t=this.columnFilterService)||void 0===t?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i,n;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):null!==(i=null===(n=this.columnFilterService)||void 0===n?void 0:n.setColumnFilterModel(e,t))&&void 0!==i?i:Promise.resolve()}}]},vB={version:uB,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function(e){var t;return!(null===(t=e.filterManager)||void 0===t||!t.isAnyFilterPresent())},onFilterChanged:function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";null===(t=e.filterManager)||void 0===t||t.onFilterChanged({source:i})}},dependantModules:[fB]},yB={version:uB,moduleName:"@ag-grid-community/column-filter",beans:[class extends pN{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...null!==(e=null===(t=this.gos.get("initialState"))||void 0===t||null===(t=t.filter)||void 0===t?void 0:t.filterModel)&&void 0!==e?e:{}}}setFilterModel(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(null!==(t=this.dataTypeService)&&void 0!==t&&t.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:i});const n=[],o=this.getFilterModel();if(e){const t=new Set(Object.keys(e));this.allColumnFilters.forEach(((i,o)=>{const r=e[o];n.push(this.setModelOnFilterWrapper(i.filterPromise,r)),t.delete(o)})),t.forEach((t=>{const i=this.columnModel.getColDefCol(t)||this.columnModel.getCol(t);if(!i)return void UN("setFilterModel() - no column found for colId: "+t);if(!i.isFilterAllowed())return void UN("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);const o=this.getOrCreateFilterWrapper(i);o?n.push(this.setModelOnFilterWrapper(o.filterPromise,e[t])):UN("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}))}else this.allColumnFilters.forEach((e=>{n.push(this.setModelOnFilterWrapper(e.filterPromise,null))}));FO.all(n).then((()=>{const e=this.getFilterModel(),t=[];var n;(this.allColumnFilters.forEach(((i,n)=>{SN(o?o[n]:null,e?e[n]:null)||t.push(i.column)})),t.length>0)&&(null===(n=this.filterManager)||void 0===n||n.onFilterChanged({columns:t,source:i}))}))}setModelOnFilterWrapper(e,t){return new FO((i=>{e.then((e=>{"function"!==typeof e.setModel&&(UN("filter missing setModel method, which is needed for setFilterModel"),i()),(e.setModel(t)||FO.resolve()).then((()=>i()))}))}))}getFilterModel(){const e={};return this.allColumnFilters.forEach(((t,i)=>{const n=this.getModelFromFilterWrapper(t);fN(n)&&(e[i]=n)})),e}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!==typeof t.getModel?(UN("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){var t;return null!==(t=this.initialFilterModel[e.getColId()])&&void 0!==t?t:null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=!!this.gos.getGroupAggFiltering(),t=t=>{if(!t.isPrimary())return!0;const i=!this.columnModel.isPivotActive();return!(!t.isValueActive()||!i)&&(!!this.columnModel.isPivotMode()||e)},i=[],n=[];return this.forEachColumnFilter(((e,o)=>{const r=(e=>!!e&&(e.isFilterActive?e.isFilterActive():(UN("Filter is missing isFilterActive() method"),!1)))(e);r&&(t(o.column)?i.push(e):n.push(e))})).then((()=>{this.activeAggregateFilters=i,this.activeColumnFilters=n}))}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter(((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t)))}forEachColumnFilter(e){return FO.all(Array.from(this.allColumnFilters.values()).map((t=>t.filterPromise.then((i=>e(i,t))))))}doColumnFiltersPass(e,t,i){const{data:n,aggData:o}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?o:n;for(let a=0;a<r.length;a++){const i=r[a];if(null!=i&&i!==t){if("function"!==typeof i.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!i.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var t;return null===(t=this.filterManager)||void 0===t?void 0:t.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",i).then((()=>{this.allColumnFilters.forEach((e=>{e.filterPromise&&e.filterPromise.then((e=>{e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null!==(e=this.gos.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter((e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()})).then((()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createValueGetter(e){return t=>{let{node:i}=t;return this.valueService.getValue(e,i,!0)}}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){var t;const{filter:i}=null!==(t=this.cachedFilter(e))&&void 0!==t?t:{};return i?i.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(hO.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{var i;const n=null===(i=this.dataTypeService)||void 0===i?void 0:i.getBaseDataType(e);t="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(hO.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{var i;const n=null===(i=this.dataTypeService)||void 0===i?void 0:i.getBaseDataType(e);t="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),n=e.getColDef();let o;const r={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(o,e)(),filterChangedCallback:t=>this.filterChangedCallbackFactory(o,e)(t),doesRowPassOtherFilter:e=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(o,e)},s=this.userComponentFactory.getFilterDetails(n,r,i);return s?{filterPromise:()=>{const e=s.newAgStackInstance();return null!=e&&e.then((e=>{o=e,t&&(t.filter=e)})),e},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:AN(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){var t;const i={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:o}=this.createFilterInstance(e,i);return i.filterPromise=null!==(t=null===n||void 0===n?void 0:n())&&void 0!==t?t:null,i.compDetails=o,i}onColumnsChanged(){const e=[];var t;(this.allColumnFilters.forEach(((t,i)=>{let n;n=t.column.isPrimary()?this.columnModel.getColDefCol(i):this.columnModel.getCol(i),n&&n===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))})),e.length>0)?null===(t=this.filterManager)||void 0===t||t.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();null===e||void 0===e||e.forEach((e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e)}))}isFilterAllowed(e){var t;if(!e.isFilterAllowed())return!1;const{filter:i}=null!==(t=this.allColumnFilters.get(e.getColId()))&&void 0!==t?t:{};return!i||("function"!==typeof(null===i||void 0===i?void 0:i.isFilterAllowed)||i.isFilterAllowed())}getFloatingFilterCompDetails(e,t){const i=t=>{var i;const n=null===(i=this.getOrCreateFilterWrapper(e))||void 0===i?void 0:i.filterPromise;null!=n&&n.then((e=>{t(ej(e))}))},n=e.getColDef(),o={...this.createFilterParams(e,n),filterChangedCallback:()=>i((t=>this.filterChangedCallbackFactory(t,e)()))},r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,WO,o);let s=function(e,t,i){if(null==t)return null;let n=null;const{compName:o,jsComp:r,fwComp:s}=$O.getCompKeys(e,t,WO);o?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:null==r&&null==s&&!0===t.filter&&(n=i());return n}(this.frameworkOverrides,n,(()=>this.getDefaultFloatingFilter(e)));null==s&&(s="agReadOnlyFloatingFilter");const a={column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,s)}getCurrentFloatingFilterParentModel(e){var t;return this.getModelFromFilterWrapper(null!==(t=this.cachedFilter(e))&&void 0!==t?t:{column:e})}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const i=e.getColId(),n=this.allColumnFilters.get(i);var o;(this.disposeColumnListener(i),delete this.initialFilterModel[i],n)&&(this.disposeFilterWrapper(n,t),null===(o=this.filterManager)||void 0===o||o.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then((i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:"filterDestroyed",source:t,column:e.column};this.eventService.dispatchEvent(n)}))}filterModifiedCallbackFactory(e,t){return()=>{const i={type:"filterModified",column:t,filterInstance:e};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(e,t){return i=>{var n;const o=null!==(n=null===i||void 0===i?void 0:i.source)&&void 0!==n?n:"columnFilter",r={filter:e,additionalEventAttributes:i,columns:[t],source:o};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(i,"paramsUpdated");const o=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then((e=>{!1===(null===e||void 0===e||!e.refresh||e.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(e,i),filterChangedCallback:this.filterChangedCallbackFactory(e,i),doesRowPassOtherFilter:t=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(e,t),...o}))&&this.destroyFilter(i,"paramsUpdated")})):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||(null===i||void 0===i?void 0:i.render)&&(null===n||void 0===n?void 0:n.render)&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some((e=>e.getColDef().floatingFilter))}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then((e=>{const i=ej(e);t(i)}))}getColumnFilterInstance(e){return new Promise((t=>{this.getFilterInstanceImpl(e).then((e=>{t(ej(e))}))}))}getFilterInstanceImpl(e){var t;const i=this.columnModel.getColDefCol(e);if(!i)return FO.resolve(void 0);const n=null===(t=this.getOrCreateFilterWrapper(i))||void 0===t?void 0:t.filterPromise;return null!==n&&void 0!==n?n:FO.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((e=>{let{model:t,source:i}=e;return this.setFilterModel(t,i)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((e=>{let{key:t,model:i,resolve:n}=e;this.setColumnFilterModel(t,i).then((()=>n()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var i;if(null!==(i=this.dataTypeService)&&void 0!==i&&i.isPendingInference()){let i=()=>{};const n=new Promise((e=>{i=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:i}),n}const n=this.columnModel.getColDefCol(e),o=n?this.getOrCreateFilterWrapper(n):null;return o?(r=this.setModelOnFilterWrapper(o.filterPromise,t),new Promise((e=>{r.then((t=>e(t)))}))):Promise.resolve();var r}getFilterWrapper(e){var t;const i=this.columnModel.getColDefCol(e);return i&&null!==(t=this.cachedFilter(i))&&void 0!==t?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"gridDestroyed"))),this.allColumnListeners.clear()}}],dependantModules:[fB]},bB={version:uB,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function(e){var t,i;return!(null===(t=e.filterManager)||void 0===t||!t.isColumnFilterPresent())||!(null===(i=e.filterManager)||void 0===i||!i.isAggregateFilterPresent())},getFilterInstance:function(e,t,i){var n;return null===(n=e.filterManager)||void 0===n?void 0:n.getFilterInstance(t,i)},getColumnFilterInstance:function(e,t){var i,n;return null!==(i=null===(n=e.filterManager)||void 0===n?void 0:n.getColumnFilterInstance(t))&&void 0!==i?i:Promise.resolve(void 0)},destroyFilter:function(e,t){const i=e.columnModel.getColDefCol(t);var n;if(i)return null===(n=e.filterManager)||void 0===n?void 0:n.destroyFilter(i,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming((()=>{var i;return null===(i=e.filterManager)||void 0===i?void 0:i.setFilterModel(t)}))},getFilterModel:function(e){var t,i;return null!==(t=null===(i=e.filterManager)||void 0===i?void 0:i.getFilterModel())&&void 0!==t?t:{}},getColumnFilterModel:function(e,t){var i,n;return null!==(i=null===(n=e.filterManager)||void 0===n?void 0:n.getColumnFilterModel(t))&&void 0!==i?i:null},setColumnFilterModel:function(e,t,i){var n,o;return null!==(n=null===(o=e.filterManager)||void 0===o?void 0:o.setColumnFilterModel(t,i))&&void 0!==n?n:Promise.resolve()},showColumnFilter:function(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):YN("column '".concat(t,"' not found"))}},dependantModules:[yB,vB]},CB={version:uB,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends cB{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=nO("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new bj(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();$L(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do{if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case mO.UP:case mO.DOWN:t||e.preventDefault();case mO.LEFT:case mO.RIGHT:if(t)return;e.stopPropagation();case mO.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case mO.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&kI(e.relatedTarget,"ag-floating-filter");if(t&&i&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==mO.TAB);if(e&&t){const t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(){this.createManagedBean(new dB([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(){const e=new nB(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var e;if(!this.active)return;const t=null===(e=this.beans.filterManager)||void 0===e?void 0:e.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));t&&this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=t=>{if("filterDestroyed"===(null===t||void 0===t?void 0:t.source)&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then((i=>{if(i){var n;const o=null===e||void 0===e?void 0:e.getCurrentFloatingFilterParentModel(this.column),r=t?{...t,columns:null!==(n=t.columns)&&void 0!==n?n:[],source:"api"===t.source?"api":"columnFilter"}:null;i.onParentModelChanged(o,r)}}))};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:t}),null!==e&&void 0!==e&&e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const e="".concat(this.column.getActualWidth(),"px");this.comp.setWidth(e)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){var e;const t=!(null===(e=this.beans.filterManager)||void 0===e||!e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?null===(e=this.beans.filterManager)||void 0===e?void 0:e.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,o=this.comp.getFloatingFilterComp();o&&n?o.then((e=>{var t,o;!e||null!==(t=this.beans.filterManager)&&void 0!==t&&t.areFilterCompsDifferent(null!==(o=this.userCompDetails)&&void 0!==o?o:null,n)?this.updateCompDetails(n,i):this.updateFloatingFilterParams(n)})):this.updateCompDetails(n,i)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const i=e.params;null===(t=this.comp.getFloatingFilterComp())||void 0===t||t.then((e=>{let t=!1;if(null!==e&&void 0!==e&&e.refresh&&"function"===typeof e.refresh){null!==e.refresh(i)&&(t=!0)}if(!t&&null!==e&&void 0!==e&&e.onParamsUpdated&&"function"===typeof e.onParamsUpdated){null!==e.onParamsUpdated(i)&&UN("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[yB]},wB={version:uB,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends eO{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[Ij]),this.eFloatingFilterText=$I}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(t," ").concat(i("ariaFilterInput","Filter Input")))}onParentModelChanged(e){null!=e?this.params.parentFilterInstance((t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[CB]},xB={version:uB,moduleName:"@ag-grid-community/simple-filter",dependantModules:[yB],userComponents:[{name:"agTextColumnFilter",classImp:class extends Tj{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=e=>{let{filterOption:t,value:i,filterText:n}=e;if(null==n)return!1;switch(t){case"contains":return i.indexOf(n)>=0;case"notContains":return i.indexOf(n)<0;case"equals":return i===n;case"notEqual":return i!=n;case"startsWith":return 0===i.indexOf(n);case"endsWith":{const e=i.lastIndexOf(n);return e>=0&&e===i.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Vj(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(UN("textCustomComparator is deprecated, use textMatcher instead."),t=>{let{filterOption:i,value:n,filterText:o}=t;return e(i,n,o)}):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,((e,n,o,r)=>{if(n<r){let n=mN(e.getValue());var s;if(t&&this.textFilterParams.trimInput)n=null!==(s=Wj(n))&&void 0!==s?s:null,e.setValue(n,!0);i.push(n)}})),i}getDefaultFilterOptions(){return Hj}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),JL(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new Lj);n.addCssClass("ag-filter-".concat(i)),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,i,n){const o=e.map((e=>this.formatter(e)))||[],r=this.formatter(t),{api:s,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if("blank"===i.type)return this.isBlank(t);if("notBlank"===i.type)return!this.isBlank(t);const u={api:s,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:r,textFormatter:d};return o.some((e=>this.matcher({...u,filterText:e})))}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}},{name:"agNumberColumnFilter",classImp:class extends Pj{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Gj(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Bj}setElementValue(e,t,i){const n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!==t&&void 0!==t?t:null):t;super.setElementValue(e,n)}createValueElement(){const e=zj(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),JL(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const o=this.createManagedBean(n?new Lj({allowedCharPattern:n}):new Oj);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,n,o)=>{i<o&&t.push(this.processValue(this.stringToFloat(e.getValue())))})),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"===typeof e)return e;let t=mN(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput((t=>{t.getInputElement().validity.valid||(e=!0)})),e}}},{name:"agDateColumnFilter",classImp:class extends Pj{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=iB,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Jj(t)||null,i&&Jj(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(t,i)=>{if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?i:Number(e[t]);UN("DateFilter ".concat(t," is not a number"))}return i};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",iB),this.minValidYear>this.maxValidYear&&UN("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Jj(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Jj(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&UN("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new tB(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new $j(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc((()=>t.destroy())),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return eB}createValueElement(){const e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,n){const o=this.gos.getDocument().createElement("div");o.classList.add("ag-filter-".concat(n)),o.classList.add("ag-filter-date-".concat(n)),t.push(o),e.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach((e=>e.destroy()))}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput(((i,n,o,r)=>{o!==e||!t||n>=r||(t=t&&this.isValidDateValue(i.getDate()))})),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=Xj(n[0])),n.length>1&&(i.dateTo=Xj(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput((e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(i)}))}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,n,o)=>{i<o&&t.push(e.getDate())})),t}translate(e){return"lessThan"===e?super.translate("before"):"greaterThan"===e?super.translate("after"):super.translate(e)}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}},{name:"agDateInput",classImp:class extends eO{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[Ij]),this.eDateInput=$I}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:e=>{e.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&hI(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:o,minValidDate:r,maxValidDate:s}=e.filterParams||{};if(r&&n&&UN("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&o&&UN("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&s){const[e,t]=[r,s].map((e=>e instanceof Date?e:Jj(e)));e&&t&&e.getTime()>t.getTime()&&UN("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?t.min=Qj(r):t.min=r:n&&(t.min="".concat(n,"-01-01")),s?s instanceof Date?t.max=Qj(s):t.max=s:o&&(t.max="".concat(o,"-12-31"))}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Jj(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Xj(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:gI()||mI()||hI()&&pI()>=14.1}}}]},SB={version:uB,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[xB,CB],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends gB{init(e){super.init(e),this.filterModelFormatter=new Vj(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Hj}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new pB)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends gB{init(e){var t;super.init(e),this.filterModelFormatter=new Gj(this.localeService,this.optionsFactory,null===(t=e.filterParams)||void 0===t?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){zj(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Bj}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=zj(e.filterParams),this.allowedCharPattern?this.createManagedBean(new pB({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new mB)}}},{name:"agDateColumnFloatingFilter",classImp:class extends hB{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[Ij]),this.eReadOnlyText=$I,this.eDateWrapper=$I}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return eB}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new tB(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const t=e;this.dateComp.setDate(Jj(t.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){RI(this.eDateWrapper,e),RI(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=Xj(this.dateComp.getDate());this.params.parentFilterInstance((t=>{if(t){const i=Jj(e);t.onFloatingFilterChanged(this.getLastType()||null,i)}}))}getDateComponentParams(){const e=wj(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:JN(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new $j(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},RB={version:uB,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends pN{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){var e,t;const i=this.columnModel.isPivotMode(),n=this.columnModel.getAutoCols(),o=this.columnModel.getColDefCols();let r=null!==(e=i&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?null===(t=this.pivotResultColsService.getPivotResultCols())||void 0===t?void 0:t.list:o)&&void 0!==e?e:[];n&&(r=r.concat(n)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?r:r.filter((e=>e.isVisible()||e.isRowGroupActive()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every((i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i)))}resetQuickFilterCache(){this.rowModel.forEachNode((e=>e.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return fN(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(UN("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!==typeof e)return void UN("Grid option quickFilterText only supports string inputs, received: ".concat(typeof e));const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some((i=>{const n=this.getQuickFilterTextForColumn(i,e);return fN(n)&&n.indexOf(t)>=0}))}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:o}=this;return o(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const o=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(o)}return fN(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach((i=>{const n=this.getQuickFilterTextForColumn(i,e);fN(n)&&t.push(n)})),t.join("\n")}}],dependantModules:[fB]},MB={version:uB,moduleName:"@ag-grid-community/filter",dependantModules:[SB,wB,{version:uB,moduleName:"@ag-grid-community/quick-filter",dependantModules:[RB,{version:uB,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function(e){var t;return!(null===(t=e.filterManager)||void 0===t||!t.isQuickFilterPresent())},getQuickFilter:function(e){return e.gos.get("quickFilterText")},resetQuickFilter:function(e){var t;null===(t=e.filterManager)||void 0===t||t.resetQuickFilterCache()}},dependantModules:[RB]}]},bB]},kB=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(kB||{}),DB=class extends pN{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}));const e=this.gos.getDocument();this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}getHeaderPositionForColumn(e,t){let i;if("string"===typeof e?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const n="filter"===QF(this.ctrlsService.getHeaderRowContainerCtrl().getAllCtrls()).getType(),o=this.getHeaderRowCount()-1;let r=-1,s=i;for(;s;)r++,s=s.getParent();let a=r;return t&&n&&a===o-1&&a++,-1===a?null:{headerRowIndex:a,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,o=t.column,r=this.getHeaderRowCount(),s=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=s?this.headerPositionUtils.getColumnVisibleParent(o,n):this.headerPositionUtils.getColumnVisibleChild(o,n),d=!1;return a<0&&(a=0,l=o,d=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==c&&(this.currentHeaderRowWithoutSpan=c),!(!d&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const n=this.focusService.getFocusedHeader(),o=2===e,r=this.gos.get("enableRtl");let s,a;if(-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,o!==r?(a="Before",s=this.headerPositionUtils.findHeader(n,a)):(a="After",s=this.headerPositionUtils.findHeader(n,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:s,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){var n;const o=e.headerRowIndex;let r,s=null;if("Before"===t?o>0&&(r=o-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:a,headerRowIndex:l}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,null===(n=s)||void 0===n?void 0:n.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(ML(e)){const n=e.getDisplayedLeafColumns();t="Before"===i?QF(n):n[0]}else t=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(t)}}},AB=class extends pN{wireBeans(e){this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new bj(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var e;const{columnModel:t}=this;let i,n=0,o=t.getHeaderRowCount();(null===(e=this.filterManager)||void 0===e?void 0:e.hasFloatingFilters())&&(o++,n=1);const r=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=o-(1+n);if(i=n*t.getFloatingFiltersHeight(),i+=a*r,i+=s,this.headerHeight===i)return;this.headerHeight=i;const l="".concat(i+1,"px");this.comp.setHeightAndMinHeight(l),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some((e=>e.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case mO.LEFT:t=2;case mO.RIGHT:fN(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case mO.UP:t=0;case mO.DOWN:fN(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=null!==e&&void 0!==e?e:t;n!==this.eGui&&n!==this.ctrlsService.getHeaderRowContainerCtrl().getViewport()||this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!vI())return;const t=new rO(this.eGui);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}},EB=class extends pN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=this.gos.isDomLayout("print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let o;if(e)o=t+i+n;else if(o=t,this.addSpacer){0===(this.gos.get("enableRtl")?i:n)&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gos.getScrollbarWidth())}this.callback(o)}},TB=class extends pN{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach((e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function PB(e){const{isFromHeader:t,hDirection:i,xPosition:n,fromEnter:o,fakeEvent:r,pinned:s,gos:a,columnModel:l,columnMoveService:c,presentedColsService:d}=e,u=0===i,h=1===i;let{allMovingColumns:p}=e;if(t){const e=[];p.forEach((t=>{let i=null,n=t.getParent();for(;null!=n&&1===n.getDisplayedLeafColumns().length;)i=n,n=n.getParent();if(null!=i){var o;(!(null===(o=i.getColGroupDef())||void 0===o||!o.marryChildren)?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns()).forEach((t=>{e.includes(t)||e.push(t)}))}else e.includes(t)||e.push(t)})),p=e}const g=p.slice();l.sortColsLikeCols(g);const m=function(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:o,gos:r,columnModel:s,presentedColsService:a}=e,l=r.get("suppressMovableColumns")||t.some((e=>e.getColDef().suppressMovable));if(l)return[];const c=function(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,o),d=s.getCols(),u=c.filter((e=>nN(t,e))),h=c.filter((e=>!nN(t,e))),p=d.filter((e=>!nN(t,e)));let g,m=0,f=n;if(i){let e=0;u.forEach((t=>e+=t.getActualWidth())),f-=e}if(f>0){for(let e=0;e<h.length;e++){if(f-=h[e].getActualWidth(),f<0)break;m++}i&&m++}if(m>0){const e=h[m-1];g=p.indexOf(e)+1}else g=p.indexOf(h[0]),-1===g&&(g=0);const v=[g],y=(e,t)=>e-t;if(i){let e=g+1;const t=d.length-1;for(;e<=t;)v.push(e),e++;v.sort(y)}else{let e=g;const t=d.length-1;let i=d[e];for(;e<=t&&c.indexOf(i)<0;)e++,v.push(e),i=d[e];e=g-1;const n=0;for(;e>=n;)v.push(e),e--;v.sort(y).reverse()}return v}({movingCols:g,draggingRight:h,xPosition:n,pinned:s,gos:a,columnModel:l,presentedColsService:d}),f=function(e,t){const i=t.getCols(),n=(s=e.map((e=>i.indexOf(e))),s.sort(((e,t)=>e-t))),o=n[0],r=QF(n);var s;return r-o!==n.length-1?null:o}(g,l);if(0===m.length)return;const v=m[0];let y=null!==f&&!o;if(t&&(y=null!==f),y&&!r){if(u&&v>=f)return;if(h&&v<=f)return}const b=d.getAllCols(),C=[];let w=null;for(let x=0;x<m.length;x++){const e=m[x],t=c.getProposedColumnOrder(g,e);if(!c.doesOrderPassRules(t))continue;const i=t.filter((e=>b.includes(e)));if(null===w)w=i;else if(!JF(i,w))break;const n=NB(t);C.push({move:e,fragCount:n})}return 0!==C.length?(C.sort(((e,t)=>e.fragCount-t.fragCount)),FB(p,C[0].move,"uiColumnMoved",!1,c)):void 0}function FB(e,t,i,n,o){return o.moveColumns(e,t,i,n),n?null:{columns:e,toIndex:t}}function NB(e){function t(e){const t=[];let i=e.getOriginalParent();for(;null!=i;)t.push(i),i=i.getOriginalParent();return t}let i=0;for(let n=0;n<e.length-1;n++){let o=t(e[n]),r=t(e[n+1]);[o,r]=o.length>r.length?[o,r]:[r,o],o.forEach((e=>{-1===r.indexOf(e)&&i++}))}return i}function LB(e,t,i,n,o){const r=o.getHeaderRowContainerCtrl(t).getViewport();if(i&&(e-=r.getBoundingClientRect().left),n.get("enableRtl")){e=r.clientWidth-e}return null==t&&(e+=o.get("center").getCenterViewportScrollLeft()),e}var IB=class extends pN{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!fN(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}getIconName(){return this.pinned?"pinned":"move"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,n=(t||[]).filter((e=>i[e.getId()]));this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){const n=e.filter((e=>!e.getColDef().lockVisible));this.columnModel.setColsVisible(n,t,i)}}setColumnsPinned(e,t,i){if(e){const n=e.filter((e=>!e.getColDef().lockPinned));this.columnModel.setColsPinned(n,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){if(this.lastMovedInfo){const{columns:e,toIndex:t}=this.lastMovedInfo;FB(e,t,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=t,vN(t.hDirection))return;const o=LB(t.x,this.pinned,!1,this.gos,this.ctrlsService);i||this.checkCenterForScrolling(o);const r=this.normaliseDirection(t.hDirection),s=t.dragSource.type,a=PB({allMovingColumns:(null===(e=t.dragSource.getDragItem().columns)||void 0===e?void 0:e.filter((e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned)))||[],isFromHeader:1===s,hDirection:r,xPosition:o,pinned:this.pinned,fromEnter:i,fakeEvent:n,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});a&&(this.lastMovedInfo=a)}normaliseDirection(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:YN("Unknown direction ".concat(e))}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon("move"))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const e=this.lastDraggingEvent.dragItem.columns.filter((e=>!e.getColDef().lockPinned));if(e.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){const t=this.needToMoveLeft?"left":"right";this.setColumnsPinned(e,t,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},OB=class extends pN{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady((e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new IB(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new TB(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}},jB=class extends pN{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n,o){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=o}postConstruct(){const e=[];let t,i;const n=()=>{if(RI(this.eResize,t),!t)return;const n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(n),i){const t=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",t)};this.eResize.addEventListener("dblclick",i);const n=new rO(this.eResize);n.addEventListener("doubleTap",i),e.push((()=>{this.eResize.removeEventListener("dblclick",i),n.removeEventListener("doubleTap",i),n.destroy()}))}},o=()=>{e.forEach((e=>e())),e.length=0},r=()=>{const e=this.column.isResizable(),r=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||r!==i)&&(t=e,i=r,o(),n())};r(),this.addDestroyFunc(o),this.ctrl.addRefreshFunction(r)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:o}=this,r=this.normaliseResizeAmount(t),s=[{key:i,newWidth:o+r}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(r-n)>EI(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=r,this.columnSizeService.setColumnWidths(s,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,n="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},BB=class extends pN{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new bO),this.cbSelectAll.addCssClass("ag-header-select-all"),JL(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),iI(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(i," (").concat(t,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(i," (").concat(t,")")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!("multiple"!==this.gos.get("rowSelection"))||(UN("".concat(e," is only available if using 'multiple' rowSelection.")),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return!("clientSide"!==t&&"serverSide"!==t)||(UN("".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(t,".")),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const o={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(o):this.selectionService.deselectAllRowNodes(o)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if("function"===typeof e){e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))}return!!e&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},_B=class extends cB{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new jB(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new dB([this.column],t)),this.createManagedBean(new nB(this.column,t,this.beans)),this.createManagedBean(new bj(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),n=this.column.getMinWidth(),o=this.column.getMaxWidth(),r=Math.min(Math.max(i+e,n),o);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:r}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:i,gos:n,ctrlsService:o}=this,r=this.getPinned(),s=t.getBoundingClientRect().left,a=i.getActualWidth();PB({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:LB(0===e!==n.get("enableRtl")?s-20:s+a+20,r,!0,n,o),pinned:r,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),o.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,t)=>{this.setupTooltip(e,t)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new BB(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===mO.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===mO.ENTER&&this.onEnterKeyDown(e),e.key===mO.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();i&&i instanceof lO&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i="whenTruncated"===this.gos.get("tooltipShowMode"),n=this.eGui,o=this.column.getColDef();t||!i||o.headerComponent||(t=()=>{const e=n.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>{if(null!=e)return e;return this.column.getColDef().headerTooltip},shouldDisplayTooltip:t},s=this.createManagedBean(new QI(r));this.refreshFunctions.push((()=>s.refreshToolTip()))}setupClassesFromColDef(){const e=()=>{const e=oB(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e),e.forEach((e=>{t.has(e)?t.delete(e):this.comp.addOrRemoveCssClass(e,!0)})),t.forEach((e=>this.comp.addOrRemoveCssClass(e,!1)))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:o,gos:r}=this,{columnModel:s}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:e=>{if(a){var t;const i=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{if(a){var t;const i=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColsVisible(i,!1,"uiColumnMoved")}}};o.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((e=>e()))}refreshHeaderComp(){const e=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const e=this.column.getActualWidth();this.comp.setWidth("".concat(e,"px"))};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){const e=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:o,isSpanningTotal:r}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:s}=n,a=s.getColumnHeaderRowHeight();if(0===o)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height","".concat(a,"px"));i.addOrRemoveCssClass("ag-header-span-total",r);const l=o*(s.isPivotMode()?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());e.style.setProperty("top","".concat(-l,"px")),e.style.setProperty("height","".concat(a+l,"px"))}setupAutoHeight(e){const{columnModel:t,resizeObserverService:i}=this.beans,n=i=>{if(!this.isAlive())return;const{paddingTop:o,paddingBottom:r,borderBottomWidth:s,borderTopWidth:a}=DI(this.getGui()),l=o+r+s+a,c=e.offsetHeight+l;if(i<5){const t=this.beans.gos.getDocument();if(!t||!t.contains(e)||0==c)return void window.setTimeout((()=>n(i+1)),0)}t.setColHeaderHeight(this.column,c)};let o,r=!1;const s=()=>{const e=this.column.isAutoHeaderHeight();e&&!r&&a(),!e&&r&&l()},a=()=>{r=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=i.observeResize(e,(()=>n(0)))},l=()=>{r=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};s(),this.addDestroyFunc((()=>l())),this.addManagedListeners(this.column,{widthChanged:()=>r&&n(0)}),this.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout((()=>n(0)))}}),this.addRefreshFunction(s)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort(((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0))).map((e=>this.ariaDescriptionProperties.get(e))).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e);const t={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column};this.eventService.dispatchEvent(t)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof lO?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},GB=class extends pN{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const t=[];this.columnGroup.getDisplayedLeafColumns().forEach((e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const n=this.normaliseDragChange(t),o=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(o,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),n={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let o=null;if(e&&(o=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),o){const e=o.getDisplayedLeafColumns(),t=n.groupAfterColumns=e.filter((e=>e.isResizable())),i=n.groupAfterStartWidth=this.getInitialSizeOfColumns(t);n.groupAfterRatios=this.getSizeRatiosOfColumns(t,i)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:o,groupAfterStartWidth:r,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t){var i,n,o;let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(i=this.resizeTakeFromCols)&&void 0!==i?i:void 0,groupAfterStartWidth:null!==(n=this.resizeTakeFromStartWidth)&&void 0!==n?n:void 0,groupAfterRatios:null!==(o=this.resizeTakeFromRatios)&&void 0!==o?o:void 0};this.resizeColumns(s,e,t,r)}resizeColumns(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:o,resizeStartWidth:r,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:o,ratios:s,width:t}),a){const e=t-r;d.push({columns:a,ratios:c,width:l-e})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((e=>e.isResizable()))}getInitialSizeOfColumns(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getSizeRatiosOfColumns(e,t){return e.map((e=>e.getActualWidth()/t))}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},zB=class extends pN{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push((()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((e=>e())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},HB=class extends cB{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc((()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))})),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new dB(o,t)),this.createManagedBean(new nB(this.column,t,this.beans)),this.createManagedBean(new zB(e,this.column)),this.resizeFeature=this.createManagedBean(new GB(e,i,n,this.column)),this.createManagedBean(new bj(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,gos:o,ctrlsService:r}=this,s=o.get("enableRtl"),a=0===e,l=this.getPinned(),c=i.getBoundingClientRect(),d=c.left,u=c.width,h=LB(a!==s?d-20:d+u+20,l,!0,o,r),p=n.getGroupId(),g=this.focusService.getFocusedHeader();PB({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});const m=n.getDisplayedLeafColumns(),f=a?m[0]:QF(m);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(f,"auto"),!this.isAlive()&&g&&this.restoreFocus(p,n,g)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const o=n[0].getParent();if(!o)return;const r=this.findGroupWidthId(o,e);r&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:r}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(e,t)=>{this.setupTooltip(e,t)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){const t={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(t)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),n="whenTruncated"===this.gos.get("tooltipShowMode"),o=this.eGui;t||!n||null!==i&&void 0!==i&&i.headerGroupComponent||(t=()=>{const e=o.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>null!==e&&void 0!==e?e:i&&i.headerTooltip,shouldDisplayTooltip:t};i&&(r.getColDef=()=>i),this.createManagedBean(new QI(r))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=oB(this.column.getColGroupDef(),this.gos,null,this.column);if(this.column.isPadding()){e.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((e=>e.isSpanHeaderHeight()))&&e.push("ag-header-span-height")}else e.push("ag-header-group-cell-with-group");e.forEach((e=>this.comp.addOrRemoveCssClass(e,!0)))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),t=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach((e=>{this.addManagedListeners(e,{movingChanged:t})})),t()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===mO.ENTER){const e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!e)return;const{beans:t,column:i,displayName:n,gos:o,dragAndDropService:r}=this,{columnModel:s}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!o.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),a.forEach((e=>e.setMoving(!0,"uiColumnDragged")))},onDragStopped:()=>a.forEach((e=>e.setMoving(!1,"uiColumnDragged"))),onGridEnter:e=>{if(l){var t;const i=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{if(l){var t;const i=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColsVisible(i,!1,"uiColumnMoved")}}};r.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach((e=>i[e.getId()]=e.isVisible()));const n=[];return this.beans.visibleColsService.getAllCols().forEach((e=>{t.indexOf(e)>=0&&(n.push(e),eN(t,e))})),t.forEach((e=>n.push(e))),{columns:n,visibleState:i}}isSuppressMoving(){let e=!1;this.column.getLeafColumns().forEach((t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));return e||this.gos.get("suppressMovableColumns")}},VB=0,WB=class extends pN{constructor(e,t,i){super(),this.instanceId=VB++,this.rowIndex=e,this.pinned=t,this.type=i;const n="group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass="ag-header-row ".concat(n)}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((e=>null!=e.getGui()))}setComp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){const e=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return MN(this.headerCellCtrls).find((t=>t.getColumnGroupChild()===e))}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))}getWidthForRow(){const{visibleColsService:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let i=e.getHeaderRowCount();const n=[];let o=0;null!==t&&void 0!==t&&t.hasFloatingFilters()&&(i++,o=1);const r=e.getColumnGroupHeaderRowHeight(),s=e.getColumnHeaderRowHeight(),a=i-(1+o);for(let c=0;c<a;c++)n.push(r);n.push(s);for(let c=0;c<o;c++)n.push(e.getFloatingFiltersHeight());let l=0;for(let c=0;c<this.rowIndex;c++)l+=n[c];return{topOffset:l,rowHeight:n[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=e=>{const{focusService:t,visibleColsService:i}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return i.isVisible(e.getColumnGroupChild())};if(e)for(const[n,o]of e){i(o)?this.headerCellCtrls.set(n,o):this.destroyBean(o)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e,t;return Array.from(null!==(e=null===(t=this.headerCellCtrls)||void 0===t?void 0:t.values())&&void 0!==e?e:[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls)return;if(e.isEmptyGroup())return;const i=e.getUniqueId();let n;t&&(n=t.get(i),t.delete(i));if(n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":n=this.createBean(new HB(e,this.beans,this));break;default:n=this.createBean(new _B(e,this.beans,this))}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach((n=>{const o=i.getHeadersToRender(n,t);e=e.concat(o)})),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;return this.getHeaderCellCtrls().find((t=>t.getColumnGroupChild()==e))}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);if(!i)return!1;return i.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach((e=>{this.destroyBean(e)})),this.headerCellCtrls=void 0,super.destroy()}},UB=class extends pN{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new qI,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<e;i++){const e=this.createBean(new WB(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const i=t.next(),n=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==i);(n||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),n&&(this.columnsRowCtrl=this.createBean(new WB(i,this.pinned,"column")))})(),(()=>{var i;this.includeFloatingFilter=!(null===(i=this.filterManager)||void 0===i||!i.hasFloatingFilters())&&!this.hidden;const n=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void n();const o=t.next();if(this.filtersRowCtrl){const t=this.filtersRowCtrl.getRowIndex()!==o;e&&!t||n()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new WB(o,this.pinned,"filter")))})();const n=this.getAllCtrls();this.comp.setCtrls(n),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(jN(e)){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,i){const n=this.getAllCtrls()[e];return!!n&&n.focusHeader(t,i)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new OB(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var e;const t=(null===(e=this.filterManager)||void 0===e?void 0:e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new EB((e=>this.comp.setCenterWidth("".concat(e,"px"))),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;const n=0==i,o=this.hidden!==n,r=this.gos.get("enableRtl"),s=this.gos.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)?i+s:i;this.comp.setPinnedContainerWidth("".concat(a,"px")),this.comp.setDisplayed(!n),o&&(this.hidden=n,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},YB=class extends pN{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){var e;const t=null!==(e=this.gos.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?(UN("".concat(t," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):t}},KB=class extends eO{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=$I,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null}wireBeans(e){this.overlayService=e.overlayService}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new YB(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i){this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.activePromise=e,null===e||void 0===e||e.then((t=>{if(this.activePromise===e){if(this.activePromise=null,t&&this.activeOverlay!=t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,i)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,(t=>{var i;let{currentValue:n}=t;null===(i=e.refresh)||void 0===i||i.call(e,this.gos.addGridCommonParams({...null!==n&&void 0!==n?n:{}}))}))}}else this.activeOverlay!==t&&(this.destroyBean(t),t=null)})),this.setDisplayed(!0,{skipAriaHidden:!0})}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;this.activeOverlay=null;const t=this.updateListenerDestroyFunc;t&&(t(),this.updateListenerDestroyFunc=null),this.destroyBean(e),OI(this.eOverlayWrapper)}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}},qB=class extends eO{constructor(e,t){super(),this.direction=t,this.eViewport=$I,this.eContainer=$I,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",fI()||vI())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=wI(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(e){const t=this.getViewport();!function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3?arguments[3]:void 0;const o=(new Date).getTime();let r=null,s=!1;const a=()=>{const a=(new Date).getTime()-o>i;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&n&&UN(n))};a(),s||(r=window.setInterval(a,10))}((()=>_I(t)),(()=>this.setScrollPosition(e)),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewport(),{scroll:e})}},XB=class extends qB{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=$I,this.eRightSpacer=$I}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new EB((e=>this.eContainer.style.width="".concat(e,"px")))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.gos.getScrollbarWidth();i&&(t+=n),HI(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let o=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(o+=n),HI(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.gos.getScrollbarWidth()||0,o=i?0:0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),VI(this.getGui(),o),VI(this.eViewport,o),VI(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return LI(this.getViewport(),this.enableRtl)}setScrollPosition(e){_I(this.getViewport())||this.attemptSettingScrollPosition(e),II(this.getViewport(),e,this.enableRtl)}},ZB=class extends pN{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},QB=class extends qB{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new ZB(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gos.getScrollbarWidth()||0,n=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),HI(this.getGui(),n),HI(this.eViewport,n),HI(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),n=t.scrollTop;i!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,t){t||_I(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}},JB=class extends pN{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=JN((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=JN((()=>this.lastScrollSource[0]=null),500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){const{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this)}),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gos.get("debounceVerticalScrollbar"),n=i?JN(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=i?JN(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),t.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowsCtrl)return;void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());const t=this.enableRtl?e:-e,{topCenter:i,stickyTopCenter:n,stickyBottomCenter:o,centerHeader:r,bottomCenter:s,fakeHScrollComp:a}=this.ctrlsService.getParams();r.setHorizontalScroll(-t),s.setContainerTranslateX(t),i.setContainerTranslateX(t),n.setContainerTranslateX(t),o.setContainerTranslateX(t);const l=this.centerRowsCtrl.getViewportElement(),c=0===this.lastScrollSource[1];e=Math.abs(e),c?a.setScrollPosition(e):II(l,e,this.enableRtl)}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n;n=0===e?LI(t,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;t=0===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,0===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{const e={...t,type:"bodyScrollEnd"};this.eventService.dispatchEvent(e)}),100)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!vI())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=AI(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&NI()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&NI()?e>0?0:i:Math.min(Math.max(e,0),i)),II(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=this.rowModel.getRowCount();let n=-1;for(let o=0;o<i;o++){const t=this.rowModel.getRow(o);if("function"===typeof e){if(t&&e(t)){n=o;break}}else if(e===t||e===t.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const i=this.rowModel.getRowCount();if("number"!==typeof e||e<0||e>=i)return void UN("Invalid row index for ensureIndexVisible: "+e);const n=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{var i;n||(null===(i=this.paginationService)||void 0===i||i.goToPageWithIndex(e));const o=this.ctrlsService.getGridBodyCtrl(),r=o.getStickyTopHeight(),s=o.getStickyBottomHeight(),a=this.rowModel.getRow(e);let l;do{const e=a.rowTop,i=a.rowHeight,n=this.pageBoundsService.getPixelOffset(),o=a.rowTop-n,c=o+a.rowHeight,d=this.getVScrollPosition(),u=this.heightScaler.getDivStretchOffset(),h=d.top+u,p=d.bottom+u,g=p-h,m=this.heightScaler.getScrollPositionForPixel(o),f=this.heightScaler.getScrollPositionForPixel(c-g),v=Math.min((m+f)/2,o);let y=null;"top"===t?y=m:"bottom"===t?y=f:"middle"===t?y=v:h+r>o?y=m-r:p-s<c&&(y=f+s),null!==y&&(this.setVerticalScrollPosition(y),this.rowRenderer.redraw({afterScroll:!0})),l=e!==a.rowTop||i!==a.rowHeight}while(l);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const i=this.columnModel.getCol(e);if(!i)return;if(i.isPinned())return;if(!this.visibleColsService.isColDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming((()=>{null!==n&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?i:n)||o,l=s?n:i;"auto"!==t&&(a="start"===t,l="end"===t);const c="middle"===t;if(a||l||c){const{colLeft:t,colMiddle:i,colRight:n}=this.getColumnBounds(e);return c?i-r/2:a?s?n:t:s?t-r:n-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:o}=this.getColumnBounds(e),r=this.enableRtl;return{columnBeforeStart:r?t>o:i<o,columnAfterEnd:r?i<n:t>n}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),o=e.getLeft(),r=t?-1:1,s=t?i-o:o;return{colLeft:s,colMiddle:s+n/2*r,colRight:s+n*r}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},$B="ag-force-vertical-scroll",e_=class extends pN{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,o,r,s){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=o,this.eStickyTop=r,this.eStickyBottom=s,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(e=>this.setCellTextSelection(e.currentValue))),this.createManagedBean(new YB(this.comp)),this.bodyScrollFeature=this.createManagedBean(new JB(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,o,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),null===(a=this.filterManager)||void 0===a||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:this.setFloatingHeights.bind(this),pinnedHeightChanged:this.setFloatingHeights.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach((e=>{this.addManagedElementListeners(e,{focusin:t=>{const{target:i}=t,n=kI(i,"ag-root",e);e.classList.toggle("ag-has-focus",!n)},focusout:t=>{const{target:i,relatedTarget:n}=t,o=e.contains(n),r=kI(n,"ag-root",e);kI(i,"ag-root",e)||o&&!r||e.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.gos.getScrollbarWidth()||0,i=wI()?16:0,n="calc(100% + ".concat(t+i,"px)");this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(n)))}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=e=>{const i=e.relatedTarget;if(null===bI(i))return void this.rowRenderer.stopEditing();let n=t.some((e=>e.contains(i)))&&this.mouseEventService.isElementInThisGrid(i);if(!n){const e=this.popupService;n=e.getActivePopups().some((e=>e.contains(i)))||e.isElementWithinCustomPopup(i)}n||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach((t=>this.addManagedElementListeners(t,{focusout:e})))}updateRowCount(){var e,t;const i=this.headerNavigationService.getHeaderRowCount()+(null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getHeaderRowCount())&&void 0!==e?e:0),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,o=-1===n?-1:i+n;this.comp.setRowCount(o)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?$B:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&(n=this.eBodyViewport).clientHeight<n.scrollHeight;var n}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const t=e&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),i=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,t)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedElementListeners(e,{wheel:e=>this.onFullWidthContainerWheel(e,t)})}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||i).preventDefault()}const{target:n}=e||t;n!==this.eBodyViewport&&n!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!vI())return;const t=new rO(this.eBodyViewport);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new sj(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight("".concat(e,"px")),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const e=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(e,"px)")),this.comp.setStickyBottomWidth("calc(100% - ".concat(e,"px)"))}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var e,t;const i=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getHeaderHeight())&&void 0!==e?e:0),n=this.pinnedRowModel.getPinnedTopTotalHeight();let o=0;i>0&&(o+=i),n>0&&(o+=n),o>0&&(o+=1),this.comp.setStickyTopTop("".concat(o,"px"))}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0);this.comp.setStickyBottomBottom("".concat(e,"px"))}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,n=EI(this.eGridBody)-i;n>0?this.columnSizeService.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,-1)}),500):UN("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},t_=class extends pN{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=EI(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(i){t=i({columns:t,viewportWidth:e})}this.columnModel.setColsPinned(t,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];const i=[...this.visibleColsService.getLeftCols()],n=[...this.visibleColsService.getRightCols()];let o=0,r=0;const s=[];let a=t-0-e;for(;(r<i.length||o<n.length)&&a>0;){if(o<n.length){const e=n[o++];a-=e.getActualWidth(),s.push(e)}if(r<i.length&&a>0){const e=i[r++];a-=e.getActualWidth(),s.push(e)}}return s}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=AI(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==e){this.bodyHeight=e;const t={type:"bodyHeightChanged"};this.eventService.dispatchEvent(t)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},i_=class extends pN{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},n_=class extends eO{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[CO]),this.eCheckbox=$I}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=uI(e,t),[n,o]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(n,o);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel("".concat(r," (").concat(i,")"))}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:e=>lN(e),click:e=>{lN(e);const t=this.gos.get("groupSelectsFiltered"),i=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(i,t)){0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e)}else i?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});if(this.gos.get("isRowSelectable")||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var e,t;let i=this.rowNode.selectable;const n=this.getIsVisible();if(i)if("function"===typeof n){var o;const e=null===(o=this.overrides)||void 0===o?void 0:o.callbackParams;if(this.column){const t=this.column.createColumnFunctionCallbackParams(this.rowNode);i=n({...e,...t})}else i=n({...e,node:this.rowNode,data:this.rowNode.data})}else i=null!==n&&void 0!==n&&n;if(null===(e=this.column)||void 0===e?void 0:e.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!i),this.setVisible(!0),void this.setDisplayed(!0);null!==(t=this.overrides)&&void 0!==t&&t.removeHidden?this.setDisplayed(i):this.setVisible(i)}getIsVisible(){var e;return this.overrides?this.overrides.isVisible:null===(e=this.column)||void 0===e||null===(e=e.getColDef())||void 0===e?void 0:e.checkboxSelection}},o_=class extends eO{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(nO("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(YQ){}};if(t){t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e}))}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},r_=class extends pN{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,(e=>this.cellComp.addOrRemoveCssClass(e,!0)),(e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"===typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!0)))}destroy(){super.destroy()}},s_=class extends pN{constructor(e,t,i,n,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case mO.ENTER:this.onEnterKeyDown(e);break;case mO.F2:this.onF2KeyDown(e);break;case mO.ESCAPE:this.onEscapeKeyDown(e);break;case mO.TAB:this.onTabKeyDown(e);break;case mO.BACKSPACE:case mO.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case mO.DOWN:case mO.UP:case mO.RIGHT:case mO.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:o}=this,{gos:r,rangeService:s,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===mO.DELETE||!t&&e===mO.BACKSPACE&&fI()}(e,r.get("enableCellEditingOnBackspace"))){if(s&&r.get("enableRangeSelection"))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){var l;const e=i.getColumn(),t=null!==(l=this.beans.valueService.parseValue(e,o,"",o.getValueFromValueService(e)))&&void 0!==l?l:null;o.setDataValue(e,t,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?mO.UP:mO.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(mO.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(mO.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const t=e.key;" "===t?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(t,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!t.get("suppressRowDeselection")){const t=this.beans.gos.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"});void 0===i&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},a_=class extends pN{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!cN(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:n}=this.beans,o=e.ctrlKey||e.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{s.onCellClicked(r)}))}),0);!((n.get("singleClickEdit")||s.singleClickEdit)&&!n.get("suppressClickEdit"))||e.shiftKey&&0!=(null===i||void 0===i?void 0:i.getCellRanges().length)||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!vI()||dN("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventService:o,frameworkOverrides:r,gos:s}=i,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");o.dispatchEvent(l),"function"===typeof a.onCellDoubleClicked&&window.setTimeout((()=>{r.wrapOutgoing((()=>{a.onCellDoubleClicked(l)}))}),0);!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,o=e.target,{cellCtrl:r,beans:s}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=s;if(this.isRightClickInExistingRange(e))return;const u=l&&0!=l.getCellRanges().length;if(!n||!u){const t=d.get("enableCellTextSelection")&&e.defaultPrevented,i=(hI()||t)&&!r.isEditing()&&!SI(o);r.focusCell(i)}if(n&&u&&!c.isCellFocused(r.getCellPosition())){e.preventDefault();const t=c.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:n}=t,o=s.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n}),r=null===o||void 0===o?void 0:o.getCellCtrl(e);null!==r&&void 0!==r&&r.isEditing()&&r.stopEditing(),c.setFocusedCell({column:e,rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(l){const e=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(e);else{const n=t||i;l.setRangeToCell(e,n)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return kI(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,"cellMouseOut");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,"cellMouseOver");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},l_=class extends pN{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();JF(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((e,t)=>e+t.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let o=0;i&&o<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),i&&!vN(i))&&n===i.getPinned();o++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?QF(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();if("right"===this.column.getPinned()){return t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0)}return t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height="".concat(t,"px"),this.eGui.style.zIndex="1"}destroy(){super.destroy()}},c_="ag-cell-range-selected",d_=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(c_,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(c_,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(c_,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(c_,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(c_,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),dI(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>nN([1,0],e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,n=!1,o=!1;const r=this.cellCtrl.getCellPosition().column,s=this.beans.visibleColsService;let a,l;e?(a=s.getColAfter(r),l=s.getColBefore(r)):(a=s.getColBefore(r),l=s.getColAfter(r));const c=this.rangeService.getCellRanges().filter((e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e)));a||(o=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&n&&o);d++){const e=c[d],r=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e);!t&&this.beans.rowPositionUtils.sameRow(r,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(s,this.cellCtrl.getCellPosition())&&(n=!0),!o&&a&&e.columns.indexOf(a)<0&&(o=!0),!i&&l&&e.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:o}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const n=QF(t),o=this.cellCtrl.getCellPosition(),r=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),s=e.get("enableRangeHandle");let a=1===i&&!this.cellCtrl.isEditing()&&(r||s);if(this.hasChartRange){const e=1===t[0].type&&this.rangeService.isCellInSpecificRange(o,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===n.type}return a&&null!=n.endRow&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,o)}addSelectionHandle(){const e=this.beans.gos,t=QF(this.rangeService.getCellRanges()).type,i=e.get("enableFillHandle")&&vN(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},u_=0,h_=class e extends pN{constructor(e,t,i,n){super(),this.column=e,this.rowNode=t,this.beans=i,this.rowCtrl=n,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=e.getId()+"-"+u_++,this.colIdSanitised=CL(this.column.getId()),i.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new l_(this,this.beans),this.addDestroyFunc((()=>{var e;null===(e=this.cellPositionFeature)||void 0===e||e.destroy(),this.cellPositionFeature=null})),this.cellCustomStyleFeature=new r_(this,this.beans),this.addDestroyFunc((()=>{var e;null===(e=this.cellCustomStyleFeature)||void 0===e||e.destroy(),this.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new a_(this,this.beans,this.column),this.addDestroyFunc((()=>{var e;null===(e=this.cellMouseListenerFeature)||void 0===e||e.destroy(),this.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new s_(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((()=>{var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.destroy(),this.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((()=>{this.disableTooltipFeature()})));this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new d_(this.beans,this),this.addDestroyFunc((()=>{var e;null===(e=this.cellRangeFeature)||void 0===e||e.destroy(),this.cellRangeFeature=null})))}enableTooltipFeature(e,t){const i="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!i||this.isCellRenderer()||(t=()=>{const e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&fN(t))return FN(t,e.tooltipField,this.column.isTooltipFieldContainsDots());const i=e.tooltipValueGetter;return i?i(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new QI(n,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,t,i,n,o){var r,s,a,l;this.cellComp=e,this.eGui=t,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(r=this.cellPositionFeature)||void 0===r||r.setComp(t),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(e),null===(a=this.tooltipFeature)||void 0===a||a.refreshToolTip(),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((e=>e())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const t=e.parentElement,i=this.beans.gos.getRowHeightForNode(this.rowNode).height,n=o=>{if(this.editing)return;if(!this.isAlive())return;const{paddingTop:r,paddingBottom:s,borderBottomWidth:a,borderTopWidth:l}=DI(t),c=r+s+a+l,d=e.offsetHeight+c;if(o<5){const t=this.beans.gos.getDocument();if(!t||!t.contains(e)||0==d)return void window.setTimeout((()=>n(o+1)),0)}const u=Math.max(d,i);this.rowNode.setRowAutoHeight(u,this.column)},o=()=>n(0);o();const r=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc((()=>{r(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){var e;return null!==(e=this.valueFormatted)&&void 0!==e?e:this.value}showValue(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const i=this.getValueToDisplay();let n;if(this.rowNode.stub){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),e)}else if(this.isCellRenderer()){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),e)}this.cellComp.setRenderDetails(n,i,t),null===(e=this.cellRangeFeature)||void 0===e||e.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||o}startEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{editService:n}=this.beans;this.isCellEditable()&&!this.editing&&n&&(this.cellComp?n.startEditing(this,e,t,i):this.onCellCompAttachedFuncs.push((()=>{this.startEditing(e,t,i)})))}setEditing(e,t){var i;this.editCompDetails=t,this.editing!==e&&(this.editing=e,null===(i=this.cellRangeFeature)||void 0===i||i.refreshHandle())}stopRowOrCellEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{editService:t}=this.beans;return!(!this.editing||!t)&&t.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,i,n)=>this.registerRowDragger(e,t,n),setTooltip:(e,t)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),null===(i=this.tooltipFeature)||void 0===i||i.refreshToolTip()}})}setFocusOutOnEditor(){var e;this.editing&&(null===(e=this.beans.editService)||void 0===e||e.setFocusOutOnEditor(this))}setFocusInOnEditor(){var e;this.editing&&(null===(e=this.beans.editService)||void 0===e||e.setFocusInOnEditor(this))}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?null===(t=this.rowCtrl)||void 0===t||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var t,i;if(this.suppressRefreshCell||this.editing)return;const n=this.column.getColDef(),o=null!=e&&!!e.newData,r=null!=e&&!!e.suppressFlash||!!n.suppressCellFlash,s=null==n.field&&null==n.valueGetter&&null==n.showRowGroup,a=e&&e.forceRefresh||s||o,l=!!this.cellComp,c=this.updateAndFormatValue(l);if(l){if(a||c){var d,u,h;this.showValue(o);const e=null===(d=this.beans.filterManager)||void 0===d?void 0:d.isSuppressFlashingCellsBecauseFiltering();!r&&!e&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),null===(u=this.cellCustomStyleFeature)||void 0===u||u.applyUserStyles(),null===(h=this.cellCustomStyleFeature)||void 0===h||h.applyClassesFromColDef()}null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyCellClassRules()}}stopEditingAndFocus(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=this.beans.editService)||void 0===e||e.stopEditingAndFocus(this,t,i)}flashCell(e){var t,i;const n=null!==(t=null===e||void 0===e?void 0:e.flashDuration)&&void 0!==t?t:null===e||void 0===e?void 0:e.flashDelay,o=null!==(i=null===e||void 0===e?void 0:e.fadeDuration)&&void 0!==i?i:null===e||void 0===e?void 0:e.fadeDelay;this.animateCell("data-changed",n,o)}animateCell(e,t,i){if(!this.cellComp)return;const n="ag-cell-".concat(e),o="ag-cell-".concat(e,"-animation"),{gos:r}=this.beans;t||(t=r.get("cellFlashDuration")),fN(i)||(i=r.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")}),i))}),t)}))}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var t;return null!==(t=this.callValueFormatter(e))&&void 0!==t?t:e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i)}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((()=>this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.processCharacter(e)}onKeyDown(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.onKeyDown(e)}onMouseEvent(e,t){var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:t,beans:i}=this;rB(e,t,i.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);aI(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(e,t)}))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.gos.get("suppressCellFocus"))return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(t&&null!==e&&void 0!==e&&e.forceBrowserFocus&&(this.focusEventToRestore=e));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){let t=this.cellComp.getFocusableElement();if(this.editing){const e=this.beans.focusService.findFocusableElements(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i="fullRow"===this.beans.gos.get("editType");t||i||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:mN(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(!this.cellComp)return;var e;(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing)?null===(e=this.beans.editService)||void 0===e||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellContextMenu(i)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new n_;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new o_(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc((()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null})))}createRowDragComp(e,t,i){const n=this.beans.gos.get("pagination"),o=this.beans.gos.get("rowDragManaged"),r=this.beans.gos.isRowModelType("clientSide");if(o){if(!r)return void UN("managed row dragging is only allowed in the Client Side Row Model");if(n)return void UN("managed row dragging is not possible when doing pagination")}const s=new lj((()=>this.value),this.rowNode,this.column,e,t,i);return this.beans.context.createBean(s),s}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}};h_.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var p_=h_,g_=0,m_=class e extends pN{constructor(e,t,i,n,o){var r,s;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=null!==(r=null===(s=t.paginationService)||void 0===s?void 0:s.getCurrentPage())&&void 0!==r?r:0,this.useAnimationFrameForCreate=n,this.printLayout=o,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+g_++,this.rowId=CL(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=CL(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i){const n={rowComp:e,element:t,containerType:i};this.allRowGuis.push(n),this.updateGui(i,n),this.initialiseRowComp(n),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter((t=>t.containerType!==e)),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach((e=>e.element.style.display=t))}initialiseRowComp(t){const i=this.gos;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((e=>n.addOrRemoveCssClass(e,!0))),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&nI(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((()=>i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=CL(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(QN((()=>{this.onTopChanged()})),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(QN((()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gos.get("enableRangeSelection"))return void UN("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const t=this.beans.localeService.getLocaleTextFunc(),i=new lj((()=>"1 ".concat(t("rowDragRow","row"))),this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(i,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!hO.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((e=>{var t;return null===e||void 0===e||null===(t=e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()})):[null===(e=this.fullWidthGui)||void 0===e||null===(e=e.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()]}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),t=!!this.centerGui,i=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&t&&i}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),t=this.rowNode.isFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(n);this.rowType=e?"FullWidthLoading":i?"FullWidthDetail":t?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={list:[],map:{}},o=(e,t)=>{n.list.push(t),n.map[e]=t};return t.forEach((t=>{const i=t.getInstanceId();let n=e.map[i];n||(n=new p_(t,this.rowNode,this.beans,this)),o(i,n)})),e.list.forEach((e=>{if(null!=n.map[e.getColumn().getInstanceId()])return;this.isCellEligibleToBeRemoved(e,i)?e.destroy():o(e.getColumn().getInstanceId(),e)})),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach((t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)}))}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,t=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const o=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}}isCellEligibleToBeRemoved(e,t){const i=!0;if(e.getColumn().getPinned()!=t)return i;const n=e.isEditing(),o=this.beans.focusService.isCellFocused(e.getCellPosition());if(n||o){const t=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(t)>=0)&&i}return i}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=fN(this.rowNode.oldRowTop),i=this.beans.visibleColsService.isPinningLeft(),n=this.beans.visibleColsService.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(e.element,t).params)),t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&i&&n&&o}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc((()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((e=>{this.addRowDraggerToRow(e)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onRowIndexChanged()))},cellChanged:e=>{this.getAllCellCtrls().forEach((t=>t.onCellChanged(e)))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update}))),this.allRowGuis.forEach((e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach((t=>{const i=0===e,n=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)}))}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),nI(i.element,e&&t)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:mN(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find((t=>t.element.contains(e.target)));if(!((t?t.element:null)===e.target))return;const i=this.rowNode,n=this.beans.focusService.getFocusedCell(),o={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:n&&n.column};this.beans.navigationService.navigateToNextCell(e,e.key,o,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||cN(e))return;const t=this.allRowGuis.find((t=>t.element.contains(e.target))),i=t?t.element:null,n=i===e.target;let o=null;n||(o=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var e;const t=null===(e=this.allRowGuis.find((e=>_I(e.element))))||void 0===e?void 0:e.element;return t?t.getBoundingClientRect().top:0}onFullWidthRowFocused(e){var t;const i=this.rowNode,n=!!e&&(this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned),o=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",n),n&&null!==e&&void 0!==e&&e.forceBrowserFocus&&o.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach((e=>{e!==t&&(i.list.push(e),i.map[e.getColumn().getInstanceId()]=e)})),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(cN(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=kI(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,i=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.getFullWidthElement(),o=e.target;let r=!0;n&&n.contains(o)&&SI(o)&&(r=!1),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:i.getAllCols()[0],rowPinned:t.rowPinned,forceBrowserFocus:r})}onRowClick(e){if(cN(e)||this.lastMouseDownOnDragger)return;const t=this.createRowEventWithSource("rowClicked",e);this.beans.eventService.dispatchEvent(t);const i=e.ctrlKey||e.metaKey,n=e.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const o=this.gos.get("rowMultiSelectWithClick"),r=!this.gos.get("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):i?r&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:s});else{const t=!o&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:t,rangeSelect:n,event:e,source:s})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const t=()=>{const t=e.clientHeight;if(null!=t&&t>0){const e=()=>{this.rowNode.setRowHeight(t),("clientSide"===this.beans.rowModel.getType()||"serverSide"===this.beans.rowModel.getType())&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(e,0)}},i=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(i),t()}createFullWidthCompDetails(e,t){const{gos:i,rowNode:n}=this,o=i.addGridCommonParams({fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,i,n)=>this.addFullWidthRowDragging(e,t,i,n),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)}),r=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return r.getFullWidthDetailCellRendererDetails(o);case"FullWidthGroup":return r.getFullWidthGroupCellRendererDetails(o);case"FullWidthLoading":return r.getFullWidthLoadingCellRendererDetails(o);default:return r.getFullWidthCellRendererDetails(o)}}refreshRowTooltip(e,t){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new QI(i,this.beans))}addFullWidthRowDragging(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;if(!this.isFullWidth())return;const o=new lj((()=>i),this.rowNode,void 0,e,t,n);this.createBean(o,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(o,this.beans.context)}))}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(i,!1)}))}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e)))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t))))}stopEditing(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stoppingRowEdit||null===(e=this.beans.rowEditService)||void 0===e||e.stopEditing(this,t)}setInlineEditingCss(e){this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}setEditingRow(e){this.editingRow=e}startRowEditing(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.editingRow||null===(e=this.beans.rowEditService)||void 0===e||e.startEditing(this,t,i,n)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}),(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!1)))}))}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(e=>e.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&"function"===typeof e)return void UN("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const t=this.gos.getCallback("getRowStyle");let i;if(t){i=t({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),dI(e.element,t);!e.element.contains(this.gos.getActiveDomElement())||e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.gos.get("suppressRowDeselection"))return;const t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(t)}addHoverFunctionality(e){if(!this.active)return;const{rowNode:t,beans:i,gos:n}=this;this.addManagedListeners(e,{mouseenter:()=>t.onMouseEnter(),mouseleave:()=>t.onMouseLeave()}),this.addManagedListeners(t,{mouseEnter:()=>{i.dragService.isDragging()||n.get("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),t.setHovered(!0))},mouseLeave:()=>{e.classList.remove("ag-row-hover"),t.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=n?"".concat(Math.min(i,n)-2,"px"):void 0;this.forEachGui(e,(e=>{e.element.style.height="".concat(t,"px"),o&&e.element.style.setProperty("--ag-line-height",o)}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&this.gos.isAnimateRows()&&!this.isSticky()){if(null!=this.rowNode.rowTop){const e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const t=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=e=>(e.list.forEach((e=>e.destroy())),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var e,t;const i=null!==(e=null===(t=this.beans.paginationService)||void 0===t?void 0:t.getCurrentPage())&&void 0!==e?e:0;this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBoundsService.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&fN(e)){const t=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),n="".concat(i,"px");this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(this.isSticky())i=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,o=this.applyPaginationOffset(n);i=t.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach((t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform("translateY(".concat(e,")"))))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach((i=>{i.getColumn()==e&&(t=i)})),null!=t||this.getAllCellCtrls().forEach((i=>{i.getColSpanningList().indexOf(e)>=0&&(t=i)})),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){var t,i;const n=this.rowNode.getRowIndexString();if(null===n)return;const o=this.beans.headerNavigationService.getHeaderRowCount()+(null!==(t=null===(i=this.beans.filterManager)||void 0===i?void 0:i.getHeaderRowCount())&&void 0!==t?t:0),r=this.rowNode.rowIndex%2===0,s=o+this.rowNode.rowIndex+1;this.forEachGui(e,(e=>{e.rowComp.setRowIndex(n),e.rowComp.addOrRemoveCssClass("ag-row-even",r),e.rowComp.addOrRemoveCssClass("ag-row-odd",!r),rI(e.element,s)}))}setStoppingRowEdit(e){this.stoppingRowEdit=e}};m_.DOM_DATA_KEY_ROW_CTRL="renderedRow";var f_=m_,v_=class extends pN{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",dN("touchstart")?"touchstart":"mousedown"].forEach((e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}))}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||cN(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!vI())return;const e=new rO(this.element);this.addManagedListeners(e,{longTap:e=>{const t=this.getRowForEvent(e.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,i)}}),this.addDestroyFunc((()=>e.destroy()))}getRowForEvent(e){let t=e.target;for(;t;){const e=this.gos.getDomData(t,f_.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const o=i?i.getRowNode():null,r=n?n.getColumn():null;let s=null;if(r){const i=e||t;n.dispatchCellContextMenuEvent(null!==i&&void 0!==i?i:null),s=this.valueService.getValue(r,o)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:o,column:r,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:uN(this.gos,e,p_.DOM_DATA_KEY_CELL_CTRL),rowCtrl:uN(this.gos,e,f_.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),o=e.getColumn(),r=e.isEditing();if(!Nj(this.gos,i,n,o,r)&&"keydown"===t){!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),Fj(i)&&e.processCharacter(i)}if("keydown"===t){const t=e.createEvent(i,"cellKeyDown");this.eventService.dispatchEvent(t)}}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),o=this.focusService.getFocusedCell(),r=o&&o.column;if(!Nj(this.gos,i,n,r,!1)){const n=i.key;if("keydown"===t)switch(n){case mO.PAGE_HOME:case mO.PAGE_END:case mO.PAGE_UP:case mO.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case mO.UP:case mO.DOWN:e.onKeyboardNavigate(i);break;case mO.TAB:e.onTabKeyDown(i)}}if("keydown"===t){const t=e.createRowEvent("cellKeyDown",i);this.eventService.dispatchEvent(t)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!this.mouseEventService.isEventFromThisGrid(e))return;const i=function(e){const{keyCode:t}=e;let i;switch(t){case 65:i=mO.A;break;case 67:i=mO.C;break;case 86:i=mO.V;break;case 68:i=mO.D;break;case 90:i=mO.Z;break;case 89:i=mO.Y;break;default:i=e.code}return i}(e);return i===mO.A?this.onCtrlAndA(e):i===mO.C?this.onCtrlAndC(e):i===mO.D?this.onCtrlAndD(e):i===mO.V?this.onCtrlAndV(e):i===mO.X?this.onCtrlAndX(e):i===mO.Y?this.onCtrlAndY():i===mO.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[e,o]=[t.isEmpty("top"),t.isEmpty("bottom")],r=e?null:"top";let s,a;o?(s=null,a=i.getRowCount()-1):(s="bottom",a=t.getPinnedBottomRowNodes().length-1);const l=this.visibleColsService.getAllCols();if(yN(l))return;n.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:s,columnStart:l[0],columnEnd:QF(l)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);null!==t&&void 0!==t&&t.isEditing()||null!==i&&void 0!==i&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);null!==t&&void 0!==t&&t.isEditing()||null!==i&&void 0!==i&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);null!==t&&void 0!==t&&t.isEditing()||null!==i&&void 0!==i&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;null===(e=this.undoRedoService)||void 0===e||e.redo("ui")}},y_=class extends pN{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;RI(this.element,t),HI(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},b_=class extends pN{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;RI(this.element,t),HI(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},C_=e=>e.getTopRowCtrls(),w_=e=>e.getStickyTopRowCtrls(),x_=e=>e.getStickyBottomRowCtrls(),S_=e=>e.getBottomRowCtrls(),R_=e=>e.getCentreRowCtrls(),M_={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:R_},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:R_},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:R_},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:R_},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:C_},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:C_},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:C_},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:C_},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:w_},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:w_},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:w_},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:w_},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:x_},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:x_},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:x_},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:x_},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:S_},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:S_},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:S_},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:S_}};function k_(e){return M_[e]}var D_=["center","left","right","fullWidth"],A_=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],E_=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],T_=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],P_=["stickyTopCenter","stickyTopLeft","stickyTopRight"],F_=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],N_=[...P_,"stickyTopFullWidth",...F_,"stickyBottomFullWidth"],L_=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...P_,...F_],I_=class extends pN{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=k_(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new t_(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(e){this.comp.setOffsetTop("".concat(e.offset,"px"))}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new v_(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows(),this.forContainers(E_,(()=>{this.pinnedWidthFeature=this.createManagedBean(new y_(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:()=>this.onPinnedWidthChanged()})})),this.forContainers(T_,(()=>{this.pinnedWidthFeature=this.createManagedBean(new b_(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:()=>this.onPinnedWidthChanged()})})),this.forContainers(D_,(()=>this.createManagedBean(new ZB(this.eContainer,"center"===this.name?i:void 0)))),this.forContainers(L_,(()=>this.createManagedBean(new i_(this.eContainer)))),this.forContainers(A_,(()=>this.createManagedBean(new EB((e=>this.comp.setContainerWidth("".concat(e,"px"))))))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(N_.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=this.gos.isDomLayout("print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],(()=>{this.addManagedElementListeners(this.eViewport,{scroll:()=>this.eViewport.scrollLeft=0})}))}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",e)))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}getCenterWidth(){return EI(this.eViewport)}getCenterViewportScrollLeft(){return LI(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((()=>t()))}isViewportInTheDOMTree(){return BI(this.eViewport)}getViewportScrollLeft(){return LI(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth;var e}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform="translateX(".concat(e,"px)")}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){II(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=this.gos.isDomLayout("print"),n=this.gos.get("embedFullWidthRows")||i,o=t.filter((e=>{const t=e.isFullWidth();return this.options.fullWidth?!n&&t:n||!t}));this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}};function O_(e){return e.map((e=>'<ag-row-container name="'.concat(e,'"></ag-row-container>'))).join("")}'<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            '.concat(O_(["topLeft","topCenter","topRight","topFullWidth"]),'\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ').concat(O_(["left","center","right","fullWidth"]),'\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ').concat(O_(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),'\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ').concat(O_(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),'\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ').concat(O_(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]),"\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>");var j_=class extends pN{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateImpl()))})):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const t={type:"scrollVisibilityChanged"};this.eventService.dispatchEvent(t)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},B_="__ag_grid_instance",__=class e extends pN{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=e.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[B_]=this.gridInstanceId}getRenderedCellForEvent(e){return uN(this.gos,e.target,p_.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const e=t[B_];if(fN(e)){return e===this.gridInstanceId}t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gos.isDomLayout("normal"),i=e;let n,o;if(null!=i.clientX||null!=i.clientY?(n=i.clientX,o=i.clientY):(n=i.x,o=i.y),t){const e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();n+=e.getScrollFeature().getHScrollPosition().left,o+=t.top}return{x:n,y:o}}};__.gridInstanceSequence=new qI;var G_=__,z_=class extends pN{constructor(){super(),this.beanName="navigationService",this.onPageDown=$N(this.onPageDown,100),this.onPageUp=$N(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.key,n=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case mO.PAGE_HOME:case mO.PAGE_END:o||n||(this.onHomeOrEndKey(i),a=!0);break;case mO.LEFT:case mO.RIGHT:case mO.UP:case mO.DOWN:if(!s)return!1;!o||n||r||(this.onCtrlUpDownLeftRight(i,s),a=!0);break;case mO.PAGE_DOWN:case mO.PAGE_UP:o||n||(a=this.handlePageUpDown(i,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===mO.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){var t;const{scrollIndex:i,scrollType:n,scrollColumn:o,focusIndex:r,focusColumn:s}=e;fN(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),fN(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),null===(t=this.rangeService)||void 0===t||t.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),n=this.pageBoundsService.getPixelOffset(),o=t.top+i,r=this.rowModel.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r):this.navigateToNextPage(e,r)}onPageUp(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.pageBoundsService.getPixelOffset(),n=t.top,o=this.rowModel.getRowIndexAtPixel(n+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getViewportHeight(),o=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?(null===a||void 0===a?void 0:a.rowHeight)-n-s:n-s,c=(null===a||void 0===a?void 0:a.rowTop)+l;let d,u=this.rowModel.getRowIndexAtPixel(c+s);if(u===e.rowIndex){const n=i?-1:1;t=u=e.rowIndex+n}i?(d="bottom",u<o&&(u=o),t<o&&(t=o)):(d="top",u>r&&(u=r),t>r&&(t=r)),this.isRowTallerThanView(u)&&(t=u,d="top"),this.navigateTo({scrollIndex:t,scrollType:d,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,i=this.getViewportHeight(),n=this.pageBoundsService.getLastRow();let o=0,r=e.rowIndex;for(;r>=0&&r<=n;){const e=this.rowModel.getRow(r);if(e){var s;const t=null!==(s=e.rowHeight)&&void 0!==s?s:0;if(o+t>i)break;o+=t}r+=t}return Math.max(0,Math.min(r,n))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),n=this.gos.getScrollbarWidth();let o=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(o-=n),o}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"===typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,o=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})}onHomeOrEndKey(e){const t=e===mO.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=t?i[0]:QF(i),o=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(!1===n)if(i){const{rowIndex:i,rowPinned:n}=e.getRowPosition();(n?0===i:i===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof p_&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault();else n&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let n,o=e.isEditing();if(!o&&e instanceof p_){const t=e.getRowCtrl();t&&(o=t.isEditing())}return n=o?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===n?n:n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const o=this.findNextCellToFocusOn(n,t,!0);return!1===o?null:null!=o&&(o.startEditing(null,!0,i),o.focusCell(!1),!0)}moveToNextEditingRow(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0);if(!1===o)return null;if(null==o)return!1;const r=o.getCellPosition(),s=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;if(s&&e.setFocusOutOnEditor(),!l){e.getRowCtrl().stopEditing();o.getRowCtrl().startRowEditing(void 0,void 0,i)}return a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let n;n=e instanceof f_?{...e.getRowPosition(),column:t?i[0]:QF(i)}:e.getCellPosition();const o=this.findNextCellToFocusOn(n,t,!1);if(!1===o)return null;if(o instanceof p_)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return fN(o)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){var o;e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const r=this.gos.getCallback("tabToNextCell");if(fN(r)){const o=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(!0===o||null===o)null===o&&UN("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(!1===o)return!1;n={rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+n.rowIndex,column:n.column},fromCell:!0}),null}const s="fullRow"===this.gos.get("editType");if(i&&!s){if(!this.isCellEditable(n))continue}this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const e=this.rowRenderer.getRowByPosition(n);if(!e||!e.isFullWidth()||i)continue;return e}if(!a.isSuppressNavigable())return null===(o=this.rangeService)||void 0===o||o.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let o=i,r=!1;for(;o&&(o===i||!this.isValidNavigateCell(o));)this.gos.get("enableRtl")?t===mO.LEFT&&(o=this.getLastCellOfColSpan(o)):t===mO.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),r=vN(o);if(r&&e&&e.key===mO.UP&&(o={rowIndex:-1,rowPinned:null,column:i.column}),n){const n=this.gos.getCallback("navigateToNextCell");if(fN(n)){const r=n({key:t,previousCellPosition:i,nextCellPosition:o||null,event:e});o=fN(r)?{rowPinned:r.rowPinned,rowIndex:r.rowIndex,column:r.column}:null}}if(!o)return;if(o.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+o.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const s=this.getNormalisedPosition(o);s?this.focusPosition(s):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const o=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?QF(i):i[0])};this.focusPosition(r);const s=null!=o&&this.rowPositionUtils.before(r,o),a={type:"fullWidthRowFocused",rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,fromBelow:s};return this.eventService.dispatchEvent(a),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null===(t=this.rangeService)||void 0===t||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:QF(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&(null===i||void 0===i?void 0:i.sticky))&&vN(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},H_=class extends pN{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(t);return()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},V_=class extends pN{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,(n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})}),i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,o="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(n=1,o="right");const s=r?void 0:4*n,a=r?void 0:4;this.showPopup(e,(n=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:n,nudgeX:s,nudgeY:a,alignSide:o,keepWithinBounds:!0,position:"under",column:e})}),i,t,r)}showPopup(e,t,i,n,o){const r=e?this.createBean(new gj(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,null===r||void 0===r||!r.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");let a;JL(s,"presentation"),s.classList.add("ag-menu"),o||s.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(s,{keydown:e=>this.trapFocusWithin(e,s)}),s.appendChild(null===r||void 0===r?void 0:r.getGui());const l=this.menuService.isColumnMenuAnchoringEnabled()?null!==n&&void 0!==n?n:this.ctrlsService.getGridBodyCtrl().getGui():void 0,c=this.localeService.getLocaleTextFunc(),d=o&&"columnFilter"!==i?c("ariaLabelColumnMenu","Column Menu"):c("ariaLabelColumnFilter","Column Filter"),u=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:t=>{e.setMenuVisible(!1,"contextMenu");const o=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),o&&n&&_I(n)){const e=this.focusService.findTabbableParent(n);e&&e.focus()}null===r||void 0===r||r.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(s),anchorToElement:l,ariaLabel:d});u&&(this.hidePopup=a=u.hideFunc),r.afterInit().then((()=>{t(s),r.afterGuiAttached({container:i,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==mO.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){const n={type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:null!==i&&void 0!==i?i:null};this.eventService.dispatchEvent(n)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&(null!==(t=e.getColDef().menuTabs)&&void 0!==t?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},W_=class extends pN{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(e,t){const i=this.gos.getWindow(),n=()=>{var i,n;let o=null!==(i=null===e||void 0===e?void 0:e.clientWidth)&&void 0!==i?i:0,r=null!==(n=null===e||void 0===e?void 0:e.clientHeight)&&void 0!==n?n:0,s=!0;const a=()=>{if(s){var i,n;const s=null!==(i=null===e||void 0===e?void 0:e.clientWidth)&&void 0!==i?i:0,l=null!==(n=null===e||void 0===e?void 0:e.clientHeight)&&void 0!==n?n:0;(s!==o||l!==r)&&(o=s,r=l,t()),this.doNextPolyfillTurn(a)}};return a(),()=>s=!1},o=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!o?(()=>{const n=new i.ResizeObserver(t);return n.observe(e),()=>n.disconnect()})():this.getFrameworkOverrides().wrapIncoming((()=>n()),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;this.polyfillScheduled=!0,window.setTimeout((()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach((e=>e()))}),50)}},U_=class extends pN{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){var i,n;const e=null!==(i=null===(n=this.paginationService)||void 0===n?void 0:n.getCurrentPage())&&void 0!==i?i:0;e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&UN("AnimationFrameService.".concat(e," called but animation frames are off"))}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort(((e,i)=>e.index!==i.index?t*(i.index-e.index):i.createOrder-e.createOrder)),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,o=n.list,r=this.destroyTasks,s=(new Date).getTime();let a=(new Date).getTime()-s;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let e;if(i.length)this.sortTaskList(t),e=i.pop().task;else if(o.length)this.sortTaskList(n),e=o.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}e=r.pop()}this.cancelledTasks.has(e)||e()}a=(new Date).getTime()-s}i.length||o.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask((()=>{t=!1,e()}))):window.setTimeout(e,0)}}},Y_=class extends pN{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode((t=>{let{expanded:i,id:n}=t;i&&n&&e.push(n)})),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},K_=class extends pN{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){var e;this.activeMenuFactory=null!==(e=this.enterpriseMenuFactory)&&void 0!==e?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const o=n.getBoundingClientRect();return{x:o.x+o.width/2,y:o.y+o.height/2}}showContextMenu(e){var t,i,n;const{rowNode:o}=e,r=e.column;let{anchorToElement:s,value:a}=e;o&&r&&null==a&&(a=o.getValueFromValueService(r)),null==s&&(s=this.getContextMenuAnchorElement(o,r)),null===(t=this.contextMenuFactory)||void 0===t||t.onContextMenu(null!==(i=e.mouseEvent)&&void 0!==i?i:null,null!==(n=e.touchEvent)&&void 0!==n?n:null,null!==o&&void 0!==o?o:null,null!==r&&void 0!==r?r:null,a,s)}showColumnChooser(e){var t;null===(t=this.columnChooserFactory)||void 0===t||t.showColumnChooser(e)}hidePopupMenu(){var e;null===(e=this.contextMenuFactory)||void 0===e||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;null===(e=this.columnChooserFactory)||void 0===e||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(null!==i&&void 0!==i?i:t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!(null===(t=this.filterManager)||void 0===t||!t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){return!(null!==e&&void 0!==e&&e.getColDef().suppressHeaderContextMenu)&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(vI()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!(null===(t=this.filterManager)||void 0===t||!t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){var t;const i=e.getColDef(),n=null===(t=i.floatingFilterComponentParams)||void 0===t?void 0:t.suppressFilterButton;return null!=n&&UN("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==i.suppressFloatingFilterButton?!n:!i.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,i,n){const{positionBy:o}=t,r=t.column;if("button"===o){const{buttonElement:o}=t;e.showMenuAfterButtonClick(r,o,i,n)}else if("mouse"===o){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(r,o,i,n)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const t=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getHeaderCtrlForColumn(r);e.showMenuAfterButtonClick(r,t.getAnchorElementForMenu(n),i,!0)})))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(null===i||void 0===i?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return i;const o=this.getCellGui(n,t);return o||(n.isFullWidth()?n.getFullWidthElement():i)}},q_={selector:"AG-INPUT-TEXT-AREA",component:class extends yO{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},X_=class extends DO{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{Nj(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}},Z_=class extends DO{constructor(e){super('\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"),e.getAgComponents()),this.cellEditorInput=e,this.eInput=$I}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const t=e.eventKey;t===mO.BACKSPACE||e.eventKey===mO.DELETE?i="":t&&1===t.length?i=t:(i=this.cellEditorInput.getStartValue(),t!==mO.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedElementListeners(t.getGui(),{keydown:e=>{const{key:t}=e;t!==mO.PAGE_UP&&t!==mO.PAGE_DOWN||e.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;hI()||t.getFocusableElement().focus();const i=t.getInputElement();var n,o;this.highlightAllOnFocus?i.select():null===(n=(o=this.cellEditorInput).setCaret)||void 0===n||n.call(o)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Q_=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Ij]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return fN(e)||fN(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=fN(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},J_=class extends Z_{constructor(){super(new Q_)}},$_=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[jj]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==mO.UP&&e.key!==mO.DOWN||e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!fN(e)&&!fN(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},eG={selector:"AG-INPUT-DATE-FIELD",component:class extends Lj{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=hI();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?null!==(t=Xj(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.min===i||(this.min=i,YI(this.eInput,"min",i)),this}setMax(e){var t;const i=e instanceof Date?null!==(t=Xj(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.max===i||(this.max=i,YI(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,YI(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!==(e=Jj(this.getValue()))&&void 0!==e?e:void 0}setDate(e,t){this.setValue(Xj(null!==e&&void 0!==e?e:null,!1),t)}}},tG=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[eG]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return fN(e)||fN(this.params.value)?null!==e&&void 0!==e?e:null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Xj(e,!1)}},iG=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[eG]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return fN(e)||fN(this.params.value)?this.params.parseValue(null!==e&&void 0!==e?e:""):this.params.value}getStartValue(){var e,t;return Xj(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)}parseDate(e){var t;const i=this.getDataTypeService();return i?i.getDateParserFunction(this.params.column)(e):null!==(t=Jj(e))&&void 0!==t?t:void 0}formatDate(e){var t;const i=this.getDataTypeService();return i?i.getDateFormatterFunction(this.params.column)(e):null!==(t=Xj(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0}},nG=class{constructor(e){this.cellValueChanges=e}},oG=class extends nG{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},rG=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function sG(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i)),"ensureVisible")}function aG(e,t,i){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i)),"ensureVisible")}var lG={version:uB,moduleName:"@ag-grid-community/edit-core",beans:[class extends pN{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=this.createCellEditorParams(e,t,i),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,o),a=null!=(null===s||void 0===s?void 0:s.popupFromSelector)?s.popupFromSelector:!!r.cellEditorPopup,l=null!=(null===s||void 0===s?void 0:s.popupPositionFromSelector)?s.popupPositionFromSelector:r.cellEditorPopupPosition;e.setEditing(!0,s),e.getComp().setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents"));const c=e.createEvent(n,"cellEditingStarted");this.eventService.dispatchEvent(c)}stopEditing(e,t){const i=e.getComp(),{newValue:n,newValueExists:o}=this.takeValueFromCellEditor(t,i),r=e.getRowNode(),s=e.getColumn(),a=r.getValueFromValueService(s);let l=!1;o&&(l=this.saveNewValue(e,a,n,r,s)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0});const c={...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l};return this.eventService.dispatchEvent(c),l}handleColDefChanged(e){const t=e.getCellEditor();if(null!==t&&void 0!==t&&t.refresh){const{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,o=this.createCellEditorParams(e,i,n),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,o);t.refresh(s.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}stopEditingAndFocus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new X_(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const n=t.getCellEditor();if(!n)return i;if(n.isCancelAfterEnd&&n.isCancelAfterEnd())return i;return{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,o){if(i===t)return!1;e.setSuppressRefreshCell(!0);const r=n.setDataValue(o,i,"edit");return e.setSuppressRefreshCell(!1),r}createCellEditorParams(e,t,i){const n=e.getColumn(),o=e.getRowNode();return this.gos.addGridCommonParams({value:o.getValueFromValueService(n),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:o,data:o.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:t=>this.valueService.parseValue(n,o,t,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?mO.UP:mO.DOWN;this.navigationService.navigateToNextCell(null,i,t,!1)}}}]},cG={version:uB,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function(e){var t;null===(t=e.undoRedoService)||void 0===t||t.undo("api")},redoCellEditing:function(e){var t;null===(t=e.undoRedoService)||void 0===t||t.redo("api")},getCellEditorInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellEditorInstances(t).map(ej)},getEditingCells:function(e){return e.rowRenderer.getEditingCells()},stopEditing:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rowRenderer.stopEditing(t)},startEditingCell:function(e,t){const i=e.columnModel.getCol(t.colKey);if(!i)return void UN("no column found for ".concat(t.colKey));const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};null==t.rowPinned&&aG(e,t.rowIndex),sG(e,t.colKey);const o=e.navigationService.getCellByPosition(n);o&&(e.focusService.isCellFocused(n)||e.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))},getCurrentUndoSize:function(e){var t,i;return null!==(t=null===(i=e.undoRedoService)||void 0===i?void 0:i.getCurrentUndoStackSize())&&void 0!==t?t:0},getCurrentRedoSize:function(e){var t,i;return null!==(t=null===(i=e.undoRedoService)||void 0===i?void 0:i.getCurrentRedoStackSize())&&void 0!==t?t:0}},dependantModules:[lG]},dG={version:uB,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends pN{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:s,oldValue:a,value:l}=e,c={rowPinned:o,rowIndex:r,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new rG(e),this.redoStack=new rG(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:"undoStarted",source:e};this.eventService.dispatchEvent(t);const i={type:"undoEnded",source:e,operationPerformed:this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo")};this.eventService.dispatchEvent(i)}redo(e){const t={type:"redoStarted",source:e};this.eventService.dispatchEvent(t);const i={type:"redoEnded",source:e,operationPerformed:this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo")};this.eventService.dispatchEvent(i)}undoRedo(e,t,i,n,o){if(!e)return!1;const r=e.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(e=>e[n]),o),r instanceof oG?this.processRange(this.rangeService,r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach((e=>{const{rowIndex:n,rowPinned:o,columnId:r}=e,s={rowIndex:n,rowPinned:o},a=this.rowPositionUtils.getRowNode(s);a.displayed&&a.setDataValue(r,t(e),i)}))}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach(((n,o)=>{if(!n)return;const r=n.startRow,s=n.endRow;o===t.length-1&&(i={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)}))}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,o={rowIndex:i,rowPinned:n},r=this.rowPositionUtils.getRowNode(o),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:o}=e,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getCol(n);if(!s)return;r.ensureIndexVisible(i),r.ensureColumnVisible(s);const a={rowIndex:i,column:s,rowPinned:o};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),null===t||void 0===t||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new nG(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new nG(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new nG(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new oG(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&this.gos.get("enableRangeSelection")?new oG(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new nG(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[lG]},uG={version:uB,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends pN{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=e.getAllCellCtrls().reduce(((e,o)=>{const r=o===i;return r?o.startEditing(t,r,n):o.startEditing(null,r,n),!!e||o.isEditing()}),!1);o&&this.setEditing(e,!0)}stopEditing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let o=!1;for(const r of i){const e=r.stopEditing(t);n&&!t&&!o&&e&&(o=!0)}if(o){const t=e.createRowEvent("rowValueChanged");this.eventService.dispatchEvent(t)}n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,(e=>e.rowComp.addOrRemoveCssClass("ag-row-editing",t)));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}}],dependantModules:[lG]},hG={version:uB,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:J_}],dependantModules:[lG]},pG={version:uB,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:J_},{name:"agNumberCellEditor",classImp:class extends Z_{constructor(){super(new $_)}}},{name:"agDateCellEditor",classImp:class extends Z_{constructor(){super(new tG)}}},{name:"agDateStringCellEditor",classImp:class extends Z_{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new iG((()=>this.dataTypeService)))}}},{name:"agCheckboxCellEditor",classImp:class extends DO{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[CO]),this.eCheckbox=$I}init(e){var t;this.params=e;const i=null!==(t=e.value)&&void 0!==t?t:void 0;this.eCheckbox.setValue(i);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=uI(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(n," (").concat(i,")"))}}}],dependantModules:[hG]},gG={version:uB,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends DO{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[Aj]),this.eSelect=$I,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:n}=this,{values:o,value:r,eventKey:s}=e;if(vN(o))return void UN("no values found for select cellEditor");this.startedByEnter=null!=s&&s===mO.ENTER;let a=!1;o.forEach((n=>{const o={value:n},s=i.formatValue(e.column,null,n),l=null!==s&&void 0!==s;o.text=l?s:n,t.addOption(o),a=a||r===n})),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;null!=l&&t.setPickerGap(l),null!=d&&t.setPickerMaxHeight(d),null!=c&&t.setPickerMaxWidth(c),"fullRow"!==n.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[lG]},mG={version:uB,moduleName:"@ag-grid-community/editing",dependantModules:[lG,dG,uG,{version:uB,moduleName:"@ag-grid-community/all-editors",dependantModules:[hG,pG,gG,{version:uB,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends DO{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[q_]),this.eTextArea=$I}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),fN(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===mO.LEFT||t===mO.UP||t===mO.RIGHT||t===mO.DOWN||e.shiftKey&&t===mO.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return fN(e)||fN(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[lG]}]},cG]},fG=class extends pN{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowContainerCtrl=e.center}))}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach((e=>this.cloneItemIntoDummy(e,t))),i.appendChild(t);const n=t.offsetWidth;i.removeChild(t);return n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((i=>{const n=i.getHtmlElementForColumnHeader(e);null!=n&&(t=n)})),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some((e=>i.classList.contains(e)))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some((e=>r.classList.contains(e)))){for(let e=0;e<r.classList.length;e++){const t=r.classList[e];"ag-row-position-absolute"!=t&&o.add(t)}break}r=r.parentElement}n.appendChild(i),t.appendChild(n)}},vG=class extends pN{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){if(this.extraTopHeight===e)return;this.extraTopHeight=e;const t={type:"stickyTopOffsetChanged",offset:e};this.eventService.dispatchEvent(t)}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){var t,i,n,o,r;let a=null===(t=e.childStore)||void 0===t?void 0:t.getStoreBounds();var s;if(e.footer)a=null===(s=e.sibling.childStore)||void 0===s?void 0:s.getStoreBounds();return(null!==(i=null===(n=a)||void 0===n?void 0:n.heightPx)&&void 0!==i?i:0)+(null!==(o=null===(r=a)||void 0===r?void 0:r.topPx)&&void 0!==o?o:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=QF(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,o=new Set,r=e=>{if(o.add(e),t){const t=this.getLastPixelOfGroup(e),o=n+i+e.rowHeight;e.stickyRowTop=t<o?i+(t-o):i}else{const t=this.getFirstPixelOfGroup(e),o=n-(i+e.rowHeight);e.stickyRowTop=t>o?i-(t-o):i}i=0,o.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)}))},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=e=>{if(!e.displayed)return!1;if(e.footer){if(!0===s)return!1;if("grand"===s&&-1===e.level)return!1;if("group"===s&&e.level>-1)return!1;return!o.has(e)}if(e.isExpandable()){if(!0===a)return!1;return!o.has(e)&&e.expanded}return!1};for(let c=0;c<100;c++){let e=n+i;t||(e=n-i);const o=this.rowModel.getRowIndexAtPixel(e),s=this.rowModel.getRow(o);if(null==s)break;const a=this.getStickyAncestors(s).find((e=>(t?e.rowIndex<o:e.rowIndex>o)&&l(e)));if(a){r(a);continue}if(!(t?s.rowTop<e:s.rowTop+s.rowHeight>e)||!l(s))break;r(s)}return t||o.forEach((e=>{e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,o,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.getRowNode()===e))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const n="top"===e,o=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},s=[];for(let h=0;h<o.length;h++){const e=o[h].getRowNode();!t.has(e)?(r[e.id]=o[h],e.sticky=!1):s.push(o[h])}const a=new Set;for(let h=0;h<s.length;h++)a.add(s[h].getRowNode());const l=[];t.forEach((e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let c=!!l.length||s.length!==o.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(r,!1);const d=[...s,...l];d.sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)),n||d.reverse(),d.forEach((e=>e.setRowTop(e.getRowNode().stickyRowTop)));let u=0;return n?(t.forEach((e=>{e.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=e.rowHeight)})),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach((e=>{e.rowIndex>this.pageBoundsService.getLastRow()&&(u+=e.rowHeight)})),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),!!c&&(n?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const i=t.getRowNode();if(i.rowHeightEstimated){const t=this.gos.getRowHeightForNode(i);i.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},yG=class extends pN{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach((e=>e.onRangeSelectionChanged()))},t=()=>{this.getAllCellCtrls().forEach((e=>e.updateRangeBordersIfRangeCount()))},i=()=>{this.eventService.addEventListener("rangeSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("rangeSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc((()=>n())),this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?i():n()}));this.gos.get("enableRangeSelection")&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()}))}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e||(this.stickyRowFeature=this.createManagedBean(new vG(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new bG(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=TN(this.rowCtrlsByRowIndex),t=TN(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onCellFocused(e))),this.getFullWidthRowCtrls().forEach((t=>t.onFullWidthRowFocused(e)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach((t=>t.onFlashCells(e)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((e=>e.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((e=>e())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getCols().forEach((e=>{const t=t=>{this.getAllCellCtrls().forEach((i=>{i.getColumn()===e&&t(i)}))},i=()=>{t((e=>e.onLeftChanged()))},n=()=>{t((e=>e.onWidthChanged()))},o=()=>{t((e=>e.onFirstRightPinnedChanged()))},r=()=>{t((e=>e.onLastLeftPinnedChanged()))},s=()=>{t((e=>e.onColDefChanged()))};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",o),e.addEventListener("lastLeftPinnedChanged",r),e.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push((()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",o),e.removeEventListener("lastLeftPinnedChanged",r),e.removeEventListener("colDefChanged",s)}))}))}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach((i=>{const n=i.getCellElement(e);n&&t.push(n)})),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowNodes()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowNodes())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const i=Object.fromEntries(t.map((e=>[e.id,e]))),n=Object.fromEntries(e.map((e=>[e.getRowNode().id,e])));for(let o=0;o<t.length;o++){const r=t[o],s=e[o];s&&void 0===i[s.getRowNode().id]&&(s.destroyFirstPass(),s.destroySecondPass()),r.id in n?(e[o]=n[r.id],delete n[r.id]):e[o]=new f_(r,this.beans,!1,!1,this.printLayout)}e.length=t.length}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null!==(t=this.cachedRowCtrls)&&void 0!==t&&t.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const i=t[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}i||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return null===e||void 0===e||e.forEach((e=>this.redrawRow(e,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=null!==e&&void 0!==e&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=this.gos.getActiveDomElement(),n=this.gos.getDomData(i,p_.DOM_DATA_KEY_CELL_CTRL),o=this.gos.getDomData(i,f_.DOM_DATA_KEY_ROW_CTRL);return n||o?t:null}redrawAfterModelUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gos.isAnimateRows(),o=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}this.recycleRows(o,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");var n;t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),null===(n=this.stickyRowFeature)||void 0===n||n.resetOffsets())}updateContainerHeights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress){var i,n,o;const e=null!==(i=null===(n=(o=this.frameworkOverrides).getLockOnRefreshError)||void 0===n?void 0:n.call(o))&&void 0!==i?i:"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+e)}this.refreshInProgress=!0,null===(e=(t=this.frameworkOverrides).getLockOnRefresh)||void 0===e||e.call(t)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,null===(e=(t=this.frameworkOverrides).releaseLockOnRefresh)||void 0===e||e.call(t)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&setTimeout((()=>{this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((t=>{t.stopEditing(e)}))}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let t=0;t<o;t++)e.push(i[t])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((t=>t.flashCell(e)))}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&yI()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map((e=>e.getCellRenderer())).filter((e=>null!=e));if(null!==(t=e.columns)&&void 0!==t&&t.length)return i;const n=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((e=>{if(o&&!this.isRowInMap(e.getRowNode(),o))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let i=0;i<t.length;i++){const e=t[i];null!=e&&n.push(e)}})),[...n,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>{const i=e.getCellEditor();i&&t.push(i)})),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach((t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}})),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach((e=>{const i=e.id;switch(e.rowPinned){case"top":t.top[i]=e;break;case"bottom":t.bottom[i]=e;break;default:t.normal[i]=e}})),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter((e=>{const i=e.getRowNode();return this.isRowInMap(i,t)})):i}getCellCtrls(e,t){let i;fN(t)&&(i={},t.forEach((e=>{const t=this.columnModel.getCol(e);fN(t)&&(i[t.getId()]=!0)})));const n=[];return this.getRowCtrls(e).forEach((e=>{e.getAllCellCtrls().forEach((e=>{const t=e.getColumn().getId();i&&!i[t]||n.push(e)}))})),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];DN(this.rowCtrlsByRowIndex,((t,i)=>{null==i.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);const t={};return DN(this.rowCtrlsByRowIndex,((e,i)=>{const n=i.getRowNode();t[n.id]=i})),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((e=>{const i=this.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{afterScroll:t}=e;let i;this.stickyRowFeature&&yI()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature){r=this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}const s=this.firstRenderedRow!==n||this.lastRenderedRow!==o;if((!t||r||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),null!=i)){const e=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach((e=>i[e]=!0));const n=Object.keys(this.rowCtrlsByRowIndex).filter((e=>!i[e]));this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){const t=function(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}(this.firstRenderedRow,this.lastRenderedRow),i=(e,i)=>{const n=i.getRowNode().rowIndex;null!=n&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(n)};DN(this.rowCtrlsByRowIndex,i),DN(e,i),t.sort(((e,t)=>e-t));const n=[];for(let o=0;o<t.length;o++){const e=t[o],i=this.rowModel.getRow(e);i&&!i.sticky&&n.push(e)}return n}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const o=[];if(n.forEach((n=>{const r=this.createOrUpdateRowCtrl(n,e,t,i);fN(r)&&o.push(r)})),e){i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){const e={type:"displayedRowsChanged",afterScroll:arguments.length>0&&void 0!==arguments[0]&&arguments[0]};this.eventService.dispatchEvent(e)}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach((t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter((e=>{if(!e.isFullWidth())return!1;const i=e.getRowNode();return!(null!=t&&!this.isRowInMap(i,t))}))}createOrUpdateRowCtrl(e,t,i,n){let o,r=this.rowCtrlsByRowIndex[e];r||(o=this.rowModel.getRow(e),fN(o)&&fN(t)&&t[o.id]&&o.alreadyRendered&&(r=t[o.id],t[o.id]=null));if(!r){if(o||(o=this.rowModel.getRow(e)),!fN(o))return;r=this.createRowCon(o,i,n)}return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];DN(e,((e,n)=>{n&&(this.cachedRowCtrls&&n.isCacheable()?this.cachedRowCtrls.addRow(n):(n.destroyFirstPass(!t),t?(this.zombieRowCtrls[n.getInstanceId()]=n,i.push((()=>{n.destroySecondPass(),delete this.zombieRowCtrls[n.getInstanceId()]}))):n.destroySecondPass()))})),t&&(i.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),qN(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const i=this.getRowBufferInPixels(),n=this.ctrlsService.getGridBodyCtrl(),o=this.gos.get("suppressRowVirtualisation");let r,s,a=!1;do{const e=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.pageBoundsService.getCurrentPagePixelRange(),c=this.rowContainerHeightService.getDivStretchOffset(),d=n.getScrollFeature().getVScrollPosition(),u=d.top,h=d.bottom;o?(r=t+c,s=l+c):(r=Math.max(u+e-i,t)+c,s=Math.min(h+e+i,l)+c),this.firstVisibleVPixel=Math.max(u+e,t)+c,this.lastVisibleVPixel=Math.min(h+e,l)+c,a=this.ensureAllRowsInRangeHaveHeightsCalculated(r,s)}while(a);let l=this.rowModel.getRowIndexAtPixel(r),c=this.rowModel.getRowIndexAtPixel(s);const d=this.pageBoundsService.getFirstRow(),u=this.pageBoundsService.getLastRow();l<d&&(l=d),c>u&&(c=u),e=l,t=c}else e=0,t=-1;const i=this.gos.isDomLayout("normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>o&&(t=e+o);const r=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;if(r||s){this.firstRenderedRow=e,this.lastRenderedRow=t;const i={type:"viewportChanged",firstRow:e,lastRow:t};this.eventService.dispatchEvent(i)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent(e)}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var i,n;const o=null===(i=this.pinnedRowModel)||void 0===i?void 0:i.ensureRowHeightsValid(),r=null===(n=this.stickyRowFeature)||void 0===n?void 0:n.ensureRowHeightsValid(),s=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(s||r)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(r||s||o)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const t=!1,i=e.getRowNode(),n=this.focusService.isRowNodeFocused(i),o=e.isEditing(),r=i.detail;if(!(n||o||r))return t;return!!this.isRowPresent(i)||t}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const o=this.gos.get("suppressAnimationFrame"),r=i&&!o&&!this.printLayout;return new f_(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map((e=>e.getRowNode()))}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null,t||(t=this.getStickyBottomRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},bG=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.getRowNode()!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],eN(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],eN(this.entriesList,e)}getEntries(){return this.entriesList}},CG=class extends pN{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",(()=>this.setPinnedTopRowData())),this.addManagedPropertyListener("pinnedBottomRowData",(()=>this.setPinnedBottomRowData())),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return yN("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(yN(i))return 0;for(let n=0;n<i.length;n++){const t=i[n];if(t.rowTop+t.rowHeight-1>=e)return n}return i.length-1}onGridStylesChanges(e){if(e.rowHeightChanged){const e=e=>{e.setRowHeight(e.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){var e,t;let i=!1,n=0;const o=e=>{if(e.rowHeightEstimated){const t=this.gos.getRowHeightForNode(e);e.setRowTop(n),e.setRowHeight(t.height),n+=t.height,i=!0}};null===(e=this.pinnedBottomRows)||void 0===e||e.forEach(o),n=0,null===(t=this.pinnedTopRows)||void 0===t||t.forEach(o);return this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),i}setPinnedTopRowData(){const e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}setPinnedBottomRowData(){const e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}createNodesFromData(e,t){const i=[];if(e){const n=this.gos.getRowIdCallback(),o=t?pj.ID_PREFIX_TOP_PINNED:pj.ID_PREFIX_BOTTOM_PINNED;let r=0;const s=t?"top":"bottom";e.forEach(((e,t)=>{var a;const l=new pj(this.beans);l.data=e,l.id=null!==(a=null===n||void 0===n?void 0:n({data:e,level:0,rowPinned:s}))&&void 0!==a?a:o+this.nextId++,l.rowPinned=s,l.setRowTop(r),l.setRowHeight(this.gos.getRowHeightForNode(l).height),l.setRowIndex(t),r+=l.rowHeight,i.push(l)}))}return i}getPinnedTopRowNodes(){return this.pinnedTopRows}getPinnedBottomRowNodes(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){yN(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){yN(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;const t=QF(e);return t.rowTop+t.rowHeight}},wG=class extends pN{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(){const e={type:"loadComplete",success:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],block:this};this.dispatchLocalEvent(e)}},xG={version:uB,moduleName:"@ag-grid-community/row-node-block",beans:[class extends pN{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=JN(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){eN(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&WN("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter((e=>"needsLoading"===e.getState())).slice(0,e);this.registerLoads(t.length),t.forEach((e=>e.load())),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide")){return this.rowModel.getBlockStates()}const e={};return this.blocks.forEach((t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n})),e}printCacheStatus(){this.gos.get("debug")&&WN("RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,", blocks = ").concat(JSON.stringify(this.getBlockState())))}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},SG=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some((t=>t.id===e.id))}getRoot(){var e,t;this.root&&null===(null===(e=this.root)||void 0===e?void 0:e.key)&&(this.root=null!==(t=this.rowModel.getRowNode(this.root.id))&&void 0!==t?t:null);return this.root}getEnd(){var e,t;this.end&&null===(null===(e=this.end)||void 0===e?void 0:e.key)&&(this.end=null!==(t=this.rowModel.getRowNode(this.end.id))&&void 0!==t?t:null);return this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const i=t[0].id===this.root.id,n=t.findIndex((t=>t.id===e.id));if(n>-1){const o=t.slice(0,n),r=t.slice(n+1);return this.setEndRange(e),i?{keep:o,discard:r}:{keep:r,discard:o}}return{keep:t,discard:[]}}extend(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.getRoot();if(null==i){const i=this.getRange().slice();return t&&e.depthFirstSearch((e=>!e.group&&i.push(e))),i.push(e),this.setRoot(e),{keep:i,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find((e=>{var t;return e.id===(null===(t=this.end)||void 0===t?void 0:t.id)})))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}},RG=class extends pN{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,o){if(null==t&&null==e)return;const r={},s={},a=(e,t)=>{e.split(" ").forEach((e=>{""!=e.trim()&&t(e)}))};if(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const o=e[n],l=t[o];let c;"string"===typeof l?c=this.expressionService.evaluate(l,i):"function"===typeof l&&(c=l(i)),a(o,(e=>{c?r[e]=!0:s[e]=!0}))}}e&&o&&Object.keys(e).forEach((e=>a(e,(e=>{r[e]||(s[e]=!0)})))),o&&Object.keys(s).forEach(o),Object.keys(r).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;if("function"===typeof i){n=i(t)}else n=i;return"string"===typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach((e=>{i(e)}))}},MG=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(MG||{}),kG=class extends pN{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new bj(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let o,r;e?(o=0,r=n):(o=n+1,r=i.length);const s=i.slice(o,r),a=this.gos.get("tabIndex");s.sort(((e,t)=>{const i=parseInt(e.getAttribute("tabindex")||"0"),n=parseInt(t.getAttribute("tabindex")||"0");return n===a?1:i===a?-1:0===i?1:0===n?-1:i-n})),s[e?s.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout((()=>this.activateTabGuards()),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(null===t||void 0===t||t)}setAllowFocus(e){this.allowFocus=e}},DG=class extends pN{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,o=[t,i],r={setTabIndex:e=>{o.forEach((t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")))}};this.addTabGuards(t,i);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new kG({comp:r,focusTrapActive:s,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=this.gos.getDocument().createElement("div"),i="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),JL(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];OI(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){UI(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},AG=class extends eO{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new DG(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},EG=0,TG=class extends pN{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);if(-1!==n){this.popupList[n].alignedToElement=t}const o=t.getBoundingClientRect(),r=this.getParentRect(),s=this.keepXYWithinBounds(i,o.top-r.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth="".concat(a,"px");const l=r.right-r.left-a;let c;function d(){return o.right-r.left-2}function u(){return o.left-r.left-a}this.gos.get("enableRtl")?(c=u(),c<0&&(c=d(),this.setAlignedStyles(i,"left")),c>l&&(c=0,this.setAlignedStyles(i,"right"))):(c=d(),c>l&&(c=u(),this.setAlignedStyles(i,"right")),c<0&&(c=0,this.setAlignedStyles(i,"left"))),i.style.left="".concat(c,"px"),i.style.top="".concat(s,"px")}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,eventSource:r,alignSide:s="left",position:a="over",column:l,rowNode:c,type:d}=e,u=r.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(-1!==p){this.popupList[p].alignedToElement=r}this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,updatePosition:()=>{let i,o=u.left-h.left;if("right"===s&&(o-=t.offsetWidth-u.width),"over"===a)i=u.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");i="under"===this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)?u.top-h.top+u.height:u.top-t.offsetHeight-2*(n||0)-h.top}return{x:o,y:i}},postProcessCallback:()=>this.callPostProcessPopup(d,t,r,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,n){const o=i.bottom-t.bottom,r=t.top-i.top,s=e.offsetHeight+n;return o>s?"under":r>s||r>o?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i],{alignedToElement:o}=n;if(!o)return;["right","left","over","above","under"].forEach((t=>{o.classList.remove("ag-has-popup-positioned-".concat(t)),e.classList.remove("ag-popup-positioned-".concat(t))})),t&&(o.classList.add("ag-has-popup-positioned-".concat(t)),e.classList.add("ag-popup-positioned-".concat(t)))}callPostProcessPopup(e,t,i,n,o,r){const s=this.gos.getCallback("postProcessPopup");if(s){s({column:o,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}}positionPopup(e){var t=this;const{ePopup:i,keepWithinBounds:n,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},c=function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:c,y:d}=a();s&&i.clientWidth===l.width&&i.clientHeight===l.height||(l.width=i.clientWidth,l.height=i.clientHeight,o&&(c+=o),r&&(d+=r),n&&(c=t.keepXYWithinBounds(i,c,1),d=t.keepXYWithinBounds(i,d,0)),i.style.left="".concat(c,"px"),i.style.top="".concat(d,"px"),e.postProcessCallback&&e.postProcessCallback())};if(c(),!s){const e=this.resizeObserverService.observeResize(i,(()=>c(!0)));setTimeout((()=>e()),200)}}getActivePopups(){return this.popupList.map((e=>e.element))}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),FI(t)}keepXYWithinBounds(e,t,i){const n=0===i,o=n?"clientHeight":"clientWidth",r=n?"top":"left",s=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=d===l.body,m=Math.ceil(u[s]);let f=g?(n?TI:PI)(c)+c[a]:d[o];g&&(f-=Math.abs(p[r]-h[r]));const v=f-m;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=this.gos.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:o,positionCallback:r,anchorToElement:s}=e;if(!t)return UN("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a){return{hideFunc:this.popupList[a].hideFunc}}this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!o),c=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(i,l,c,s),{hideFunc:c}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();fN(e.style.top)||(e.style.top="".concat(-1*t.top,"px")),fN(e.style.left)||(e.style.left="".concat(-1*t.left,"px"))}createPopupWrapper(e,t,i){const n=this.getPopupParent(),o=document.createElement("div");return this.environment.applyThemeClasses(o),o.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||JL(e,"dialog"),$L(e,t),o.appendChild(e),n.appendChild(o),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){var t=this;const i=this.gos.getDocument(),n=this.getPopupParent(),{wrapperEl:o,eChild:r,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:c}=e;let d=!1;const u=e=>{if(!o.contains(this.gos.getActiveDomElement()))return;e.key!==mO.ESCAPE||cN(e)||g({keyboardEvent:e})},h=e=>g({mouseEvent:e}),p=e=>g({touchEvent:e}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:a,touchEvent:l,keyboardEvent:c,forceHide:g}=e;(g||!t.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},r)&&!d)&&(d=!0,n.removeChild(o),i.removeEventListener("keydown",u),i.removeEventListener("mousedown",h),i.removeEventListener("touchstart",p),i.removeEventListener("contextmenu",h),t.eventService.removeEventListener("dragStarted",h),s&&s(a||l||c),t.removePopupFromPopupList(r))};return a&&a({hidePopup:g}),window.setTimeout((()=>{l&&i.addEventListener("keydown",u),c&&(i.addEventListener("mousedown",h),this.eventService.addEventListener("dragStarted",h),i.addEventListener("touchstart",p),i.addEventListener("contextmenu",h))}),0),g}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:EG++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex((t=>t.element===e))}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then((e=>e&&e())),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=o,n.isAnchored=!0,o}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((t=>t.element!==e))}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:o}=e,r=n.getBoundingClientRect(),s=i.top-r.top,a=i.left-r.left;let l=s,c=a;const d=o.style.top,u=parseInt(d.substring(0,d.length-1),10),h=o.style.left,p=parseInt(h.substring(0,h.length-1),10),g=this.getFrameworkOverrides();return new FO((i=>{g.wrapIncoming((()=>{g.setInterval((()=>{const i=t.getBoundingClientRect(),r=n.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)return void e.hidePopup();const d=i.top-r.top;if(d!=l){const e=this.keepXYWithinBounds(o,u+s-d,0);o.style.top="".concat(e,"px")}l=d;const h=i.left-r.left;if(h!=c){const e=this.keepXYWithinBounds(o,p+a-h,1);o.style.left="".concat(e,"px")}c=h}),200).then((e=>{i((()=>{null!=e&&window.clearInterval(e)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((e=>e.isAnchored))}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,o=i||n;if(!o)return!1;const r=this.getPopupIndex(t);if(-1===r)return!1;for(let s=r;s<this.popupList.length;s++){if(hN(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return!1;const a=i.indexOf(s),l=s.querySelectorAll("div"),c=[];l.forEach((e=>{0!==e.scrollTop&&c.push([e,e.scrollTop])}));let d=!1;if(r){s.classList.contains("ag-always-on-top")?a!==n-1&&(QF(o).insertAdjacentElement("afterend",s),d=!0):a!==n-r-1&&(o[0].insertAdjacentElement("beforebegin",s),d=!0)}else a!==n-1&&(QF(i).insertAdjacentElement("afterend",s),d=!0);for(;c.length;){const e=c.pop();e[0].scrollTop=e[1]}return d}},PG=["touchstart","touchend","touchmove","touchcancel"],FG=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new FO((i=>{i(window.setInterval(e,t))}))}addEventListener(e,t,i,n){const o=nN(PG,t);e.addEventListener(t,i,{capture:!!n,passive:o})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){const t="solid"===this.frameworkName?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")}},NG=class extends pN{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===mO.UP,n=e===mO.DOWN,o=e===mO.LEFT;let r,s;if(i||n)s=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),r=t.column;else{const e=this.visibleColsService.getAllCols(),i=this.gos.get("enableRtl");s=t.rowIndex,r=o!==i?e[0]:QF(e)}return{rowIndex:s,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case mO.UP:i=this.getCellAbove(i);break;case mO.DOWN:i=this.getCellBelow(i);break;case mO.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case mO.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,UN("unknown key for navigation ",e)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}if(!i)return!1;return!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n);return o||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let i=[];i=this.rowRenderer.getStickyTopRowCtrls().some((t=>t.getRowNode().rowIndex===e.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex));const n=t?-1:1,o=i.findIndex((t=>t.getRowNode().rowIndex===e.rowIndex)),r=i[o+n];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;if("top"===t){return this.pinnedRowModel.getPinnedTopRowNodes().length-1<=i}if("bottom"===t){return this.pinnedRowModel.getPinnedBottomRowNodes().length-1<=i}return this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.pageBoundsService.getFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowNodes().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,o=this.visibleColsService.getColAfter(e.column);if(!o){var r,s;o=t[0];const a=this.getRowBelow(e);if(vN(a))return null;if(!a.rowPinned&&null!==(r=null===(s=this.paginationService)||void 0===s?void 0:s.isRowInPage(a))&&void 0!==r&&!r)return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,o=this.visibleColsService.getColBefore(e.column);if(!o){var r,s;o=QF(t);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(vN(a))return null;if(!a.rowPinned&&null!==(r=null===(s=this.paginationService)||void 0===s?void 0:s.isRowInPage(a))&&void 0!==r&&!r)return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}};function LG(e,t){e.eventService.dispatchEvent(t)}var IG=class extends pN{constructor(){super(...arguments),this.beanName="apiFunctionService",this.functions={dispatchEvent:LG},this.isDestroyed=!1}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}callFunction(e,t){var i;const n=this.functions[e];return n?n.apply(n,[this.beans,...t]):this.isDestroyed?this.destroyedHandler(e):void(this.isFrameworkMethod(e)||null===(i=this.beans.validationService)||void 0===i||i.warnMissingApiFunction(e))}addFunction(e,t){const{validationService:i}=this.beans;i&&(t=i.validateApiFunction(e,t)),this.functions[e]=t}destroy(){this.functions={},this.isDestroyed=!0,super.destroy()}destroyedHandler(e){if("isDestroyed"===e)return!0;"destroy"!==e&&UN("Grid API function ".concat(e,"() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(this.preDestroyLink))}isFrameworkMethod(e){return["preWireBeans","wireBeans","preConstruct","postConstruct"].includes(e)}};function OG(e){const t=e.getBean("apiFunctionService");return new Proxy(t,{get(e,t){if("then"!==t)return function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e.callFunction(t,n)}}})}function jG(e){return{beanName:"gridApi",bean:OG(e)}}var BG=class extends pN{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const n=[],o={};return e.forEach((e=>{let r=!0,s=this.createDefFromColumn(e,t,i),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=o[a.getGroupId()];if(t){t.children.push(s),r=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[s],o[e.groupId]=e,s=e,a=a.getOriginalParent()),null!=a&&l===a){r=!1;break}l=a}r&&n.push(s)})),n}createDefFromGroup(e){const t=EN(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=EN(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}},_G=class extends pN{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){const t={type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(t)}groupOpened(e){const t={type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e};this.eventService.dispatchEvent(t)}rowGroupChanged(e,t){const i={type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t};this.eventService.dispatchEvent(i)}genericColumnEvent(e,t,i){const n={type:e,columns:t,column:1===t.length?t[0]:null,source:i};this.eventService.dispatchEvent(n)}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){const t={type:"virtualColumnsChanged",afterScroll:e};this.eventService.dispatchEvent(t)}newColumnsLoaded(e){const t={type:"newColumnsLoaded",source:e};this.eventService.dispatchEvent(t)}everythingChanged(e){const t={type:"columnEverythingChanged",source:e};this.eventService.dispatchEvent(t)}columnMoved(e){const{movedColumns:t,source:i,toIndex:n,finished:o}=e,r={type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:o,source:i};this.eventService.dispatchEvent(r)}columnPinned(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,(e=>e.getPinned())),o={type:"columnPinned",pinned:null!=n?n:null,columns:e,column:i,source:t};this.eventService.dispatchEvent(o)}columnVisible(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n={type:"columnVisible",visible:this.getCommonValue(e,(e=>e.isVisible())),columns:e,column:i,source:t};this.eventService.dispatchEvent(n)}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}columnChanged(e,t,i){const n={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i};this.eventService.dispatchEvent(n)}columnResized(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&e.length){const o={type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:i};this.eventService.dispatchEvent(o)}}},GG=class extends pN{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(vN(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const e=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,o=e.isPivotActive()?i.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:o,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map(((e,t)=>[e.getColId(),t])));e.sort(((e,t)=>(i.has(e.colId)?i.get(e.colId):-1)-(i.has(t.colId)?i.get(t.colId):-1)))}},zG=class extends pN{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return lL(null,this.columnModel.getColTree(),(t=>{_N(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];lL(null,t,(e=>{if(_N(e)){const t=e.getColGroupDef(),n={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};i.push(n)}})),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const i=[];e.forEach((e=>{const t=e.groupId,n=e.open,o=this.columnModel.getProvidedColGroup(t);o&&o.isExpanded()!==n&&(o.setExpanded(n),i.push(o))})),this.visibleColsService.refresh(t,!0),i.length&&this.eventDispatcher.groupOpened(i),this.columnAnimationService.finish()}},HG=class extends pN{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const e=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=e-this.scrollPosition-this.scrollWidth,this.viewportRight=e-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t]}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200;return!(t<n&&i<n)&&!(t>o&&i>o)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),i=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,i,t,(e=>{const t=e.getLeft();return fN(t)&&t>this.viewportLeft}))}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach((t=>e[t.getId()]=!0));const n=(t,i,o)=>{let r=!1;for(let s=0;s<t.length;s++){const a=t[s];let l=!1;if(jN(a))l=!0===e[a.getId()];else{const e=a.getDisplayedChildren();e&&(l=n(e,i,o+1))}l&&(r=!0,i[o]||(i[o]=[]),i[o].push(a))}return r};n(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),n(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),n(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map((e=>"".concat(e.getId(),"-").concat(e.getPinned()||"normal"))).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}},VG=class extends pN{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(){return!1}getGui(){return this.eGui}init(t){const i=e(t),n=typeof i;this.eGui="string"!==n&&"number"!==n&&"boolean"!==n?null!=i?i:GI("<span></span>"):GI("<span>"+i+"</span>")}}}doesImplementIComponent(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}},WG=class extends pN{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},UG=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map(((e,t)=>[e,t])));function YG(e,t){var i,n;return(null!==(i=e.beanName?UG[e.beanName]:void 0)&&void 0!==i?i:Number.MAX_SAFE_INTEGER)-(null!==(n=t.beanName?UG[t.beanName]:void 0)&&void 0!==n?n:Number.MAX_SAFE_INTEGER)}function KG(e,t){return"gridDestroyService"===(null===e||void 0===e?void 0:e.beanName)?-1:0}var qG=class extends pN{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e){const t=this.registry[e];if(null!=t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return new t(...n)}}},XG=class extends pN{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach((t=>t(e))),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){const i=this.params;switch(t){case"left":i.leftHeader=e;break;case"right":i.rightHeader=e;break;default:i.centerHeader=e}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},ZG=class extends pN{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return"".concat(t,".").concat(null==i?"null":i,".").concat(n.getId())}equals(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return i&&n&&o}},QG=class extends pN{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},JG=class extends pN{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowNodes()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowNodes()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(fN(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},$G={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},ez={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},tz={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},iz=class extends pN{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl($G),this.getSizeEl(ez),this.getSizeEl(tz)}getDefaultRowHeight(){return this.getCSSVariablePixelValue($G)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(ez)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(tz)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(e){for(const t of Array.from(e.classList))t.startsWith("ag-theme-")&&!this.themeClasses.includes(t)&&e.classList.remove(t);for(const t of this.themeClasses)e.classList.contains(t)||e.classList.add(t)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i="".concat(t,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const i=this.measureSizeEl(e);return"detached"===i||"no-styles"===i?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const i=t.offsetWidth;return i===oz?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width="var(".concat(e.cssName,", ").concat(oz,"px)"),i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);"no-styles"===n&&UN("no value for ".concat(e.cssName,". This usually means that the grid has been initialised before styles have been loaded. The default value of ").concat(e.defaultValue," will be used and updated when styles load."));const o=this.resizeObserverService.observeResize(t,(()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==n&&(n=t,this.fireGridStylesChangedEvent(e.changeKey)))}));return this.addDestroyFunc((()=>o())),t}fireGridStylesChangedEvent(e){const t={type:"gridStylesChanged",[e]:!0};this.eventService.dispatchEvent(t)}setUpThemeClassObservers(){const e=new MutationObserver((()=>{const e=this.getAncestorThemeClasses();nz(e,this.themeClasses)||(this.themeClasses=e,this.fireGridStylesChangedEvent("themeChanged"))}));let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}getAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(this.eThemeAncestor=null;e;){const i=Array.from(e.classList).filter((e=>e.startsWith("ag-theme-")));for(const n of i)this.eThemeAncestor=e,t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}},nz=(e,t)=>e.length===t.length&&-1===e.findIndex(((i,n)=>e[n]!==t[n])),oz=15538,rz=class extends pN{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new ZF}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},sz=class e extends pN{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=e.keyboardModeActive,n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||i!==n&&(e.keyboardModeActive=n)}static unregisterGridCompController(t){e.removeKeyboardModeEvents(t)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl}))}registerKeyboardFocusEvents(){const t=this.gos.getDocument();e.addKeyboardModeEvents(t),e.instanceCount++,this.addDestroyFunc((()=>{e.instanceCount--,e.unregisterGridCompController(t)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return e.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),f_.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),cB.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gos.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,n={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e={type:"cellFocusCleared",...this.getFocusEventParams()};this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:r=!1}=e,s=this.columnModel.getCol(t);if(!s)return void(this.focusedCellPosition=null);this.focusedCellPosition=s?{rowIndex:i,rowPinned:mN(n),column:s}:null;const a={type:"cellFocused",...this.getFocusEventParams(),forceBrowserFocus:o,preventScrollOnBrowserFocus:r};this.eventService.dispatchEvent(a)}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),n=e.getPinned(),{column:o,headerRowIndex:r}=this.focusedHeaderPosition;return t===o&&i===r&&n==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){var t;if(this.gos.get("suppressHeaderFocus"))return!1;const{direction:i,fromTab:n,allowUserOverride:o,event:r,fromCell:s,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(s&&null!==(t=this.filterManager)&&void 0!==t&&t.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(o){const e=this.getFocusedHeader(),t=this.headerNavigationService.getHeaderRowCount();if(n){const n=this.gos.getCallback("tabToNextHeader");n&&(l=this.getHeaderPositionFromUserFunc({userFunc:n,direction:i,currentPosition:e,headerPosition:l,headerRowCount:t}))}else{const i=this.gos.getCallback("navigateToNextHeader");if(i&&r){l=i({key:r.key,previousHeaderPosition:e,nextHeaderPosition:l,headerRowCount:t,event:r})}}}return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:r,fromCell:s,rowWithoutSpanValue:a})}focusHeaderPositionFromUserFunc(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc:t,headerPosition:i,direction:n,event:o}=e,r=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:o})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:n,headerPosition:o,headerRowCount:r}=e,s=t({backwards:"Before"===i,previousHeaderPosition:n,nextHeaderPosition:o,headerRowCount:r});return!0===s||null===s?(null===s&&UN("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),n):!1===s?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:o,event:r}=e,{column:s,headerRowIndex:a}=t;var l;if(-1===a)return null!==(l=this.filterManager)&&void 0!==l&&l.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(s);this.headerNavigationService.scrollToColumn(s,i);const c=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).focusHeader(t.headerRowIndex,s,r);return c&&(null!=o||n)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(null!==o&&void 0!==o?o:-1),c}focusFirstHeader(){let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=QF(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return null!==(t=this.filterManager)&&void 0!==t&&t.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===mN(t))}findFocusableElements(e,t){let i=xI;t&&(i+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(i+=', [tabindex="-1"]');const n=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter((e=>_I(e))),o=Array.prototype.slice.apply(e.querySelectorAll(i));if(!o.length)return n;return r=o,n.filter((e=>-1===r.indexOf(e)));var r}focusInto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.findFocusableElements(e,null,i),o=t?QF(n):n[0];return!!o&&(o.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),n=i.indexOf(t);if(-1===n)return null;let o=-1;for(let r=n-1;r>=0;r--)if(i[r].classList.contains("ag-tab-guard-top")){o=r;break}return o<=0?null:i[o-1]}findNextFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=this.gos.getActiveDomElement();let r;r=t?n.findIndex((e=>e.contains(o))):n.indexOf(o);const s=r+(i?-1:1);return s<0||s>=n.length?null:n[s]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(".".concat(bj.FOCUS_MANAGED_CLASS));if(!i.length)return!1;for(let n=0;n<i.length;n++)if(i[n].contains(t))return!0;return!1}findTabbableParent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=0;for(;e&&null===bI(e)&&++i<=t;)e=e.parentElement;return null===bI(e)?null:e}focusGridView(e,t){var i;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:o,rowPinned:r}=n,s=this.getFocusedHeader();return!e&&s&&(e=s.column),!(null==o||!e)&&(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:r}),this.setFocusedCell({rowIndex:o,column:e,rowPinned:mN(r),forceBrowserFocus:!0}),null===(i=this.rangeService)||void 0===i||i.setRangeToCell({rowIndex:o,rowPinned:r,column:e}),!0)}focusNextGridCoreContainer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var t,i;return this.advancedFilterFocusColumn=null===e||void 0===e?void 0:e.column,null!==(t=null===(i=this.advancedFilterService)||void 0===i?void 0:i.getCtrl().focusHeaderComp())&&void 0!==t&&t}focusNextFromAdvancedFilter(e,t){var i,n;const o=null!==(i=t?void 0:this.advancedFilterFocusColumn)&&void 0!==i?i:null===(n=this.visibleColsService.getAllCols())||void 0===n?void 0:n[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}};sz.keyboardModeActive=!1,sz.instanceCount=0;var az=sz,lz=class extends pN{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},cz=class extends pN{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.gridId);const{dragAndDropService:n,mouseEventService:o,ctrlsService:r,resizeObserverService:s}=this.beans;n.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"}),o.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new YB(this.view)),this.addRtlSupport();const a=s.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>a())),r.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return(null===t||void 0===t||null===(e=t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1}getOptionalSelectors(){var e,t,i,n,o;const r=this.beans;return{paginationSelector:null===(e=r.paginationService)||void 0===e?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:null===(t=r.columnDropZonesService)||void 0===t?void 0:t.getDropZoneSelector(),sideBarSelector:null===(i=r.sideBarService)||void 0===i?void 0:i.getSideBarSelector(),statusBarSelector:null===(n=r.statusBarService)||void 0===n?void 0:n.getStatusPanelSelector(),watermarkSelector:null===(o=r.licenseManager)||void 0===o?void 0:o.getWatermarkSelector()}}onGridSizeChanged(){const e={type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),i=this.gos.getActiveDomElement(),n=t.findIndex((e=>e.getGui().contains(i))),o=n+(e?-1:1);if(o<0||o>=t.length)return!1;if(0===o){if(n>0){const e=QF(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(e,!0))return!0}return!1}return this.focusContainer(t[o],e)}focusInnerElement(e){const t=this.getFocusableContainers(),i=this.visibleColsService.getAllCols(),n=this.gos.getCallback("focusGridInnerElement");if(n&&n({fromBottom:!!e}))return!0;if(e){if(t.length>1)return this.focusContainer(QF(t),!0);const e=QF(i);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let e=1;e<t.length;e++)if(this.focusService.focusInto(t[e].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}focusContainer(e,t){var i,n;null===e||void 0===e||null===(i=e.setAllowFocus)||void 0===i||i.call(e,!0);const o=this.focusService.focusInto(e.getGui(),t);return null===e||void 0===e||null===(n=e.setAllowFocus)||void 0===n||n.call(e,!1),o}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers.values()]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},dz={version:uB,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends pN{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){var e;let t=null!==(e=this.gos.get("alignedGrids"))&&void 0!==e?e:[];const i="function"===typeof t;"function"===typeof t&&(t=t());const n=()=>"See ".concat(this.getFrameworkOverrides().getDocLink("aligned-grids"));return t.map((e=>{if(!e)return YN("alignedGrids contains an undefined option."),i||YN('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void YN(n());if(this.isGridApi(e))return e;const t=e;var o;return"current"in t?null===(o=t.current)||void 0===o?void 0:o.api:(t.api||YN("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(n())),t.api)})).filter((e=>!!e&&!e.isDestroyed()))}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:e=>{let{event:t}=e;return this.onColumnEvent(t)},alignedGridScroll:e=>{let{event:t}=e;return this.onScrollEvent(t)}})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach((t=>{t.isDestroyed()||t.dispatchEvent(e)}))}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){const t={type:"alignedGridColumn",event:e};this.fireEvent(t)}fireScrollEvent(e){if("horizontal"!==e.direction)return;const t={type:"alignedGridScroll",event:e};this.fireEvent(t)}onScrollEvent(e){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach((e=>{t.push(e)})):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach((e=>{t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent((()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{const t=e;this.processColumnEvent(t);break}case"columnGroupOpened":{const t=e;this.processGroupOpenedEvent(t);break}case"columnPivotChanged":UN("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(e){e.columnGroups.forEach((e=>{let t=null;if(e){const i=e.getGroupId();t=this.columnModel.getProvidedColGroup(i)}e&&!t||this.columnModel.setColumnGroupOpened(t,e.isExpanded(),"alignedGridChanged")}))}processColumnEvent(e){const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const n=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const t=e.api.getColumnState().map((e=>({colId:e.colId})));this.columnApplyStateService.applyColumnState({state:t,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const t=e.api.getColumnState().map((e=>({colId:e.colId,hide:e.hide})));this.columnApplyStateService.applyColumnState({state:t},"alignedGridChanged")}break;case"columnPinned":{const t=e.api.getColumnState().map((e=>({colId:e.colId,pinned:e.pinned})));this.columnApplyStateService.applyColumnState({state:t},"alignedGridChanged")}break;case"columnResized":{var o;const t=e,i={};n.forEach((e=>{i[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(o=t.flexColumns)||void 0===o||o.forEach((e=>{i[e.getId()]&&delete i[e.getId()]})),this.columnSizeService.setColumnWidths(Object.values(i),!1,t.finished,"alignedGridChanged");break}}const r=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((e=>{e.setGridOption("alwaysShowVerticalScroll",r)}))}}]};var uz={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},hz=["january","february","march","april","may","june","july","august","september","october","november","december"],pz={version:uB,moduleName:"@ag-grid-community/data-type",beans:[class extends pN{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(dL(e.source))}))}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const i=e=>t=>{const{column:i,node:n,value:o}=t;let r=i.getColDef().valueFormatter;return r===e.groupSafeValueFormatter&&(r=e.valueFormatter),this.valueService.formatValue(i,n,o,r)};Object.entries(t).forEach((e=>{let[t,n]=e;const o={...n,groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)};this.dataTypeDefinitions[t]=o,this.formatValueFuncs[t]=i(o)}));const n=null!==(e=this.gos.get("dataTypeDefinitions"))&&void 0!==e?e:{};this.dataTypeMatchers={},Object.entries(n).forEach((e=>{let[o,r]=e;const s=this.processDataTypeDefinition(r,n,[o],t);s&&(this.dataTypeDefinitions[o]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[o]=r.dataTypeMatcher),this.formatValueFuncs[o]=i(s))})),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach((e=>{const i=this.dataTypeMatchers[e];i&&delete this.dataTypeMatchers[e],this.dataTypeMatchers[e]=null!==i&&void 0!==i?i:t[e].dataTypeMatcher}))}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...sL(e.columnTypes),...sL(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let o;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let i=n[r];const s=t[r];if(i&&s&&(i=s),!this.validateDataTypeDefinition(e,i,r))return;o=this.mergeDataTypeDefinitions(i,e)}else{if(i.includes(r))return void UN('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const s=t[r];if(!this.validateDataTypeDefinition(e,s,r))return;const a=this.processDataTypeDefinition(s,t,[...i,r],n);if(!a)return;o=this.mergeDataTypeDefinitions(a,e)}return{...o,groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(UN('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(UN("The data type definition ".concat(i," does not exist.")),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i;if(null!==(i=t.node)&&void 0!==i&&i.group){const i=t.column.getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"===typeof t.value)return e.valueFormatter(t);if("object"===typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){var n;if("string"!==typeof t.value||null!==(n=e.dataTypeMatcher)&&void 0!==n&&n.call(e,t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:o}=t;if(void 0===n&&(n=e.cellDataType),null!=n&&!0!==n||(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(o,i)),!n)return void(e.cellDataType=!1);const r=this.dataTypeDefinitions[n];if(r)return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,i),r.columnTypes;UN('Missing data type definition - "'.concat(n,'"'))}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=e=>{t.add(e.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push((()=>e.removeEventListener("columnStateUpdated",i)))}canInferCellDataType(e,t){if("clientSide"!==this.rowModel.getType())return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const n=null===t.type?e.type:t.type;if(n){var o;const e=null!==(o=this.gos.get("columnTypes"))&&void 0!==o?o:{};if(sL(n).some((t=>{const n=e[t.trim()];return n&&this.doColDefPropsPreventInference(n,i)})))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((i=>{let[n,o]=i;return this.doesColDefPropPreventInference(e,t,n,o)}))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const o=e[i];return null===o?(t[i]=!1,!1):void 0===n?!!o:o===n}inferCellDataType(e,t){var i;if(!e)return;let n;const o=this.getInitialData();if(o){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=FN(o,e,t)}else this.initWaitForRowData(t);if(null==n)return;const[r]=null!==(i=Object.entries(this.dataTypeMatchers).find((e=>{let[t,i]=e;return i(n)})))&&void 0!==i?i:["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(null!==e&&void 0!==e&&e.length)return e[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(null!==e&&void 0!==e&&e.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:n}=e;if(!n)return;null===i||void 0===i||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();this.eventService.dispatchEvent({type:"dataTypesInferred"})}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach((e=>{let[r,s]=e;const a=this.columnModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const e=this.getUpdatedColumnState(a,s);e.rowGroup&&null==e.rowGroupIndex&&(n[r]=e),e.pivot&&null==e.pivotIndex&&(o[r]=e),i.push(e)}})),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,o)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach((e=>{delete i[e],"rowGroup"===e?delete i.rowGroupIndex:"pivot"===e&&delete i.pivotIndex})),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){var t;return e&&null!==(t=this.getDataTypeDefinition(e))&&void 0!==t?t:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null===(t=this.getDataTypeDefinition(e))||void 0===t?void 0:t.baseDataType}checkType(e,t){var i;if(null==t)return!0;const n=null===(i=this.getDataTypeDefinition(e))||void 0===i?void 0:i.dataTypeMatcher;return!n||n(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||UN('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&UN('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){const o=this.formatValueFuncs[t],r=hO.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),s=this.localeService.getLocaleTextFunc(),a=t=>{const{filterParams:i}=e;e.filterParams="object"===typeof i?{...i,...t}:t};switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor",r&&a({comparator:(e,t)=>{const i=null==e?0:parseInt(e),n=null==t?0:parseInt(t);return i===n?0:i>n?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===mO.SPACE,a(r?{valueFormatter:e=>fN(e.value)?s(String(e.value),e.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=o,r&&a({valueFormatter:e=>{const t=o(e);return fN(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=hz[Number(e)-1];return s(t,uz[t])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=o;const t=i.dateParser;a(r?{valueFormatter:e=>{const t=o(e);return fN(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:e=>{const i=t(null!==e&&void 0!==e?e:void 0);return i?[String(i.getFullYear()),String(i.getMonth()+1),String(i.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=hz[Number(e)-1];return s(t,uz[t])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}}:{comparator:(e,i)=>{const n=t(i);return null==i||n<e?-1:n>e?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{const i=this.columnModel.getColDefCol(n),r=null===i||void 0===i?void 0:i.getColDef();if(!i||!r)return 0;const s=null==e?"":o({column:i,node:null,value:e}),a=null==t?"":o({column:i,node:null,value:t});return s===a?0:s>a?1:-1},e.keyCreator=o,r?a({valueFormatter:e=>{const t=o(e);return fN(t)?t:s("blanks","(Blanks)")}}):e.filterValueGetter=e=>o({column:e.column,node:e.node,value:this.valueService.getValue(e.column,e.node)})}}getDefaultDataTypes(){const e=e=>!!e.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>{var t,i;return""===(null===(t=e.newValue)||void 0===t||null===(i=t.trim)||void 0===i?void 0:i.call(t))?null:Number(e.newValue)},valueFormatter:e=>null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:bN(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>{var t,i;return null==e.newValue?e.newValue:""===(null===(t=e.newValue)||void 0===t||null===(i=t.trim)||void 0===i?void 0:i.call(t))?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:{baseDataType:"date",valueParser:e=>Jj(null==e.newValue?null:String(e.newValue)),valueFormatter:e=>{var i;return null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?null!==(i=Xj(e.value,!1))&&void 0!==i?i:"":t("invalidDate","Invalid Date")},dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>{var t;return null!==(t=Jj(e))&&void 0!==t?t:void 0},dateFormatter:e=>{var t;return null!==(t=Xj(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0},valueParser:t=>e(String(t.newValue))?t.newValue:null,valueFormatter:t=>e(String(t.value))?t.value:"",dataTypeMatcher:t=>"string"===typeof t&&e(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>{var t;return null!==(t=bN(e.value))&&void 0!==t?t:""}}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((e=>e())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};var gz={version:uB,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function(e,t,i){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),o="aria-".concat(t);null===i?n.removeAttribute(o):n.setAttribute(o,i)},refreshCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.refreshCells(t)))},flashCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e=>UN("Since v31.1 api.flashCells parameter '".concat(e,"Delay' is deprecated. Please use '").concat(e,"Duration' instead."));fN(t.fadeDelay)&&i("fade"),fN(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.flashCells(t)))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach((e=>e.refresh()))))},isAnimationFrameQueueEmpty:function(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellRendererInstances(t).map(ej)}}};function mz(e,t){var i;const{colKey:n,rowNode:o,useFormatter:r}=t,s=null!==(i=e.columnModel.getColDefCol(n))&&void 0!==i?i:e.columnModel.getCol(n);if(vN(s))return null;const a=e.valueService.getValue(s,o);if(r){const t=e.valueService.formatValue(s,o,a);return null!==t&&void 0!==t?t:CL(a,!0)}return a}function fz(e,t){e.gos.updateGridOptions({options:t})}function vz(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function yz(e){return e.rowRenderer.getLastVirtualRenderedRow()}var bz={version:uB,moduleName:"@ag-grid-community/api",dependantModules:[{version:uB,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function(e){return e.context.getGridId()},destroy:function(e){e.gridDestroyService.destroy()},isDestroyed:function(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,i){fz(e,{[t]:i})},updateGridOptions:fz}},{version:uB,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:uB,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function(e,t){if(!t.nodes.every((e=>e.rowPinned?(UN("cannot select pinned rows"),!1):void 0!==e.id||(UN("cannot select node until id for node is known"),!1))))return;const{nodes:i,source:n,newValue:o}=t,r=i;e.selectionService.setNodesSelected({nodes:r,source:null!==n&&void 0!==n?n:"api",newValue:o})},selectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.selectAllRowNodes({source:t})},deselectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function(e){return e.selectionService.getSelectedRows()}}},{version:uB,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null},getColumnDefs:function(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function(e,t){"number"===typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")},getColumnGroup:function(e,t,i){return e.visibleColsService.getColumnGroup(t,i)},getProvidedColumnGroup:function(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""},getDisplayNameForColumnGroup:function(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""},getColumn:function(e,t){return e.columnModel.getColDefCol(t)},getColumns:function(e){return e.columnModel.getColDefCols()},applyColumnState:function(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function(e){return e.columnGetStateService.getColumnState()},resetColumnState:function(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function(e,t,i){e.columnModel.setColsVisible([t],i,"api")},setColumnsVisible:function(e,t,i){e.columnModel.setColsVisible(t,i,"api")},setColumnPinned:function(e,t,i){e.columnModel.setColsPinned([t],i,"api")},setColumnsPinned:function(e,t,i){e.columnModel.setColsPinned(t,i,"api")},getAllGridColumns:function(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function(e){return e.columnViewportService.getViewportColumns()},moveColumn:function(e,t,i){e.columnMoveService.moveColumns([t],i,"api")},moveColumnByIndex:function(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")},moveColumns:function(e,t,i){e.columnMoveService.moveColumns(t,i,"api")},setColumnWidth:function(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"api";e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,o)},setColumnWidths:function(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";e.columnSizeService.setColumnWidths(t,!1,i,n)},getLeftDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})},autoSizeColumns:function(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})},autoSizeAllColumns:function(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}},{version:uB,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.redrawRows(i)))},setRowNodeExpanded:function(e,t,i,n,o){e.expansionService.setRowNodeExpanded(t,i,n,o)},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,i){e.rowModel.forEachNode(t,i)},getFirstDisplayedRow:function(e){return vz(e)},getFirstDisplayedRowIndex:vz,getLastDisplayedRow:function(e){return yz(e)},getLastDisplayedRowIndex:yz,getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()},getModel:function(e){return e.rowModel}}},{version:uB,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)},getRowDropZoneParams:function(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},{version:uB,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:sG,ensureIndexVisible:aG,ensureNodeVisible:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i)),"ensureVisible")}}},{version:uB,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function(e){e.overlayService.hideOverlay()}}},{version:uB,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function(e){return e.focusService.getFocusedCell()},clearFocusedCell:function(e){return e.focusService.clearFocusedCell()},setFocusedCell:function(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})},tabToNextCell:function(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:uB,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function(e,t,i){e.apiEventService.addEventListener(t,i)},addGlobalListener:function(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function(e,t,i){e.apiEventService.removeEventListener(t,i)},removeGlobalListener:function(e,t){e.apiEventService.removeGlobalListener(t)}}},gz,{version:uB,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function(e){e.valueCache.expire()},getValue:function(e,t,i){return mz(e,{colKey:t,rowNode:i})},getCellValue:mz}},{version:uB,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function(e,t,i){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(e,t,i){let n=e.columnModel.getCol(t);n||(n=e.columnModel.getColDefCol(t)),n?e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"}):YN("column '".concat(t,"' not found"))},showColumnMenu:function(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showColumnMenu({column:i,positionBy:"auto"}):YN("column '".concat(t,"' not found"))},hidePopupMenu:function(e){e.menuService.hidePopupMenu()}}},{version:uB,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function(e){e.sortController.onSortChanged("api")}}}]};var Cz={version:uB,moduleName:"@ag-grid-community/state-core",beans:[class extends pN{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=JN((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=JN((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=JN((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){var e;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{},this.ctrlsService.whenReady((()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[t,i,n]=this.addManagedEventListeners({newColumnsLoaded:e=>{let{source:i}=e;"gridInitializing"===i&&(t(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{null===i||void 0===i||i(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{null===n||void 0===n||n(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){var e;const t=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedEventListeners({columnValueChanged:()=>this.updateColumnState(["aggregation"]),columnMoved:()=>this.updateColumnState(["columnOrder"]),columnPinned:()=>this.updateColumnState(["columnPinning"]),columnResized:()=>this.updateColumnState(["columnSizing"]),columnVisible:()=>this.updateColumnState(["columnVisibility"]),columnPivotChanged:()=>this.updateColumnState(["pivot"]),columnPivotModeChanged:()=>this.updateColumnState(["pivot"]),columnRowGroupChanged:()=>this.updateColumnState(["rowGroup"]),sortChanged:()=>this.updateColumnState(["sort"]),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:i,rowSelection:n,pagination:o}=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{},r=this.gos.get("advancedFilterModel");(t||r)&&this.setFilterState(t,r),i&&this.setRowGroupExpansionState(i),n&&this.setRowSelectionState(n),o&&this.setPaginationState(o),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:i,focusedCell:n,columnOrder:o}=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{};n&&this.setFocusedCellState(n),i&&this.setRangeSelectionState(i),t&&this.setScrollState(t),this.setColumnPivotState(!(null===o||void 0===o||!o.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:e=>{e.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],o=[],r=[],s=[],a=[],l=[],c=[],d=this.columnGetStateService.getColumnState();for(let u=0;u<d.length;u++){const{colId:e,sort:h,sortIndex:p,rowGroup:g,rowGroupIndex:m,aggFunc:f,pivot:v,pivotIndex:y,pinned:b,hide:C,width:w,flex:x}=d[u];c.push(e),h&&(t[null!==p&&void 0!==p?p:0]={colId:e,sort:h}),g&&(i[null!==m&&void 0!==m?m:0]=e),"string"===typeof f&&n.push({colId:e,aggFunc:f}),v&&(o[null!==y&&void 0!==y?y:0]=e),b&&("right"===b?s:r).push(e),C&&a.push(e),(x||w)&&l.push({colId:e,flex:null!==x&&void 0!==x?x:void 0,width:w})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:o.length||e?{pivotMode:e,pivotColIds:o}:void 0,columnPinning:r.length||s.length?{leftColIds:r,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:o,columnPinning:r,columnVisibility:s,columnSizing:a,columnOrder:l}=e,c={},d=e=>{let t=c[e];return t||(t={colId:e},c[e]=t,t)};t&&t.sortModel.forEach(((e,t)=>{let{colId:i,sort:n}=e;const o=d(i);o.sort=n,o.sortIndex=t})),i&&i.groupColIds.forEach(((e,t)=>{const i=d(e);i.rowGroup=!0,i.rowGroupIndex=t})),n&&n.aggregationModel.forEach((e=>{let{colId:t,aggFunc:i}=e;d(t).aggFunc=i})),o&&(o.pivotColIds.forEach(((e,t)=>{const i=d(e);i.pivot=!0,i.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:o.pivotMode},source:"gridInitializing"})),r&&(r.leftColIds.forEach((e=>{d(e).pinned="left"})),r.rightColIds.forEach((e=>{d(e).pinned="right"}))),s&&s.hiddenColIds.forEach((e=>{d(e).hide=!0})),a&&a.columnSizingModel.forEach((e=>{let{colId:t,flex:i,width:n}=e;const o=d(t);o.flex=null!==i&&void 0!==i?i:null,o.width=n}));const u=null===l||void 0===l?void 0:l.orderedColIds,h=!(null===u||void 0===u||!u.length),p=h?u.map((e=>d(e))):Object.values(c);if(p.length){this.columnStates=p;const e={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:p,applyOrder:h,defaultState:e},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const i=[];for(const e of t)this.pivotResultColsService.getPivotResultCol(e.colId)&&i.push(e);this.columnApplyStateService.applyColumnState({state:i,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach((e=>{let{groupId:i,open:n}=e;n&&t.push(i)})),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(null===(t=e.columnGroup)||void 0===t?void 0:t.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map((e=>{let{groupId:t}=e;const n=i.has(t);return n&&i.delete(t),{groupId:t,open:n}}));i.forEach((e=>{n.push({groupId:e,open:!0})})),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var e,t,i;let n=null===(e=this.filterManager)||void 0===e?void 0:e.getFilterModel();n&&0===Object.keys(n).length&&(n=void 0);const o=null!==(t=null===(i=this.filterManager)||void 0===i?void 0:i.getAdvancedFilterModel())&&void 0!==t?t:void 0;return n||o?{filterModel:n,advancedFilterModel:o}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:n}=null!==e&&void 0!==e?e:{advancedFilterModel:t};var o,r;i&&(null===(o=this.filterManager)||void 0===o||o.setFilterModel(i,"columnFilter"));n&&(null===(r=this.filterManager)||void 0===r||r.setAdvancedFilterModel(n))}getRangeSelectionState(){var e;const t=null===(e=this.rangeService)||void 0===e?void 0:e.getCellRanges().map((e=>{const{id:t,type:i,startRow:n,endRow:o,columns:r,startColumn:s}=e;return{id:t,type:i,startRow:n,endRow:o,colIds:r.map((e=>e.getColId())),startColId:s.getColId()}}));return null!==t&&void 0!==t&&t.length?{cellRanges:t}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach((e=>{const i=[];if(e.colIds.forEach((e=>{const t=this.columnModel.getCol(e);t&&i.push(t)})),!i.length)return;let n=this.columnModel.getCol(e.startColId);if(!n){const e=this.visibleColsService.getAllCols(),t=new Set(i);n=e.find((e=>t.has(e)))}t.push({...e,columns:i,startColumn:n})})),this.rangeService.setCellRanges(t)}getScrollState(){var e,t,i;if(!this.isClientSideRowModel)return;const n=null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e?void 0:e.getScrollFeature(),{left:o}=null!==(t=null===n||void 0===n?void 0:n.getHScrollPosition())&&void 0!==t?t:{left:0},{top:r}=null!==(i=null===n||void 0===n?void 0:n.getVScrollPosition())&&void 0!==i?i:{top:0};return r||o?{top:r,left:o}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:i,left:n}=e;null===(t=this.ctrlsService.getGridBodyCtrl())||void 0===t||t.getScrollFeature().setScrollPosition(i,n)}getSideBarState(){var e;return null===(e=this.sideBarService)||void 0===e||null===(e=e.getSideBarComp())||void 0===e?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(!1===t.selectAll||!1===t.selectAllChildren)&&!(null!==t&&void 0!==t&&null!==(e=t.toggledNodes)&&void 0!==e&&e.length)?void 0:t}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach((e=>{let[t,n]=e;SN(n,this.cachedState[t])||(i=!0)})),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),SN(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach((e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach((e=>this.queuedUpdateSources.add(e))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const t={type:"stateUpdated",sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]},wz={version:uB,moduleName:"@ag-grid-community/state",dependantModules:[Cz,{version:uB,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function(e){var t,i;return null!==(t=null===(i=e.stateService)||void 0===i?void 0:i.getState())&&void 0!==t?t:{}}},dependantModules:[Cz]}]};var xz={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends eO{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||null===e||void 0===e||!e.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){OI(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),UN("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));const n=this.localeService.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),r=e.map((e=>({value:String(e),text:String(e)}))),s=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Dj).addOptions(r).setValue(String(i?"":t)).setAriaLabel(s).setLabel(o).onValueChange((()=>this.handlePageSizeItemSelected())),this.hasEmptyOption=i}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?[...t].sort(((e,t)=>e-t)):e}validateValues(e){if(!e.length)return UN("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let t=0;t<e.length;t++){const i=e[t],n=i>0;if(!("number"===typeof i))return UN("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!n)return UN("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},Sz={selector:"AG-PAGINATION",component:class extends AG{constructor(){super(),this.btFirst=$I,this.btPrevious=$I,this.btNext=$I,this.btLast=$I,this.lbRecordCount=$I,this.lbFirstRowOnPage=$I,this.lbLastRowOnPage=$I,this.lbCurrent=$I,this.lbTotal=$I,this.pageSizeComp=$I,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowNodeBlockLoader=e.rowNodeBlockLoader,this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[xz]);const{btFirst:t,btPrevious:i,btNext:n,btLast:o}=this;this.activateTabIndex([t,i,n,o]),t.insertAdjacentElement("afterbegin",nO(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",nO(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",nO(e?"previous":"next",this.gos)),o.insertAdjacentElement("afterbegin",nO(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):this.focusService.focusGridInnerElement(e)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){var e,t,i;this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:e=>{e.key!==mO.ENTER&&e.key!==mO.SPACE||(e.preventDefault(),i())}})})),e=this,t=this.getGui(),i=this.focusService,e.addManagedElementListeners(t,{keydown:e=>{if(!e.defaultPrevented&&e.key===mO.TAB){const n=e.shiftKey;i.findNextFocusableElement(t,!1,n)||i.focusNextGridCoreContainer(n)&&e.preventDefault()}}}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationService.getTotalPages()>0,t=this.paginationService.getCurrentPage(),i=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}const i=this.localeService.getLocaleTextFunc();return qj(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),o=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(l,'">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(l,'-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-to">').concat(i,'</span>\n                    <span id="ag-').concat(l,'-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-of">').concat(n,'</span>\n                    <span id="ag-').concat(l,'-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(o,'"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(r,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(l,'-start-page">').concat(t,'</span>\n                        <span id="ag-').concat(l,'-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(l,'-of-page">').concat(n,'</span>\n                        <span id="ag-').concat(l,'-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                </span>\n            </div>')}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),o=e===i-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){!function(e,t){qL(e,"disabled",t)}(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){var e;const t=this.paginationService.getCurrentPage(),i=this.paginationService.getPageSize(),n=this.rowModel.isLastRowIndexKnown(),o=this.rowModel.isLastRowIndexKnown()?this.paginationService.getMasterRowCount():null;let r,s;if(this.isZeroPagesToDisplay()?r=s=0:(r=i*t+1,s=r+i-1,n&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(r),null!==(e=this.rowNodeBlockLoader)&&void 0!==e&&e.isLoading()){const e=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=e("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}setTotalLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=e?this.paginationService.getMasterRowCount():null;if(1===i){const e=this.rowModel.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{const e=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}}},Rz={version:uB,moduleName:"@ag-grid-community/pagination-core",beans:[class extends pN{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Sz}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){this.active&&this.currentPage!==e&&"number"===typeof this.currentPage&&(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){if(!this.active)return!0;return this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return fN(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:fN(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:fN(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:fN(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const e=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e,o={type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t};this.eventService.dispatchEvent(o)}},class extends pN{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const t=Math.max(this.gos.getRowHeightAsNumber(),1),i=Math.floor(e/t);this.paginationService.setPageSize(i,"autoCalculated")};this.isBodyRendered?JN((()=>t()),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},Mz={version:uB,moduleName:"@ag-grid-community/pagination",dependantModules:[Rz,{version:uB,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Rz],apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){var t,i;return null!==(t=null===(i=e.paginationService)||void 0===i?void 0:i.getPageSize())&&void 0!==t?t:100},paginationGetCurrentPage:function(e){var t,i;return null!==(t=null===(i=e.paginationService)||void 0===i?void 0:i.getCurrentPage())&&void 0!==t?t:0},paginationGetTotalPages:function(e){var t,i;return null!==(t=null===(i=e.paginationService)||void 0===i?void 0:i.getTotalPages())&&void 0!==t?t:1},paginationGetRowCount:function(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToNextPage()},paginationGoToPreviousPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToPreviousPage()},paginationGoToFirstPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToFirstPage()},paginationGoToLastPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToLastPage()},paginationGoToPage:function(e,t){var i;null===(i=e.paginationService)||void 0===i||i.goToPage(t)}}}]},kz="@ag-grid-community/core",Dz="@ag-grid-community/client-side-row-model",Az="@ag-grid-community/csv-export",Ez="@ag-grid-community/infinite-row-model",Tz="@ag-grid-enterprise/advanced-filter",Pz="@ag-grid-enterprise/charts",Fz="@ag-grid-enterprise/clipboard",Nz="@ag-grid-enterprise/excel-export",Lz="@ag-grid-enterprise/master-detail",Iz="@ag-grid-enterprise/menu",Oz="@ag-grid-enterprise/range-selection",jz="@ag-grid-enterprise/row-grouping",Bz="@ag-grid-enterprise/server-side-row-model",_z="@ag-grid-enterprise/side-bar",Gz={dispatchEvent:kz,getState:kz,getGridId:kz,destroy:kz,isDestroyed:kz,getGridOption:kz,setGridOption:kz,updateGridOptions:kz,setNodesSelected:kz,selectAll:kz,deselectAll:kz,selectAllFiltered:kz,deselectAllFiltered:kz,selectAllOnCurrentPage:kz,deselectAllOnCurrentPage:kz,getSelectedNodes:kz,getSelectedRows:kz,redrawRows:kz,setRowNodeExpanded:kz,getRowNode:kz,addRenderedRowListener:kz,getRenderedNodes:kz,forEachNode:kz,getFirstDisplayedRow:kz,getFirstDisplayedRowIndex:kz,getLastDisplayedRow:kz,getLastDisplayedRowIndex:kz,getDisplayedRowAtIndex:kz,getDisplayedRowCount:kz,getModel:kz,getVerticalPixelRange:kz,getHorizontalPixelRange:kz,ensureColumnVisible:kz,ensureIndexVisible:kz,ensureNodeVisible:kz,getFocusedCell:kz,clearFocusedCell:kz,setFocusedCell:kz,tabToNextCell:kz,tabToPreviousCell:kz,setFocusedHeader:kz,addEventListener:kz,addGlobalListener:kz,removeEventListener:kz,removeGlobalListener:kz,expireValueCache:kz,getValue:kz,getCellValue:kz,showColumnMenuAfterButtonClick:kz,showColumnMenuAfterMouseClick:kz,showColumnMenu:kz,hidePopupMenu:kz,onSortChanged:kz,getPinnedTopRowCount:kz,getPinnedBottomRowCount:kz,getPinnedTopRow:kz,getPinnedBottomRow:kz,showLoadingOverlay:kz,showNoRowsOverlay:kz,hideOverlay:kz,setGridAriaProperty:kz,refreshCells:kz,flashCells:kz,refreshHeader:kz,isAnimationFrameQueueEmpty:kz,flushAllAnimationFrames:kz,getSizesForCurrentTheme:kz,getCellRendererInstances:kz,addRowDropZone:kz,removeRowDropZone:kz,getRowDropZoneParams:kz,getColumnDef:kz,getColumnDefs:kz,sizeColumnsToFit:kz,setColumnGroupOpened:kz,getColumnGroup:kz,getProvidedColumnGroup:kz,getDisplayNameForColumn:kz,getDisplayNameForColumnGroup:kz,getColumn:kz,getColumns:kz,applyColumnState:kz,getColumnState:kz,resetColumnState:kz,getColumnGroupState:kz,setColumnGroupState:kz,resetColumnGroupState:kz,isPinning:kz,isPinningLeft:kz,isPinningRight:kz,getDisplayedColAfter:kz,getDisplayedColBefore:kz,setColumnVisible:kz,setColumnsVisible:kz,setColumnPinned:kz,setColumnsPinned:kz,getAllGridColumns:kz,getDisplayedLeftColumns:kz,getDisplayedCenterColumns:kz,getDisplayedRightColumns:kz,getAllDisplayedColumns:kz,getAllDisplayedVirtualColumns:kz,moveColumn:kz,moveColumnByIndex:kz,moveColumns:kz,setColumnWidth:kz,setColumnWidths:kz,getLeftDisplayedColumnGroups:kz,getCenterDisplayedColumnGroups:kz,getRightDisplayedColumnGroups:kz,getAllDisplayedColumnGroups:kz,autoSizeColumn:kz,autoSizeColumns:kz,autoSizeAllColumns:kz,undoCellEditing:kz,redoCellEditing:kz,getCellEditorInstances:kz,getEditingCells:kz,stopEditing:kz,startEditingCell:kz,getCurrentUndoSize:kz,getCurrentRedoSize:kz,isAnyFilterPresent:kz,onFilterChanged:kz,isColumnFilterPresent:kz,getFilterInstance:kz,getColumnFilterInstance:kz,destroyFilter:kz,setFilterModel:kz,getFilterModel:kz,getColumnFilterModel:kz,setColumnFilterModel:kz,showColumnFilter:kz,isQuickFilterPresent:kz,getQuickFilter:kz,resetQuickFilter:kz,paginationIsLastPageFound:kz,paginationGetPageSize:kz,paginationGetCurrentPage:kz,paginationGetTotalPages:kz,paginationGetRowCount:kz,paginationGoToNextPage:kz,paginationGoToPreviousPage:kz,paginationGoToFirstPage:kz,paginationGoToLastPage:kz,paginationGoToPage:kz,expandAll:kz,collapseAll:kz,onRowHeightChanged:kz,setRowCount:kz,getCacheBlockState:kz,onGroupExpandedOrCollapsed:Dz,refreshClientSideRowModel:Dz,forEachLeafNode:Dz,forEachNodeAfterFilter:Dz,forEachNodeAfterFilterAndSort:Dz,resetRowHeights:Dz,applyTransaction:Dz,applyTransactionAsync:Dz,flushAsyncTransactions:Dz,getBestCostNodeSelection:Dz,getDataAsCsv:Az,exportDataAsCsv:Az,refreshInfiniteCache:Ez,purgeInfiniteCache:Ez,getInfiniteRowCount:Ez,isLastRowIndexKnown:Ez,getAdvancedFilterModel:Tz,setAdvancedFilterModel:Tz,showAdvancedFilterBuilder:Tz,hideAdvancedFilterBuilder:Tz,getChartModels:Pz,getChartRef:Pz,getChartImageDataURL:Pz,downloadChart:Pz,openChartToolPanel:Pz,closeChartToolPanel:Pz,createRangeChart:Pz,createPivotChart:Pz,createCrossFilterChart:Pz,updateChart:Pz,restoreChart:Pz,copyToClipboard:Fz,cutToClipboard:Fz,copySelectedRowsToClipboard:Fz,copySelectedRangeToClipboard:Fz,copySelectedRangeDown:Fz,pasteFromClipboard:Fz,getDataAsExcel:Nz,exportDataAsExcel:Nz,getSheetDataForExcel:Nz,getMultipleSheetsAsExcel:Nz,exportMultipleSheetsAsExcel:Nz,addDetailGridInfo:Lz,removeDetailGridInfo:Lz,getDetailGridInfo:Lz,forEachDetailGridInfo:Lz,showContextMenu:Iz,showColumnChooser:Iz,hideColumnChooser:Iz,getCellRanges:Oz,addCellRange:Oz,clearRangeSelection:Oz,addAggFunc:jz,addAggFuncs:jz,clearAggFuncs:jz,setColumnAggFunc:jz,isPivotMode:jz,getPivotResultColumn:jz,setValueColumns:jz,getValueColumns:jz,removeValueColumn:jz,removeValueColumns:jz,addValueColumn:jz,addValueColumns:jz,setRowGroupColumns:jz,removeRowGroupColumn:jz,removeRowGroupColumns:jz,addRowGroupColumn:jz,addRowGroupColumns:jz,getRowGroupColumns:jz,moveRowGroupColumn:jz,setPivotColumns:jz,removePivotColumn:jz,removePivotColumns:jz,addPivotColumn:jz,addPivotColumns:jz,getPivotColumns:jz,setPivotResultColumns:jz,getPivotResultColumns:jz,getServerSideSelectionState:Bz,setServerSideSelectionState:Bz,applyServerSideTransaction:Bz,applyServerSideTransactionAsync:Bz,applyServerSideRowData:Bz,retryServerSideLoads:Bz,flushServerSideAsyncTransactions:Bz,refreshServerSide:Bz,getServerSideGroupLevelState:Bz,isSideBarVisible:_z,setSideBarVisible:_z,setSideBarPosition:_z,openToolPanel:_z,closeToolPanel:_z,getOpenedToolPanel:_z,refreshToolPanel:_z,isToolPanelShowing:_z,getToolPanelInstance:_z,getSideBar:_z,getStatusPanel:"@ag-grid-enterprise/status-bar"},zz="clientSide",Hz="serverSide",Vz="infinite",Wz={onGroupExpandedOrCollapsed:[zz],refreshClientSideRowModel:[zz],forEachLeafNode:[zz],forEachNodeAfterFilter:[zz],forEachNodeAfterFilterAndSort:[zz],resetRowHeights:[zz],applyTransaction:[zz],applyTransactionAsync:[zz],flushAsyncTransactions:[zz],getBestCostNodeSelection:[zz],getServerSideSelectionState:[Hz],setServerSideSelectionState:[Hz],applyServerSideTransaction:[Hz],applyServerSideTransactionAsync:[Hz],applyServerSideRowData:[Hz],retryServerSideLoads:[Hz],flushServerSideAsyncTransactions:[Hz],refreshServerSide:[Hz],getServerSideGroupLevelState:[Hz],refreshInfiniteCache:[Vz],purgeInfiniteCache:[Vz],getInfiniteRowCount:[Vz],isLastRowIndexKnown:[Vz],expandAll:[zz,Hz],collapseAll:[zz,Hz],onRowHeightChanged:[zz,Hz],setRowCount:[Vz,Hz],getCacheBlockState:[Vz,Hz]},Uz={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};var Yz=(e,t)=>{var i;return"clientSide"===(null!==(i=t.rowModelType)&&void 0!==i?i:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},Kz={enableRowGroup:Yz,rowGroup:Yz,rowGroupIndex:Yz,enablePivot:Yz,enableValue:Yz,pivot:Yz,pivotIndex:Yz,aggFunc:Yz,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const i=["columnsMenuTab","generalMenuTab"];return null!==(t=e.menuTabs)&&void 0!==t&&t.some((e=>i.includes(e)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:()=>qz},qz={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},validations:Kz},Xz={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},Zz={version:uB,moduleName:"@ag-grid-community/core"},Qz={version:uB,moduleName:"@ag-grid-community/core-validations",beans:[class extends pN{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...IL.ALL_PROPERTIES,...jL.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const i=null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide";switch(i){case"clientSide":{const t="treeData requires 'getDataPath' in the ".concat(i," row model.");return e.getDataPath?null:t}case"serverSide":{const t="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(i," row model.");return e.isServerSideGroup&&e.getServerSideGroupKey?null:t}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch(null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide"){case"clientSide":return null;case"serverSide":{const t="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?t:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>qz,defaultColDef:()=>qz,defaultColGroupDef:()=>qz,autoGroupColumnDef:()=>qz}})}processColumnDefs(e){this.processOptions(e,qz)}warnMissingApiFunction(e){!function(e,t){const i=Gz[e];i?hO.__assertRegistered(i,"api.".concat(e),t)&&UN("API function '".concat(e,"' not registered to module '").concat(i,"'")):YN("Unknown API function: '".concat(e,"' on GridApi."))}(e,this.gridId)}validateApiFunction(e,t){return function(e,t,i){const n=Uz[e];if(n){const{version:i,new:o,old:r,message:s}=n,a=null!==r&&void 0!==r?r:e;return function(){const e=o?"Please use ".concat(o," instead. "):"";UN("Since ".concat(i," api.").concat(a," is deprecated. ").concat(e).concat(null!==s&&void 0!==s?s:""));for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.apply(t,r)}}const o=Wz[e];return o?function(){const n=i.rowModel.getType();if(o.includes(n)){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.apply(t,s)}YN("api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(o.join(" or ")))}:t}(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:o,propertyExceptions:r,objectName:s,docsUrl:a}=t;o&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...null!==r&&void 0!==r?r:[],...Object.keys(n)],o,s,a);const l=new Set;Object.keys(e).forEach((t=>{const o=n[t];if(o)if("renamed"in o){const{renamed:i,version:n}=o;l.add("As of v".concat(n,", ").concat(String(t)," is deprecated. Please use ").concat(String(i)," instead.")),e[i]=e[t]}else{const{message:e,version:i}=o;l.add("As of v".concat(i,", ").concat(String(t)," is deprecated. ").concat(null!==e&&void 0!==e?e:""))}const r=e[t];if(null==r||!1===r)return;const s=i[t];let a;if(!s)return;if("function"===typeof s){const i=s(e,this.gridOptions);if(!i)return;if("objectName"in i){const n=e[t];return Array.isArray(n)?void n.forEach((e=>{this.processOptions(e,i)})):void this.processOptions(e[t],i)}a=i}else a=s;const{module:c,dependencies:d,supportedRowModels:u}=a;if(u){var h;const e=null!==(h=this.gridOptions.rowModelType)&&void 0!==h?h:"clientSide";if(!u.includes(e))return void l.add("".concat(String(t)," is not supported with the '").concat(e,"' row model."))}if(c){const e=Array.isArray(c)?c:[c];let i=!0;if(e.forEach((e=>{hO.__assertRegistered(e,String(t),this.gridId)||(i=!1,l.add("".concat(String(t)," is only available when ").concat(e," is loaded.")))})),!i)return}if(d){const i=this.checkForWarning(t,d,e);if(i)return void l.add(i)}})),l.size>0&&l.forEach((e=>{UN(e)}))}checkForWarning(e,t,i){if("function"===typeof t)return t(i,this.gridOptions);const n=Object.entries(t).find((e=>{let[t,n]=e;const o=i[t];return!n.includes(o)}));if(!n)return null;const[o,r]=n;return r.length>1?"'".concat(String(e),"' requires '").concat(o,"' to be one of [").concat(r.join(", "),"]."):"'".concat(String(e),"' requires '").concat(o,"' to be ").concat(r[0],".")}checkProperties(e,t,i,n,o){const r=function(e,t,i){const n={},o=e.filter((e=>!t.some((t=>t===e))));return o.length>0&&o.forEach((e=>n[e]=EO(e,i).values)),n}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(DN(r,((e,t)=>{let o="invalid ".concat(n," property '").concat(e,"' did you mean any of these: ").concat(t.slice(0,8).join(", "),".");i.includes("context")&&(o+="\nIf you are trying to annotate ".concat(n," with application data, use the '").concat(n,".context' property instead.")),UN(o)})),Object.keys(r).length>0&&o){const e=this.getFrameworkOverrides().getDocLink(o);UN("to see all the valid ".concat(n," properties please check: ").concat(e))}}}]},Jz={version:uB,moduleName:"@ag-grid-community/core-community-features",dependantModules:[Zz,Qz,mG,MB,wz,pz,dz,Mz,bz]},$z=class extends pN{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t,i;if(this.destroyCalled)return;const n={type:"gridPreDestroyed",state:null!==(e=null===(t=this.beans.stateService)||void 0===t?void 0:t.getState())&&void 0!==e?e:{}};this.eventService.dispatchEvent(n),this.destroyCalled=!0,null===(i=this.beans.ctrlsService.get("gridCtrl"))||void 0===i||i.destroyGridUi(),this.beans.context.destroy(),super.destroy()}isDestroyCalled(){return this.destroyCalled}},eH=new Set(["gridPreDestroyed","fillStart","pasteStart"]),tH=new Map([...IL.BOOLEAN_PROPERTIES.map((e=>[e,xN])),...IL.NUMBER_PROPERTIES.map((e=>[e,Uj])),["groupAggFiltering",e=>"function"===typeof e?e:xN(e)],["pageSize",Yj(1)],["autoSizePadding",Yj(0)],["keepDetailRowsCount",Yj(1)],["rowBuffer",Yj(0)],["infiniteInitialRowCount",Yj(1)],["cacheOverflowSize",Yj(1)],["cacheBlockSize",Yj(1)],["serverSideInitialRowCount",Yj(1)],["viewportRowModelPageSize",Yj(1)],["viewportRowModelBufferSize",Yj(0)]]);function iH(e,t){const i=tH.get(e);return i?i(t):t}var nH=class e extends pN{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ZF,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const n=eH.has(t);if(n&&!e||!n&&e)return;const o=jL.getCallbackForEvent(t),r=this.gridOptions[o];"function"===typeof r&&this.frameworkOverrides.wrapOutgoing((()=>{r(i)}))}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:e=>{let{options:t}=e;this.updateGridOptions({options:t,force:!0,source:"gridOptionsUpdated"})}})}get(e){var t;return null!==(t=this.gridOptions[e])&&void 0!==t?t:Xz[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return fN(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>{const i=t;return i.api=this.api,i.context=this.gridOptionsContext,e(i)}}return e}updateGridOptions(t){var i;let{options:n,force:o,source:r="api"}=t;const s={id:e.changeSetId++,properties:[]},a=[];Object.entries(n).forEach((e=>{let[t,i]=e;"api"===r&&NL[t]&&UN("".concat(t," is an initial property and cannot be updated."));const n=iH(t,i),l=o||"object"===typeof n&&"api"===r,c=this.gridOptions[t];if(l||c!==n){this.gridOptions[t]=n;const e={type:t,currentValue:n,previousValue:c,changeSet:s,source:r};a.push(e)}})),null===(i=this.validationService)||void 0===i||i.processGridOptions(this.gridOptions),s.properties=a.map((e=>e.type)),a.forEach((e=>{this.gridOptions.debug&&WN("Updated property ".concat(e.type," from"),e.previousValue," to ",e.currentValue),this.propertyEventService.dispatchEvent(e)}))}addPropertyEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removePropertyEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:(null==UL&&CI(),UL);null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&vN(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!==(t=this.gridOptions.domLayout)&&void 0!==t?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"===typeof this.gridOptions.getRowHeight}getRowHeightForNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const n={node:e,data:e.data},o=this.getCallback("getRowHeight")(n);if(this.isNumeric(o))return 0===o&&UN("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();return{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||vN(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return-1!==e?e:(UN("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const n=this.getDomDataKey();let o=e[n];vN(o)&&(o={},e[n]=o),o[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&fN(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&fN(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return fN(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(null!==e&&void 0!==e&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):!0===e?()=>!0:void 0}getGrandTotalRow(){const e=this.gridOptions.grandTotalRow;if(e)return e;return this.gridOptions.groupIncludeTotalFooter?"bottom":void 0}getGroupTotalRowCallback(){const e=this.get("groupTotalRow");if("function"===typeof e)return this.getCallback("groupTotalRow");if(e)return()=>e;const t=this.get("groupIncludeFooter");if("function"===typeof t){const e=this.getCallback("groupIncludeFooter");return t=>e(t)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}getRowIdCallback(){const e=this.getCallback("getRowId");return void 0===e?e:t=>{let i=e(t);return"string"!==typeof i&&(UN("The getRowId callback must return a string. The ID ",i," is being cast to a string."),i=String(i)),i}}};nH.changeSetId=0;var oH=nH,rH=class extends pN{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,n;if(ML(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(n="getCol".concat(t),i=this.visibleColsService[n](e.column)),!i)return;const{headerRowIndex:o}=e;if("filter"!==this.getHeaderRowType(o)){const e=[i];for(;i.getParent();)i=i.getParent(),e.push(i);i=e[e.length-1-o]}const{column:r,headerRowIndex:s}=this.getHeaderIndexToFocus(i,o);return{column:r,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let i;if(ML(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let o=i;for(;o!==n;)t++,o=o.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some((e=>e.isSpanHeaderHeight()))}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),n="column"===i;let o="filter"===i?e:e.getParent(),r=t-1,s=r;if(n&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;s=r,r<0&&(o=e,r=t,s=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:s}}getColumnVisibleChild(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After";let n=e,o=t+1;const r=o;if("group"===this.getHeaderRowType(t)){const t=e.getDisplayedLeafColumns(),r="After"===i?t[0]:QF(t),s=[];let a=r;for(;a.getParent()!==e;)a=a.getParent(),s.push(a);if(n=r,r.isSpanHeaderHeight())for(let e=s.length-1;e>=0;e--){const t=s[e];if(!t.isPadding()){n=t;break}o++}else n=QF(s),n||(n=r)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:r}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),n=i["start"===t?0:i.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if("group"==o){return{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(n,e)}}return{headerRowIndex:null==o?-1:e,column:n}}},sH=class extends pN{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(t,i,n)=>e({key:t,defaultValue:i,variableValues:n});const t=this.gos.get("localeText");return(e,i,n)=>{var o;let r=t&&t[e];if(r&&n&&n.length){let e=0;for(;!(e>=n.length);){if(-1===r.indexOf("${variable}"))break;r=r.replace("${variable}",n[e++])}}return null!==(o=r)&&void 0!==o?o:i}}},aH=class extends pN{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new gN(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),n=this.gos.useAsyncEvents()&&!eH.has(e),o=n?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){const i=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),o=!(null===n||void 0===n||!n.delete(i));var r;o||(null===(r=this.syncEventListeners.get(e))||void 0===r||r.delete(i));this.eventService.removeEventListener(e,i,o)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const i=(e,i)=>{eH.has(e)&&t(e,i)},n=(e,i)=>{eH.has(e)||t(e,i)};this.globalEventListenerPairs.set(e,{syncListener:i,asyncListener:n}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:i,asyncListener:n}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach(((e,i)=>{e.forEach((e=>this.eventService.removeEventListener(i,e,t))),e.clear()})),e.clear()}destroyGlobalListeners(e,t){e.forEach((e=>this.eventService.removeGlobalListener(e,t))),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((e=>{let{syncListener:t,asyncListener:i}=e;this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(i,!0)})),this.globalEventListenerPairs.clear()}},lH=class extends pN{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages();const t={type:"paginationChanged",animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},cH=class extends pN{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return vN(this.topRowBounds)||vN(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=fN(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},dH=class extends pN{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.announceValue=JN(this.announceValue.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),tI(t,"polite"),qL(t,"relevant","additions text"),function(e,t){qL(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)}),50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(OI(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}},uH=class extends pN{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>this.gridBodyCtrl=e.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush((()=>{this.active=!1}))}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(e){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void e();const t=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>t(this.executeNextFuncs)),0),window.setTimeout((()=>{e(),t(this.executeLaterFuncs)}),200)}))}},hH=class extends pN{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.selectedColumns=e;this.eventService.dispatchEvent({type:"columnHoverChanged"})}clearMouseOver(){this.selectedColumns=null;this.eventService.dispatchEvent({type:"columnHoverChanged"})}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}},pH=class extends pN{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel}postConstruct(){const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e}),this.addManagedPropertyListener("loading",e)}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");(e||void 0===e&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.doHideOverlay()}updateOverlayVisibility(){let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.gos.isRowModelType("clientSide")),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.gos.isRowModelType("clientSide")?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay()}showOverlay(e,t,i){const n=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(n,t,i)}},gH=class extends pN{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return fN(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),oN(t,this.processClassesFromGridOptions(e.rowNode)),oN(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=e=>{"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((e=>t.push(e)))},n=this.gos.get("rowClass");if(n){if("function"===typeof n)return UN("rowClass should not be a function, please use getRowClass instead"),[];i(n)}const o=this.gos.getCallback("getRowClass");if(o){i(o({data:e.data,node:e,rowIndex:e.rowIndex}))}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,(e=>{t.push(e)}),(()=>{})),t}processRowClassRules(e,t,i){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},mH=class extends pN{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=2*e;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),e}(),this.gos.get("debug")&&WN("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&WN("RowContainerHeightService - Div Stretch Offset = ".concat(t," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},fH=class extends pN{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(e=>this.isAccentedSort=e.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup()))}doFullSort(e,t){const i=e.map(((e,t)=>({currentPos:t,rowNode:e})));return i.sort(this.compareRowNodes.bind(this,t)),i.map((e=>e.rowNode))}compareRowNodes(e,t,i){const n=t.rowNode,o=i.rowNode;for(let r=0,s=e.length;r<s;r++){const t=e[r],i="desc"===t.sort,s=this.getValue(n,t.column),a=this.getValue(o,t.column);let l;const c=this.getComparator(t,n);l=c?c(s,a,n,o,i):RN(s,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const o=!t.group&&i.getColDef().field;if(!o)return;const r=this.columnModel.getColDefCol(o);return r?r.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){var i,n;if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){var o;const i=null===(o=e.allLeafChildren)||void 0===o?void 0:o[0];return i?this.valueService.getValue(t,i,!1,!1):void 0}const r=null===(i=this.showRowGroupColsService)||void 0===i?void 0:i.getShowRowGroupCol(t.getId());if(!r)return;return null===(n=e.groupData)||void 0===n?void 0:n[r.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},vH=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach((e=>this.nodeIdsToColumns[i.id][e.getId()]=!0)),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const e=this.mapToItems[i.id],t=this.mapToItems[i.parent.id];t.children||(t.children=[]),t.children.push(e),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>i[e.getId()]))}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>!i[e.getId()]))}},yH=class extends pN{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new SG}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})})),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return"multiple"===this.rowSelection}overrideSelectionValue(e,t){var i;if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const n=this.selectionCtx.getRoot();return!n||null!==(i=n.isSelected())&&void 0!==i&&i}setNodesSelected(e){const{newValue:t,clearSelection:i,suppressFinishActions:n,rangeSelect:o,nodes:r,event:s,source:a}=e;if(0===r.length)return 0;if(r.length>1&&!this.isMultiselect())return UN("cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=r.map((e=>e.footer?e.sibling:e));if(o){if(c.length>1)return UN("cannot range select while selecting multiple rows"),0;const e=c[0],i=this.overrideSelectionValue(t,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(e)){const t=this.selectionCtx.truncate(e);return i&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,i,a)}if(this.selectionCtx.getRoot()!==e){const t=this.selectionCtx.extend(e,this.groupSelectsChildren);return i&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,i,a)}}else;}n||this.selectionCtx.setRoot(c[0]);let d=0;for(let h=0;h<c.length;h++){var u;const e=c[h];if(!(l&&e.group)){e.selectThisNode(t,s,a)&&d++}this.groupSelectsChildren&&null!==(u=e.childrenAfterGroup)&&void 0!==u&&u.length&&(d+=this.selectChildren(e,t,l,a))}if(!n){t&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))}return d}selectRange(e,t,i){let n=0;return e.forEach((e=>{if(e.group&&this.groupSelectsChildren)return;e.selectThisNode(t,void 0,i)&&n++})),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i,n){const o=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return vN(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:o})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach((t=>{t&&e.push(t)})),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach((t=>{t&&t.data&&e.push(t.data)})),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach(((i,n)=>{i&&e(i)&&t.set(n,i)})),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;const i=this.rowModel.getRootNode();t||(t=new vH(!0,i)).setInactive();let n=!1;return t.forEachChangedNodeDepthFirst((t=>{if(t!==i){const i=t.calculateSelectedFromChildren();n=t.selectThisNode(null!==i&&i,void 0,e)||n}})),n}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach((o=>{if(o&&o.id!==e.id){const e=this.selectedNodes.get(o.id);n+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&o.parent&&i.set(o.parent.id,o.parent)}})),i.forEach((e=>{const i=e.calculateSelectedFromChildren();e.selectThisNode(null!==i&&i,void 0,t)})),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(fN(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes.get(i)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;null===(e=this.selectedNodes)||void 0===e||e.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const t=[];return function e(i){for(let n=0,o=i.length;n<o;n++){const o=i[n];if(o.isSelected())t.push(o);else{const t=o;t.group&&t.children&&e(t.children)}}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach((t=>{t&&e++})),0===e}deselectAllRowNodes(e){const t=e=>e.selectThisNode(!1,void 0,n),i="clientSide"===this.rowModel.getType(),{source:n,justFiltered:o,justCurrentPage:r}=e;if(r||o){if(!i)return void YN("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(o,r).forEach(t)}else this.selectedNodes.forEach((e=>{e&&t(e)})),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let i=0,n=0;return this.getNodesToSelect(e,t).forEach((e=>{this.groupSelectsChildren&&e.group||(e.isSelected()?i++:e.selectable&&n++)})),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}hasNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((e=>e.selectable)).length>0}getNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));const i=[];if(t)return this.forEachNodeOnPage((e=>{if(e.group)if(e.expanded)this.groupSelectsChildren||i.push(e);else{const t=e=>{var n;i.push(e),null!==(n=e.childrenAfterFilter)&&void 0!==n&&n.length&&e.childrenAfterFilter.forEach(t)};t(e)}else i.push(e)})),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter((e=>{i.push(e)})),i):(n.forEachNode((e=>{i.push(e)})),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=t;n<=i;n++){const t=this.rowModel.getRow(n);t&&e(t)}}selectAllRowNodes(e){var t,i;if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));const{source:n,justFiltered:o,justCurrentPage:r}=e,s=this.getNodesToSelect(o,r);s.forEach((e=>e.selectThisNode(!0,void 0,n))),this.selectionCtx.setRoot(null!==(t=s[0])&&void 0!==t?t:null),this.selectionCtx.setEndRange(null!==(i=QF(s))&&void 0!==i?i:null),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectionState(){const e=[];return this.selectedNodes.forEach((t=>{null!==t&&void 0!==t&&t.id&&e.push(t.id)})),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const i=new Set(e),n=[];this.rowModel.forEachNode((e=>{i.has(e.id)&&n.push(e)})),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){const t={type:"selectionChanged",source:e};this.eventService.dispatchEvent(t)}},bH=class extends pN{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;const n=this.gos.get("groupSelectsChildren"),o="clientSide"===this.rowModel.getType()&&n,r=[],s=t=>{if(e&&!t.group)return;if(o&&t.group){const e=t.childrenAfterGroup.some((e=>!0===e.selectable));return void t.setRowSelectable(e,!0)}const n=!i||i(t);t.setRowSelectable(n,!0),!n&&t.isSelected()&&r.push(t)};if(o){const e=this.rowModel;new vH(!1,e.getRootNode()).forEachChangedNodeDepthFirst(s,!0,!0)}else this.rowModel.forEachNode(s);r.length&&this.selectionService.setNodesSelected({nodes:r,newValue:!1,source:"selectableChanged"}),o&&this.selectionService instanceof yH&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},CH=["asc","desc",null],wH=class extends pN{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){"asc"!==t&&"desc"!==t&&(t=null);let o=[e];if(this.gos.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const t=this.funcColsService.getSourceColumnsForGroupColumn(e),i=null===t||void 0===t?void 0:t.filter((e=>e.isSortable()));i&&(o=[e,...i])}o.forEach((e=>e.setSort(t,n)));const r=[];if(!((i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(o,n);r.push(...e)}this.updateSortIndex(e),r.push(...o),this.dispatchSortChangedEvents(n,r)}updateSortIndex(e){var t;const i=this.gos.isColumnsSortingCoupledToGroup(),n=null===(t=this.showRowGroupColsService)||void 0===t?void 0:t.getShowRowGroupCol(e.getId()),o=i&&n||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((e=>e.setSortIndex(null)));const s=r.filter((e=>(!i||!e.getColDef().showRowGroup)&&e!==o));(o.getSort()?[...s,o]:s).forEach(((e,t)=>{e.setSortIndex(t)}))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));return e&&e.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach((n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))})),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):CH,!Array.isArray(t)||t.length<=0)return UN("sortingOrder must be an array with at least one element, currently it's ".concat(t)),null;const i=t.indexOf(e.getSort()),n=i<0,o=i==t.length-1;let r;return r=n||o?t[0]:t[i+1],CH.indexOf(r)<0?(UN("invalid sort type ",r),null):r}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));if(this.columnModel.isPivotMode()){const t=this.gos.isColumnsSortingCoupledToGroup();e=e.filter((e=>{var i;const n=!!e.getAggFunc(),o=!e.isPrimary(),r=t?null===(i=this.showRowGroupColsService)||void 0===i?void 0:i.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return n||o||r}))}const t=this.funcColsService.getRowGroupColumns().filter((e=>!!e.getSort())),i={};e.forEach(((e,t)=>i[e.getId()]=t)),e.sort(((e,t)=>{const n=e.getSortIndex(),o=t.getSortIndex();if(null!=n&&null!=o)return n-o;if(null==n&&null==o){return i[e.getId()]>i[t.getId()]?1:-1}return null==o?-1:1}));const n=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map((e=>{var t,i;return null!==(t=null===(i=this.showRowGroupColsService)||void 0===i?void 0:i.getShowRowGroupCol(e.getId()))&&void 0!==t?t:e})))]);const o=new Map;return e.forEach(((e,t)=>o.set(e,t))),n&&t.forEach((e=>{const t=this.showRowGroupColsService.getShowRowGroupCol(e.getId());o.set(e,o.get(t))})),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(((e,t)=>{let[i,n]=e,[o,r]=t;return n-r})).map((e=>{let[t]=e;return t}))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),colId:e.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),column:e})))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||null===t||void 0===t||!t.length)return e.getSort();const i=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...t]:t,n=i[0].getSort();return i.every((e=>e.getSort()==n))?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},xH=class extends pN{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(e=>this.setColumnDefs(e)))}start(){this.ctrlsService.whenReady((()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(e){this.columnModel.setColumnDefs(null!==e&&void 0!==e?e:[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=hO.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&WN("initialised successfully, enterprise = ".concat(e))}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,dL(e.source))}},SH=class extends pN{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),o=new vH(n,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst((e=>{i.push(e)}))}this.rowRenderer.refreshCells({rowNodes:i})}},RH=class extends pN{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);YN("value should be either a string or a function",e)}evaluateExpression(e,t){try{const i=this.createExpressionFunction(e);return i(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(YQ){return WN("Processing of the expression failed"),WN("Expression = ",e),WN("Params = ",t),WN("Exception = ",YQ),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},MH=class extends pN{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},kH=class extends pN{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e),t=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",e,t))),this.addManagedPropertyListener("treeData",(e=>this.isTreeData=e.currentValue))}getValue(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),!t)return;const o=e.getColDef(),r=o.field,s=e.getColId(),a=t.data;let l;const c=t.groupData&&void 0!==t.groupData[s],d=!n&&t.aggData&&void 0!==t.aggData[s],u=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&o.filterValueGetter?l=this.executeFilterValueGetter(o.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[s]:this.isTreeData&&o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):this.isTreeData&&r&&a?l=FN(a,r,e.isFieldContainsDots()):c?l=t.groupData[s]:d?l=t.aggData[s]:o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):h?l=FN(a,t.field,e.isFieldContainsDots()):r&&a&&!u&&(l=FN(a,r,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof l&&0===l.indexOf("=")){const i=l.substring(1);l=this.executeValueGetter(i,a,e,t)}if(null==l){const i=this.getOpenedGroup(t,e);if(null!=i)return i}return l}parseValue(e,t,i,n){const o=e.getColDef(),r=this.gos.addGridCommonParams({node:t,data:null===t||void 0===t?void 0:t.data,oldValue:n,newValue:i,colDef:o,column:e}),s=o.valueParser;return fN(s)?"function"===typeof s?s(r):this.expressionService.evaluate(s,r):i}formatValue(e,t,i,n){let o,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=null;const a=e.getColDef();if(n?o=n:r&&(o=a.valueFormatter),o){const n=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});s="function"===typeof o?o(n):this.expressionService.evaluate(o,n)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup"))return;if(!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let n=e.parent;for(;null!=n;){if(n.rowGroupColumn&&(!0===i||i===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,i,n){const o=this.columnModel.getColDefCol(t);if(!e||!o)return!1;vN(e.data)&&(e.data={});const{field:r,valueSetter:s}=o.getColDef();if(vN(r)&&vN(s))return UN("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(o,i))return UN("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(o,e),newValue:i,colDef:o.getColDef(),column:o});let l;if(a.newValue=i,l=fN(s)?"function"===typeof s?s(a):this.expressionService.evaluate(s,a):this.setValueUsingField(e.data,r,i,o.isFieldContainsDots()),void 0===l&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(o,e);const c={type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})}))}setValueUsingField(e,t,i,n){if(!t)return!1;let o=!1;if(n){const n=t.split(".");let r=e;for(;n.length>0&&r;){const e=n.shift();0===n.length?(o=r[e]===i,o||(r[e]=i)):r=r[e]}}else o=e[t]===i,o||(e[t]=i);return!o}executeFilterValueGetter(e,t,i,n){const o=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"===typeof e?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,i,n){const o=i.getColId(),r=this.valueCache.getValue(n,o);if(void 0!==r)return r;const s=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(n,o,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let o=i;if(n){o=n(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof o||null==o||(o=String(o),"[object Object]"===o&&UN("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),o}},DH=class{};DH.gridOptions=void 0;var AH=1,EH=class{create(e,t,i,n,o){var r;let s={};DH.gridOptions?(PN(s,DH.gridOptions,!0,!0),s={...s,...t}):s=t;const a=function(e){const t={};return Object.entries(e).forEach((e=>{let[i,n]=e;const o=iH(i,n);t[i]=o})),t}(s),l=null!==(r=a.gridId)&&void 0!==r?r:String(AH++),c=this.getRegisteredModules(o,l),d=this.createBeansList(a.rowModelType,c,l),u=this.createProvidedBeans(e,a,o);if(!d)return void YN("Failed to create grid.");const h=new ij({providedBeanInstances:u,beanClasses:d,gridId:l,beanInitComparator:YG,beanDestroyComparator:KG,derivedBeans:[jG]});return this.registerModuleUserComponents(h,c),this.registerControllers(h,c),this.registerModuleApiFunctions(h,c),i(h),h.getBean("syncService").start(),n&&n(h),h.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach((e=>{e.controllers&&e.controllers.forEach((e=>i.register(e)))}))}getRegisteredModules(e,t){const i=e?e.modules:null,n=hO.__getRegisteredModules(t),o=[],r={},s=(e,t,i)=>{var n;r[(n=t).moduleName]||(r[n.moduleName]=!0,o.push(n),hO.__register(n,e,i)),t.dependantModules&&t.dependantModules.forEach((t=>s(e,t,i)))};return s(!(null===i||void 0===i||!i.length)||!hO.__isPackageBased(),Jz,void 0),i&&i.forEach((e=>s(!0,e,t))),n&&n.forEach((e=>s(!hO.__isPackageBased(),e,void 0))),o}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,(e=>e.userComponents?e.userComponents:[])),n=e.getBean("userComponentRegistry");i.forEach((e=>{n.registerDefaultComponent(e.name,e.classImp)}))}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach((e=>{var t;const n=null!==(t=e.apiFunctions)&&void 0!==t?t:{};Object.keys(n).forEach((e=>{null===i||void 0===i||i.addFunction(e,n[e])}))}))}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;vN(n)&&(n=new FG);const o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o}createBeansList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>2?arguments[2]:void 0;const i=(arguments.length>1?arguments[1]:void 0).filter((t=>!t.rowModel||t.rowModel===e)),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e])return void YN("Could not find row model for rowModelType = ",e);if(!hO.__assertRegistered(n[e],"rowModelType = '".concat(e,"'"),t))return;const o=[JG,ZG,rH,$z,IG,PO,VG,WG,W_,$O,mH,H_,sH,CG,aj,AL,rz,oH,TG,yH,cL,DB,cH,lH,yG,RH,aL,z_,MH,kH,fG,V_,oj,az,G_,iz,NG,RG,j_,wH,hH,uH,bH,SH,U_,BG,gH,fH,XG,lz,QG,qG,xH,pH,Y_,aH,dH,K_,gL,_G,fL,hL,GG,zG,SL,pL,wL,HG,xL],r=this.extractModuleEntity(i,(e=>e.beans?e.beans:[]));o.push(...r);const s=[];return o.forEach((e=>{s.indexOf(e)<0&&s.push(e)})),s}extractModuleEntity(e,t){return[].concat(...e.map(t))}},TH=class extends pN{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};var PH={version:uB,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function(e){e.expansionService.expandAll(!0)},collapseAll:function(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function(e){var t,i;const n=null===(t=e.rowModelHelperService)||void 0===t?void 0:t.getClientSideRowModel(),o=null===(i=e.rowModelHelperService)||void 0===i?void 0:i.getServerSideRowModel();n?n.onRowHeightChanged():o&&o.onRowHeightChanged()}}},FH={version:uB,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function(e,t,i){var n,o;const r=null===(n=e.rowModelHelperService)||void 0===n?void 0:n.getServerSideRowModel();if(r)return e.funcColsService.isRowGroupEmpty()?void r.setRowCount(t,i):void YN("setRowCount cannot be used while using row grouping.");const s=null===(o=e.rowModelHelperService)||void 0===o?void 0:o.getInfiniteRowModel();s&&s.setRowCount(t,i)},getCacheBlockState:function(e){var t,i;return null!==(t=null===(i=e.rowNodeBlockLoader)||void 0===i?void 0:i.getBlockState())&&void 0!==t?t:{}}}},NH=class{wrap(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;const o=this.createWrapper(e,n);return t.forEach((e=>{this.createMethod(o,e,!0)})),i.forEach((e=>{this.createMethod(o,e,!1)})),o}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&UN("Framework component is missing the method "+t+"()"),null)}}};var LH=class{};LH.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},LH.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],LH.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var IH="undefined"===typeof global?{}:global;IH.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,IH.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,IH.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,IH.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,IH.Node="undefined"===typeof Node?{}:Node,IH.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var OH=class{constructor(e,t,i,n,o,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=r,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return AN(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"===typeof e)return void UN("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((e=>this.createNode(e,this.rootNode,0))):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),t&&function(e,t){if(!e)return!1;const i=(e,i)=>{const n=t[e.id],o=t[i.id],r=void 0!==n,s=void 0!==o;return r&&s?n-o:r||s?r?1:-1:e.__objectId-i.__objectId};let n,o,r=!1;for(let s=0;s<e.length-1;s++)if(n=e[s],o=e[s+1],i(n,o)>0){r=!0;break}!!r&&e.sort(i)}(this.rootNode.allLeafChildren,t),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){const t={type:"rowDataUpdateStarted",firstRowData:null!==e&&void 0!==e&&e.length?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){const i=e.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i){const e={type:"selectionChanged",source:t};this.eventService.dispatchEvent(e)}}executeAdd(e,t){const{add:i,addIndex:n}=e;if(yN(i))return;const o=i.map((e=>this.createNode(e,this.rootNode,0))),r=this.rootNode.allLeafChildren;if("number"===typeof n&&n>=0){const e=r.length;let t=n;if(this.gos.get("treeData")&&n>0&&e>0)for(let o=0;o<e;o++){var s;if((null===(s=r[o])||void 0===s?void 0:s.rowIndex)==n-1){t=o+1;break}}const i=r.slice(0,t),a=r.slice(t,r.length);this.rootNode.allLeafChildren=[...i,...o,...a]}else this.rootNode.allLeafChildren=[...r,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=r),t.add=o}executeRemove(e,t,i){var n,o;const{remove:r}=e;if(yN(r))return;const s={};r.forEach((e=>{const n=this.lookupRowNode(e);n&&(n.isSelected()&&i.push(n),n.clearRowTopAndRowIndex(),s[n.id]=!0,delete this.allNodesMap[n.id],t.remove.push(n))})),this.rootNode.allLeafChildren=null!==(n=null===(o=this.rootNode.allLeafChildren)||void 0===o?void 0:o.filter((e=>!s[e.id])))&&void 0!==n?n:null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,i){const{update:n}=e;yN(n)||n.forEach((e=>{const n=this.lookupRowNode(e);n&&(n.updateData(e),!n.selectable&&n.isSelected()&&i.push(n),this.setMasterForRow(n,e,0,!1),t.update.push(n))}))}lookupRowNode(e){const t=this.gos.getRowIdCallback();let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return YN("could not find row id=".concat(n,", data item was not found for this id")),null}else{var n;if(i=null===(n=this.rootNode.allLeafChildren)||void 0===n?void 0:n.find((t=>t.data===e)),!i)return YN("could not find data item as object was not found",e),YN("Consider using getRowId to help the Grid find matching row data"),null}return i||null}createNode(e,t,i){const n=new pj(this.beans);return n.group=!1,this.setMasterForRow(n,e,i,!0),t&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&UN("duplicate node id '".concat(n.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const i=this.gos.get("isRowMaster");i?e.setMaster(i(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const t=this.funcColsService.getRowGroupColumns(),n=i+(t?t.length:0);e.expanded=!!e.master&&this.isExpanded(n)}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}};var jH="32.0.2",BH={version:jH,moduleName:"@ag-grid-community/client-side-row-model".concat("-core"),rowModel:"clientSide",beans:[class extends pN{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=JN(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new pj(this.beans),this.nodeManager=new OH(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),o=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...o,...r,...s,...a];this.addManagedPropertyListeners(l,(l=>{var c;const d=null===(c=l.changeSet)||void 0===c?void 0:c.properties;if(!d)return;const u=e=>d.some((t=>e.has(t)));u(e)?this.setRowData(this.rootNode.allLeafChildren.map((e=>e.data))):u(t)?this.refreshModel({step:"group"}):u(i)?this.refreshModel({step:"filter"}):u(n)?this.refreshModel({step:"pivot"}):u(o)?this.refreshModel({step:"aggregate"}):u(r)?this.refreshModel({step:"sort"}):u(s)?this.refreshModel({step:"filter_aggregates"}):u(a)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let o,r=!1;do{o=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,i),c=Math.min(a,n);for(let e=l;e<=c;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=this.gos.getRowHeightForNode(t);t.setRowHeight(e.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=this.gos.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){const r=this.rowsToDisplay[o];if(null!=r.id&&i.add(r.id),null==r.rowHeight){const t=this.gos.getRowHeightForNode(r,n,e);r.setRowHeight(t.height,t.estimated)}r.setRowTop(t),r.setRowIndex(o),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},o=e=>{if(n(e),n(e.detailNode),n(e.sibling),e.hasChildren()&&e.childrenAfterGroup){const t=-1==e.level;i&&!t&&!e.expanded||e.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getRowIndexAtPixel(t),o=this.getRow(n),r=!this.gos.get("suppressAnimationFrame");return o!==e[0]&&(e.forEach((e=>{eN(this.rootNode.allLeafChildren,e)})),e.forEach(((e,t)=>{tN(this.rootNode.allLeafChildren,e,Math.max(n+i,0)+t)})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,n=null!=i?this.getRow(i):null;if(!n||!e||n===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const o=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(!(t=this.getRow(i||0)))return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.sibling?1:0,t=this.rootNode.childrenAfterAggFilter;return(t?t.length:0)+e}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;t-=1}let i=this.rootNode.childrenAfterSort[t];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(vN(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),i=0===e.columns.length||e.columns.some((e=>e.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=yN(e),i=new vH(!1,this.rootNode);return(t||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter((e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0));return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(fN(e)&&(t=i[e]),vN(t))return void YN("invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1;const o={type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}isEmpty(){const e=vN(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return vN(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return fN(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1;const o=[],r=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((s=>{if(n)return;if(i&&(s===t||s===e)&&(n=!0,s.group&&r))return void o.push(...s.allLeafChildren);if(!i){if(s!==t&&s!==e)return;i=!0}(!s.group||!r)&&o.push(s)})),o}setDatasource(e){YN("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(QF(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let n=-1,o=-1;for(;;){const r=Math.floor((t+i)/2),s=this.rowsToDisplay[r];if(this.isRowInPixel(s,e))return r;s.rowTop<e?t=r+1:s.rowTop>e&&(i=r-1);if(n===t&&o===i)return r;n=t,o=i}}isRowInPixel(e,t){const i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((t,i)=>e(t,i)))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:n,includeFooterNodes:o}=e;let{index:r}=e;const s=e=>{var n;const s=null===(n=t[0])||void 0===n?void 0:n.parent;if(!s)return;const a=o&&this.gos.getGrandTotalRow(),l=this.gos.getGroupTotalRowCallback(),c=o&&l({node:s});s===this.rootNode?a===e&&(s.createFooter(),i(s.sibling,r++)):c===e&&(s.createFooter(),i(s.sibling,r++))};s("top");for(let a=0;a<t.length;a++){const e=t[a];if(i(e,r++),e.hasChildren()&&!e.footer){let t=null;switch(n){case 0:t=e.childrenAfterGroup;break;case 1:t=e.childrenAfterAggFilter;break;case 2:t=e.childrenAfterSort;break;case 3:t=e.leafGroup?null:e.childrenAfterSort}t&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:i,recursionType:n,index:r,includeFooterNodes:o}))}}return s("bottom"),r}doAggregate(e){var t;null===(t=this.aggregationStage)||void 0===t||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=o=>{o&&o.forEach((o=>{const r=()=>{o.expanded=e,n(o.childrenAfterGroup)};if(t){return void(fN(o.childrenAfterGroup)&&r())}if(i){return void(!o.leafGroup&&r())}o.group&&r()}))};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const o={type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"};this.eventService.dispatchEvent(o)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.gos.get("groupSelectsChildren")){if(this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const e={type:"selectionChanged",source:"rowGroupChanged"};this.eventService.dispatchEvent(e)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;null===(t=this.pivotStage)||void 0===t||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(pj.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.executeBatchUpdateRowData()}),e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((n=>{const o=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(o),n.callback&&e.push(n.callback.bind(null,o)),"number"===typeof n.rowDataTransaction.addIndex&&(i=!0)})),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),t.length>0){const e={type:"asyncTransactionsFlushed",results:t};this.eventService.dispatchEvent(e)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t),n="number"===typeof e.addIndex;return this.commonUpdateRowData([i],t,n),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder());this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends pN{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var t;const i=!(null===(t=this.filterManager)||void 0===t||!t.isChildFilterPresent());this.filterNodes(i,e)}filterNodes(e,t){const i=(t,i)=>{t.hasChildren()?t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter((e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||i})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const e=(t,n)=>{if(t.childrenAfterGroup)for(let o=0;o<t.childrenAfterGroup.length;o++){const r=t.childrenAfterGroup[o],s=n||this.filterManager.doesRowPassFilter({rowNode:r});r.childrenAfterGroup?e(t.childrenAfterGroup[o],s):i(r,s)}i(t,n)},n=t=>e(t,!1);t.executeFromRootNode(n)}else{const e=e=>i(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends pN{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=fN(t)&&t.length>0,n=i&&fN(e.rowNodeTransactions)&&this.gos.get("deltaSort"),o=t.some((e=>this.gos.isColumnsSortingCoupledToGroup()?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup));this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,o)}},class extends pN{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),o=n&&t.leafGroup,r=o?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,r,i,n,0);if(!o&&i.length>0&&s.grandTotalRow){t.createFooter();const e="top"===s.grandTotalRow;this.addRowNodeToRowsToDisplay(s,t.sibling,i,0,e)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,i,n,o){if(!yN(t))for(let r=0;r<t.length;r++){const s=t[r],a=s.hasChildren(),l=n&&!a,c=e.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,d=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,u=n&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!u;if(!l&&!h&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,s,i,o),!n||!s.leafGroup)if(a){const t=c||d;if(s.expanded||t){const r=e.groupTotalRow({node:s});r||s.destroyFooter();const a=t?o:o+1;"top"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,i,n,a),"bottom"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a))}}else if(s.master&&s.expanded){const t=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,t,i,o)}}}addRowNodeToRowsToDisplay(e,t,i,n,o){o?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(fN(e.detailNode))return e.detailNode;const t=new pj(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,fN(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends pN{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,o,r){const s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some((e=>e.isRowGroupActive()));let l={};i&&n&&(l=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),u=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0);const u=c&&n.leafGroup;if(s&&a&&!n.leafGroup&&!r){var h;const e=null===(h=this.funcColsService.getRowGroupColumns())||void 0===h?void 0:h[n.level+1],t=null===(null===e||void 0===e?void 0:e.getSort()),i=n.childrenAfterAggFilter.slice(0);if(n.childrenAfterSort&&!t){const e={};n.childrenAfterSort.forEach(((t,i)=>{e[t.id]=i})),i.sort(((t,i)=>{var n,o;return(null!==(n=e[t.id])&&void 0!==n?n:0)-(null!==(o=e[i.id])&&void 0!==o?o:0)}))}n.childrenAfterSort=i}else n.childrenAfterSort=!t||u?n.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(n,l,o,e):this.rowNodeSorter.doFullSort(n.childrenAfterAggFilter,e);if(n.sibling&&(n.sibling.childrenAfterSort=n.childrenAfterSort),this.updateChildIndexes(n),d){const e={nodes:n.childrenAfterSort};d(e)}};o&&o.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){const t={},i=e=>{e&&e.forEach((e=>t[e.id]=!0))};return e&&e.forEach((e=>{i(e.add),i(e.update),i(e.remove)})),t}doDeltaSort(e,t,i,n){const o=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(o,n);const s={},a=[];o.forEach((e=>{t[e.id]||!i.canSkip(e)?a.push(e):s[e.id]=!0}));const l=r.filter((e=>s[e.id])),c=(e,t)=>({currentPos:t,rowNode:e}),d=a.map(c).sort(((e,t)=>this.rowNodeSorter.compareRowNodes(n,e,t)));return this.mergeSortedArrays(n,d,l.map(c)).map((e=>{let{rowNode:t}=e;return t}))}mergeSortedArrays(e,t,i){const n=[];let o=0,r=0;for(;o<t.length&&r<i.length;){this.rowNodeSorter.compareRowNodes(e,t[o],i[r])<0?n.push(t[o++]):n.push(i[r++])}for(;o<t.length;)n.push(t[o++]);for(;r<i.length;)n.push(i[r++]);return n}updateChildIndexes(e){if(vN(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],o=0===i,r=i===e.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(r),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return UN("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((e=>{e.hasChildren()&&t(e)}))};e&&e.executeFromRootNode((e=>t(e)))}pullDownGroupDataForHideOpenParents(e,t){this.gos.get("groupHideOpenParents")&&!vN(e)&&e.forEach((e=>{var i,n;(null!==(i=null===(n=this.showRowGroupColsService)||void 0===n?void 0:n.getShowRowGroupCols())&&void 0!==i?i:[]).forEach((i=>{const n=i.getColDef().showRowGroup;if("string"!==typeof n)return void YN("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const o=n,r=this.columnModel.getColDefCol(o);if(!(r===e.rowGroupColumn))if(t)e.setGroupValue(i.getId(),void 0);else{const t=e.getFirstChildOfFirstChild(r);t&&e.setGroupValue(i.getId(),t.key)}}))}))}},class extends pN{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,n]=t;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(e){if(vN(this.clientSideRowModel))return void YN("ImmutableService only works with ClientSideRowModel");const t=this.gos.getRowIdCallback();if(null==t)return void YN("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return fN(e)&&e.forEach(((e,r)=>{const s=t({data:e,level:0}),a=n[s];if(o&&(o[s]=r),a){a.data!==e&&i.update.push(e),n[s]=void 0}else i.add.push(e)})),DN(n,((e,t)=>{t&&i.remove.push(t.data)})),[i,o]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},_H={version:jH,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[BH,{version:jH,moduleName:"@ag-grid-community/client-side-row-model".concat("-api"),beans:[TH],apiFunctions:{onGroupExpandedOrCollapsed:function(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){var i;null===(i=e.rowModelHelperService)||void 0===i||null===(i=i.getClientSideRowModel())||void 0===i||i.refreshModel(t)},forEachLeafNode:function(e,t){var i;null===(i=e.rowModelHelperService)||void 0===i||null===(i=i.getClientSideRowModel())||void 0===i||i.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){var i;null===(i=e.rowModelHelperService)||void 0===i||null===(i=i.getClientSideRowModel())||void 0===i||i.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){var i;null===(i=e.rowModelHelperService)||void 0===i||null===(i=i.getClientSideRowModel())||void 0===i||i.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){var t;e.columnModel.isAutoRowHeightActive()?UN("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getClientSideRowModel())||void 0===t||t.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>{var i;return null===(i=e.rowModelHelperService)||void 0===i||null===(i=i.getClientSideRowModel())||void 0===i?void 0:i.updateRowData(t)}))},applyTransactionAsync:function(e,t,i){e.frameworkOverrides.wrapIncoming((()=>{var n;return null===(n=e.rowModelHelperService)||void 0===n||null===(n=n.getClientSideRowModel())||void 0===n?void 0:n.batchUpdateRowData(t,i)}))},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming((()=>{var t;return null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getClientSideRowModel())||void 0===t?void 0:t.flushAsyncTransactions()}))},getBestCostNodeSelection:function(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[BH,PH]}]},GH=class extends pN{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?"".concat(e,".").concat(t):e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return"export.".concat(this.getDefaultFileExtension())}},zH=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:n,valueService:o,gos:r,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=o,this.gos=r,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter((e=>!!e.getColDef().showRowGroup))}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return null!==t&&void 0!==t?t:""}extractRowCellValue(e,t,i,n,o){const r=this.gos.get("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,e,t)?this.valueService.getValue(e,o):this.createValueForGroupNode(e,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){var n;if(null!=(null===(n=e.groupData)||void 0===n?void 0:n[t.getId()]))return!0;if(this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){const e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const o=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),o=t=>{var o,r;if(i||n)return t.key;const s=null===(o=t.groupData)||void 0===o?void 0:o[e.getId()];return s&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(r=this.valueService.formatValue(t.rowGroupColumn,t,s))&&void 0!==r?r:s},r=t.footer,s=[o(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,s.push(o(t));const a=s.reverse().join(" -> ");return r?"Total ".concat(a):a}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:n,value:o,processCellCallback:r,type:s}=e;var a;return r?{value:null!==(a=r(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:o,type:s,parseValue:e=>this.valueService.parseValue(n,i,e,this.valueService.getValue(n,i)),formatValue:e=>{var t;return null!==(t=this.valueService.formatValue(n,i,e))&&void 0!==t?t:e}})))&&void 0!==a?a:""}:!1!==n.getColDef().useValueFormatterForExport?{value:null!==o&&void 0!==o?o:"",valueFormatted:this.valueService.formatValue(n,i,o)}:{value:null!==o&&void 0!==o?o:""}}},HH=class{static download(e,t){const i=document.defaultView||window;if(!i)return void UN("There is no `window` associated with the current `document`");const n=document.createElement("a"),o=i.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout((()=>{i.URL.revokeObjectURL(o)}),0)}},VH=class extends zH{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((e=>{this.beginNewLine(),e.forEach(((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var n;0!=t&&(this.result+=this.columnSeparator);const o=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!==(n=o.valueFormatted)&&void 0!==n?n:o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(UN("unknown value type during csv conversion"),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var WH="32.0.2",UH={version:WH,moduleName:"@ag-grid-community/csv-export".concat("-core"),beans:[class extends GH{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void UN("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\ufeff",i],{type:"text/plain"}),o="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;HH.download(this.getFileName(o),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:n,valueService:o,gos:r}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new VH({columnModel:t,columnNameService:i,funcColsService:n,valueService:o,gos:r,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends pN{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:i,columnKeys:n,skipRowGroups:o}=t,r=this.getColumnsToExport(i,o,n),s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return e=>t.reduce(((e,t)=>t(e)),e)}(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t));return s(e).parse()}processRow(e,t,i,n){var o;const r=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),a=this.gos.get("groupRemoveLowestSingleChildren"),l=null!=t.rowPositions||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,h=a&&n.leafGroup,p=1===n.allChildrenCount&&1===(null===(o=n.childrenAfterGroup)||void 0===o?void 0:o.length)&&(s||h);if(!d&&!u&&(t.skipRowGroups||p||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned)return;if(-1===n.level&&!d&&!u)return;if(r(this.gos.addGridCommonParams({node:n})))return;const g=e.onNewBodyRow(n);if(i.forEach(((e,t)=>{g.onColumn(e,t,n)})),t.getCustomContentBelowRow){const i=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));i&&e.addCustomContent(i)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new DL,o=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const e=i.onNewHeaderRow();t.forEach(((t,i)=>{e.onColumn(t,i,void 0)}))}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"top"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),i}}processRows(e,t){return i=>{const n=this.rowModel,o=n.getType(),r="clientSide"===o,s="serverSide"===o,a=!r&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter((e=>null==e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>n.getRow(e.rowIndex))).forEach(l);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(l,!0):s?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(e.onlySelectedAllPages||a){const e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(l)}else"all"===c?n.forEachNode(l):r||s?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(e,n)=>{return null!=e.rowIndex&&null!=n.rowIndex?e.rowIndex-n.rowIndex:e.level===n.level?(null===(o=e.parent)||void 0===o?void 0:o.id)===(null===(r=n.parent)||void 0===r?void 0:r.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:null!==(s=e.rowIndex)&&void 0!==s?s:-1},{rowNode:n,currentPos:null!==(a=n.rowIndex)&&void 0!==a?a:-1}):i(e.parent,n.parent):e.level>n.level?i(e.parent,n):i(e,n.parent);var o,r,s,a};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"bottom"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),i}}getColumnsToExport(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const o=this.gos.get("treeData");let r=[];return r=e&&!n?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!o&&(r=r.filter((e=>e.getColId()!==tL))),r}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach((e=>{const t=e;t.getChildren&&t.getChildren().forEach((e=>n.push(e)))})),e.length>0&&ML(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let o=0;t.forEach((e=>{const t=e;let r;r=i?i(this.gos.addGridCommonParams({columnGroup:t})):this.columnNameService.getDisplayNameForColumnGroup(t,"header");const s=t.getLeafColumns().reduce(((e,t,i,n)=>{let o=QF(e);return"open"===t.getColumnGroupShow()?o&&null==o[1]||(o=[i],e.push(o)):o&&null==o[1]&&(o[1]=i-1),i===n.length-1&&o&&null==o[1]&&(o[1]=i),e}),[]);n.onColumn(t,r||"",o++,t.getLeafColumns().length-1,s)}))}}]},YH={version:WH,moduleName:"@ag-grid-community/csv-export",dependantModules:[UH,{version:WH,moduleName:"@ag-grid-community/csv-export".concat("-api"),apiFunctions:{getDataAsCsv:function(e,t){var i;return null===(i=e.csvCreator)||void 0===i?void 0:i.getDataAsCsv(t)},exportDataAsCsv:function(e,t){var i;null===(i=e.csvCreator)||void 0===i||i.exportDataAsCsv(t)}},dependantModules:[UH]}]};var KH=async e=>{const t=new Blob([e]),{size:i,content:n}=await(async e=>{let t=0;const i=[],n=new WritableStream({write:e=>{i.push(e),t+=e.length}}),o=new ReadableStream({start:t=>{const i=new FileReader;i.onload=e=>{var i;null!==(i=e.target)&&void 0!==i&&i.result&&t.enqueue(e.target.result),t.close()},i.readAsArrayBuffer(e)}}),r=new window.CompressionStream("deflate-raw");return await o.pipeThrough(r).pipeTo(n),{size:t,content:new Blob(i)}})(t);return{size:i,content:new Uint8Array(await n.arrayBuffer())}};function qH(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}var XH=e=>{if(!e.length)return 0;let t=~0,i=0,n=0,o=0;for(let r=0;r<e.length;r++)i=e[r],n=255&(t^i),o=QH[n],t=t>>>8^o;return~t},ZH=e=>e.length?XH("string"===typeof e?(new TextEncoder).encode(e):e):0,QH=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),JH=(e,t,i,n,o,r)=>{const{content:s,path:a,created:l}=e,c=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),d=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=ZH(o),h=void 0!==r?r:n,p=bL(a),g=p!==a;let m="";if(g){const e=qH(1,1)+qH(ZH(p),4)+p;m="up"+qH(e.length,2)+e}const f="\x14\0"+(g?"\0\b":"\0\0")+qH(t?8:0,2)+qH(c,2)+qH(d,2)+qH(h?u:0,4)+qH(null!==r&&void 0!==r?r:n,4)+qH(n,4)+qH(p.length,2)+qH(m.length,2),v="PK\x03\x04"+f+p+m,y="PK\x01\x02\x14\0"+f+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+qH(i,4)+p+m;return{localFileHeader:Uint8Array.from(v,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(y,(e=>e.charCodeAt(0)))}},$H=e=>{let t;if("string"===typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,(e=>e.charCodeAt(0)))}else t=e;return{size:t.length,content:t}},eV=async(e,t)=>{const{content:i}=e,{size:n,content:o}=i?$H(i):{size:0,content:Uint8Array.from([])};let r,s,a=!1;if("file"===e.type&&o&&n>0){const e=await KH(o);r=e.content,s=e.size,a=!0}return{...JH(e,a,t,n,o,s),content:r||o,isCompressed:a}},tV=(e,t)=>{const{content:i}=e,{content:n}=i?$H(i):{content:Uint8Array.from([])};return{...JH(e,!1,t,n.length,n,void 0),content:n,isCompressed:!1}},iV=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static async getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}static getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,i=0;for(const c of e){const{localFileHeader:e,centralDirectoryHeader:n,content:o}=c;t+=e.length+o.length,i+=n.length}const n=new Uint8Array(t),o=new Uint8Array(i);let r=0,s=0;for(const c of e){const{localFileHeader:e,centralDirectoryHeader:t,content:i}=c;n.set(e,r),r+=e.length,n.set(i,r),r+=i.length,o.set(t,s),s+=t.length}const a=((e,t,i)=>{const n="PK\x05\x06\0\0\0\0"+qH(e,2)+qH(e,2)+qH(t,4)+qH(i,4)+"\0\0";return Uint8Array.from(n,(e=>e.charCodeAt(0)))})(e.length,i,t),l=new Uint8Array(n.length+o.length+a.length);return l.set(n),l.set(o,n.length),l.set(a,n.length+o.length),l}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const e=await eV(n,i),{localFileHeader:o,content:r}=e;t.push(e),i+=o.length+r.length}return this.packageFiles(t)}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const e=tV(n,i),{localFileHeader:o,content:r}=e;t.push(e),i+=o.length+r.length}return this.packageFiles(t)}};iV.folders=[],iV.files=[];var nV=class extends wG{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){fN(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();vN(this.params.datasource.getRows)?UN("datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(e)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach(((n,o)=>{this.startRow+o<i&&e(n,t.next())}))}getLastAccessed(){return this.lastAccessed}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.next());const t=e-this.startRow;return this.rowNodes[t]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new pj(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach(((t,i)=>{const n=e.rowData?e.rowData[i]:void 0;!t.id&&t.alreadyRendered&&n&&(this.rowNodes[i]=new pj(this.beans),this.rowNodes[i].setRowIndex(t.rowIndex),this.rowNodes[i].setRowTop(t.rowTop),this.rowNodes[i].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],n,this.startRow+i)}));const t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach((e=>{e.clearRowTopAndRowIndex()})),super.destroy()}},oV=class extends pN{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.createBean(new nV(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((e=>e.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((e=>this.destroyBlock(e))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&WN("InfiniteCache - onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(t)),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter((t=>t!=e));t.sort(((e,t)=>t.getLastAccessed()-e.getLastAccessed()));const i=this.params.maxBlocksInCache>0,n=i?this.params.maxBlocksInCache-1:null;t.forEach(((e,t)=>{if("needsLoading"===e.getState()&&t>=1||!!i&&t>=n){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}}))}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,fN(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new qI;this.getBlocksInOrder().forEach((i=>i.forEachNode(e,t,this.rowCount)))}getBlocksInOrder(){return TN(this.blocks).sort(((e,t)=>e.getId()-t.getId()))}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const e={type:"storeUpdated"};this.eventService.dispatchEvent(e)}}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach((t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)})),e.length>0&&e.forEach((e=>this.destroyBlock(e)))}purgeCache(){this.getBlocksInOrder().forEach((e=>this.removeBlockFromCache(e))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,o=!1;const r=new qI;let s=!1;this.getBlocksInOrder().forEach((a=>{s||(o&&n+1!==a.getId()?s=!0:(n=a.getId(),a.forEachNode((n=>{const r=n===e||n===t;(o||r)&&i.push(n),r&&(o=!o)}),r,this.rowCount)))}));return s||o?[]:i}};var rV="32.0.2",sV={version:rV,moduleName:"@ag-grid-community/infinite-row-model".concat("-core"),rowModel:"infinite",beans:[class extends pN{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&UN("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!SN(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=this.gos.getRowIdCallback()||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){var e,t;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getFilterModel())&&void 0!==e?e:{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new qI},this.infiniteCache=this.createBean(new oV(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"});const i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}updateRowHeights(){this.forEachNode((e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}));const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[xG]},aV={version:rV,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[sV,{version:rV,moduleName:"@ag-grid-community/infinite-row-model".concat("-api"),beans:[TH],apiFunctions:{refreshInfiniteCache:function(e){var t;null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getInfiniteRowModel())||void 0===t||t.refreshCache()},purgeInfiniteCache:function(e){var t;null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getInfiniteRowModel())||void 0===t||t.purgeCache()},getInfiniteRowCount:function(e){var t;return null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getInfiniteRowModel())||void 0===t?void 0:t.getRowCount()},isLastRowIndexKnown:function(e){var t;return null===(t=e.rowModelHelperService)||void 0===t||null===(t=t.getInfiniteRowModel())||void 0===t?void 0:t.isLastRowIndexKnown()}},dependantModules:[sV,FH]}]};hO.__registerModules([Jz,_H,aV,YH],!1,void 0);var lV=n.createContext({}),cV=(e,t,i,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(null==o)return;let r,s,a=!1;return o.then((e=>{a?t.destroyBean(e):(r=e,s=r.getGui(),i.appendChild(s),dV(n,r))})),()=>{a=!0,r&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(r),n&&dV(n,void 0))}},dV=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},uV=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e=>null!=e&&""!==e)).join(" ")},hV=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,i){if(!!this.classesMap[t]==i)return this;const n=new e;return n.classesMap={...this.classesMap},n.classesMap[t]=i,n}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},pV=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),gV=null!=s.createRoot&&null!=s.flushSync;var mV=!1;var fV=(e,t)=>{gV&&e&&!mV?s.flushSync(t):t()};function vV(e,t,i){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(i||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const n=[],o=[],r=new Map,s=new Map;for(let a=0;a<t.length;a++){const e=t[a];s.set(e.getInstanceId(),e)}for(let a=0;a<e.length;a++){const t=e[a];r.set(t.getInstanceId(),t),s.has(t.getInstanceId())&&n.push(t)}for(let a=0;a<t.length;a++){const e=t[a],i=e.getInstanceId();r.has(i)||o.push(e)}return n.length===e.length&&0===o.length?e:0===n.length&&o.length===t.length?t:0===n.length?o:0===o.length?n:[...n,...o]}var yV=(0,n.forwardRef)(((e,t)=>{var i;const{ctrlsFactory:o,context:r}=(0,n.useContext)(lV),s=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(),[h,p]=(0,n.useState)(),[g,m]=(0,n.useState)(),[f,v]=(0,n.useState)(),[y,b]=(0,n.useState)((()=>new hV)),[C,w]=(0,n.useState)((()=>new hV("ag-hidden"))),[x,S]=(0,n.useState)((()=>new hV("ag-hidden"))),[R,M]=(0,n.useState)((()=>new hV("ag-invisible")));(0,n.useImperativeHandle)(t,(()=>({refresh:()=>!1}))),(0,n.useLayoutEffect)((()=>cV(h,r,a.current)),[h]);const k=(0,n.useCallback)((t=>{if(s.current=t,!s.current)return r.destroyBean(u.current),void(u.current=null);const i={setInnerRenderer:(e,t)=>{p(e),v(t)},setChildCount:e=>m(e),addOrRemoveCssClass:(e,t)=>b((i=>i.setClass(e,t))),setContractedDisplayed:e=>S((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>w((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>M((t=>t.setClass("ag-invisible",!e)))},n=o.getInstance("groupCellRendererCtrl");n&&(u.current=r.createBean(n),u.current.init(i,s.current,l.current,c.current,d.current,yV,e))}),[]),D=(0,n.useMemo)((()=>"ag-cell-wrapper ".concat(y.toString())),[y]),A=(0,n.useMemo)((()=>"ag-group-expanded ".concat(C.toString())),[C]),E=(0,n.useMemo)((()=>"ag-group-contracted ".concat(x.toString())),[x]),T=(0,n.useMemo)((()=>"ag-group-checkbox ".concat(R.toString())),[R]),P=h&&h.componentFromFramework,F=P?h.componentClass:void 0,N=null==h&&null!=f,L=CL(f,!0);return n.createElement("span",{className:D,ref:k,...e.colDef?{}:{role:null===(i=u.current)||void 0===i?void 0:i.getCellAriaRole()}},n.createElement("span",{className:A,ref:c}),n.createElement("span",{className:E,ref:d}),n.createElement("span",{className:T,ref:l}),n.createElement("span",{className:"ag-group-value",ref:a},N&&n.createElement(n.Fragment,null,L),P&&n.createElement(F,{...h.params})),n.createElement("span",{className:"ag-group-child-count"},g))})),bV=yV,CV=(0,n.createContext)({setMethods:()=>{}}),wV=(0,n.memo)((e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:o,setMethods:r}=e,[s,a]=(0,n.useState)(t);return(0,n.useEffect)((()=>{i((e=>a(e)))}),[]),n.createElement(CV.Provider,{value:{setMethods:r}},n.createElement(o,{...s}))})),xV=0;function SV(){return"agPortalKey_".concat(++xV)}var RV=class{constructor(e,t,i,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=SV(),this.portalKey=SV(),this.instanceCreated=this.isStatelessComponent()?FO.resolve(!1):new FO((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(UN('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){UN('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i)return void setTimeout((()=>this.callMethod(e,t)));const n=i[e];return n?n.apply(i,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new FO((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,this.addParentContainerStyleAndClasses(),null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,s.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,n.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this["".concat(e,"Component")]}};function MV(e,t,i){e.forEach((e=>{const n=t[e];n&&(i[e]=n)}))}var kV=class extends RV{constructor(){super(...arguments),this.awaitUpdateCallback=new FO((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=wV}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new FO((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,MV(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new FO((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},DV=class extends kV{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},AV=class extends kV{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},EV=class extends kV{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;!1===this.expectingNewMethods&&(null===(t=this.providedMethods)||void 0===t?void 0:t.doesFilterPass)!==(null===e||void 0===e?void 0:e.doesFilterPass)&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function TV(e,t){e.parentFilterInstance((i=>{(i.setModel(t)||FO.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var PV=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){MV(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),TV(this.floatingFilterParams,e)}},FV=class extends kV{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),TV(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},NV=class extends kV{refresh(e){this.sourceParams=e,this.refreshProps()}},LV=class extends kV{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},IV=class extends kV{refresh(e){this.sourceParams=e,this.refreshProps()}},OV=class extends kV{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},jV=class extends kV{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function BV(){UN("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var _V=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,i)}))}}},GV=(0,n.memo)((e=>{const{ctrl:t}=e,i=t.isAlive(),{context:o}=(0,n.useContext)(lV),r=i?t.getColId():void 0,[s,a]=(0,n.useState)(),l=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(),h=(0,n.useRef)();i&&!h.current&&(h.current=new KL((()=>l.current)));const p=(0,n.useCallback)((e=>{var n;if(l.current=e,!l.current||!i)return;const o={setWidth:e=>{l.current&&(l.current.style.width=e)},addOrRemoveCssClass:(e,t)=>h.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{l.current&&(e?lI(l.current,e):cI(l.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>u.current||void 0};t.setComp(o,l.current,c.current,d.current);const r=t.getSelectAllGui();null===(n=c.current)||void 0===n||n.insertAdjacentElement("afterend",r)}),[]);(0,n.useLayoutEffect)((()=>cV(s,o,d.current,u)),[s]),(0,n.useEffect)((()=>{t.setDragSource(l.current)}),[s]);const g=(0,n.useMemo)((()=>!!((null===s||void 0===s?void 0:s.componentFromFramework)&&pV(s.componentClass))),[s]),m=s&&s.componentFromFramework,f=s&&s.componentClass;return n.createElement("div",{ref:p,className:"ag-header-cell","col-id":r,role:"columnheader"},n.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),n.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&g&&n.createElement(f,{...s.params}),m&&!g&&n.createElement(f,{...s.params,ref:u})))})),zV=(0,n.memo)((e=>{const{context:t,gos:i}=(0,n.useContext)(lV),[o,r]=(0,n.useState)((()=>new hV("ag-header-cell","ag-floating-filter"))),[s,a]=(0,n.useState)((()=>new hV)),[l,c]=(0,n.useState)((()=>new hV("ag-floating-filter-button","ag-hidden"))),[d,u]=(0,n.useState)("false"),[h,p]=(0,n.useState)(),[,g]=(0,n.useState)(1),m=(0,n.useRef)(null),f=(0,n.useRef)(null),v=(0,n.useRef)(null),y=(0,n.useRef)(null),b=(0,n.useRef)(),C=(0,n.useRef)(),w=e=>{null!=e&&b.current&&b.current(e)},{ctrl:x}=e,S=(0,n.useCallback)((e=>{if(m.current=e,!m.current)return;C.current=new FO((e=>{b.current=e}));const t={addOrRemoveCssClass:(e,t)=>r((i=>i.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>a((i=>i.setClass(e,t))),setButtonWrapperDisplayed:e=>{c((t=>t.setClass("ag-hidden",!e))),u(e?"false":"true")},setWidth:e=>{m.current&&(m.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>C.current?C.current:null,setMenuIcon:e=>{var t;return null===(t=y.current)||void 0===t?void 0:t.appendChild(e)}};x.setComp(t,m.current,y.current,f.current)}),[]);(0,n.useLayoutEffect)((()=>cV(h,t,f.current,w)),[h]);const R=(0,n.useMemo)((()=>o.toString()),[o]),M=(0,n.useMemo)((()=>s.toString()),[s]),k=(0,n.useMemo)((()=>l.toString()),[l]),D=(0,n.useMemo)((()=>!!(h&&h.componentFromFramework&&pV(h.componentClass))),[h]),A=(0,n.useMemo)((()=>i.get("reactiveCustomComponents")),[]),E=(0,n.useMemo)((()=>{if(h){if(A){const e=new PV(h.params,(()=>g((e=>e+1))));return w(e),e}h.componentFromFramework&&BV()}}),[h]),T=null===E||void 0===E?void 0:E.getProps(),P=h&&h.componentFromFramework,F=h&&h.componentClass;return n.createElement("div",{ref:S,className:R,role:"gridcell"},n.createElement("div",{ref:f,className:M,role:"presentation"},P&&!A&&n.createElement(F,{...h.params,ref:D?()=>{}:w}),P&&A&&n.createElement(CV.Provider,{value:{setMethods:e=>E.setMethods(e)}},n.createElement(F,{...T}))),n.createElement("div",{ref:v,"aria-hidden":d,className:k,role:"presentation"},n.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),HV=(0,n.memo)((e=>{const{context:t}=(0,n.useContext)(lV),{ctrl:i}=e,[o,r]=(0,n.useState)((()=>new hV)),[s,a]=(0,n.useState)((()=>new hV)),[l,c]=(0,n.useState)("false"),[d,u]=(0,n.useState)(),[h,p]=(0,n.useState)(),g=(0,n.useMemo)((()=>i.getColId()),[]),m=(0,n.useRef)(null),f=(0,n.useRef)(null),v=(0,n.useRef)(),y=(0,n.useCallback)((e=>{if(m.current=e,!m.current)return;const t={setWidth:e=>{m.current&&(m.current.style.width=e)},addOrRemoveCssClass:(e,t)=>r((i=>i.setClass(e,t))),setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{a((t=>t.setClass("ag-hidden",!e))),c(e?"false":"true")},setAriaExpanded:e=>u(e),getUserCompInstance:()=>v.current||void 0};i.setComp(t,m.current,f.current)}),[]);(0,n.useLayoutEffect)((()=>cV(h,t,m.current)),[h]),(0,n.useEffect)((()=>{m.current&&i.setDragSource(m.current)}),[h]);const b=(0,n.useMemo)((()=>!!((null===h||void 0===h?void 0:h.componentFromFramework)&&pV(h.componentClass))),[h]),C=(0,n.useMemo)((()=>"ag-header-group-cell "+o.toString()),[o]),w=(0,n.useMemo)((()=>"ag-header-cell-resize "+s.toString()),[s]),x=h&&h.componentFromFramework,S=h&&h.componentClass;return n.createElement("div",{ref:y,className:C,"col-id":g,role:"columnheader","aria-expanded":d},x&&b&&n.createElement(S,{...h.params}),x&&!b&&n.createElement(S,{...h.params,ref:v}),n.createElement("div",{ref:f,"aria-hidden":l,className:w}))})),VV=(0,n.memo)((e=>{const{ctrl:t}=e,{topOffset:i,rowHeight:o}=(0,n.useMemo)((()=>t.getTopAndHeight()),[]),r=t.getAriaRowIndex(),s=t.getHeaderRowClass(),[a,l]=(0,n.useState)((()=>o+"px")),[c,d]=(0,n.useState)((()=>i+"px")),u=(0,n.useRef)(null),h=(0,n.useRef)(null),[p,g]=(0,n.useState)((()=>t.getHeaderCtrls())),m=(0,n.useRef)(null),f=(0,n.useCallback)((e=>{if(m.current=e,!e)return;const i={setHeight:e=>l(e),setTop:e=>d(e),setHeaderCtrls:(e,t,i)=>{h.current=u.current,u.current=e;const n=vV(h.current,e,t);n!==h.current&&fV(i,(()=>g(n)))},setWidth:e=>{m.current&&(m.current.style.width=e)}};t.setComp(i,!1)}),[]),v=(0,n.useMemo)((()=>({height:a,top:c})),[a,c]),y=(0,n.useCallback)((e=>{switch(t.getType()){case kB.COLUMN_GROUP:return n.createElement(HV,{ctrl:e,key:e.getInstanceId()});case kB.FLOATING_FILTER:return n.createElement(zV,{ctrl:e,key:e.getInstanceId()});default:return n.createElement(GV,{ctrl:e,key:e.getInstanceId()})}}),[]);return n.createElement("div",{ref:f,className:s,role:"row",style:v,"aria-rowindex":r},p.map(y))})),WV=(0,n.memo)((e=>{const[t,i]=(0,n.useState)(!0),[o,r]=(0,n.useState)([]),{context:s}=(0,n.useContext)(lV),a=(0,n.useRef)(null),l=(0,n.useRef)(null),c=(0,n.useRef)(null),d="left"===e.pinned,u="right"===e.pinned,h=!d&&!u,p=(0,n.useCallback)((t=>{if(a.current=t,!a.current)return s.destroyBean(c.current),void(c.current=null);const n={setDisplayed:i,setCtrls:e=>r(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{a.current&&(a.current.scrollLeft=e)},setPinnedContainerWidth:e=>{a.current&&(a.current.style.width=e,a.current.style.minWidth=e,a.current.style.maxWidth=e)}};c.current=s.createBean(new UB(e.pinned)),c.current.setComp(n,a.current)}),[]),g=t?"":"ag-hidden",m=()=>o.map((e=>n.createElement(VV,{ctrl:e,key:e.getInstanceId()})));return n.createElement(n.Fragment,null,d&&n.createElement("div",{ref:p,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"rowgroup"},m()),u&&n.createElement("div",{ref:p,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"rowgroup"},m()),h&&n.createElement("div",{ref:p,className:"ag-header-viewport "+g,role:"presentation"},n.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},m())))})),UV=(0,n.memo)((()=>{const[e,t]=(0,n.useState)((()=>new hV)),[i,o]=(0,n.useState)(),{context:r}=(0,n.useContext)(lV),s=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useCallback)((e=>{if(s.current=e,!e)return r.destroyBean(a.current),void(a.current=null);const i={addOrRemoveCssClass:(e,i)=>t((t=>t.setClass(e,i))),setHeightAndMinHeight:e=>o(e)};a.current=r.createBean(new AB),a.current.setComp(i,s.current,s.current)}),[]),c=(0,n.useMemo)((()=>"ag-header "+e.toString()),[e]),d=(0,n.useMemo)((()=>({height:i,minHeight:i})),[i]);return n.createElement("div",{ref:l,className:c,style:d,role:"presentation"},n.createElement(WV,{pinned:"left"}),n.createElement(WV,{pinned:null}),n.createElement(WV,{pinned:"right"}))})),YV=(e,t)=>{(0,n.useEffect)((()=>{const i=t.current;if(i){const t=i.parentElement;if(t){const n=document.createComment(e);return t.insertBefore(n,i),()=>{t.removeChild(n)}}}}),[e])},KV=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new FO((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){MV(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},qV=(0,n.memo)((e=>{const[t,i]=(0,n.useState)(),{context:o,popupService:r,localeService:a,gos:l,editService:c}=(0,n.useContext)(lV);return(e=>{const t=(0,n.useRef)(e),i=(0,n.useRef)(),o=(0,n.useRef)(!1),r=(0,n.useRef)(!1),[,s]=(0,n.useState)(0);o.current&&(r.current=!0),(0,n.useEffect)((()=>(o.current||(i.current=t.current(),o.current=!0),s((e=>e+1)),()=>{r.current&&i.current&&i.current()})),[])})((()=>{const{editDetails:t,cellCtrl:n,eParentCell:s}=e,{compDetails:d}=t,u=l.get("stopEditingWhenCellsLoseFocus"),h=o.createBean(c.createPopupEditorWrapper(d.params)),p=h.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&p.appendChild(t)}const g={column:n.getColumn(),rowNode:n.getRowNode(),type:"popupCellEditor",eventSource:s,ePopup:p,position:t.popupPosition,keepWithinBounds:!0},m=r.positionPopupByComponent.bind(r,g),f=a.getLocaleTextFunc(),v=r.addPopup({modal:u,eChild:p,closeOnEsc:!0,closedCallback:()=>{n.onPopupEditorClosed()},anchorToElement:s,positionCallback:m,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),y=v?v.hideFunc:void 0;return i(h),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{null!=y&&y(),o.destroyBean(h)}})),n.createElement(n.Fragment,null,t&&e.wrappedContent&&(0,s.createPortal)(e.wrappedContent,t.getGui()))})),XV=(e,t,i,o,r,s)=>{const{context:a}=(0,n.useContext)(lV),l=(0,n.useCallback)((()=>{const e=r.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),r.current=void 0}),[]);(0,n.useEffect)((()=>{const n=null!=e,o=e&&e.compDetails&&!e.compDetails.componentFromFramework;if(!(n&&o&&!(t&&null==i)))return void l();const a=e.compDetails;if(r.current){const t=r.current,i=!!(null!=t.refresh&&0==e.force)&&t.refresh(a.params);if(!0===i||void 0===i)return;l()}const c=a.newAgStackInstance();null!=c&&c.then((e=>{if(!e)return;const n=e.getGui();if(!n)return;(t?i:s.current).appendChild(n),r.current=e}))}),[e,t,o]),(0,n.useEffect)((()=>l),[])},ZV=(e,t,i)=>{const o=e.compProxy;return n.createElement(n.Fragment,null,!o&&n.createElement(t,{...e.compDetails.params,ref:i}),o&&((e,t,i)=>{const{compProxy:o}=e;i(o);const r=o.getProps(),s=pV(t);return n.createElement(CV.Provider,{value:{setMethods:e=>o.setMethods(e)}},s&&n.createElement(t,{...r}),!s&&n.createElement(t,{...r,ref:e=>o.setRef(e)}))})(e,t,i))},QV=(0,n.memo)((e=>{const{context:t}=(0,n.useContext)(lV),{cellCtrl:i,printLayout:o,editingRow:r}=e,s=i.getTabIndex(),a=i.getColumnIdSanitised(),l=i.getInstanceId(),[c,d]=(0,n.useState)((()=>i.isCellRenderer()?void 0:{compDetails:void 0,value:i.getValueToDisplay(),force:!1})),[u,h]=(0,n.useState)(),[p,g]=(0,n.useState)(1),[m,f]=(0,n.useState)(),[v,y]=(0,n.useState)(!1),[b,C]=(0,n.useState)(!1),[w,x]=(0,n.useState)(!1),[S,R]=(0,n.useState)(),M=(0,n.useMemo)((()=>i.isForceWrapper()),[i]),k=(0,n.useMemo)((()=>i.getCellAriaRole()),[i]),D=(0,n.useRef)(null),A=(0,n.useRef)(null),E=(0,n.useRef)(),T=(0,n.useRef)(),P=(0,n.useRef)(),F=(0,n.useRef)([]),N=(0,n.useRef)(),[L,I]=(0,n.useState)(0),O=(0,n.useCallback)((e=>{N.current=e,I((e=>e+1))}),[]),j=M||null!=c&&(v||w||b),B=(0,n.useCallback)(((e,t)=>{if(T.current=t,t){t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((()=>{i.stopEditing(!0),i.focusCell(!0)}))}}),[i]),_=(0,n.useCallback)((e=>B(!0,e)),[B]),G=(0,n.useCallback)((e=>B(!1,e)),[B]),z=(0,n.useRef)();z.current||(z.current=new KL((()=>D.current))),XV(c,j,N.current,L,E,D);const H=(0,n.useRef)();(0,n.useLayoutEffect)((()=>{const e=H.current,t=c;if(H.current=c,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const i=e.compDetails,n=t.compDetails;if(i.componentClass!=n.componentClass)return;if(null==A.current||null==A.current.refresh)return;1!=A.current.refresh(n.params)&&g((e=>e+1))}),[c]),(0,n.useLayoutEffect)((()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const e=u.compDetails,i=!0===u.popup,n=e.newAgStackInstance();return n.then((e=>{if(!e)return;const t=e.getGui();if(B(i,e),!i){const i=(M?P:D).current;null===i||void 0===i||i.appendChild(t),e.afterGuiAttached&&e.afterGuiAttached()}R(e)})),()=>{n.then((e=>{const n=e.getGui();t.destroyBean(e),B(i,void 0),R(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}))}}),[u]);const V=(0,n.useCallback)((e=>{if(P.current=e,!P.current)return F.current.forEach((e=>e())),void(F.current=[]);const n=e=>{if(e){var i;const n=e.getGui();null===(i=P.current)||void 0===i||i.insertAdjacentElement("afterbegin",n),F.current.push((()=>{t.destroyBean(e),jI(n)}))}return e};if(v){n(i.createSelectionCheckbox())}w&&n(i.createDndSource()),b&&n(i.createRowDragComp())}),[i,t,w,b,v]),W=(0,n.useCallback)((e=>{if(D.current=e,!D.current)return;if(!i)return;const t={addOrRemoveCssClass:(e,t)=>z.current.addOrRemoveCssClass(e,t),setUserStyles:e=>f(e),getFocusableElement:()=>D.current,setIncludeSelection:e=>y(e),setIncludeRowDrag:e=>C(e),setIncludeDndSource:e=>x(e),getCellEditor:()=>T.current||null,getCellRenderer:()=>A.current?A.current:E.current,getParentOfValue:()=>N.current?N.current:P.current?P.current:D.current,setRenderDetails:(e,t,i)=>{d((n=>(null===n||void 0===n?void 0:n.compDetails)!==e||(null===n||void 0===n?void 0:n.value)!==t||(null===n||void 0===n?void 0:n.force)!==i?{value:t,compDetails:e,force:i}:n))},setEditDetails:(e,t,i,n)=>{if(e){let o;n?o=new KV(e.params,(()=>g((e=>e+1)))):e.componentFromFramework&&BV(),h({compDetails:e,popup:t,popupPosition:i,compProxy:o}),t||d(void 0)}else h((e=>{null!==e&&void 0!==e&&e.compProxy&&(T.current=void 0)}))}},n=P.current||void 0;i.setComp(t,D.current,n,o,r)}),[]),U=(0,n.useMemo)((()=>!!(c&&c.compDetails&&c.compDetails.componentFromFramework&&pV(c.compDetails.componentClass))),[c]);(0,n.useLayoutEffect)((()=>{var e;D.current&&(z.current.addOrRemoveCssClass("ag-cell-value",!j),z.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),z.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),z.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),null===(e=i.getRowCtrl())||void 0===e||e.setInlineEditingCss(!!u),i.shouldRestoreFocus()&&!i.isEditing()&&D.current.focus({preventScroll:!0}))}));const Y=()=>n.createElement(n.Fragment,null,null!=c&&((e,t,i,o,r,s,a)=>{const{compDetails:l,value:c}=e,d=!l,u=l&&l.componentFromFramework,h=l&&l.componentClass,p=null!==c&&void 0!==c&&c.toString?c.toString():c,g=()=>n.createElement(n.Fragment,null,d&&n.createElement(n.Fragment,null,p),u&&!s&&n.createElement(h,{...l.params,key:t,ref:o}),u&&s&&n.createElement(h,{...l.params,key:t}));return n.createElement(n.Fragment,null,r?n.createElement("span",{role:"presentation",id:"cell-".concat(i),className:"ag-cell-value",ref:a},g()):g())})(c,p,l,A,j,U,O),null!=u&&((e,t,i,o,r,s)=>{const a=e.compDetails,l=a.componentClass,c=a.componentFromFramework&&!e.popup,d=a.componentFromFramework&&e.popup,u=!a.componentFromFramework&&e.popup;return n.createElement(n.Fragment,null,c&&ZV(e,l,t),d&&n.createElement(qV,{editDetails:e,cellCtrl:r,eParentCell:o,wrappedContent:ZV(e,l,i)}),u&&s&&n.createElement(qV,{editDetails:e,cellCtrl:r,eParentCell:o,jsChildComp:s}))})(u,G,_,D.current,i,S));return n.createElement("div",{ref:W,style:m,tabIndex:s,role:k,"col-id":a},j?n.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:V},Y()):Y())})),JV=(0,n.memo)((e=>{const{context:t,gos:i}=(0,n.useContext)(lV),{rowCtrl:o,containerType:r}=e,s=o.getTabIndex(),a=(0,n.useRef)(o.getDomOrder()),l=o.isFullWidth(),c=o.getRowNode().displayed,[d,u]=(0,n.useState)((()=>c?o.getRowIndex():null)),[h,p]=(0,n.useState)((()=>o.getRowId())),[g,m]=(0,n.useState)((()=>o.getBusinessKey())),[f,v]=(0,n.useState)((()=>o.getRowStyles())),y=(0,n.useRef)(null),b=(0,n.useRef)(null),[C,w]=(0,n.useState)((()=>null)),[x,S]=(0,n.useState)(),[R,M]=(0,n.useState)((()=>c?o.getInitialRowTop(r):void 0)),[k,D]=(0,n.useState)((()=>c?o.getInitialTransform(r):void 0)),A=(0,n.useRef)(null),E=(0,n.useRef)(),T=(0,n.useRef)(!1),[P,F]=(0,n.useState)(0);(0,n.useEffect)((()=>{var e;if(T.current)return;if(!x)return;if(P>10)return;const t=null===(e=A.current)||void 0===e?void 0:e.firstChild;t?(o.setupDetailRowAutoHeight(t),T.current=!0):F((e=>e+1))}),[x,P]);const N=(0,n.useRef)();N.current||(N.current=new KL((()=>A.current)));const L=(0,n.useCallback)((e=>{if(A.current=e,!A.current)return void o.unsetComp(r);if(!o.isAlive())return;const t={setTop:M,setTransform:D,addOrRemoveCssClass:(e,t)=>N.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:u,setRowId:p,setRowBusinessKey:m,setUserStyles:v,setCellCtrls:(e,t)=>{b.current=y.current,y.current=e;const i=vV(b.current,e,a.current);i!==b.current&&fV(t,(()=>w(i)))},showFullWidth:e=>S(e),getFullWidthCellRenderer:()=>E.current,refreshFullWidth:e=>_.current?(S((t=>({...t,params:e()}))),!0):!(!E.current||!E.current.refresh)&&E.current.refresh(e())};o.setComp(t,A.current,r)}),[]);(0,n.useLayoutEffect)((()=>cV(x,t,A.current,E)),[x]);const I=(0,n.useMemo)((()=>{const e={top:R,transform:k};return Object.assign(e,f),e}),[R,k,f]),O=l&&x&&x.componentFromFramework,j=!l&&null!=C,B=(0,n.useMemo)((()=>!!((null===x||void 0===x?void 0:x.componentFromFramework)&&pV(x.componentClass))),[x]),_=(0,n.useRef)(!1);(0,n.useEffect)((()=>{_.current=B&&!!x&&!!i.get("reactiveCustomComponents")}),[B,x]);return n.createElement("div",{ref:L,role:"row",style:I,"row-index":d,"row-id":h,"row-business-key":g,tabIndex:s},j&&(null===C||void 0===C?void 0:C.map((e=>n.createElement(QV,{cellCtrl:e,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:e.getInstanceId()})))),O&&(()=>{const e=x.componentClass;return n.createElement(n.Fragment,null,B&&n.createElement(e,{...x.params}),!B&&n.createElement(e,{...x.params,ref:E}))})())})),$V=(0,n.memo)((e=>{const{context:t}=(0,n.useContext)(lV),{name:i}=e,o=(0,n.useMemo)((()=>k_(i)),[i]),r=(0,n.useRef)(null),s=(0,n.useRef)(null),a=(0,n.useRef)([]),l=(0,n.useRef)([]),[c,d]=(0,n.useState)((()=>[])),u=(0,n.useRef)(!1),h=(0,n.useRef)(),p=(0,n.useMemo)((()=>uV(o.viewport)),[o]),g=(0,n.useMemo)((()=>uV(o.container)),[o]),m="center"===o.type;YV(" AG Row Container "+i+" ",m?r:s);const f=(0,n.useCallback)((()=>m?null!=r.current&&null!=s.current:null!=s.current),[]),v=(0,n.useCallback)((()=>m?null==r.current&&null==s.current:null==s.current),[]),y=(0,n.useCallback)((()=>{if(v()&&(t.destroyBean(h.current),h.current=null),f()){const e=e=>{const t=vV(l.current,a.current,u.current);t!==l.current&&(l.current=t,fV(e,(()=>d(t))))},n={setViewportHeight:e=>{r.current&&(r.current.style.height=e)},setRowCtrls:t=>{let{rowCtrls:i,useFlushSync:n}=t;const o=!!n&&a.current.length>0&&i.length>0;a.current=i,e(o)},setDomOrder:t=>{u.current!=t&&(u.current=t,e(!1))},setContainerWidth:e=>{s.current&&(s.current.style.width=e)},setOffsetTop:e=>{s.current&&(s.current.style.transform="translateY(".concat(e,")"))}};h.current=t.createBean(new I_(i)),h.current.setComp(n,s.current,r.current)}}),[f,v]),b=(0,n.useCallback)((e=>{s.current=e,y()}),[y]),C=(0,n.useCallback)((e=>{r.current=e,y()}),[y]),w=()=>n.createElement("div",{className:g,ref:b,role:"rowgroup"},c.map((e=>n.createElement(JV,{rowCtrl:e,containerType:o.type,key:e.getInstanceId()}))));return n.createElement(n.Fragment,null,m?n.createElement("div",{className:p,ref:C,role:"presentation"},w()):w())})),eW=(0,n.memo)((()=>{const{context:e,resizeObserverService:t}=(0,n.useContext)(lV),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(0),[a,l]=(0,n.useState)(0),[c,d]=(0,n.useState)("0px"),[u,h]=(0,n.useState)("0px"),[p,g]=(0,n.useState)("100%"),[m,f]=(0,n.useState)("0px"),[v,y]=(0,n.useState)("0px"),[b,C]=(0,n.useState)("100%"),[w,x]=(0,n.useState)(""),[S,R]=(0,n.useState)(""),[M,k]=(0,n.useState)(null),[D,A]=(0,n.useState)(""),[E,T]=(0,n.useState)(null),[P,F]=(0,n.useState)("ag-layout-normal"),N=(0,n.useRef)();N.current||(N.current=new KL((()=>L.current)));const L=(0,n.useRef)(null),I=(0,n.useRef)(null),O=(0,n.useRef)(null),j=(0,n.useRef)(null),B=(0,n.useRef)(null),_=(0,n.useRef)(null),G=(0,n.useRef)(null),z=(0,n.useRef)([]),H=(0,n.useRef)([]);YV(" AG Grid Body ",L),YV(" AG Pinned Top ",I),YV(" AG Sticky Top ",O),YV(" AG Middle ",_),YV(" AG Pinned Bottom ",G);const V=(0,n.useCallback)((i=>{if(L.current=i,!L.current)return e.destroyBeans(z.current),H.current.forEach((e=>e())),z.current=[],void(H.current=[]);if(!e)return;const n=(e,t)=>{e.appendChild(t),H.current.push((()=>e.removeChild(t)))},r=(t,i,o)=>{n(t,document.createComment(o)),n(t,(t=>{const i=e.createBean(new t);return z.current.push(i),i})(i).getGui())};r(L.current,XB," AG Fake Horizontal Scroll "),r(L.current,KB," AG Overlay Wrapper "),B.current&&r(B.current,QB," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:o,setColumnCount:e=>{L.current&&sI(L.current,e)},setRowCount:e=>{L.current&&oI(L.current,e)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:x,setBottomDisplay:R,setColumnMovingCss:(e,t)=>N.current.addOrRemoveCssClass(e,t),updateLayoutClasses:F,setAlwaysVerticalScrollClass:k,setPinnedTopBottomOverflowY:A,setCellSelectableCss:(e,t)=>T(t?e:null),setBodyViewportWidth:e=>{_.current&&(_.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(_.current){const i=t.observeResize(_.current,e);H.current.push((()=>i()))}},setStickyBottomHeight:f,setStickyBottomBottom:y,setStickyBottomWidth:C},c=e.createBean(new e_);z.current.push(c),c.setComp(a,L.current,_.current,I.current,G.current,O.current,j.current)}),[]),W=(0,n.useMemo)((()=>uV("ag-root","ag-unselectable",P)),[P]),U=(0,n.useMemo)((()=>uV("ag-body-viewport",i,P,M,E)),[i,P,M,E]),Y=(0,n.useMemo)((()=>uV("ag-body",P)),[P]),K=(0,n.useMemo)((()=>uV("ag-floating-top",E)),[E]),q=(0,n.useMemo)((()=>uV("ag-sticky-top",E)),[E]),X=(0,n.useMemo)((()=>uV("ag-sticky-bottom",E)),[E]),Z=(0,n.useMemo)((()=>uV("ag-floating-bottom",E)),[E]),Q=(0,n.useMemo)((()=>({height:r,minHeight:r,display:w,overflowY:D})),[r,w,D]),J=(0,n.useMemo)((()=>({height:c,top:u,width:p})),[c,u,p]),$=(0,n.useMemo)((()=>({height:m,bottom:v,width:b})),[m,v,b]),ee=(0,n.useMemo)((()=>({height:a,minHeight:a,display:S,overflowY:D})),[a,S,D]),te=e=>n.createElement($V,{name:e,key:"".concat(e,"-container")}),ie=e=>{let{section:t,children:i,className:o,style:r}=e;return n.createElement("div",{ref:t,className:o,role:"presentation",style:r},i.map(te))};return n.createElement("div",{ref:V,className:W,role:"treegrid"},n.createElement(UV,null),ie({section:I,className:K,style:Q,children:["topLeft","topCenter","topRight","topFullWidth"]}),n.createElement("div",{className:Y,ref:B,role:"presentation"},ie({section:_,className:U,children:["left","center","right","fullWidth"]})),ie({section:O,className:q,style:J,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ie({section:j,className:X,style:$,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ie({section:G,className:Z,style:ee,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),tW=(0,n.forwardRef)(((e,t)=>{const{children:i,eFocusableElement:o,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:l}=(0,n.useContext)(lV),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[c,d].forEach((e=>{var i,n;void 0===t?null===(i=e.current)||void 0===i||i.removeAttribute("tabindex"):null===(n=e.current)||void 0===n||n.setAttribute("tabindex",t)}))};(0,n.useImperativeHandle)(t,(()=>({forceFocusOutOfContainer(e){var t;null===(t=u.current)||void 0===t||t.forceFocusOutOfContainer(e)}})));const p=(0,n.useCallback)((()=>{if(!c.current&&!d.current)return l.destroyBean(u.current),void(u.current=null);if(c.current&&d.current){const e={setTabIndex:h};u.current=l.createBean(new kG({comp:e,eTopGuard:c.current,eBottomGuard:d.current,eFocusableElement:o,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>s.focusInnerElement(e)}))}}),[]),g=(0,n.useCallback)((e=>{c.current=e,p()}),[p]),m=(0,n.useCallback)((e=>{d.current=e,p()}),[p]),f=e=>{const t="top"===e?MG.TAB_GUARD_TOP:MG.TAB_GUARD_BOTTOM;return n.createElement("div",{className:"".concat(MG.TAB_GUARD," ").concat(t),role:"presentation",ref:"top"===e?g:m})};return n.createElement(n.Fragment,null,f("top"),i,f("bottom"))})),iW=(0,n.memo)(tW),nW=(0,n.memo)((e=>{let{context:t}=e;const[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(),m=(0,n.useRef)(null),f=(0,n.useRef)(null),v=(0,n.useRef)(),[y,b]=(0,n.useState)(null),C=(0,n.useRef)((()=>{})),w=(0,n.useRef)(),x=(0,n.useRef)([]),S=(0,n.useCallback)((()=>{}),[]),R=(0,n.useMemo)((()=>t.isDestroyed()?null:t.getBeans()),[t]);YV(" AG Grid ",f);const M=(0,n.useCallback)((e=>{if(f.current=e,!f.current)return t.destroyBean(m.current),void(m.current=null);if(t.isDestroyed())return;m.current=t.createBean(new cz);const i=m.current;C.current=i.focusInnerElement.bind(i);const n={destroyGridUi:()=>{},setRtlClass:o,forceFocusOutOfContainer:e=>{var t,i;e||null===(t=w.current)||void 0===t||!t.isDisplayed()?null===(i=v.current)||void 0===i||i.forceFocusOutOfContainer(e):w.current.forceFocusOutOfContainer(e)},updateLayoutClasses:s,getFocusableContainers:()=>{var e;const t=[],i=null===(e=f.current)||void 0===e?void 0:e.querySelector(".ag-root");return i&&t.push({getGui:()=>i}),x.current.forEach((e=>{e.isDisplayed()&&t.push(e)})),t},setCursor:l,setUserSelect:d};i.setComp(n,f.current,f.current),h(!0)}),[]);(0,n.useEffect)((()=>{if(!p||!R||!m.current||!y||!f.current)return;const e=m.current,i=[],{watermarkSelector:n,paginationSelector:o,sideBarSelector:r,statusBarSelector:s,gridHeaderDropZonesSelector:a}=e.getOptionalSelectors(),l=[],c=f.current;if(a){const e=t.createBean(new a.component),n=e.getGui();c.insertAdjacentElement("afterbegin",n),l.push(n),i.push(e)}if(r){const e=t.createBean(new r.component),n=e.getGui(),o=y.querySelector(".ag-tab-guard-bottom");o&&(o.insertAdjacentElement("beforebegin",n),l.push(n)),i.push(e),x.current.push(e)}const d=e=>{const n=t.createBean(new e),o=n.getGui();return c.insertAdjacentElement("beforeend",o),l.push(o),i.push(n),n};if(s&&d(s.component),o){const e=d(o.component);w.current=e,x.current.push(e)}return n&&d(n.component),()=>{t.destroyBeans(i),l.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)}))}}),[p,y,R]);const k=(0,n.useMemo)((()=>uV("ag-root-wrapper",i,r)),[i,r]),D=(0,n.useMemo)((()=>uV("ag-root-wrapper-body","ag-focus-managed",r)),[r]),A=(0,n.useMemo)((()=>({userSelect:null!=c?c:"",WebkitUserSelect:null!=c?c:"",cursor:null!=a?a:""})),[c,a]),E=(0,n.useCallback)((e=>{v.current=e,g(null!==e)}),[]);return n.createElement("div",{ref:M,className:k,style:A,role:"presentation"},n.createElement("div",{className:D,ref:b,role:"presentation"},u&&y&&R&&n.createElement(lV.Provider,{value:R},n.createElement(iW,{ref:E,eFocusableElement:y,onTabKeyDown:S,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0},n.createElement(eW,null)))))})),oW=class extends pN{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},rW=e=>{var t,i;const o=(0,n.useRef)(),r=(0,n.useRef)(null),s=(0,n.useRef)(null),a=(0,n.useRef)([]),l=(0,n.useRef)([]),c=(0,n.useRef)(e),d=(0,n.useRef)(),u=(0,n.useRef)(!1),[h,p]=(0,n.useState)(void 0),[,g]=(0,n.useState)(0),m=(0,n.useCallback)((t=>{var i;if(r.current=t,!r.current)return a.current.forEach((e=>e())),void(a.current.length=0);const n=e.modules||[];s.current||(s.current=new _V((()=>g((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),a.current.push((()=>{var e;null===(e=s.current)||void 0===e||e.destroy(),s.current=null})));const c=function(e,t){"object"!==typeof e&&(e={});const i={...e};return jL.ALL_PROPERTIES_AND_CALLBACKS.forEach((e=>{const n=t[e];"undefined"!==typeof n&&n!==jL.VUE_OMITTED_PROPERTY&&(i[e]=n)})),i}(e.gridOptions,e),h=gV?new lW:new cW((()=>{if(u.current){const e=()=>{var e;return null!==(e=d.current)&&void 0!==e&&e.shouldQueueUpdates()?void 0:l.current.shift()};let t=e();for(;t;)t(),t=e()}}));d.current=h;const m=new oW,f={providedBeanInstances:{frameworkComponentWrapper:new sW(s.current,null===(i=c.reactiveCustomComponents)||void 0===i||i),renderStatusService:m},modules:n,frameworkOverrides:h},v=new EH;o.current=v.create(r.current,c,(t=>{p(t),t.createBean(m),a.current.push((()=>{t.destroy()}));t.getBean("ctrlsService").whenReady((()=>{if(t.isDestroyed())return;const i=o.current;i&&e.setGridApi&&e.setGridApi(i)}))}),(e=>{e.getBean("ctrlsService").whenReady((()=>{l.current.forEach((e=>e())),l.current.length=0,u.current=!0}))}),f)}),[]),f=(0,n.useMemo)((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),v=(0,n.useCallback)((e=>{var t;!u.current||null!==(t=d.current)&&void 0!==t&&t.shouldQueueUpdates()?l.current.push(e):e()}),[]);return(0,n.useEffect)((()=>{const t=function(e,t){const i={};return Object.keys(t).forEach((n=>{const o=t[n];e[n]!==o&&(i[n]=o)})),i}(c.current,e);c.current=e,v((()=>{o.current&&function(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).filter((e=>jL.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e))).forEach((t=>{i[t]=e[t],n=!0})),!n)return;const o={type:"gridOptionsChanged",options:i};t.dispatchEvent(o);const r={type:"componentStateChanged"};DN(i,((e,t)=>{r[e]=t})),t.dispatchEvent(r)}(t,o.current)}))}),[e]),n.createElement("div",{style:f,className:e.className,ref:m},h&&!h.isDestroyed()?n.createElement(nW,{context:h}):null,null!==(t=null===(i=s.current)||void 0===i?void 0:i.getPortals())&&void 0!==t?t:null)};var sW=class extends NH{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(e=>{switch(e){case"filter":return EV;case"floatingFilterComponent":return FV;case"dateComponent":return AV;case"loadingOverlayComponent":return NV;case"noRowsOverlayComponent":return IV;case"statusPanel":return OV;case"toolPanel":return jV;case"menuItem":return LV;case"cellRenderer":return DV}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":BV()}const i=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new RV(e,this.parent,t,i)}},aW=(0,n.forwardRef)(((e,t)=>{const{ctrlsFactory:i,context:o,gos:r,resizeObserverService:s,rowModel:a}=(0,n.useContext)(lV),[l,c]=(0,n.useState)((()=>new hV)),[d,u]=(0,n.useState)((()=>new hV)),[h,p]=(0,n.useState)(),[g,m]=(0,n.useState)(),f=(0,n.useRef)(),v=(0,n.useRef)(null),y=(0,n.useRef)(),b=(0,n.useMemo)((()=>hO.__getGridRegisteredModules(e.api.getGridId())),[e]),C=(0,n.useMemo)((()=>l.toString()+" ag-details-row"),[l]),w=(0,n.useMemo)((()=>d.toString()+" ag-details-grid"),[d]);t&&(0,n.useImperativeHandle)(t,(()=>({refresh(){var e,t;return null!==(e=null===(t=f.current)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}}))),e.template&&UN("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const x=(0,n.useCallback)((t=>{if(v.current=t,!v.current)return o.destroyBean(f.current),void(y.current&&y.current());const n={addOrRemoveCssClass:(e,t)=>c((i=>i.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>u((i=>i.setClass(e,t))),setDetailGrid:e=>p(e),setRowData:e=>m(e),getGui:()=>v.current},l=i.getInstance("detailCellRenderer");if(l&&(o.createBean(l),l.init(n,e),f.current=l,r.get("detailRowAutoHeight"))){const t=()=>{if(null==v.current)return;const t=v.current.clientHeight;if(null!=t&&t>0){setTimeout((()=>{e.node.setRowHeight(t),("clientSide"===a.getType()||"serverSide"===a.getType())&&a.onRowHeightChanged()}),0)}};y.current=s.observeResize(v.current,t),t()}}),[]),S=(0,n.useCallback)((e=>{var t;null===(t=f.current)||void 0===t||t.registerDetailWithMaster(e)}),[]);return n.createElement("div",{className:C,ref:x},h&&n.createElement(rW,{className:w,...h,modules:b,rowData:g,setGridApi:S}))})),lW=class extends FG{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:bV,agGroupRowRenderer:bV,agDetailCellRenderer:aW},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(i=e,mV||setTimeout((()=>mV=!1),0),mV=!0,i()):e();var i},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},cW=class extends lW{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},dW=class extends n.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return n.createElement(rW,{...this.props,setGridApi:this.setGridApi})}};const uW=()=>{const[e,t]=(0,n.useState)([]),[i]=(0,n.useState)([{headerName:"Name",field:"Name",sortable:!0,filter:!0},{headerName:"Phone",field:"Contact",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Department",field:"Subject",sortable:!0,filter:!0}]),o=async()=>{try{const e=localStorage.getItem("userProfile");if(e){const i=JSON.parse(e);(async(e,i)=>{try{const n=await fetch("".concat(Ga,"/teachers_details"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:e,section:i})}),o=await n.json();console.log(o),t(o.teachers)}catch(n){console.error("Error fetching teachers:",n)}})(i.Class,i.section_or_department),console.log(i.Class,i.section_or_department)}}catch(e){console.error("Error fetching user profile:",e)}};return(0,n.useEffect)((()=>{o()}),[]),(0,it.jsx)("div",{className:"ag-theme-alpine mt-10",style:{height:600,width:"100%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:i})})};function hW(e){return(0,Fe.Ay)("MuiListItem",e)}const pW=(0,Rt.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const gW=(0,Rt.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function mW(e){return(0,Fe.Ay)("MuiListItemSecondaryAction",e)}(0,Rt.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const fW=["className"],vW=(0,lt.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),yW=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=i,r=(0,Ee.A)(i,fW),s=n.useContext(Fn),a=(0,Te.A)({},i,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:i}=e,n={root:["root",t&&"disableGutters"]};return(0,Ne.A)(n,mW,i)})(a);return(0,it.jsx)(vW,(0,Te.A)({className:(0,Pe.A)(l.root,o),ownerState:a,ref:t},r))}));yW.muiName="ListItemSecondaryAction";const bW=yW,CW=["className"],wW=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],xW=(0,lt.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,"flex-start"===i.alignItems&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters,!i.disablePadding&&t.padding,i.button&&t.button,i.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!i.disablePadding&&(0,Te.A)({paddingTop:8,paddingBottom:8},i.dense&&{paddingTop:4,paddingBottom:4},!i.disableGutters&&{paddingLeft:16,paddingRight:16},!!i.secondaryAction&&{paddingRight:48}),!!i.secondaryAction&&{["& > .".concat(gW.root)]:{paddingRight:48}},{["&.".concat(pW.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(pW.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pW.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(pW.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===i.alignItems&&{alignItems:"flex-start"},i.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},i.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(pW.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},i.hasSecondaryAction&&{paddingRight:48})})),SW=(0,lt.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),RW=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:r=!1,button:s=!1,children:a,className:l,component:c,components:d={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:g=!1,disabled:m=!1,disableGutters:f=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:C,selected:w=!1,slotProps:x={},slots:S={}}=i,R=(0,Ee.A)(i.ContainerProps,CW),M=(0,Ee.A)(i,wW),k=n.useContext(Fn),D=n.useMemo((()=>({dense:g||k.dense||!1,alignItems:o,disableGutters:f})),[o,k.dense,g,f]),A=n.useRef(null);(0,gi.A)((()=>{r&&A.current&&A.current.focus()}),[r]);const E=n.Children.toArray(a),T=E.length&&(0,pn.A)(E[E.length-1],["ListItemSecondaryAction"]),P=(0,Te.A)({},i,{alignItems:o,autoFocus:r,button:s,dense:D.dense,disabled:m,disableGutters:f,disablePadding:v,divider:y,hasSecondaryAction:T,selected:w}),F=(e=>{const{alignItems:t,button:i,classes:n,dense:o,disabled:r,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:d}=e,u={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",r&&"disabled",i&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]};return(0,Ne.A)(u,hW,n)})(P),N=(0,pi.A)(A,t),L=S.root||d.Root||xW,I=x.root||u.root||{},O=(0,Te.A)({className:(0,Pe.A)(F.root,I.className,l),disabled:m},M);let j=c||"li";return s&&(O.component=c||"div",O.focusVisibleClassName=(0,Pe.A)(pW.focusVisible,b),j=zs),T?(j=O.component||c?j:"div","li"===h&&("li"===j?j="div":"li"===O.component&&(O.component="div")),(0,it.jsx)(Fn.Provider,{value:D,children:(0,it.jsxs)(SW,(0,Te.A)({as:h,className:(0,Pe.A)(F.container,p),ref:N,ownerState:P},R,{children:[(0,it.jsx)(L,(0,Te.A)({},I,!jt(L)&&{as:j,ownerState:(0,Te.A)({},P,I.ownerState)},O,{children:E})),E.pop()]}))})):(0,it.jsx)(Fn.Provider,{value:D,children:(0,it.jsxs)(L,(0,Te.A)({},I,{as:j,ref:N},!jt(L)&&{ownerState:(0,Te.A)({},P,I.ownerState)},O,{children:[E,C&&(0,it.jsx)(bW,{children:C})]}))})})),MW=RW;function kW(e){return(0,Fe.Ay)("MuiListItemText",e)}const DW=(0,Rt.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),AW=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],EW=(0,lt.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{["& .".concat(DW.primary)]:t.primary},{["& .".concat(DW.secondary)]:t.secondary},t.root,i.inset&&t.inset,i.primary&&i.secondary&&t.multiline,i.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),TW=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiListItemText"}),{children:o,className:r,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:u}=i,h=(0,Ee.A)(i,AW),{dense:p}=n.useContext(Fn);let g=null!=l?l:o,m=d;const f=(0,Te.A)({},i,{disableTypography:s,inset:a,primary:!!g,secondary:!!m,dense:p}),v=(e=>{const{classes:t,inset:i,primary:n,secondary:o,dense:r}=e,s={root:["root",i&&"inset",r&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Ne.A)(s,kW,t)})(f);return null==g||g.type===ei||s||(g=(0,it.jsx)(ei,(0,Te.A)({variant:p?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:g}))),null==m||m.type===ei||s||(m=(0,it.jsx)(ei,(0,Te.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},u,{children:m}))),(0,it.jsxs)(EW,(0,Te.A)({className:(0,Pe.A)(v.root,r),ownerState:f,ref:t},h,{children:[g,m]}))})),PW=TW,FW=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(""),v=async e=>{try{const t=await fetch("".concat(Ga,"/admin_enquiry_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})}),i=(await t.json()).data.map(((e,t)=>({id:"".concat(t+1),enquiry:"Enquiry: ".concat(e.Message),response:e.message_replied?"Response: ".concat(e.message_replied):"No response yet"})));h(i)}catch(t){console.error("Failed to fetch data:",t)}},y=()=>{g(!1),f("")};return(0,n.useEffect)((()=>{(async()=>{const e=localStorage.getItem("userProfile");if(e){const i=JSON.parse(e);v(i.enrollment_or_employee_id),o(i.Class),s(i.section_or_department),t(i.Name),l(i.father_name),d(i.phone)}})()}),[]),(0,it.jsxs)(At,{className:"p-4 mt-4",children:[(0,it.jsxs)("div",{className:"flex flex-row justify-between align-center",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Enquiries"}),(0,it.jsx)(oa,{color:"primary",onClick:()=>{g(!0)},children:"+ Add Enquiry"})]}),(0,it.jsx)(tr,{elevation:3,className:"p-4 mb-4 mt-4",children:(0,it.jsx)(jn,{children:u.map((e=>{let{id:t,enquiry:i,response:n}=e;return(0,it.jsx)(MW,{divider:!0,children:(0,it.jsx)(PW,{primary:i,secondary:n})},t)}))})}),(0,it.jsxs)(Bg,{open:p,onClose:y,children:[(0,it.jsx)(Wg,{children:"Add Enquiry"}),(0,it.jsx)(Xg,{children:(0,it.jsx)(ss,{autoFocus:!0,margin:"dense",id:"enquiry",label:"Your Enquiry",type:"text",fullWidth:!0,multiline:!0,rows:4,value:m,onChange:e=>f(e.target.value)})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:y,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{const t=(new Date).toISOString().split("T")[0],n=localStorage.getItem("userProfile");if(n){const s=JSON.parse(n).enrollment_or_employee_id;try{(await fetch("".concat(Ga,"/enquiry"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t,student_id:s,student_name:e,class:i,section:r,parent_name:a,contact_number:c,message:m})})).ok?(alert("Success! Enquiry sent successfully!"),g(!1),v(s)):alert("Failed to send enquiry. Please try again.")}catch(o){console.error("Error:",o),alert("An error occurred. Please try again.")}}},color:"primary",children:"Send"})]})]})]})};var NW=i(1132);const LW=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{t([{id:1,class:"10",name:"Math Certificate",url:"/certificates/math_cert.pdf"},{id:2,class:"10",name:"Science Certificate",url:"/certificates/science_cert.pdf"},{id:3,class:"12",name:"History Certificate",url:"/certificates/history_cert.pdf"}])})()}),[]);return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student Certificates"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4 flex flex-row",children:[(0,it.jsx)(ss,{value:r,onChange:e=>{s(e.target.value)},label:"Enter Class",variant:"outlined",fullWidth:!0}),(0,it.jsx)(oa,{onClick:()=>{if(r.trim()){const t=e.filter((e=>e.class===r.trim()));o(t)}else alert("Please enter a class.")},color:"primary",className:"mt-4 ",children:"Filter Certificates"})]}),(0,it.jsx)(tr,{elevation:3,className:"p-4",children:(0,it.jsx)(jn,{children:i.length>0?i.map((e=>{let{id:t,name:i,url:n}=e;return(0,it.jsxs)(MW,{divider:!0,children:[(0,it.jsx)(PW,{primary:i,onClick:()=>(e=>{window.open(e,"_blank")})(n),style:{cursor:"pointer"}}),(0,it.jsx)(bW,{children:(0,it.jsx)(Ks,{edge:"end","aria-label":"download",href:n,download:!0,children:(0,it.jsx)(NW.A,{})})})]},t)})):(0,it.jsx)(ei,{children:"No certificates available for this class."})})})]})},IW=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{t([{id:1,class:"10",name:"Math Results",url:"/results/math_results.pdf"},{id:2,class:"10",name:"Science Results",url:"/results/science_results.pdf"},{id:3,class:"12",name:"History Results",url:"/results/history_results.pdf"}])})()}),[]);return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student Results"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4 flex flex-row",children:[(0,it.jsx)(ss,{value:r,onChange:e=>{s(e.target.value)},label:"Enter Class",variant:"outlined",fullWidth:!0}),(0,it.jsx)(oa,{onClick:()=>{if(r.trim()){const t=e.filter((e=>e.class===r.trim()));o(t)}else alert("Please enter a class.")},color:"primary",className:"mt-4",children:"Filter Results"})]}),(0,it.jsx)(tr,{elevation:3,className:"p-4",children:(0,it.jsx)(jn,{children:i.length>0?i.map((e=>{let{id:t,name:i,url:n}=e;return(0,it.jsxs)(MW,{divider:!0,children:[(0,it.jsx)(PW,{primary:i,onClick:()=>(e=>{window.open(e,"_blank")})(n),style:{cursor:"pointer"}}),(0,it.jsx)(bW,{children:(0,it.jsx)(Ks,{edge:"end","aria-label":"download",href:n,download:!0,children:(0,it.jsx)(NW.A,{})})})]},t)})):(0,it.jsx)(ei,{children:"No results available for this class."})})})]})};var OW=i(4044);const jW=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{t([{id:1,reason:"Library Fee",amount:50},{id:2,reason:"Sports Fee",amount:100},{id:3,reason:"Lab Fee",amount:75}])})()}),[]);const c=()=>{s(!1),l("")};return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student Dues"}),(0,it.jsx)(tr,{elevation:3,className:"p-4",children:(0,it.jsx)(jn,{children:e.length>0?e.map((e=>{let{id:t,reason:i,amount:n}=e;return(0,it.jsxs)(MW,{divider:!0,children:[(0,it.jsx)(PW,{primary:i,secondary:"Amount: $".concat(n)}),(0,it.jsx)(bW,{children:(0,it.jsx)(Ks,{edge:"end","aria-label":"pay",onClick:()=>(o({reason:i,amount:n}),void s(!0)),children:(0,it.jsx)(OW.A,{})})})]},t)})):(0,it.jsx)(ei,{children:"No dues available."})})}),(0,it.jsxs)(Bg,{open:r,onClose:c,children:[(0,it.jsx)(Wg,{children:"Pay Dues"}),(0,it.jsx)(Xg,{children:i&&(0,it.jsxs)("div",{children:[(0,it.jsx)(ei,{variant:"h6",children:i.reason}),(0,it.jsxs)(ei,{variant:"body1",children:["Amount: $",i.amount]}),(0,it.jsx)(ss,{margin:"dense",label:"Enter Amount to Pay",type:"number",fullWidth:!0,value:a,onChange:e=>l(e.target.value)})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:c,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{alert("Payment of ".concat(a," for ").concat(i.reason," has been processed.")),c()},color:"primary",children:"Pay"})]})]})]})};function BW(e){return(0,Fe.Ay)("MuiTableContainer",e)}(0,Rt.A)("MuiTableContainer",["root"]);const _W=["className","component"],GW=(0,lt.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),zW=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTableContainer"}),{className:n,component:o="div"}=i,r=(0,Ee.A)(i,_W),s=(0,Te.A)({},i,{component:o}),a=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},BW,t)})(s);return(0,it.jsx)(GW,(0,Te.A)({ref:t,as:o,className:(0,Pe.A)(a.root,n),ownerState:s},r))})),HW=zW;const VW=n.createContext();function WW(e){return(0,Fe.Ay)("MuiTable",e)}(0,Rt.A)("MuiTable",["root","stickyHeader"]);const UW=["className","component","padding","size","stickyHeader"],YW=(0,lt.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,Te.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},i.stickyHeader&&{borderCollapse:"separate"})})),KW="table",qW=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTable"}),{className:o,component:r=KW,padding:s="normal",size:a="medium",stickyHeader:l=!1}=i,c=(0,Ee.A)(i,UW),d=(0,Te.A)({},i,{component:r,padding:s,size:a,stickyHeader:l}),u=(e=>{const{classes:t,stickyHeader:i}=e,n={root:["root",i&&"stickyHeader"]};return(0,Ne.A)(n,WW,t)})(d),h=n.useMemo((()=>({padding:s,size:a,stickyHeader:l})),[s,a,l]);return(0,it.jsx)(VW.Provider,{value:h,children:(0,it.jsx)(YW,(0,Te.A)({as:r,role:r===KW?null:"table",ref:t,className:(0,Pe.A)(u.root,o),ownerState:d},c))})})),XW=qW;const ZW=n.createContext();function QW(e){return(0,Fe.Ay)("MuiTableHead",e)}(0,Rt.A)("MuiTableHead",["root"]);const JW=["className","component"],$W=(0,lt.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),eU={variant:"head"},tU="thead",iU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTableHead"}),{className:n,component:o=tU}=i,r=(0,Ee.A)(i,JW),s=(0,Te.A)({},i,{component:o}),a=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},QW,t)})(s);return(0,it.jsx)(ZW.Provider,{value:eU,children:(0,it.jsx)($W,(0,Te.A)({as:o,className:(0,Pe.A)(a.root,n),ref:t,role:o===tU?null:"rowgroup",ownerState:s},r))})})),nU=iU;function oU(e){return(0,Fe.Ay)("MuiTableRow",e)}const rU=(0,Rt.A)("MuiTableRow",["root","selected","hover","head","footer"]),sU=["className","component","hover","selected"],aU=(0,lt.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.head&&t.head,i.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(rU.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(rU.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),lU="tr",cU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTableRow"}),{className:o,component:r=lU,hover:s=!1,selected:a=!1}=i,l=(0,Ee.A)(i,sU),c=n.useContext(ZW),d=(0,Te.A)({},i,{component:r,hover:s,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),u=(e=>{const{classes:t,selected:i,hover:n,head:o,footer:r}=e,s={root:["root",i&&"selected",n&&"hover",o&&"head",r&&"footer"]};return(0,Ne.A)(s,oU,t)})(d);return(0,it.jsx)(aU,(0,Te.A)({as:r,ref:t,className:(0,Pe.A)(u.root,o),role:r===lU?null:"row",ownerState:d},l))})),dU=cU;function uU(e){return(0,Fe.Ay)("MuiTableCell",e)}const hU=(0,Rt.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),pU=["align","className","component","padding","scope","size","sortDirection","variant"],gU=(0,lt.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t["size".concat((0,at.A)(i.size))],"normal"!==i.padding&&t["padding".concat((0,at.A)(i.padding))],"inherit"!==i.align&&t["align".concat((0,at.A)(i.align))],i.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,Xo.a)((0,Xo.X4)(t.palette.divider,1),.88):(0,Xo.e$)((0,Xo.X4)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===i.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===i.variant&&{color:(t.vars||t).palette.text.primary},"footer"===i.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===i.size&&{padding:"6px 16px",["&.".concat(hU.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===i.padding&&{width:48,padding:"0 0 0 4px"},"none"===i.padding&&{padding:0},"left"===i.align&&{textAlign:"left"},"center"===i.align&&{textAlign:"center"},"right"===i.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===i.align&&{textAlign:"justify"},i.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),mU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTableCell"}),{align:o="inherit",className:r,component:s,padding:a,scope:l,size:c,sortDirection:d,variant:u}=i,h=(0,Ee.A)(i,pU),p=n.useContext(VW),g=n.useContext(ZW),m=g&&"head"===g.variant;let f;f=s||(m?"th":"td");let v=l;"td"===f?v=void 0:!v&&m&&(v="col");const y=u||g&&g.variant,b=(0,Te.A)({},i,{align:o,component:f,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:d,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y}),C=(e=>{const{classes:t,variant:i,align:n,padding:o,size:r,stickyHeader:s}=e,a={root:["root",i,s&&"stickyHeader","inherit"!==n&&"align".concat((0,at.A)(n)),"normal"!==o&&"padding".concat((0,at.A)(o)),"size".concat((0,at.A)(r))]};return(0,Ne.A)(a,uU,t)})(b);let w=null;return d&&(w="asc"===d?"ascending":"descending"),(0,it.jsx)(gU,(0,Te.A)({as:f,ref:t,className:(0,Pe.A)(C.root,r),"aria-sort":w,scope:v,ownerState:b},h))})),fU=mU;function vU(e){return(0,Fe.Ay)("MuiTableBody",e)}(0,Rt.A)("MuiTableBody",["root"]);const yU=["className","component"],bU=(0,lt.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),CU={variant:"body"},wU="tbody",xU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiTableBody"}),{className:n,component:o=wU}=i,r=(0,Ee.A)(i,yU),s=(0,Te.A)({},i,{component:o}),a=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},vU,t)})(s);return(0,it.jsx)(ZW.Provider,{value:CU,children:(0,it.jsx)(bU,(0,Te.A)({className:(0,Pe.A)(a.root,n),as:o,ref:t,role:o===wU?null:"rowgroup",ownerState:s},r))})})),SU=xU,RU=()=>{const[e,t]=(0,n.useState)("Half Yearly"),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("Half Yearly"),u=async e=>{try{const t=new Date,i="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")),n=await fetch("".concat(Ga,"/exam_time_table"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:r,section:a,date:i,exam_type:e})});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const s=await n.json();o(s["Exam Time Table"]||[])}catch(t){console.error("Error fetching exam schedule:",t),alert("Error fetching exam schedule: "+t.message)}};return(0,n.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("userProfile");if(null!==e){const t=JSON.parse(e);s(t.Class),l(t.section_or_department)}}catch(e){console.error("Error fetching user profile:",e)}})(),u(e)}),[e]),(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,className:"mb-4",children:"Student Examination Timetable"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,it.jsx)(ss,{value:c,onChange:e=>{d(e.target.value)},label:"Enter Exam Type",variant:"outlined",fullWidth:!0}),(0,it.jsx)(oa,{onClick:()=>{t(c),u(c)},variant:"contained",color:"primary",className:"mt-4 md:mt-0",children:"Show Timetable"})]}),(0,it.jsx)(tr,{elevation:3,className:"p-4",children:(0,it.jsx)(HW,{children:(0,it.jsxs)(XW,{children:[(0,it.jsx)(nU,{children:(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:"Date"}),(0,it.jsx)(fU,{children:"Subject"}),(0,it.jsx)(fU,{children:"Time"})]})}),(0,it.jsx)(SU,{children:i.length>0?i.map((e=>{let{id:t,Date:i,Subject:n,Time:o}=e;return(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:i}),(0,it.jsx)(fU,{children:n}),(0,it.jsx)(fU,{children:o})]},t)})):(0,it.jsx)(dU,{children:(0,it.jsx)(fU,{colSpan:3,className:"text-center",children:(0,it.jsx)(ei,{children:"No timetable available for this exam type."})})})})]})})})]})},MU=()=>{const[e,t]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{t([{id:1,component:"Tuition Fee",amount:1500},{id:2,component:"Library Fee",amount:100},{id:3,component:"Laboratory Fee",amount:200},{id:4,component:"Sports Fee",amount:50},{id:5,component:"Activity Fee",amount:75}])})()}),[]);return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,className:"mb-4",children:"Student Fee Structure"}),(0,it.jsx)(tr,{elevation:3,className:"p-4 mb-4",children:(0,it.jsx)(HW,{children:(0,it.jsxs)(XW,{children:[(0,it.jsx)(nU,{children:(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:"Fee Component"}),(0,it.jsx)(fU,{children:"Amount"})]})}),(0,it.jsx)(SU,{children:e.length>0?e.map((e=>{let{id:t,component:i,amount:n}=e;return(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:i}),(0,it.jsxs)(fU,{children:["$",n]})]},t)})):(0,it.jsx)(dU,{children:(0,it.jsx)(fU,{colSpan:2,className:"text-center",children:(0,it.jsx)(ei,{children:"No fee structure available."})})})})]})})}),(0,it.jsx)(oa,{onClick:()=>{alert("Payment functionality is not implemented yet.")},variant:"contained",color:"primary",className:"mt-4",children:"Pay Fees"})]})},kU=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("userProfile");if(null!==e){const t=JSON.parse(e);l(t.Class),d(t.section_or_department)}}catch(e){console.error("Error fetching user profile:",e)}})()}),[]),(0,n.useEffect)((()=>{if(a&&c){const e=new Date,t="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"));s(t),u(t)}}),[a,c]);const u=async e=>{try{const i=await fetch("".concat(Ga,"/homework"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:a,section:c,date:e})});if(!i.ok)throw new Error("HTTP error! status: ".concat(i.status));{const e=await i.json();console.log(e),t(e["Home Work"]||[])}}catch(i){console.error("Error fetching homework:",i),alert("Error fetching homework: "+i.message)}};return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,className:"mb-4",children:"Student Homework"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Assigned Homework"}),(0,it.jsx)(HW,{children:(0,it.jsxs)(XW,{children:[(0,it.jsx)(nU,{children:(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:"Subject"}),(0,it.jsx)(fU,{children:"Assignment"}),(0,it.jsx)(fU,{children:"Due Date"})]})}),(0,it.jsx)(SU,{children:e.length>0?e.map((e=>{let{id:t,Subject:i,Homework:n,Date:o}=e;return(0,it.jsxs)(dU,{children:[(0,it.jsx)(fU,{children:i}),(0,it.jsx)(fU,{children:n}),(0,it.jsx)(fU,{children:o})]},t)})):(0,it.jsx)(dU,{children:(0,it.jsx)(fU,{colSpan:4,className:"text-center",children:(0,it.jsx)(ei,{children:"No homework assigned."})})})})]})})]})]})};function DU(e){return(0,Fe.Ay)("MuiDivider",e)}const AU=(0,Rt.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),EU=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],TU=(0,lt.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,Xo.X4)(t.palette.divider,.08)},"inset"===i.variant&&{marginLeft:72},"middle"===i.variant&&"horizontal"===i.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===i.variant&&"vertical"===i.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===i.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,Te.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},i.children&&"vertical"!==i.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},i.children&&"vertical"===i.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{ownerState:t}=e;return(0,Te.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),PU=(0,lt.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===i.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),FU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiDivider"}),{absolute:n=!1,children:o,className:r,component:s=(o?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:d=("hr"!==s?"separator":void 0),textAlign:u="center",variant:h="fullWidth"}=i,p=(0,Ee.A)(i,EU),g=(0,Te.A)({},i,{absolute:n,component:s,flexItem:a,light:l,orientation:c,role:d,textAlign:u,variant:h}),m=(e=>{const{absolute:t,children:i,classes:n,flexItem:o,light:r,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,r&&"light","vertical"===s&&"vertical",o&&"flexItem",i&&"withChildren",i&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,Ne.A)(c,DU,n)})(g);return(0,it.jsx)(TU,(0,Te.A)({as:s,className:(0,Pe.A)(m.root,r),role:d,ref:t,ownerState:g},p,{children:o?(0,it.jsx)(PU,{className:m.wrapper,ownerState:g,children:o}):null}))}));FU.muiSkipListHighlight=!0;const NU=FU,LU=kg(Ag()),IU=["January","February","March","April","May","June","July","August","September","October","November","December"],OU=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(IU[(new Date).getMonth()]),[r,s]=(0,n.useState)((new Date).getFullYear());(0,n.useEffect)((()=>{a(i,r)}),[i,r]);const a=async(e,i)=>{console.log(e,i);try{const n=await fetch("".concat(Ga,"/events"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:e,year:i})});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const o=await n.json();console.log(o);const r=o.events.map((e=>({id:"".concat(e.year,"-").concat(e.month,"-").concat(e.date),title:e.eventname,start:new Date("".concat(e.month," ").concat(e.date,", ").concat(e.year," 00:00:00")),end:new Date("".concat(e.month," ").concat(e.date,", ").concat(e.year," 23:59:59")),dayOfWeek:e.dayOfWeek})));t(r)}catch(n){console.error("Error fetching events:",n)}};return(0,it.jsxs)(At,{className:"p-4 flex flex-col md:flex-row gap-4",children:[(0,it.jsxs)(tr,{elevation:3,className:"flex-1 p-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Events Calendar"}),(0,it.jsx)(xg,{localizer:LU,events:e,startAccessor:"start",endAccessor:"end",style:{height:"500px"},onNavigate:e=>{const t=IU[e.getMonth()];o(t),s(e.getFullYear())}})]}),(0,it.jsxs)(tr,{elevation:3,className:"flex-1 p-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Upcoming Events"}),(0,it.jsx)(jn,{children:e.length>0?e.map((e=>{let{id:t,title:i,start:o,end:r}=e;return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:i,secondary:"Date: ".concat(Ag()(o).format("YYYY-MM-DD")," | Time: ").concat(Ag()(o).format("HH:mm")," - ").concat(Ag()(r).format("HH:mm"))})}),(0,it.jsx)(NU,{})]},t)})):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No upcoming events."})})})]})]})};const jU=(0,Rt.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function BU(e){return(0,Fe.Ay)("MuiMenuItem",e)}const _U=(0,Rt.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),GU=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],zU=(0,lt.Ay)(zs,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(_U.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(_U.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(_U.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xo.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(_U.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(_U.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(AU.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(AU.inset)]:{marginLeft:52},["& .".concat(DW.root)]:{marginTop:0,marginBottom:0},["& .".concat(DW.inset)]:{paddingLeft:36},["& .".concat(jU.root)]:{minWidth:36}},!i.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},i.dense&&(0,Te.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(jU.root," svg")]:{fontSize:"1.25rem"}}))})),HU=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:r="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:h}=i,p=(0,Ee.A)(i,GU),g=n.useContext(Fn),m=n.useMemo((()=>({dense:s||g.dense||!1,disableGutters:l})),[g.dense,s,l]),f=n.useRef(null);(0,gi.A)((()=>{o&&f.current&&f.current.focus()}),[o]);const v=(0,Te.A)({},i,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:i,divider:n,disableGutters:o,selected:r,classes:s}=e,a={root:["root",i&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",r&&"selected"]},l=(0,Ne.A)(a,BU,s);return(0,Te.A)({},s,l)})(i),b=(0,pi.A)(f,t);let C;return i.disabled||(C=void 0!==u?u:-1),(0,it.jsx)(Fn.Provider,{value:m,children:(0,it.jsx)(zU,(0,Te.A)({ref:b,role:d,tabIndex:C,component:r,focusVisibleClassName:(0,Pe.A)(y.focusVisible,c),className:(0,Pe.A)(y.root,h)},p,{ownerState:v,classes:y}))})})),VU=HU,WU=kg(Ag()),UU=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(Ag()().format("MMMM")),[r,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async e=>{try{const i=await fetch("".concat(Ga,"/holidays"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:e})}),n=(await i.json()).holidays.map((e=>({id:"".concat(e.year,"-").concat(e.month,"-").concat(e.date),title:e.name,start:new Date("".concat(e.year,"-").concat(e.month,"-").concat(e.date)),end:new Date("".concat(e.year,"-").concat(e.month,"-").concat(e.date))})));t(n)}catch(i){console.error("Error fetching holidays:",i)}})(i)}),[i]),(0,n.useEffect)((()=>{(()=>{const t=e.filter((e=>Ag()(e.start).format("MMMM")===i));s(t)})()}),[e,i]);return(0,it.jsxs)(At,{className:"p-4 flex flex-col md:flex-row gap-4",children:[(0,it.jsxs)(tr,{elevation:3,className:"flex-1 p-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Holidays Calendar"}),(0,it.jsx)(xg,{localizer:WU,events:r,startAccessor:"start",endAccessor:"end",style:{height:"500px"}})]}),(0,it.jsxs)(tr,{elevation:3,className:"flex-1 p-4",children:[(0,it.jsxs)(ei,{variant:"h6",className:"mb-4",children:["Holidays in ",i]}),(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mb-4",children:[(0,it.jsx)(hn,{children:"Month"}),(0,it.jsx)(es,{value:i,onChange:e=>{o(e.target.value)},label:"Month",children:Ag().months().map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsx)(jn,{children:r.length>0?r.map((e=>{let{id:t,title:i,start:o}=e;return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:i,secondary:"Date: ".concat(Ag()(o).format("YYYY-MM-DD"))})}),(0,it.jsx)(NU,{})]},t)})):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No holidays for this month."})})})]})]})},YU=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),u=async()=>{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);h(t.enrollment_or_employee_id)}},h=async e=>{try{const i=await fetch("".concat(Ga,"/leaves"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employment_id:e})});if(!i.ok)throw new Error("HTTP error! status: ".concat(i.status));{const e=await i.json();console.log(e);const n=e.leaves.map((e=>({id:e.status,reason:e.type,startDate:Ag()(e.from_date,"DD-MM-YYYY").format("YYYY-MM-DD"),endDate:e.to_date?Ag()(e.to_date,"DD-MM-YYYY").format("YYYY-MM-DD"):null})));t(n)}}catch(i){console.error("Error fetching leaves:",i)}};(0,n.useEffect)((()=>{u()}),[]);const p=()=>o(!1);return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student Leaves"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Leave History"}),(0,it.jsx)(jn,{children:e.length>0?e.map((e=>{let{id:t,reason:i,startDate:o,endDate:r}=e;return(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"Reason: ".concat(i),secondary:"From: ".concat(o," To: ").concat(r||"N/A")})}),(0,it.jsx)(NU,{})]},t)})):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No leave records found."})})})]}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>o(!0),children:"Apply for Leave"}),(0,it.jsxs)(Bg,{open:i,onClose:p,children:[(0,it.jsx)(Wg,{children:"Apply for Leave"}),(0,it.jsxs)(Xg,{children:[(0,it.jsx)(ss,{margin:"dense",label:"Reason",type:"text",fullWidth:!0,value:r,onChange:e=>s(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",label:"Start Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:a,onChange:e=>l(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",label:"End Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:c,onChange:e=>d(e.target.value)})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:p,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{const e=await fetch("".concat(Ga,"/apply-leave"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:r,start_date:a,end_date:c})});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));u(),p()}catch(e){console.error("Error applying for leave:",e)}},color:"primary",children:"Apply"})]})]})]})},KU=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[v,y]=(0,n.useState)(""),[b,C]=(0,n.useState)("");(0,n.useEffect)((()=>{w(),x()}),[]);const w=async()=>{try{const e=await fetch("".concat(Ga,"/bus_details_fetch")),i=await e.json();t(i.Result)}catch(e){console.error("Error fetching bus data:",e)}},x=async()=>{try{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);g(t.enrollment_or_employee_id),f(t.Name),y(t.father_name),C(t.phone),"applied"===t.bus&&S(t.enrollment_or_employee_id)}}catch(e){console.error("Error fetching user profile:",e)}},S=async e=>{try{const t=await fetch("".concat(Ga,"/bus_applied_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})}),i=await t.json();console.log(i),h(i.result)}catch(t){console.log("Error fetching student bus data:",t)}},R=()=>{s(!1),o(null)};return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Bus Details"}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Available Buses"}),(0,it.jsx)(jn,{children:e.length>0?e.map((e=>(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(MW,{button:!0,onClick:()=>(e=>{o(e),l(""),d(""),s(!0)})(e),children:(0,it.jsx)(PW,{primary:"Bus Number: ".concat(e.bus_number),secondary:"Driver: ".concat(e.driver_name,", Route: ").concat(e.route,", Capacity: ").concat(e.capacity,", Time: ").concat(e.time)})}),(0,it.jsx)(NU,{})]},e.bus_number))):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No buses available."})})})]}),u&&(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Your Bus Application"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Bus Number:"})," ",u.bus_number]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Boarding Point:"})," ",u.boarding_point]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Student Name:"})," ",u.student_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Parent Name:"})," ",u.parent_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Phone Number:"})," ",u.phone_number]}),(0,it.jsx)(oa,{variant:"contained",color:"error",onClick:async()=>{try{const e=await fetch("".concat(Ga,"/bus_applied_cancel"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:u.enrollment_or_employee_id,student_name:u.student_name,parent_name:u.parent_name,phone_number:u.phone_number,bus_number:u.bus_number,boarding_point:u.boarding_point})});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));alert("Your bus application has been canceled."),w(),h(null)}catch(e){console.error("Error canceling bus application:",e),alert("Failed to cancel bus application.")}},children:"Cancel Bus Application"})]}),(0,it.jsxs)(Bg,{open:r,onClose:R,children:[(0,it.jsx)(Wg,{children:"Apply for Bus"}),(0,it.jsx)(Xg,{children:i&&(0,it.jsxs)(At,{children:[(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Bus Details"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Bus Number:"})," ",i.bus_number]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Driver Name:"})," ",i.driver_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Driver Phone:"})," ",i.driver_phone_number]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Starting Point:"})," ",i.starting_point]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Ending Point:"})," ",i.ending_point]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Route:"})," ",i.route]}),(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",margin:"dense",className:"mb-4",children:[(0,it.jsx)(hn,{children:"Route"}),(0,it.jsx)(es,{value:a,onChange:e=>l(e.target.value),label:"Route",children:i.route.split("to ").map(((e,t)=>(0,it.jsx)(VU,{value:e,children:e},t)))})]})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:R,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{if(console.log(a),!a)return void alert("Please select a route.");const e={enrollment_or_employee_id:p,student_name:m,parent_name:v,phone_number:b,bus_number:i.bus_number,boarding_point:a,date_applied:(new Date).toISOString()};try{const t=await fetch("".concat(Ga,"/bus_apply"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));alert("Your application has been sent."),R()}catch(t){console.error("Error applying for bus:",t),alert("Failed to submit application.")}},color:"primary",children:"Apply"})]})]})]})},qU=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[m,f]=(0,n.useState)(""),[v,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>{b()}),[]);const b=async()=>{try{const e=localStorage.getItem("userProfile");if(null!==e){const i=JSON.parse(e);l(i.enrollment_or_employee_id),t(i.Name),o(i.father_name),s(i.phone),"applied"===i.hostel?w(i.enrollment_or_employee_id):C()}}catch(e){console.error("Error fetching user profile:",e)}},C=async()=>{try{const e=await fetch("".concat(Ga,"/hostel_details_fetch")),t=await e.json();console.log("Hostel data:",t),d(t.Result)}catch(e){console.error("Error fetching hostel data:",e)}},w=async e=>{try{const t=await fetch("".concat(Ga,"/hostel_applied_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})}),i=await t.json();h(i.result)}catch(t){console.error("Error fetching student hostel data:",t)}},x=()=>{y(!1),g(null)};return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Hostel Details"}),u?(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Your Hostel Application"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Building Name:"})," ",u.building_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Student Name:"})," ",u.student_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Parent Name:"})," ",u.parent_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Phone Number:"})," ",u.phone_number]}),(0,it.jsx)(oa,{variant:"contained",color:"error",onClick:async()=>{if(u)try{(await fetch("".concat(Ga,"/hostel_applied_cancel"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:a,student_name:e,parent_name:i,phone_number:r,building_name:u.building_name})})).ok?(alert("Your hostel application has been canceled."),h(null),C()):alert("Failed to cancel application.")}catch(t){console.error("Error canceling application:",t),alert("Failed to cancel application.")}},children:"Cancel Hostel Application"})]}):(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"Available Hostels"}),(0,it.jsx)(jn,{children:c.length>0?c.map((e=>(0,it.jsxs)(n.Fragment,{children:[(0,it.jsx)(MW,{button:!0,onClick:()=>(e=>{g(e),f(""),y(!0)})(e),children:(0,it.jsx)(PW,{primary:e.building_name,secondary:"Available Beds: ".concat(e.available_beds,", Hostel Type: ").concat(e.hostel_type,", Hostel Fees: ").concat(e.hostel_fees,", Mess Fees: ").concat(e.mess_fees)})}),(0,it.jsx)(NU,{})]},e.id))):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No hostels available."})})})]}),(0,it.jsxs)(Bg,{open:v,onClose:x,children:[(0,it.jsx)(Wg,{children:"Apply for Hostel"}),(0,it.jsx)(Xg,{children:p&&(0,it.jsxs)(At,{children:[(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Hostel Details"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Building Name:"})," ",p.building_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Type:"})," ",p.hostel_type]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Fees:"})," Hostel - ",p.hostel_fees,", Mess - ",p.mess_fees]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Available Beds:"})," ",p.available_beds]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Total Beds:"})," ",p.total_beds]}),(0,it.jsx)(ss,{margin:"dense",label:"Reason for Applying",type:"text",fullWidth:!0,value:m,onChange:e=>f(e.target.value)})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:x,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{if(!p)return;const t={enrollment_or_employee_id:a,student_name:e,parent_name:i,phone_number:r,building_name:p.building_name,reason:m};try{(await fetch("".concat(Ga,"/hostel_apply"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(alert("Your application has been submitted."),x(),C()):alert("Failed to submit application.")}catch(n){console.error("Error submitting application:",n),alert("Failed to submit application.")}},color:"primary",children:"Apply"})]})]})]})};function XU(e){return(0,Fe.Ay)("MuiToggleButtonGroup",e)}const ZU=(0,Rt.A)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const QU=n.createContext({});const JU=n.createContext(void 0);function $U(e){return(0,Fe.Ay)("MuiToggleButton",e)}const eY=(0,Rt.A)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),tY=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],iY=(0,lt.Ay)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{["& .".concat(ZU.grouped)]:t.grouped},{["& .".concat(ZU.grouped)]:t["grouped".concat((0,at.A)(i.orientation))]},{["& .".concat(ZU.firstButton)]:t.firstButton},{["& .".concat(ZU.lastButton)]:t.lastButton},{["& .".concat(ZU.middleButton)]:t.middleButton},t.root,"vertical"===i.orientation&&t.vertical,i.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{["& .".concat(ZU.grouped)]:(0,Te.A)({},"horizontal"===t.orientation?{["&.".concat(ZU.selected," + .").concat(ZU.grouped,".").concat(ZU.selected)]:{borderLeft:0,marginLeft:0}}:{["&.".concat(ZU.selected," + .").concat(ZU.grouped,".").concat(ZU.selected)]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{["& .".concat(ZU.firstButton,",& .").concat(ZU.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(ZU.lastButton,",& .").concat(ZU.middleButton)]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{["& .".concat(ZU.firstButton,",& .").concat(ZU.middleButton)]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},["& .".concat(ZU.lastButton,",& .").concat(ZU.middleButton)]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{["& .".concat(ZU.lastButton,".").concat(eY.disabled,",& .").concat(ZU.middleButton,".").concat(eY.disabled)]:{borderLeft:"1px solid transparent"}}:{["& .".concat(ZU.lastButton,".").concat(eY.disabled,",& .").concat(ZU.middleButton,".").concat(eY.disabled)]:{borderTop:"1px solid transparent"}})})),nY=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiToggleButtonGroup"}),{children:o,className:r,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:d,orientation:u="horizontal",size:h="medium",value:p}=i,g=(0,Ee.A)(i,tY),m=(0,Te.A)({},i,{disabled:a,fullWidth:c,orientation:u,size:h}),f=(e=>{const{classes:t,orientation:i,fullWidth:n,disabled:o}=e,r={root:["root","vertical"===i&&"vertical",n&&"fullWidth"],grouped:["grouped","grouped".concat((0,at.A)(i)),o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,Ne.A)(r,XU,t)})(m),v=n.useCallback(((e,t)=>{if(!d)return;const i=p&&p.indexOf(t);let n;p&&i>=0?(n=p.slice(),n.splice(i,1)):n=p?p.concat(t):[t],d(e,n)}),[d,p]),y=n.useCallback(((e,t)=>{d&&d(e,p===t?null:t)}),[d,p]),b=n.useMemo((()=>({className:f.grouped,onChange:l?y:v,value:p,size:h,fullWidth:c,color:s,disabled:a})),[f.grouped,l,y,v,p,h,c,s,a]),C=function(e){return n.Children.toArray(e).filter((e=>n.isValidElement(e)))}(o),w=C.length,x=e=>{const t=0===e,i=e===w-1;return t&&i?"":t?f.firstButton:i?f.lastButton:f.middleButton};return(0,it.jsx)(iY,(0,Te.A)({role:"group",className:(0,Pe.A)(f.root,r),ref:t,ownerState:m},g,{children:(0,it.jsx)(QU.Provider,{value:b,children:C.map(((e,t)=>(0,it.jsx)(JU.Provider,{value:x(t),children:e},t)))})}))})),oY=nY;var rY=i(7040);function sY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,rY.A)(e,t,i)}function aY(e){if(e.type)return e;if("#"===e.charAt(0))return aY(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let i=e.match(t);return i&&1===i[0].length&&(i=i.map((e=>e+e))),i?"rgb".concat(4===i.length?"a":"","(").concat(i.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),i=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error((0,ii.A)(9,e));let n,o=e.substring(t+1,e.length-1);if("color"===i){if(o=o.split(" "),n=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,ii.A)(10,n))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:i,values:o,colorSpace:n}}function lY(e){const{type:t,colorSpace:i}=e;let{values:n}=e;return-1!==t.indexOf("rgb")?n=n.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(i," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function cY(e,t){return e=aY(e),t=sY(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,lY(e)}function dY(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const uY=["value"],hY=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],pY=(0,lt.Ay)(zs,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["size".concat((0,at.A)(i.size))]]}})((e=>{let t,{theme:i,ownerState:n}=e,o="standard"===n.color?i.palette.text.primary:i.palette[n.color].main;return i.vars&&(o="standard"===n.color?i.vars.palette.text.primary:i.vars.palette[n.color].main,t="standard"===n.color?i.vars.palette.text.primaryChannel:i.vars.palette[n.color].mainChannel),(0,Te.A)({},i.typography.button,{borderRadius:(i.vars||i).shape.borderRadius,padding:11,border:"1px solid ".concat((i.vars||i).palette.divider),color:(i.vars||i).palette.action.active},n.fullWidth&&{width:"100%"},{["&.".concat(eY.disabled)]:{color:(i.vars||i).palette.action.disabled,border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):cY(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(eY.selected)]:{color:o,backgroundColor:i.vars?"rgba(".concat(t," / ").concat(i.vars.palette.action.selectedOpacity,")"):cY(o,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?"rgba(".concat(t," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):cY(o,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(t," / ").concat(i.vars.palette.action.selectedOpacity,")"):cY(o,i.palette.action.selectedOpacity)}}}},"small"===n.size&&{padding:7,fontSize:i.typography.pxToRem(13)},"large"===n.size&&{padding:15,fontSize:i.typography.pxToRem(15)})})),gY=n.forwardRef((function(e,t){const i=n.useContext(QU),{value:o}=i,r=(0,Ee.A)(i,uY),s=n.useContext(JU),a=(0,Ie.A)((0,Te.A)({},r,{selected:dY(e.value,o)}),e),l=(0,ct.b)({props:a,name:"MuiToggleButton"}),{children:c,className:d,color:u="standard",disabled:h=!1,disableFocusRipple:p=!1,fullWidth:g=!1,onChange:m,onClick:f,selected:v,size:y="medium",value:b}=l,C=(0,Ee.A)(l,hY),w=(0,Te.A)({},l,{color:u,disabled:h,disableFocusRipple:p,fullWidth:g,size:y}),x=(e=>{const{classes:t,fullWidth:i,selected:n,disabled:o,size:r,color:s}=e,a={root:["root",n&&"selected",o&&"disabled",i&&"fullWidth","size".concat((0,at.A)(r)),s]};return(0,Ne.A)(a,$U,t)})(w),S=s||"";return(0,it.jsx)(pY,(0,Te.A)({className:(0,Pe.A)(r.className,x.root,d,S),disabled:h,focusRipple:!p,ref:t,onClick:e=>{f&&(f(e,b),e.defaultPrevented)||m&&m(e,b)},onChange:m,value:b,ownerState:w,"aria-pressed":v},C,{children:c}))})),mY=gY,fY=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("available"),[u,h]=(0,n.useState)(null);(0,n.useEffect)((()=>{(()=>{try{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);h(t.enrollment_or_employee_id)}}catch(e){console.error("Error fetching user profile:",e)}})()}),[]),(0,n.useEffect)((()=>{"available"===c?(async()=>{try{const e=await fetch("".concat(Ga,"/library_books_fetch")),i=await e.json();t(i.Result||[])}catch(e){console.error("Error fetching available books:",e),alert("Failed to fetch available books.")}})():"borrowed"===c&&u&&(async e=>{try{const i=await fetch("".concat(Ga,"/books_issued_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})});if(!i.ok)throw new Error("HTTP error! Status: ".concat(i.status));const n=await i.json();t(n.result||[])}catch(i){console.error("Error fetching borrowed books:",i),alert("Failed to fetch borrowed books.")}})(u)}),[c,u]);const p=()=>{s(!1),o(null),l("")};return(0,it.jsxs)(At,{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Library"}),(0,it.jsxs)(oY,{value:c,exclusive:!0,onChange:(e,t)=>{t&&d(t)},"aria-label":"book view",className:"mb-4",children:[(0,it.jsx)(mY,{value:"available","aria-label":"available books",children:"Available Books"}),(0,it.jsx)(mY,{value:"borrowed","aria-label":"borrowed books",children:"My Books"})]}),(0,it.jsxs)(tr,{elevation:3,className:"p-4 mb-4",children:[(0,it.jsx)(ei,{variant:"h6",className:"mb-4",children:"available"===c?"Available Books":"My Borrowed Books"}),(0,it.jsx)(jn,{children:e.length>0?e.map((e=>(0,it.jsxs)(n.Fragment,{children:[(0,it.jsxs)(MW,{button:!0,onClick:()=>(e=>{o(e),s(!0)})(e),children:[(0,it.jsx)(Kt,{src:e.image,alt:e.book_name,className:"mr-2"}),(0,it.jsx)(PW,{primary:e.book_name,secondary:"Class: ".concat(e.class).concat("borrowed"===c?", Issued On: ".concat(e.issued_on,", Return Date: ").concat(e.return_date,", Status: ").concat(e.status):", Subject: ".concat(e.subject))})]}),(0,it.jsx)(NU,{})]},e.id))):(0,it.jsx)(MW,{children:(0,it.jsx)(PW,{primary:"No ".concat("available"===c?"books available":"borrowed books",".")})})})]}),(0,it.jsxs)(Bg,{open:r,onClose:p,children:[(0,it.jsx)(Wg,{children:"available"===c?"Borrow Book":"Book Details"}),(0,it.jsx)(Xg,{children:i&&(0,it.jsxs)(At,{children:[(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Book Details"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Title:"})," ",i.book_name]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Class:"})," ",i.class]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Subject:"})," ",i.subject]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",i.status]}),"available"===c&&(0,it.jsx)(ss,{margin:"dense",label:"Return Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:a,onChange:e=>l(e.target.value)})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:p,color:"secondary",children:"Cancel"}),"available"===c&&(0,it.jsx)(oa,{onClick:()=>{a.trim()?(alert('Borrowed "'.concat(i.book_name,'" with return date: ').concat(a)),p()):alert("Please select a return date.")},color:"primary",children:"Borrow"})]})]})]})},vY=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],yY=["1st Period","2nd Period","3rd Period","Lunch","4th Period","5th Period"],bY={Monday:["Mathematics","Physics","Chemistry","Lunch","Biology","English"],Tuesday:["English","Chemistry","Physics","Lunch","Mathematics","Biology"],Wednesday:["Biology","English","Physics","Lunch","Mathematics","Chemistry"],Thursday:["Chemistry","Mathematics","English","Lunch","Physics","Biology"],Friday:["Physics","Biology","Mathematics","Lunch","Chemistry","English"],Saturday:["English","Mathematics","Biology","Lunch","Physics","Chemistry"]},CY=()=>{const[e,t]=(0,n.useState)(yY.map(((e,t)=>{const i={period:e};return vY.forEach((e=>{i[e]=bY[e][t]})),i})));return(0,it.jsx)("div",{className:"ag-theme-alpine mt-10",style:{height:400,width:"100%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:[{headerName:"Period",field:"period",sortable:!0,filter:!0,resizable:!0},{headerName:"Monday",field:"Monday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Tuesday",field:"Tuesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Wednesday",field:"Wednesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Thursday",field:"Thursday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Friday",field:"Friday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Saturday",field:"Saturday",editable:!0,sortable:!0,filter:!0,resizable:!0}],defaultColDef:{flex:1,minWidth:100,resizable:!0},onCellValueChanged:i=>{const n=[...e];n[i.node.rowIndex]=i.data,t(n)}})})};const wY=function(){const[e,t]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,it.jsx)(dl,{isOpen:e,toggleSidebar:()=>{t(!e)}}),(0,it.jsx)("div",{className:"flex-1 flex flex-col",children:(0,it.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:[(0,it.jsx)(Wa,{}),(0,it.jsxs)(ve,{children:[(0,it.jsx)(me,{path:"/Student-Dashboard",element:(0,it.jsx)(ul,{})}),(0,it.jsx)(me,{path:"/Student-Attendence",element:(0,it.jsx)(XF,{})}),(0,it.jsx)(me,{path:"/Student-Teacher",element:(0,it.jsx)(uW,{})}),(0,it.jsx)(me,{path:"/Student-Enquiry",element:(0,it.jsx)(FW,{})}),(0,it.jsx)(me,{path:"/Student-Certificate",element:(0,it.jsx)(LW,{})}),(0,it.jsx)(me,{path:"/Student-Result",element:(0,it.jsx)(IW,{})}),(0,it.jsx)(me,{path:"/Student-Dues",element:(0,it.jsx)(jW,{})}),(0,it.jsx)(me,{path:"/Student-Examination",element:(0,it.jsx)(RU,{})}),(0,it.jsx)(me,{path:"/Student-Fees",element:(0,it.jsx)(MU,{})}),(0,it.jsx)(me,{path:"/Student-Homework",element:(0,it.jsx)(kU,{})}),(0,it.jsx)(me,{path:"/Student-Timetable",element:(0,it.jsx)(CY,{})}),(0,it.jsx)(me,{path:"/Student-Events",element:(0,it.jsx)(OU,{})}),(0,it.jsx)(me,{path:"/Student-Leaves",element:(0,it.jsx)(YU,{})}),(0,it.jsx)(me,{path:"/Student-Buses",element:(0,it.jsx)(KU,{})}),(0,it.jsx)(me,{path:"/Student-Hostel",element:(0,it.jsx)(qU,{})}),(0,it.jsx)(me,{path:"/Student-Library",element:(0,it.jsx)(fY,{})}),(0,it.jsx)(me,{path:"/Student-Holiday",element:(0,it.jsx)(UU,{})})]})]})})]})},xY=e=>{let{icon:t,title:i,isOpen:n}=e;return(0,it.jsxs)("div",{className:"flex items-center text-white mb-4",children:[t,n&&(0,it.jsx)("span",{className:"ml-4",children:i})]})},SY=()=>{const[e,t]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"flex ".concat(e?"w-64":"w-16"," bg-primary h-screen p-4 flex-col"),children:[(0,it.jsx)(Ks,{onClick:()=>{t(!e)},className:"text-white mb-4 absolute top-0 right-0 z-50",children:e?(0,it.jsx)(Ua,{}):(0,it.jsx)(Ya,{})}),(0,it.jsxs)("div",{className:"flex flex-col flex-grow mt-12",children:[(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Dashboard",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ka,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Dashboard"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Attendence",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Attendance"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-StuAttendence",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:" Student Attendance"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Student",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Xa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Student"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Enquiry",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Za,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Enquiry"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Student-Fees",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Fees"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Student-Dues",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ja,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Dues"})]}),(0,it.jsx)(xY,{icon:(0,it.jsx)($a,{}),title:"Refund",isOpen:e}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Certificate",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(el,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Certificate"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Examination",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(tl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Examination"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Homework",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(il,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Homework"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Setpaper",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Xa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"SetPaper"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Teacher-Result",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Result"})]}),(0,it.jsxs)(ke,{to:"/Teacher/TimeTable",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(nl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Time-Table"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Events",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ol,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Event"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Holiday",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(rl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Holiday"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Leaves",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ja,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"leave"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Buses",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(sl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Bus"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Hostel",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(al,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Hostel"})]}),(0,it.jsxs)(ke,{to:"/Teacher/Library",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ll,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Libray"})]})]})]})},RY=()=>((0,n.useEffect)((()=>{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);console.log(t),console.log(t.enrollment_or_employee_id)}}),[]),(0,it.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen",children:[(0,it.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Teacher Dashboard"}),(0,it.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,it.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,it.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Total Students"}),(0,it.jsx)("p",{className:"text-2xl",children:"150"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,it.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Classes Today"}),(0,it.jsx)("p",{className:"text-2xl",children:"4"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,it.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Assignments Pending"}),(0,it.jsx)("p",{className:"text-2xl",children:"5"})]}),(0,it.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,it.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Notifications"}),(0,it.jsx)("p",{className:"text-2xl",children:"3"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Upcoming Classes"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{className:"mb-2",children:"Math - 10:00 AM"}),(0,it.jsx)("li",{className:"mb-2",children:"Science - 11:30 AM"}),(0,it.jsx)("li",{className:"mb-2",children:"History - 1:00 PM"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Assignments"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{className:"mb-2",children:"Math Assignment - Due: 2024-08-01"}),(0,it.jsx)("li",{className:"mb-2",children:"Science Project - Due: 2024-08-05"}),(0,it.jsx)("li",{className:"mb-2",children:"History Essay - Due: 2024-08-10"})]})]}),(0,it.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Notifications"}),(0,it.jsxs)("ul",{children:[(0,it.jsx)("li",{className:"mb-2",children:"Meeting with the principal at 3:00 PM"}),(0,it.jsx)("li",{className:"mb-2",children:"Submit grades for the midterm exams"}),(0,it.jsx)("li",{className:"mb-2",children:"Parent-teacher conference on 2024-08-15"})]})]})]})),MY=kg(Ag()),kY=()=>{const[e,t]=(0,n.useState)(Ag()().format("YYYY-MM-DD")),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)([]);(0,n.useEffect)((()=>{p()}),[]),(0,n.useEffect)((()=>{r&&g(e)}),[r]);const p=async()=>{try{const e=await localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);s(t.enrollment_or_employee_id)}}catch(e){console.error("Error fetching user profile:",e)}},g=async e=>{try{const i=await fetch("".concat(Ga,"/attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,student_id:r})}),n=await i.json();i.ok?n.Error?alert("No data found"):(o(n.attendance),t(e),m(n.attendance),d(n.attendance.status)):alert("No data found")}catch(i){console.error("Error fetching data:",i)}},m=e=>{const t=e.filter((e=>"Present"===e.status)).length,i=e.filter((e=>"Absent"===e.status)).length;h([{label:"Present",value:t},{label:"Absent",value:i}])},f=()=>{l(!1)},v={data:u,series:[{type:"pie",angleKey:"value",labelKey:"label",fills:["#4caf50","#f44336"]}]};return(0,it.jsxs)("div",{className:"flex flex-col p-6 bg-gray-100 min-h-screen",children:[(0,it.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Student Dashboard"}),(0,it.jsxs)("div",{className:"flex flex-row w-full max-w-8xl space-x-6",children:[(0,it.jsx)(xg,{localizer:MY,events:[],startAccessor:"start",endAccessor:"end",style:{height:"700px",width:"100%"},selectable:!0,onSelectSlot:e=>g(e.start)}),(0,it.jsxs)(At,{className:"flex flex-col w-1/3 space-y-4",children:[(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md",children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold mb-4",children:"Monthly Attendance"}),(0,it.jsx)(KF,{options:v})]}),i&&(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md cursor-pointer",onClick:()=>{l(!0)},children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold",children:"Attendance Status"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Date:"})," ",Ag()(e).format("YYYY-MM-DD")]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",c]})]})]})]}),(0,it.jsxs)(Bg,{open:a,onClose:f,children:[(0,it.jsx)(Wg,{children:"Attendance Details"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Date:"})," ",Ag()(e).format("YYYY-MM-DD")]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",c]})]}),(0,it.jsx)(em,{children:(0,it.jsx)(oa,{onClick:f,color:"primary",children:"Close"})})]})]})},DY=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)("new"),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)("");(0,n.useEffect)((()=>{v()}),[]);const v=async()=>{g(!0),f("");try{const e=await fetch("".concat(Ga,"/teacher_enquiry_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:"teacher"})});if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));const i=(await e.json()).data.map(((e,t)=>({id:t,title:"Enquiry ".concat(t+1),submitDate:e.date,teacherName:e.Name,subject:e.Subject,contactNo:e["Phone Number"],message:e.Message,teacherId:e.Teacher_id})));t(i)}catch(m){f("Failed to fetch data"),console.error("Failed to fetch data:",m)}finally{g(!1)}},y=i=>{const n=[...e].sort(((e,t)=>"new"===i?new Date(t.submitDate)-new Date(e.submitDate):new Date(e.submitDate)-new Date(t.submitDate)));s(i),t(n)};return(0,it.jsxs)("div",{className:"container mx-auto p-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Teacher Enquiries"}),p&&(0,it.jsx)("p",{children:"Loading..."}),m&&(0,it.jsx)("p",{className:"text-red-500",children:m}),(0,it.jsxs)("div",{className:"mb-4",children:[(0,it.jsx)("button",{className:"px-4 py-2 mr-2 rounded ".concat("new"===r?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>y("new"),children:"Newest First"}),(0,it.jsx)("button",{className:"px-4 py-2 rounded ".concat("old"===r?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>y("old"),children:"Oldest First"})]}),e.map(((t,i)=>(0,it.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4",children:[(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Teacher Name:"})," ",t.teacherName]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Subject:"})," ",t.subject]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Contact No:"})," ",t.contactNo]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Message:"})," ",t.message]}),c===i?(0,it.jsxs)("div",{children:[(0,it.jsx)("textarea",{className:"w-full p-2 border rounded mb-2",value:u,onChange:e=>h(e.target.value),placeholder:"Write your reply here"}),(0,it.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",onClick:()=>(async t=>{const i=e[t],n=(new Date).toISOString().split("T")[0],o={date:i.submitDate,teacher_id:i.teacherId,teacher_name:i.teacherName,subject:i.subject,contact_number:i.contactNo,message:i.message,replied_message:u,replied_by:"Teacher",replied_date:n};try{const e=await fetch("".concat(Ga,"/teacher_enquiry_replied"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));alert("Reply sent successfully!"),d(null),h("")}catch(m){console.error("Failed to send reply:",m)}})(i),children:"Send Reply"}),(0,it.jsx)("button",{className:"ml-2 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>{d(null),h("")},children:"Cancel"})]}):(0,it.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:()=>d(i),children:"Reply"})]},i)))]})};function AY(e){return(0,Fe.Ay)("MuiCard",e)}(0,Rt.A)("MuiCard",["root"]);const EY=["className","raised"],TY=(0,lt.Ay)(tr,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),PY=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=i,r=(0,Ee.A)(i,EY),s=(0,Te.A)({},i,{raised:o}),a=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},AY,t)})(s);return(0,it.jsx)(TY,(0,Te.A)({className:(0,Pe.A)(a.root,n),elevation:o?8:void 0,ref:t,ownerState:s},r))})),FY=PY;function NY(e){return(0,Fe.Ay)("MuiCardContent",e)}(0,Rt.A)("MuiCardContent",["root"]);const LY=["className","component"],IY=(0,lt.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),OY=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=i,r=(0,Ee.A)(i,LY),s=(0,Te.A)({},i,{component:o}),a=(e=>{const{classes:t}=e;return(0,Ne.A)({root:["root"]},NY,t)})(s);return(0,it.jsx)(IY,(0,Te.A)({as:o,className:(0,Pe.A)(a.root,n),ownerState:s,ref:t},r))})),jY=OY,BY=[{id:1,studentId:"S001",certificateName:"Math Olympiad Certificate",file:"/path/to/certificate1.pdf"},{id:2,studentId:"S002",certificateName:"Science Fair Certificate",file:"/path/to/certificate2.pdf"},{id:3,studentId:"S003",certificateName:"History Quiz Certificate",file:"/path/to/certificate3.pdf"}],_Y=()=>{const[e,t]=(0,n.useState)(BY),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)("");return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Teacher Certificate Management"}),(0,it.jsx)(FY,{variant:"outlined",className:"mb-4",children:(0,it.jsxs)(jY,{children:[(0,it.jsx)(ei,{variant:"h6",children:"Upload Certificate"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Student ID",variant:"outlined",value:i,onChange:e=>o(e.target.value),className:"mt-2"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Certificate Name",variant:"outlined",value:r,onChange:e=>s(e.target.value),className:"mt-2"}),(0,it.jsx)(hn,{className:"mt-2",children:"Upload File"}),(0,it.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];t&&console.log("Uploaded file:",t)}}),(0,it.jsx)(oa,{onClick:()=>{const n={id:e.length+1,studentId:i,certificateName:r,file:"uploaded_certificate.pdf"};t([...e,n]),o(""),s("")},color:"primary",variant:"contained",className:"mt-2",children:"Upload Certificate"})]})}),(0,it.jsx)(FY,{variant:"outlined",className:"mb-4",children:(0,it.jsxs)(jY,{children:[(0,it.jsx)(ei,{variant:"h6",children:"Search Certificate by Student ID"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Student ID",variant:"outlined",value:a,onChange:e=>{l(e.target.value)}}),(0,it.jsx)(oa,{onClick:()=>{e.find((e=>e.studentId===a))},color:"primary",variant:"contained",className:"mt-2",children:"Search"})]})}),(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Certificate List"}),(0,it.jsx)(jn,{children:e.map((e=>(0,it.jsx)(MW,{button:!0,onClick:()=>{return t=e.file,void window.open(t,"_blank");var t},children:(0,it.jsx)(FY,{variant:"outlined",className:"w-full",children:(0,it.jsxs)(jY,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Student ID: ",e.studentId]}),(0,it.jsxs)(ei,{variant:"body1",children:["Certificate Name: ",e.certificateName]}),(0,it.jsxs)(ei,{variant:"body1",children:["File: ",e.file]})]})})},e.id)))})]})};var GY=i(5540);const zY=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)({id:"",class:"",section:"",subject:"",homework:"",date:new Date}),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[m,f]=(0,n.useState)(!0),[v,y]=(0,n.useState)(null),[b,C]=(0,n.useState)(!1);(0,n.useEffect)((()=>{w()}),[]),(0,n.useEffect)((()=>{u&&p&&S()}),[u,p]);const w=async()=>{try{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);x(t.enrollment_or_employee_id)}}catch(v){y("Failed to fetch user profile"),f(!1)}},x=async e=>{f(!0);try{const t=await fetch("".concat(Ga,"/teacher_class_section_details"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})}),i=await t.json();o(i.class||[]),s(i.section||[])}catch(v){y("Failed to fetch class and section data")}finally{f(!1)}},S=async()=>{f(!0);try{const e=await fetch("".concat(Ga,"/admin_homework_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:u,section:p})}),i=await e.json();console.log(i),t(i||[])}catch(v){y("Failed to fetch homework list")}finally{f(!1)}},R=()=>{d({id:"",class:"",section:"",subject:"",homework:"",date:new Date})};return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Teacher Homework Management"}),(0,it.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:u,onChange:e=>h(e.target.value),label:"Class",children:i.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Section"}),(0,it.jsx)(es,{value:p,onChange:e=>g(e.target.value),label:"Section",children:r.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsx)(oa,{onClick:()=>l(!0),color:"primary",variant:"contained",className:"mb-4",children:"Add Homework"})]}),(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Homework List"}),(0,it.jsx)(jn,{children:e.map((e=>(0,it.jsx)(MW,{className:"mb-2",children:(0,it.jsx)(FY,{variant:"outlined",className:"w-full",children:(0,it.jsxs)(jY,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Subject: ",e.subject]}),(0,it.jsxs)(ei,{variant:"body1",children:["Class: ",e.class]}),(0,it.jsxs)(ei,{variant:"body1",children:["Section: ",e.section]}),(0,it.jsxs)(ei,{variant:"body1",children:["Homework: ",e.homework]}),(0,it.jsx)(Ks,{onClick:()=>(e=>{d({...e,date:new Date(e.date)}),C(!0),l(!0)})(e),color:"primary",children:(0,it.jsx)(GY.A,{})})]})})},e.id)))}),(0,it.jsxs)(Bg,{open:a,onClose:()=>l(!1),children:[(0,it.jsx)(Wg,{children:b?"Edit Homework":"Add Homework"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mt-2",children:[(0,it.jsx)(hn,{children:"Subject"}),(0,it.jsxs)(es,{value:c.subject,onChange:e=>d({...c,subject:e.target.value}),label:"Subject",children:[(0,it.jsx)(VU,{value:"Math",children:"Math"}),(0,it.jsx)(VU,{value:"English",children:"English"}),(0,it.jsx)(VU,{value:"Science",children:"Science"})]})]}),(0,it.jsx)(ss,{fullWidth:!0,label:"Class",variant:"outlined",value:c.class,onChange:e=>d({...c,class:e.target.value}),className:"mt-2"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Section",variant:"outlined",value:c.section,onChange:e=>d({...c,section:e.target.value}),className:"mt-2"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Homework",variant:"outlined",value:c.homework,onChange:e=>d({...c,homework:e.target.value}),className:"mt-2",multiline:!0,rows:4})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>l(!1),color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:b?async()=>{try{(await fetch("".concat(Ga,"/admin_homework_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?(S(),l(!1),C(!1),R()):y("Failed to update homework")}catch(v){y("Failed to update homework")}}:async()=>{try{(await fetch("".concat(Ga,"/admin_homework_create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?(S(),l(!1),R()):y("Failed to add homework")}catch(v){y("Failed to add homework")}},color:"primary",children:b?"Save Changes":"Add Homework"})]})]}),m&&(0,it.jsx)(ei,{children:"Loading..."}),v&&(0,it.jsx)(ei,{color:"error",children:v})]})};var HY=i(2954),VY=i(7260),WY=i(3471);const UY=[{id:"S001",fileName:"Math_Final_Grade.pdf"},{id:"S002",fileName:"English_HalfYear_Results.pdf"},{id:"S003",fileName:"Science_Quarterly_Results.pdf"}],YY=()=>{const[e,t]=(0,n.useState)(UY),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(null),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Teacher Result Management"}),(0,it.jsx)(oa,{onClick:()=>d(!0),color:"primary",variant:"contained",className:"mb-4",startIcon:(0,it.jsx)(HY.A,{}),children:"Upload Result"}),(0,it.jsx)(ss,{fullWidth:!0,label:"Search by Student ID",variant:"outlined",value:i,onChange:e=>o(e.target.value),className:"mb-4"}),(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Uploaded Results"}),(0,it.jsx)(jn,{children:e.filter((e=>e.id.includes(i))).map((i=>(0,it.jsx)(MW,{className:"mb-2",children:(0,it.jsx)(FY,{variant:"outlined",className:"w-full",children:(0,it.jsxs)(jY,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Student ID: ",i.id]}),(0,it.jsxs)(ei,{variant:"body1",children:["File: ",i.fileName]}),(0,it.jsx)(Ks,{onClick:()=>(e=>{s(e),h(!0)})(i),color:"primary",className:"ml-2",children:(0,it.jsx)(VY.A,{})}),(0,it.jsx)(Ks,{onClick:()=>{return n=i.id,void t(e.filter((e=>e.id!==n)));var n},color:"secondary",className:"ml-2",children:(0,it.jsx)(WY.A,{})})]})})},i.id)))}),(0,it.jsxs)(Bg,{open:c,onClose:()=>d(!1),children:[(0,it.jsx)(Wg,{children:"Upload Student Result"}),(0,it.jsxs)(Xg,{children:[(0,it.jsx)(ss,{fullWidth:!0,label:"Student ID",variant:"outlined",value:i,onChange:e=>o(e.target.value),className:"mt-2"}),(0,it.jsx)(hn,{className:"mt-2",children:"Upload File"}),(0,it.jsx)("input",{type:"file",onChange:e=>l(e.target.files[0]),className:"mt-2"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>d(!1),color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{if(a&&i){const n={id:i,fileName:a.name};t([...e,n]),d(!1),l(null),o("")}},color:"primary",children:"Upload"})]})]}),(0,it.jsxs)(Bg,{open:u,onClose:()=>h(!1),children:[(0,it.jsx)(Wg,{children:"View Result"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Student ID: ",null===r||void 0===r?void 0:r.id]}),(0,it.jsxs)(ei,{variant:"body1",children:["File: ",null===r||void 0===r?void 0:r.fileName]})]}),(0,it.jsx)(em,{children:(0,it.jsx)(oa,{onClick:()=>h(!1),color:"secondary",children:"Close"})})]})]})},KY=[{id:"P001",className:"Class 1",examType:"Final",fileName:"Math_Final_Exam.pdf"},{id:"P002",className:"Class 2",examType:"Half Year",fileName:"English_HalfYear_Exam.pdf"},{id:"P003",className:"Class 3",examType:"Quarterly",fileName:"Science_Quarterly_Exam.pdf"}],qY=()=>{const[e,t]=(0,n.useState)(KY),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null);return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Teacher Set Papers Management"}),(0,it.jsx)(oa,{onClick:()=>h(!0),color:"primary",variant:"contained",className:"mb-4",startIcon:(0,it.jsx)(HY.A,{}),children:"Upload Paper"}),(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Uploaded Papers"}),(0,it.jsx)(jn,{children:e.map((i=>(0,it.jsx)(MW,{className:"mb-2",children:(0,it.jsx)(FY,{variant:"outlined",className:"w-full",children:(0,it.jsxs)(jY,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Class: ",i.className]}),(0,it.jsxs)(ei,{variant:"body1",children:["Exam Type: ",i.examType]}),(0,it.jsxs)(ei,{variant:"body1",children:["File: ",i.fileName]}),(0,it.jsx)(Ks,{onClick:()=>(e=>{f(e),g(!0)})(i),color:"primary",className:"ml-2",children:(0,it.jsx)(VY.A,{})}),(0,it.jsx)(Ks,{onClick:()=>{return n=i.id,void t(e.filter((e=>e.id!==n)));var n},color:"secondary",className:"ml-2",children:(0,it.jsx)(WY.A,{})})]})})},i.id)))}),(0,it.jsxs)(Bg,{open:u,onClose:()=>h(!1),children:[(0,it.jsx)(Wg,{children:"Upload Exam Paper"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mt-2",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsxs)(es,{value:i,onChange:e=>o(e.target.value),label:"Class",children:[(0,it.jsx)(VU,{value:"Class 1",children:"Class 1"}),(0,it.jsx)(VU,{value:"Class 2",children:"Class 2"}),(0,it.jsx)(VU,{value:"Class 3",children:"Class 3"})]})]}),(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mt-2",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsxs)(es,{value:r,onChange:e=>s(e.target.value),label:"Exam Type",children:[(0,it.jsx)(VU,{value:"Final",children:"Final"}),(0,it.jsx)(VU,{value:"Half Year",children:"Half Year"}),(0,it.jsx)(VU,{value:"Quarterly",children:"Quarterly"})]})]}),(0,it.jsx)(hn,{className:"mt-2",children:"Upload File"}),(0,it.jsx)("input",{type:"file",onChange:e=>l(e.target.files[0]),className:"mt-2"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>h(!1),color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{if(a&&i&&r){const n={id:"P".concat(e.length+1),className:i,examType:r,fileName:a.name};t([...e,n]),h(!1),l(null),d(""),o(""),s("")}},color:"primary",children:"Upload"})]})]}),(0,it.jsxs)(Bg,{open:p,onClose:()=>g(!1),children:[(0,it.jsx)(Wg,{children:"View Exam Paper"}),(0,it.jsxs)(Xg,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["Class: ",null===m||void 0===m?void 0:m.className]}),(0,it.jsxs)(ei,{variant:"body1",children:["Exam Type: ",null===m||void 0===m?void 0:m.examType]}),(0,it.jsxs)(ei,{variant:"body1",children:["File: ",null===m||void 0===m?void 0:m.fileName]})]}),(0,it.jsx)(em,{children:(0,it.jsx)(oa,{onClick:()=>g(!1),color:"secondary",children:"Close"})})]})]})};var XY=i(8604);const ZY=["component","direction","spacing","divider","children","className","useFlexGap"],QY=(0,Oe.A)(),JY=tt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function $Y(e){return ze({props:e,name:"MuiStack",defaultTheme:QY})}function eK(e,t){const i=n.Children.toArray(e).filter(Boolean);return i.reduce(((e,o,r)=>(e.push(o),r<i.length-1&&e.push(n.cloneElement(t,{key:"separator-".concat(r)})),e)),[])}const tK=e=>{let{ownerState:t,theme:i}=e,n=(0,Te.A)({display:"flex",flexDirection:"column"},(0,ra.NI)({theme:i},(0,ra.kW)({values:t.direction,breakpoints:i.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,XY.LX)(i),o=Object.keys(i.breakpoints.values).reduce(((e,i)=>(("object"===typeof t.spacing&&null!=t.spacing[i]||"object"===typeof t.direction&&null!=t.direction[i])&&(e[i]=!0),e)),{}),r=(0,ra.kW)({values:t.direction,base:o}),s=(0,ra.kW)({values:t.spacing,base:o});"object"===typeof r&&Object.keys(r).forEach(((e,t,i)=>{if(!r[e]){const n=t>0?r[i[t-1]]:"column";r[e]=n}}));const a=(i,n)=>{return t.useFlexGap?{gap:(0,XY._W)(e,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=n?r[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,XY._W)(e,i)}};var o};n=(0,Ve.A)(n,(0,ra.NI)({theme:i},s,a))}return n=(0,ra.iZ)(i.breakpoints,n),n};const iK=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=JY,useThemeProps:i=$Y,componentName:o="MuiStack"}=e,r=t(tK),s=n.forwardRef((function(e,t){const n=i(e),s=(0,Ct.A)(n),{component:a="div",direction:l="column",spacing:c=0,divider:d,children:u,className:h,useFlexGap:p=!1}=s,g=(0,Ee.A)(s,ZY),m={direction:l,spacing:c,useFlexGap:p},f=(0,Ne.A)({root:["root"]},(e=>(0,Fe.Ay)(o,e)),{});return(0,it.jsx)(r,(0,Te.A)({as:a,ownerState:m,ref:t,className:(0,Pe.A)(f.root,h)},g,{children:d?eK(u,d):u}))}));return s}({createStyledComponent:(0,lt.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,ct.b)({props:e,name:"MuiStack"})}),nK=iK;function oK(e){return(0,Fe.Ay)("MuiFormControlLabel",e)}const rK=(0,Rt.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),sK=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],aK=(0,lt.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{["& .".concat(rK.label)]:t.label},t.root,t["labelPlacement".concat((0,at.A)(i.labelPlacement))]]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(rK.disabled)]:{cursor:"default"}},"start"===i.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===i.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===i.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(rK.label)]:{["&.".concat(rK.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),lK=(0,lt.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(rK.error)]:{color:(t.vars||t).palette.error.main}}})),cK=n.forwardRef((function(e,t){var i,o;const r=(0,ct.b)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:d,label:u,labelPlacement:h="end",required:p,slotProps:g={}}=r,m=(0,Ee.A)(r,sK),f=hi(),v=null!=(i=null!=c?c:l.props.disabled)?i:null==f?void 0:f.disabled,y=null!=p?p:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof r[e]&&(b[e]=r[e])}));const C=di({props:r,muiFormControl:f,states:["error"]}),w=(0,Te.A)({},r,{disabled:v,labelPlacement:h,required:y,error:C.error}),x=(e=>{const{classes:t,disabled:i,labelPlacement:n,error:o,required:r}=e,s={root:["root",i&&"disabled","labelPlacement".concat((0,at.A)(n)),o&&"error",r&&"required"],label:["label",i&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,Ne.A)(s,oK,t)})(w),S=null!=(o=g.typography)?o:a.typography;let R=u;return null==R||R.type===ei||d||(R=(0,it.jsx)(ei,(0,Te.A)({component:"span"},S,{className:(0,Pe.A)(x.label,null==S?void 0:S.className),children:R}))),(0,it.jsxs)(aK,(0,Te.A)({className:(0,Pe.A)(x.root,s),ownerState:w,ref:t},m,{children:[n.cloneElement(l,b),y?(0,it.jsxs)(nK,{display:"block",children:[R,(0,it.jsxs)(lK,{ownerState:w,"aria-hidden":!0,className:x.asterisk,children:["\u2009","*"]})]}):R]}))})),dK=cK;function uK(e){return(0,Fe.Ay)("PrivateSwitchBase",e)}(0,Rt.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const hK=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],pK=(0,lt.Ay)(zs)((e=>{let{ownerState:t}=e;return(0,Te.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),gK=(0,lt.Ay)("input",{shouldForwardProp:Di.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),mK=n.forwardRef((function(e,t){const{autoFocus:i,checked:n,checkedIcon:o,className:r,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:d,id:u,inputProps:h,inputRef:p,name:g,onBlur:m,onChange:f,onFocus:v,readOnly:y,required:b=!1,tabIndex:C,type:w,value:x}=e,S=(0,Ee.A)(e,hK),[R,M]=(0,Lr.A)({controlled:n,default:Boolean(s),name:"SwitchBase",state:"checked"}),k=hi();let D=a;k&&"undefined"===typeof D&&(D=k.disabled);const A="checkbox"===w||"radio"===w,E=(0,Te.A)({},e,{checked:R,disabled:D,disableFocusRipple:l,edge:c}),T=(e=>{const{classes:t,checked:i,disabled:n,edge:o}=e,r={root:["root",i&&"checked",n&&"disabled",o&&"edge".concat((0,at.A)(o))],input:["input"]};return(0,Ne.A)(r,uK,t)})(E);return(0,it.jsxs)(pK,(0,Te.A)({component:"span",className:(0,Pe.A)(T.root,r),centerRipple:!0,focusRipple:!l,disabled:D,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),k&&k.onFocus&&k.onFocus(e)},onBlur:e=>{m&&m(e),k&&k.onBlur&&k.onBlur(e)},ownerState:E,ref:t},S,{children:[(0,it.jsx)(gK,(0,Te.A)({autoFocus:i,checked:n,defaultChecked:s,className:T.input,disabled:D,id:A?u:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;M(t),f&&f(e,t)},readOnly:y,ref:p,required:b,ownerState:E,tabIndex:C,type:w},"checkbox"===w&&void 0===x?{}:{value:x},h)),R?o:d]}))})),fK=mK,vK=(0,Et.A)((0,it.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),yK=(0,Et.A)((0,it.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),bK=(0,Et.A)((0,it.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function CK(e){return(0,Fe.Ay)("MuiCheckbox",e)}const wK=(0,Rt.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),xK=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],SK=(0,lt.Ay)(fK,{shouldForwardProp:e=>(0,Di.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.indeterminate&&t.indeterminate,t["size".concat((0,at.A)(i.size))],"default"!==i.color&&t["color".concat((0,at.A)(i.color))]]}})((e=>{let{theme:t,ownerState:i}=e;return(0,Te.A)({color:(t.vars||t).palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===i.color?t.vars.palette.action.activeChannel:t.vars.palette[i.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xo.X4)("default"===i.color?t.palette.action.active:t.palette[i.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==i.color&&{["&.".concat(wK.checked,", &.").concat(wK.indeterminate)]:{color:(t.vars||t).palette[i.color].main},["&.".concat(wK.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),RK=(0,it.jsx)(yK,{}),MK=(0,it.jsx)(vK,{}),kK=(0,it.jsx)(bK,{}),DK=n.forwardRef((function(e,t){var i,o;const r=(0,ct.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=RK,color:a="primary",icon:l=MK,indeterminate:c=!1,indeterminateIcon:d=kK,inputProps:u,size:h="medium",className:p}=r,g=(0,Ee.A)(r,xK),m=c?d:l,f=c?d:s,v=(0,Te.A)({},r,{color:a,indeterminate:c,size:h}),y=(e=>{const{classes:t,indeterminate:i,color:n,size:o}=e,r={root:["root",i&&"indeterminate","color".concat((0,at.A)(n)),"size".concat((0,at.A)(o))]},s=(0,Ne.A)(r,CK,t);return(0,Te.A)({},t,s)})(v);return(0,it.jsx)(SK,(0,Te.A)({type:"checkbox",inputProps:(0,Te.A)({"data-indeterminate":c},u),icon:n.cloneElement(m,{fontSize:null!=(i=m.props.fontSize)?i:h}),checkedIcon:n.cloneElement(f,{fontSize:null!=(o=f.props.fontSize)?o:h}),ownerState:v,ref:t,className:(0,Pe.A)(y.root,p)},g,{classes:y}))})),AK=DK,EK=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Alice Johnson"}],TK=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(EK),[a,l]=(0,n.useState)({});return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student Attendance"}),(0,it.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsxs)(es,{value:e,onChange:e=>{t(e.target.value)},label:"Class",children:[(0,it.jsx)(VU,{value:"Class 1",children:"Class 1"}),(0,it.jsx)(VU,{value:"Class 2",children:"Class 2"}),(0,it.jsx)(VU,{value:"Class 3",children:"Class 3"})]})]}),(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mb-4",children:[(0,it.jsx)(hn,{children:"Section"}),(0,it.jsxs)(es,{value:i,onChange:e=>{o(e.target.value)},label:"Section",children:[(0,it.jsx)(VU,{value:"Section A",children:"Section A"}),(0,it.jsx)(VU,{value:"Section B",children:"Section B"}),(0,it.jsx)(VU,{value:"Section C",children:"Section C"})]})]})]}),(0,it.jsx)(ei,{variant:"h6",gutterBottom:!0,children:"Student List"}),(0,it.jsx)(FY,{variant:"outlined",children:(0,it.jsx)(jY,{children:(0,it.jsx)(jn,{children:r.map((e=>(0,it.jsx)(MW,{className:"mb-2",children:(0,it.jsx)(dK,{control:(0,it.jsx)(AK,{checked:"present"===a[e.id],onChange:()=>{return t=e.id,i="present"===a[e.id]?"absent":"present",void l((e=>({...e,[t]:i})));var t,i},sx:{color:"present"===a[e.id]?"green":"red","&.Mui-checked":{color:"present"===a[e.id]?"green":"red"}}}),label:e.name})},e.id)))})})})]})};function PK(e){return(0,Fe.Ay)("MuiCircularProgress",e)}(0,Rt.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var FK,NK,LK,IK;const OK=["className","color","disableShrink","size","style","thickness","value","variant"];let jK,BK,_K,GK;const zK=44,HK=(0,vs.i7)(jK||(jK=FK||(FK=cs(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),VK=(0,vs.i7)(BK||(BK=NK||(NK=cs(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),WK=(0,lt.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t["color".concat((0,at.A)(i.color))]]}})((e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({display:"inline-block"},"determinate"===t.variant&&{transition:i.transitions.create("transform")},"inherit"!==t.color&&{color:(i.vars||i).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,vs.AH)(_K||(_K=LK||(LK=cs(["\n      animation: "," 1.4s linear infinite;\n    "]))),HK)})),UK=(0,lt.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),YK=(0,lt.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.circle,t["circle".concat((0,at.A)(i.variant))],i.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:i}=e;return(0,Te.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:i.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,vs.AH)(GK||(GK=IK||(IK=cs(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),VK)})),KK=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiCircularProgress"}),{className:n,color:o="primary",disableShrink:r=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:d="indeterminate"}=i,u=(0,Ee.A)(i,OK),h=(0,Te.A)({},i,{color:o,disableShrink:r,size:s,thickness:l,value:c,variant:d}),p=(e=>{const{classes:t,variant:i,color:n,disableShrink:o}=e,r={root:["root",i,"color".concat((0,at.A)(n))],svg:["svg"],circle:["circle","circle".concat((0,at.A)(i)),o&&"circleDisableShrink"]};return(0,Ne.A)(r,PK,t)})(h),g={},m={},f={};if("determinate"===d){const e=2*Math.PI*((zK-l)/2);g.strokeDasharray=e.toFixed(3),f["aria-valuenow"]=Math.round(c),g.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),m.transform="rotate(-90deg)"}return(0,it.jsx)(WK,(0,Te.A)({className:(0,Pe.A)(p.root,n),style:(0,Te.A)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},f,u,{children:(0,it.jsx)(UK,{className:p.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(zK," ").concat(zK),children:(0,it.jsx)(YK,{className:p.circle,style:g,ownerState:h,cx:zK,cy:zK,r:(zK-l)/2,fill:"none",strokeWidth:l})})}))})),qK=KK,XK=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null);(0,n.useEffect)((()=>{m()}),[]),(0,n.useEffect)((()=>{a&&c&&v()}),[a,c]);const m=async()=>{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);console.log(t["Employee ID"]),f(t.enrollment_or_employee_id)}},f=async e=>{try{const t=await fetch("".concat(Ga,"/teacher_class_section_details"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:e})}),i=await t.json();console.log(i),o(i.class||[]),s(i.section||[]),h(!1)}catch(p){g("Failed to fetch class and section data"),h(!1)}},v=async()=>{h(!0);try{const e=await fetch("".concat(Ga,"/student_fetch_classwise"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:a,section:c})}),i=await e.json();t(i||[]),h(!1)}catch(p){g("Failed to fetch students data"),h(!1)}};return(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsx)(ei,{variant:"h4",gutterBottom:!0,children:"Student List"}),(0,it.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:a,onChange:e=>{l(e.target.value),d("")},label:"Class",children:i.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,variant:"outlined",className:"mb-4",disabled:!a,children:[(0,it.jsx)(hn,{children:"Section"}),(0,it.jsx)(es,{value:c,onChange:e=>{d(e.target.value)},label:"Section",children:r.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]})]}),u&&(0,it.jsx)(qK,{}),p&&(0,it.jsx)(ei,{color:"error",children:p}),!u&&!p&&e.length>0&&(0,it.jsx)(jn,{children:e.map((e=>(0,it.jsx)(MW,{className:"mb-2",children:(0,it.jsx)(FY,{variant:"outlined",className:"w-full",children:(0,it.jsxs)(jY,{children:[(0,it.jsxs)(ei,{variant:"h6",children:["ID: ",e.student_id]}),(0,it.jsxs)(ei,{variant:"body1",children:["Name: ",e.student_name]}),(0,it.jsxs)(ei,{variant:"body1",children:["Phone: ",e.phone]})]})})},e.id)))}),!u&&!p&&0===e.length&&a&&c&&(0,it.jsx)(ei,{variant:"body1",children:"No students found for the selected class and section."})]})},ZK=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],QK=["1st Period","2nd Period","3rd Period","Lunch","4th Period","5th Period"],JK={Monday:["Mathematics","Physics","Chemistry","Lunch","Biology","English"],Tuesday:["English","Chemistry","Physics","Lunch","Mathematics","Biology"],Wednesday:["Biology","English","Physics","Lunch","Mathematics","Chemistry"],Thursday:["Chemistry","Mathematics","English","Lunch","Physics","Biology"],Friday:["Physics","Biology","Mathematics","Lunch","Chemistry","English"],Saturday:["English","Mathematics","Biology","Lunch","Physics","Chemistry"]},$K=()=>{const[e,t]=(0,n.useState)(QK.map(((e,t)=>{const i={period:e};return ZK.forEach((e=>{i[e]=JK[e][t]})),i})));return(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"100%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:[{headerName:"Period",field:"period",sortable:!0,filter:!0,resizable:!0},{headerName:"Monday",field:"Monday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Tuesday",field:"Tuesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Wednesday",field:"Wednesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Thursday",field:"Thursday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Friday",field:"Friday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Saturday",field:"Saturday",editable:!0,sortable:!0,filter:!0,resizable:!0}],defaultColDef:{flex:1,minWidth:100,resizable:!0},onCellValueChanged:i=>{const n=[...e];n[i.node.rowIndex]=i.data,t(n)}})})};const eq=function(){const[e,t]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,it.jsx)(SY,{isOpen:e,toggleSidebar:()=>{t(!e)}}),(0,it.jsx)("div",{className:"flex-1 flex flex-col",children:(0,it.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:[(0,it.jsx)(Wa,{}),(0,it.jsxs)(ve,{children:[(0,it.jsx)(me,{path:"/Teacher-Dashboard",element:(0,it.jsx)(RY,{})}),(0,it.jsx)(me,{path:"/Teacher-Attendence",element:(0,it.jsx)(kY,{})}),(0,it.jsx)(me,{path:"/Teacher-Enquiry",element:(0,it.jsx)(DY,{})}),(0,it.jsx)(me,{path:"/Teacher-Certificate",element:(0,it.jsx)(_Y,{})}),(0,it.jsx)(me,{path:"/Teacher-Examination",element:(0,it.jsx)(RU,{})}),(0,it.jsx)(me,{path:"/Teacher-Homework",element:(0,it.jsx)(zY,{})}),(0,it.jsx)(me,{path:"/Teacher-Result",element:(0,it.jsx)(YY,{})}),(0,it.jsx)(me,{path:"/Teacher-Setpaper",element:(0,it.jsx)(qY,{})}),(0,it.jsx)(me,{path:"/Teacher-StuAttendence",element:(0,it.jsx)(TK,{})}),(0,it.jsx)(me,{path:"/Teacher-Student",element:(0,it.jsx)(XK,{})}),(0,it.jsx)(me,{path:"/Events",element:(0,it.jsx)(OU,{})}),(0,it.jsx)(me,{path:"/Leaves",element:(0,it.jsx)(YU,{})}),(0,it.jsx)(me,{path:"/Buses",element:(0,it.jsx)(KU,{})}),(0,it.jsx)(me,{path:"/Hostel",element:(0,it.jsx)(qU,{})}),(0,it.jsx)(me,{path:"/Holiday",element:(0,it.jsx)(UU,{})}),(0,it.jsx)(me,{path:"/Library",element:(0,it.jsx)(fY,{})}),(0,it.jsx)(me,{path:"/TimeTable",element:(0,it.jsx)($K,{})})]})]})})]})},tq=(0,Et.A)((0,it.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),iq=e=>{let{icon:t,title:i,isOpen:n}=e;return(0,it.jsxs)("div",{className:"flex items-center text-white mb-4",children:[t,n&&(0,it.jsx)("span",{className:"ml-4",children:i})]})},nq=()=>{const[e,t]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"flex ".concat(e?"w-64":"w-16"," bg-primary h-screen p-4 flex-col"),children:[(0,it.jsx)(Ks,{onClick:()=>{t(!e)},className:"text-white mb-4 absolute top-0 right-0 z-50",children:e?(0,it.jsx)(Ua,{}):(0,it.jsx)(Ya,{})}),(0,it.jsxs)("div",{className:"flex flex-col flex-grow mt-12",children:[(0,it.jsxs)(ke,{to:"/Admin/Admin-Dashboard",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ka,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Dashboard"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Attendance",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Attendance"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Teacher",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Xa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Teacher"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Student",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(tq,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Student"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Enquiry",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Za,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Enquiry"})]}),(0,it.jsx)(iq,{icon:(0,it.jsx)(Qa,{}),title:"Fees",isOpen:e}),(0,it.jsx)(iq,{icon:(0,it.jsx)(Ja,{}),title:"Dues",isOpen:e}),(0,it.jsx)(iq,{icon:(0,it.jsx)($a,{}),title:"Refund",isOpen:e}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Certificate",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(el,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Certificate"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Examination",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(tl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Examination"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Homework",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(il,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Homework"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Setpaper",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(tl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Set Paper"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Result",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(qa,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Result"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Timetable",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(nl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Time-Table"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Event",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ol,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Event"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Holiday",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(rl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Holiday"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Leave",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(Ja,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"leave"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Bus",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(sl,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Bus"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Hostel",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(al,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Hostel"})]}),(0,it.jsxs)(ke,{to:"/Admin/Admin-Library",className:"flex items-center text-white mb-4",children:[(0,it.jsx)(ll,{}),e&&(0,it.jsx)("span",{className:"ml-4",children:"Libray"})]})]})]})},oq=e=>{let{title:t,value:i}=e;return(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md w-full",children:[(0,it.jsx)("p",{className:"text-gray-700",children:t}),(0,it.jsx)("p",{className:"text-2xl font-bold",children:i})]})},rq=()=>(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md my-4",children:[(0,it.jsx)("p",{className:"text-gray-700",children:"Holidays"}),(0,it.jsx)("p",{className:"text-lg",children:"Thu, 26 May - 28 June, 2023"}),(0,it.jsx)("p",{className:"text-gray-500",children:"Summer Holiday"})]}),sq=()=>(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md my-4",children:[(0,it.jsx)("p",{className:"text-gray-700",children:"Events"}),(0,it.jsxs)("div",{className:"flex mt-2",children:[(0,it.jsx)("img",{src:"event-image-uri",alt:"Event",className:"w-20 h-20 rounded-md"}),(0,it.jsxs)("div",{className:"ml-4",children:[(0,it.jsx)("p",{className:"font-bold",children:"School Farewell Party"}),(0,it.jsx)("p",{className:"text-gray-500",children:"12th Passed Out Students"}),(0,it.jsx)("p",{className:"text-gray-500",children:"Organizer: Abdul Rahman"})]})]})]}),aq=()=>(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md my-4",children:[(0,it.jsx)("p",{className:"text-gray-700",children:"Announcements"}),(0,it.jsxs)("div",{className:"mt-2",children:[(0,it.jsx)("p",{className:"text-gray-500",children:"Parents Meeting for term end Examination"}),(0,it.jsx)("p",{className:"text-gray-500",children:"Today"})]}),(0,it.jsxs)("div",{className:"mt-2",children:[(0,it.jsx)("p",{className:"text-gray-500",children:"Teachers Parents Monthly Meeting"}),(0,it.jsx)("p",{className:"text-gray-500",children:"3 Days Ago"})]})]});var lq=i(6922);function cq(e){return"string"===typeof e}function dq(e,t,i){return i.indexOf(e)===t}function uq(e){return-1===e.indexOf(",")?e:e.split(",")}function hq(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return hq(void 0===t?"":t)}if(-1!==e.indexOf("@")){var i=e.split("@")[0];return hq(void 0===i?"":i)}if(-1===e.indexOf("-")||(n=e).toLowerCase()!==n)return e;var n,o=e.split("-"),r=o[0],s=o[1],a=void 0===s?"":s;return"".concat(r,"-").concat(a.toUpperCase())}var pq=lq((function(e){var t=void 0===e?{}:e,i=t.useFallbackLocale,n=void 0===i||i,o=t.fallbackLocale,r=void 0===o?"en-US":o,s=[];if("undefined"!==typeof navigator){for(var a=[],l=0,c=navigator.languages||[];l<c.length;l++){var d=c[l];a=a.concat(uq(d))}var u=navigator.language,h=u?uq(u):u;s=s.concat(a,h)}return n&&s.push(r),s.filter(cq).map(hq).filter(dq)}),{cacheKey:JSON.stringify});var gq=lq((function(e){return pq(e)[0]||null}),{cacheKey:JSON.stringify});const mq=gq;function fq(e,t,i){return function(n,o){void 0===o&&(o=i);var r=e(n)+o;return t(r)}}function vq(e){return function(t){return new Date(e(t).getTime()-1)}}function yq(e,t){return function(i){return[e(i),t(i)]}}function bq(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Cq(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function wq(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function xq(e){var t=bq(e),i=t+(1-t)%100,n=new Date;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}var Sq=fq(bq,xq,-100),Rq=fq(bq,xq,100),Mq=vq(Rq),kq=fq(bq,Mq,-100),Dq=(fq(bq,Mq,100),yq(xq,Mq));function Aq(e){var t=bq(e),i=t+(1-t)%10,n=new Date;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}var Eq=fq(bq,Aq,-10),Tq=fq(bq,Aq,10),Pq=vq(Tq),Fq=fq(bq,Pq,-10),Nq=(fq(bq,Pq,10),yq(Aq,Pq));function Lq(e){var t=bq(e),i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}var Iq=fq(bq,Lq,-1),Oq=fq(bq,Lq,1),jq=vq(Oq),Bq=fq(bq,jq,-1),_q=(fq(bq,jq,1),yq(Lq,jq));function Gq(e,t){return function(i,n){void 0===n&&(n=t);var o=bq(i),r=Cq(i)+n,s=new Date;return s.setFullYear(o,r,1),s.setHours(0,0,0,0),e(s)}}function zq(e){var t=bq(e),i=Cq(e),n=new Date;return n.setFullYear(t,i,1),n.setHours(0,0,0,0),n}var Hq=Gq(zq,-1),Vq=Gq(zq,1),Wq=vq(Vq),Uq=Gq(Wq,-1),Yq=(Gq(Wq,1),yq(zq,Wq));function Kq(e,t){return function(i,n){void 0===n&&(n=t);var o=bq(i),r=Cq(i),s=wq(i)+n,a=new Date;return a.setFullYear(o,r,s),a.setHours(0,0,0,0),e(a)}}function qq(e){var t=bq(e),i=Cq(e),n=wq(e),o=new Date;return o.setFullYear(t,i,n),o.setHours(0,0,0,0),o}Kq(qq,-1);var Xq,Zq=vq(Kq(qq,1)),Qq=(Kq(Zq,-1),Kq(Zq,1),yq(qq,Zq));function Jq(e){return wq(Wq(e))}var $q={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},eX=((Xq={})[$q.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Xq[$q.HEBREW]=["he","he-IL"],Xq[$q.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Xq),tX=[0,1,2,3,4,5,6],iX=new Map;function nX(e){return function(t,i){return function(e){return function(t,i){var n=t||mq();iX.has(n)||iX.set(n,new Map);var o=iX.get(n);return o.has(e)||o.set(e,new Intl.DateTimeFormat(n||void 0,e).format),o.get(e)(i)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(i))}}nX({day:"numeric",month:"numeric",year:"numeric"});var oX=nX({day:"numeric"}),rX=nX({day:"numeric",month:"long",year:"numeric"}),sX=nX({month:"long"}),aX=nX({month:"long",year:"numeric"}),lX=nX({weekday:"short"}),cX=nX({weekday:"long"}),dX=nX({year:"numeric"}),uX=tX[0],hX=tX[5],pX=tX[6];function gX(e,t){void 0===t&&(t=$q.ISO_8601);var i=e.getDay();switch(t){case $q.ISO_8601:return(i+6)%7;case $q.ISLAMIC:return(i+1)%7;case $q.HEBREW:case $q.GREGORY:return i;default:throw new Error("Unsupported calendar type.")}}function mX(e,t){void 0===t&&(t=$q.ISO_8601);var i=bq(e),n=Cq(e),o=e.getDate()-gX(e,t);return new Date(i,n,o)}function fX(e,t){switch(e){case"century":return xq(t);case"decade":return Aq(t);case"year":return Lq(t);case"month":return zq(t);case"day":return qq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function vX(e,t){switch(e){case"century":return Rq(t);case"decade":return Tq(t);case"year":return Oq(t);case"month":return Vq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function yX(e,t){switch(e){case"century":return Mq(t);case"decade":return Pq(t);case"year":return jq(t);case"month":return Wq(t);case"day":return Zq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function bX(e,t){switch(e){case"century":return Dq(t);case"decade":return Nq(t);case"year":return _q(t);case"month":return Yq(t);case"day":return Qq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function CX(e,t,i){return void 0===t&&(t=dX),i.map((function(i){return t(e,i)})).join(" \u2013 ")}function wX(e,t,i){return CX(e,t,Nq(i))}function xX(e){return e.getDay()===(new Date).getDay()}function SX(e,t){void 0===t&&(t=$q.ISO_8601);var i=e.getDay();switch(t){case $q.ISLAMIC:case $q.HEBREW:return i===hX||i===pX;case $q.ISO_8601:case $q.GREGORY:return i===pX||i===uX;default:throw new Error("Unsupported calendar type.")}}var RX="react-calendar__navigation";function MX(e){var t=e.activeStartDate,i=e.drillUp,n=e.formatMonthYear,o=void 0===n?aX:n,r=e.formatYear,s=void 0===r?dX:r,a=e.locale,l=e.maxDate,c=e.minDate,d=e.navigationAriaLabel,u=void 0===d?"":d,h=e.navigationAriaLive,p=e.navigationLabel,g=e.next2AriaLabel,m=void 0===g?"":g,f=e.next2Label,v=void 0===f?"\xbb":f,y=e.nextAriaLabel,b=void 0===y?"":y,C=e.nextLabel,w=void 0===C?"\u203a":C,x=e.prev2AriaLabel,S=void 0===x?"":x,R=e.prev2Label,M=void 0===R?"\xab":R,k=e.prevAriaLabel,D=void 0===k?"":k,A=e.prevLabel,E=void 0===A?"\u2039":A,T=e.setActiveStartDate,P=e.showDoubleView,F=e.view,N=e.views.indexOf(F)>0,L="century"!==F,I=function(e,t){switch(e){case"century":return Sq(t);case"decade":return Eq(t);case"year":return Iq(t);case"month":return Hq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(F,t),O=L?function(e,t){switch(e){case"decade":return Eq(t,-100);case"year":return Iq(t,-10);case"month":return Hq(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(F,t):void 0,j=vX(F,t),B=L?function(e,t){switch(e){case"decade":return Tq(t,100);case"year":return Oq(t,10);case"month":return Vq(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(F,t):void 0,_=function(){if(I.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return kq(t);case"decade":return Fq(t);case"year":return Bq(t);case"month":return Uq(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(F,t);return c&&c>=e}(),G=L&&function(){if(O.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Fq(t,-100);case"year":return Bq(t,-10);case"month":return Uq(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(F,t);return c&&c>=e}(),z=l&&l<j,H=L&&l&&l<B;function V(e){var t=function(){switch(F){case"century":return function(e,t,i){return CX(e,t,Dq(i))}(a,s,e);case"decade":return wX(a,s,e);case"year":return s(a,e);case"month":return o(a,e);default:throw new Error("Invalid view: ".concat(F,"."))}}();return p?p({date:e,label:t,locale:a||gq()||void 0,view:F}):t}return(0,it.jsxs)("div",{className:RX,children:[null!==M&&L?(0,it.jsx)("button",{"aria-label":S,className:"".concat(RX,"__arrow ").concat(RX,"__prev2-button"),disabled:G,onClick:function(){T(O,"prev2")},type:"button",children:M}):null,null!==E&&(0,it.jsx)("button",{"aria-label":D,className:"".concat(RX,"__arrow ").concat(RX,"__prev-button"),disabled:_,onClick:function(){T(I,"prev")},type:"button",children:E}),function(){var e="".concat(RX,"__label");return(0,it.jsxs)("button",{"aria-label":u,"aria-live":h,className:e,disabled:!N,onClick:i,style:{flexGrow:1},type:"button",children:[(0,it.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:V(t)}),P?(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,it.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:V(j)})]}):null]})}(),null!==w&&(0,it.jsx)("button",{"aria-label":b,className:"".concat(RX,"__arrow ").concat(RX,"__next-button"),disabled:z,onClick:function(){T(j,"next")},type:"button",children:w}),null!==v&&L?(0,it.jsx)("button",{"aria-label":m,className:"".concat(RX,"__arrow ").concat(RX,"__next2-button"),disabled:H,onClick:function(){T(B,"next2")},type:"button",children:v}):null]})}var kX=function(){return kX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kX.apply(this,arguments)},DX=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function AX(e){return"".concat(e,"%")}function EX(e){var t=e.children,i=e.className,o=e.count,r=e.direction,s=e.offset,a=e.style,l=e.wrap,c=DX(e,["children","className","count","direction","offset","style","wrap"]);return(0,it.jsx)("div",kX({className:i,style:kX({display:"flex",flexDirection:r,flexWrap:l?"wrap":"nowrap"},a)},c,{children:n.Children.map(t,(function(e,t){var i=s&&0===t?AX(100*s/o):null;return(0,n.cloneElement)(e,kX(kX({},e.props),{style:{flexBasis:AX(100/o),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:i,marginInlineStart:i,marginInlineEnd:0}}))}))}))}function TX(e,t){return t[0]<=e&&t[1]>=e}function PX(e,t){return TX(e[0],t)||TX(e[1],t)}function FX(e,t,i){var n=[];if(PX(t,e)){n.push(i);var o=TX(e[0],t),r=TX(e[1],t);o&&n.push("".concat(i,"Start")),r&&n.push("".concat(i,"End")),o&&r&&n.push("".concat(i,"BothEnds"))}return n}function NX(e){if(!e)throw new Error("args is required");var t=e.value,i=e.date,n=e.hover,o="react-calendar__tile",r=[o];if(!i)return r;var s=new Date,a=function(){if(Array.isArray(i))return i;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return bX(t,i)}();if(TX(s,a)&&r.push("".concat(o,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return r;var l,c,d=function(){if(Array.isArray(t))return t;var i=e.valueType;if(!i)throw new Error("valueType is required when value is not an array of two dates");return bX(i,t)}();c=a,(l=d)[0]<=c[0]&&l[1]>=c[1]?r.push("".concat(o,"--active")):PX(d,a)&&r.push("".concat(o,"--hasActive"));var u=FX(d,a,"".concat(o,"--range"));r.push.apply(r,u);var h=Array.isArray(t)?t:[t];if(n&&1===h.length){var p=FX(n>d[0]?[d[0],n]:[n,d[0]],a,"".concat(o,"--hover"));r.push.apply(r,p)}return r}function LX(e){for(var t=e.className,i=e.count,n=void 0===i?3:i,o=e.dateTransform,r=e.dateType,s=e.end,a=e.hover,l=e.offset,c=e.renderTile,d=e.start,u=e.step,h=void 0===u?1:u,p=e.value,g=e.valueType,m=[],f=d;f<=s;f+=h){var v=o(f);m.push(c({classes:NX({date:v,dateType:r,hover:a,value:p,valueType:g}),date:v}))}return(0,it.jsx)(EX,{className:t,count:n,offset:l,wrap:!0,children:m})}function IX(e){var t=e.activeStartDate,i=e.children,o=e.classes,r=e.date,s=e.formatAbbr,a=e.locale,l=e.maxDate,c=e.maxDateTransform,d=e.minDate,u=e.minDateTransform,h=e.onClick,p=e.onMouseOver,g=e.style,m=e.tileClassName,f=e.tileContent,v=e.tileDisabled,y=e.view,b=(0,n.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:r,view:y}):m}),[t,r,m,y]),C=(0,n.useMemo)((function(){return"function"===typeof f?f({activeStartDate:t,date:r,view:y}):f}),[t,r,f,y]);return(0,it.jsxs)("button",{className:(0,Pe.A)(o,b),disabled:d&&u(d)>r||l&&c(l)<r||v&&v({activeStartDate:t,date:r,view:y}),onClick:h?function(e){return h(r,e)}:void 0,onFocus:p?function(){return p(r)}:void 0,onMouseOver:p?function(){return p(r)}:void 0,style:g,type:"button",children:[s?(0,it.jsx)("abbr",{"aria-label":s(a,r),children:i}):i,C]})}var OX=function(){return OX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},OX.apply(this,arguments)},jX=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},BX="react-calendar__century-view__decades__decade";function _X(e){var t=e.classes,i=void 0===t?[]:t,n=e.currentCentury,o=e.formatYear,r=void 0===o?dX:o,s=jX(e,["classes","currentCentury","formatYear"]),a=s.date,l=s.locale,c=[];return i&&c.push.apply(c,i),BX&&c.push(BX),xq(a).getFullYear()!==n&&c.push("".concat(BX,"--neighboringCentury")),(0,it.jsx)(IX,OX({},s,{classes:c,maxDateTransform:Pq,minDateTransform:Aq,view:"century",children:wX(l,r,a)}))}var GX=function(){return GX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},GX.apply(this,arguments)},zX=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function HX(e){var t=e.activeStartDate,i=e.hover,n=e.showNeighboringCentury,o=e.value,r=e.valueType,s=zX(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=function(e){return bq(xq(e))}(t),l=a+(n?119:99);return(0,it.jsx)(LX,{className:"react-calendar__century-view__decades",dateTransform:Aq,dateType:"decade",end:l,hover:i,renderTile:function(e){var i=e.date,n=zX(e,["date"]);return(0,it.jsx)(_X,GX({},s,n,{activeStartDate:t,currentCentury:a,date:i}),i.getTime())},start:a,step:10,value:o,valueType:r})}var VX=function(){return VX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},VX.apply(this,arguments)};function WX(e){return(0,it.jsx)("div",{className:"react-calendar__century-view",children:(0,it.jsx)(HX,VX({},e))})}var UX=function(){return UX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},UX.apply(this,arguments)},YX=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},KX="react-calendar__decade-view__years__year";function qX(e){var t=e.classes,i=void 0===t?[]:t,n=e.currentDecade,o=e.formatYear,r=void 0===o?dX:o,s=YX(e,["classes","currentDecade","formatYear"]),a=s.date,l=s.locale,c=[];return i&&c.push.apply(c,i),KX&&c.push(KX),Aq(a).getFullYear()!==n&&c.push("".concat(KX,"--neighboringDecade")),(0,it.jsx)(IX,UX({},s,{classes:c,maxDateTransform:jq,minDateTransform:Lq,view:"decade",children:r(l,a)}))}var XX=function(){return XX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},XX.apply(this,arguments)},ZX=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function QX(e){var t=e.activeStartDate,i=e.hover,n=e.showNeighboringDecade,o=e.value,r=e.valueType,s=ZX(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=function(e){return bq(Aq(e))}(t),l=a+(n?11:9);return(0,it.jsx)(LX,{className:"react-calendar__decade-view__years",dateTransform:Lq,dateType:"year",end:l,hover:i,renderTile:function(e){var i=e.date,n=ZX(e,["date"]);return(0,it.jsx)(qX,XX({},s,n,{activeStartDate:t,currentDecade:a,date:i}),i.getTime())},start:a,value:o,valueType:r})}var JX=function(){return JX=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},JX.apply(this,arguments)};function $X(e){return(0,it.jsx)("div",{className:"react-calendar__decade-view",children:(0,it.jsx)(QX,JX({},e))})}var eZ=function(){return eZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eZ.apply(this,arguments)},tZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},iZ=function(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},nZ="react-calendar__year-view__months__month";function oZ(e){var t=e.classes,i=void 0===t?[]:t,n=e.formatMonth,o=void 0===n?sX:n,r=e.formatMonthYear,s=void 0===r?aX:r,a=tZ(e,["classes","formatMonth","formatMonthYear"]),l=a.date,c=a.locale;return(0,it.jsx)(IX,eZ({},a,{classes:iZ(iZ([],i,!0),[nZ],!1),formatAbbr:s,maxDateTransform:Wq,minDateTransform:zq,view:"year",children:o(c,l)}))}var rZ=function(){return rZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rZ.apply(this,arguments)},sZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function aZ(e){var t=e.activeStartDate,i=e.hover,n=e.value,o=e.valueType,r=sZ(e,["activeStartDate","hover","value","valueType"]),s=bq(t);return(0,it.jsx)(LX,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(s,e,1),zq(t)},dateType:"month",end:11,hover:i,renderTile:function(e){var i=e.date,n=sZ(e,["date"]);return(0,it.jsx)(oZ,rZ({},r,n,{activeStartDate:t,date:i}),i.getTime())},start:0,value:n,valueType:o})}var lZ=function(){return lZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lZ.apply(this,arguments)};function cZ(e){return(0,it.jsx)("div",{className:"react-calendar__year-view",children:(0,it.jsx)(aZ,lZ({},e))})}var dZ=function(){return dZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dZ.apply(this,arguments)},uZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},hZ="react-calendar__month-view__days__day";function pZ(e){var t=e.calendarType,i=e.classes,n=void 0===i?[]:i,o=e.currentMonthIndex,r=e.formatDay,s=void 0===r?oX:r,a=e.formatLongDate,l=void 0===a?rX:a,c=uZ(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,u=c.locale,h=[];return n&&h.push.apply(h,n),hZ&&h.push(hZ),SX(d,t)&&h.push("".concat(hZ,"--weekend")),d.getMonth()!==o&&h.push("".concat(hZ,"--neighboringMonth")),(0,it.jsx)(IX,dZ({},c,{classes:h,formatAbbr:l,maxDateTransform:Zq,minDateTransform:qq,view:"month",children:s(u,d)}))}var gZ=function(){return gZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gZ.apply(this,arguments)},mZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function fZ(e){var t=e.activeStartDate,i=e.calendarType,n=e.hover,o=e.showFixedNumberOfWeeks,r=e.showNeighboringMonth,s=e.value,a=e.valueType,l=mZ(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=bq(t),d=Cq(t),u=o||r,h=gX(t,i),p=u?0:h,g=1+(u?-h:0),m=function(){if(o)return g+42-1;var e=Jq(t);if(r){var n=new Date;return n.setFullYear(c,d,e),n.setHours(0,0,0,0),e+(7-gX(n,i)-1)}return e}();return(0,it.jsx)(LX,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),qq(t)},dateType:"day",hover:n,end:m,renderTile:function(e){var n=e.date,o=mZ(e,["date"]);return(0,it.jsx)(pZ,gZ({},l,o,{activeStartDate:t,calendarType:i,currentMonthIndex:d,date:n}),n.getTime())},offset:p,start:g,value:s,valueType:a})}var vZ="react-calendar__month-view__weekdays",yZ="".concat(vZ,"__weekday");function bZ(e){for(var t=e.calendarType,i=e.formatShortWeekday,n=void 0===i?lX:i,o=e.formatWeekday,r=void 0===o?cX:o,s=e.locale,a=e.onMouseLeave,l=zq(new Date),c=bq(l),d=Cq(l),u=[],h=1;h<=7;h+=1){var p=new Date(c,d,h-gX(l,t)),g=r(s,p);u.push((0,it.jsx)("div",{className:(0,Pe.A)(yZ,xX(p)&&"".concat(yZ,"--current"),SX(p,t)&&"".concat(yZ,"--weekend")),children:(0,it.jsx)("abbr",{"aria-label":g,title:g,children:n(s,p).replace(".","")})},h))}return(0,it.jsx)(EX,{className:vZ,count:7,onFocus:a,onMouseOver:a,children:u})}var CZ=function(){return CZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CZ.apply(this,arguments)},wZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},xZ="react-calendar__tile";function SZ(e){var t=e.onClickWeekNumber,i=e.weekNumber,n=(0,it.jsx)("span",{children:i});if(t){var o=e.date,r=e.onClickWeekNumber,s=e.weekNumber,a=wZ(e,["date","onClickWeekNumber","weekNumber"]);return(0,it.jsx)("button",CZ({},a,{className:xZ,onClick:function(e){return r(s,o,e)},type:"button",children:n}))}e.date,e.onClickWeekNumber,e.weekNumber,a=wZ(e,["date","onClickWeekNumber","weekNumber"]);return(0,it.jsx)("div",CZ({},a,{className:xZ,children:n}))}function RZ(e){var t=e.activeStartDate,i=e.calendarType,n=e.onClickWeekNumber,o=e.onMouseLeave,r=e.showFixedNumberOfWeeks,s=function(){if(r)return 6;var e=Jq(t)-(7-gX(t,i));return 1+Math.ceil(e/7)}(),a=function(){for(var e=bq(t),n=Cq(t),o=wq(t),r=[],a=0;a<s;a+=1)r.push(mX(new Date(e,n,o+7*a),i));return r}(),l=a.map((function(e){return function(e,t){void 0===t&&(t=$q.ISO_8601);var i,n=t===$q.GREGORY?$q.GREGORY:$q.ISO_8601,o=mX(e,t),r=bq(e)+1;do{i=mX(new Date(r,0,n===$q.ISO_8601?4:1),t),r-=1}while(e<i);return Math.round((o.getTime()-i.getTime())/6048e5)+1}(e,i)}));return(0,it.jsx)(EX,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(e,t){var i=a[t];if(!i)throw new Error("date is not defined");return(0,it.jsx)(SZ,{date:i,onClickWeekNumber:n,weekNumber:e},e)}))})}var MZ=function(){return MZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},MZ.apply(this,arguments)},kZ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function DZ(e){var t=e.activeStartDate,i=e.locale,n=e.onMouseLeave,o=e.showFixedNumberOfWeeks,r=e.calendarType,s=void 0===r?function(e){if(e)for(var t=0,i=Object.entries(eX);t<i.length;t++){var n=i[t],o=n[0];if(n[1].includes(e))return o}return $q.ISO_8601}(i):r,a=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,u=kZ(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var h="react-calendar__month-view";return(0,it.jsx)("div",{className:(0,Pe.A)(h,d?"".concat(h,"--weekNumbers"):""),children:(0,it.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?(0,it.jsx)(RZ,{activeStartDate:t,calendarType:s,onClickWeekNumber:c,onMouseLeave:n,showFixedNumberOfWeeks:o}):null,(0,it.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,it.jsx)(bZ,{calendarType:s,formatShortWeekday:a,formatWeekday:l,locale:i,onMouseLeave:n}),(0,it.jsx)(fZ,MZ({calendarType:s},u))]})]})})}var AZ=function(){return AZ=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},AZ.apply(this,arguments)},EZ="react-calendar",TZ=["century","decade","year","month"],PZ=["decade","year","month","day"],FZ=new Date;FZ.setFullYear(1,0,1),FZ.setHours(0,0,0,0);var NZ=new Date(864e13);function LZ(e){return e instanceof Date?e:new Date(e)}function IZ(e,t){return TZ.slice(TZ.indexOf(e),TZ.indexOf(t)+1)}function OZ(e,t,i){return e&&function(e,t,i){return-1!==IZ(t,i).indexOf(e)}(e,t,i)?e:i}function jZ(e){var t=TZ.indexOf(e);return PZ[t]}function BZ(e,t){var i=e.value,n=e.minDate,o=e.maxDate,r=e.maxDetail,s=function(e,t){var i=Array.isArray(e)?e[t]:e;if(!i)return null;var n=LZ(i);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(e));return n}(i,t);if(!s)return null;var a=jZ(r);return function(e,t,i){return t&&t>e?t:i&&i<e?i:e}(function(){switch(t){case 0:return fX(a,s);case 1:return yX(a,s);default:throw new Error("Invalid index value: ".concat(t))}}(),n,o)}var _Z=function(e){return BZ(e,0)},GZ=function(e){return BZ(e,1)},zZ=function(e){return[_Z,GZ].map((function(t){return t(e)}))};function HZ(e){var t=e.maxDate,i=e.maxDetail,n=e.minDate,o=e.minDetail,r=e.value;return fX(OZ(e.view,o,i),_Z({value:r,minDate:n,maxDate:t,maxDetail:i})||new Date)}function VZ(e){return e&&(!Array.isArray(e)||1===e.length)}function WZ(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var UZ=(0,n.forwardRef)((function(e,t){var i=e.activeStartDate,o=e.allowPartialRange,r=e.calendarType,s=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,d=e.formatDay,u=e.formatLongDate,h=e.formatMonth,p=e.formatMonthYear,g=e.formatShortWeekday,m=e.formatWeekday,f=e.formatYear,v=e.goToRangeStartOnSelect,y=void 0===v||v,b=e.inputRef,C=e.locale,w=e.maxDate,x=void 0===w?NZ:w,S=e.maxDetail,R=void 0===S?"month":S,M=e.minDate,k=void 0===M?FZ:M,D=e.minDetail,A=void 0===D?"century":D,E=e.navigationAriaLabel,T=e.navigationAriaLive,P=e.navigationLabel,F=e.next2AriaLabel,N=e.next2Label,L=e.nextAriaLabel,I=e.nextLabel,O=e.onActiveStartDateChange,j=e.onChange,B=e.onClickDay,_=e.onClickDecade,G=e.onClickMonth,z=e.onClickWeekNumber,H=e.onClickYear,V=e.onDrillDown,W=e.onDrillUp,U=e.onViewChange,Y=e.prev2AriaLabel,K=e.prev2Label,q=e.prevAriaLabel,X=e.prevLabel,Z=e.returnValue,Q=void 0===Z?"start":Z,J=e.selectRange,$=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ie=void 0===te||te,ne=e.showNeighboringCentury,oe=e.showNeighboringDecade,re=e.showNeighboringMonth,se=void 0===re||re,ae=e.showWeekNumbers,le=e.tileClassName,ce=e.tileContent,de=e.tileDisabled,ue=e.value,he=e.view,pe=(0,n.useState)(a),ge=pe[0],me=pe[1],fe=(0,n.useState)(null),ve=fe[0],ye=fe[1],be=(0,n.useState)(Array.isArray(l)?l.map((function(e){return null!==e?LZ(e):null})):null!==l&&void 0!==l?LZ(l):null),Ce=be[0],we=be[1],xe=(0,n.useState)(c),Se=xe[0],Re=xe[1],Me=i||ge||function(e){var t=e.activeStartDate,i=e.defaultActiveStartDate,n=e.defaultValue,o=e.defaultView,r=e.maxDate,s=e.maxDetail,a=e.minDate,l=e.minDetail,c=e.value,d=e.view,u=OZ(d,l,s),h=t||i;return h?fX(u,h):HZ({maxDate:r,maxDetail:s,minDate:a,minDetail:l,value:c||n,view:d||o})}({activeStartDate:i,defaultActiveStartDate:a,defaultValue:l,defaultView:c,maxDate:x,maxDetail:R,minDate:k,minDetail:A,value:ue,view:he}),ke=function(){var e=J&&VZ(Ce)?Ce:void 0!==ue?ue:Ce;return e?Array.isArray(e)?e.map((function(e){return null!==e?LZ(e):null})):null!==e?LZ(e):null:null}(),De=jZ(R),Ae=OZ(he||Se,A,R),Ee=IZ(A,R),Te=J?ve:null,Fe=Ee.indexOf(Ae)<Ee.length-1,Ne=Ee.indexOf(Ae)>0,Le=(0,n.useCallback)((function(e){return function(){switch(Q){case"start":return _Z;case"end":return GZ;case"range":return zZ;default:throw new Error("Invalid returnValue.")}}()({maxDate:x,maxDetail:R,minDate:k,value:e})}),[x,R,k,Q]),Ie=(0,n.useCallback)((function(e,t){me(e);var i={action:t,activeStartDate:e,value:ke,view:Ae};O&&!WZ(Me,e)&&O(i)}),[Me,O,ke,Ae]),Oe=(0,n.useCallback)((function(e,t){var i=function(){switch(Ae){case"century":return _;case"decade":return H;case"year":return G;case"month":return B;default:throw new Error("Invalid view: ".concat(Ae,"."))}}();i&&i(e,t)}),[B,_,G,H,Ae]),je=(0,n.useCallback)((function(e,t){if(Fe){Oe(e,t);var i=Ee[Ee.indexOf(Ae)+1];if(!i)throw new Error("Attempted to drill down from the lowest view.");me(e),Re(i);var n={action:"drillDown",activeStartDate:e,value:ke,view:i};O&&!WZ(Me,e)&&O(n),U&&Ae!==i&&U(n),V&&V(n)}}),[Me,Fe,O,Oe,V,U,ke,Ae,Ee]),Be=(0,n.useCallback)((function(){if(Ne){var e=Ee[Ee.indexOf(Ae)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=fX(e,Me);me(t),Re(e);var i={action:"drillUp",activeStartDate:t,value:ke,view:e};O&&!WZ(Me,t)&&O(i),U&&Ae!==e&&U(i),W&&W(i)}}),[Me,Ne,O,W,U,ke,Ae,Ee]),_e=(0,n.useCallback)((function(e,t){var i=ke;Oe(e,t);var n,r=J&&!VZ(i);if(J)if(r)n=fX(De,e);else{if(!i)throw new Error("previousValue is required");if(Array.isArray(i))throw new Error("previousValue must not be an array");n=function(e,t,i){var n=[t,i].sort((function(e,t){return e.getTime()-t.getTime()}));return[fX(e,n[0]),yX(e,n[1])]}(De,i,e)}else n=Le(e);var s=!J||r||y?HZ({maxDate:x,maxDetail:R,minDate:k,minDetail:A,value:n,view:Ae}):null;t.persist(),me(s),we(n);var a={action:"onChange",activeStartDate:s,value:n,view:Ae};if(O&&!WZ(Me,s)&&O(a),j)if(J)if(VZ(n)){if(o){if(Array.isArray(n))throw new Error("value must not be an array");j([n||null,null],t)}}else j(n||null,t);else j(n||null,t)}),[Me,o,Le,y,x,R,k,A,O,j,Oe,J,ke,De,Ae]);function Ge(e){ye(e)}function ze(){ye(null)}function He(e){var t={activeStartDate:e?vX(Ae,Me):fX(Ae,Me),hover:Te,locale:C,maxDate:x,minDate:k,onClick:Fe?je:_e,onMouseOver:J?Ge:void 0,tileClassName:le,tileContent:ce,tileDisabled:de,value:ke,valueType:De};switch(Ae){case"century":return(0,it.jsx)(WX,AZ({formatYear:f,showNeighboringCentury:ne},t));case"decade":return(0,it.jsx)($X,AZ({formatYear:f,showNeighboringDecade:oe},t));case"year":return(0,it.jsx)(cZ,AZ({formatMonth:h,formatMonthYear:p},t));case"month":return(0,it.jsx)(DZ,AZ({calendarType:r,formatDay:d,formatLongDate:u,formatShortWeekday:g,formatWeekday:m,onClickWeekNumber:z,onMouseLeave:J?ze:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:$,showNeighboringMonth:se,showWeekNumbers:ae},t));default:throw new Error("Invalid view: ".concat(Ae,"."))}}(0,n.useImperativeHandle)(t,(function(){return{activeStartDate:Me,drillDown:je,drillUp:Be,onChange:_e,setActiveStartDate:Ie,value:ke,view:Ae}}),[Me,je,Be,_e,Ie,ke,Ae]);var Ve=Array.isArray(ke)?ke:[ke];return(0,it.jsxs)("div",{className:(0,Pe.A)(EZ,J&&1===Ve.length&&"".concat(EZ,"--selectRange"),$&&"".concat(EZ,"--doubleView"),s),ref:b,children:[ie?(0,it.jsx)(MX,{activeStartDate:Me,drillUp:Be,formatMonthYear:p,formatYear:f,locale:C,maxDate:x,minDate:k,navigationAriaLabel:E,navigationAriaLive:T,navigationLabel:P,next2AriaLabel:F,next2Label:N,nextAriaLabel:L,nextLabel:I,prev2AriaLabel:Y,prev2Label:K,prevAriaLabel:q,prevLabel:X,setActiveStartDate:Ie,showDoubleView:$,view:Ae,views:Ee}):null,(0,it.jsxs)("div",{className:"".concat(EZ,"__viewContainer"),onBlur:J?ze:void 0,onMouseLeave:J?ze:void 0,children:[He(),$?He(!0):null]})]})}));const YZ=UZ,KZ=()=>{const[e,t]=(0,n.useState)(new Date);return(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md my-4",children:[(0,it.jsx)("p",{className:"text-gray-700",children:"Calendar"}),(0,it.jsx)("div",{className:"mt-2",children:(0,it.jsx)(YZ,{onChange:t,value:e,className:"react-calendar"})})]})},qZ=()=>(0,it.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md my-4",children:[(0,it.jsx)("p",{className:"text-gray-700",children:"Birthdays"}),(0,it.jsxs)("div",{className:"flex mt-2",children:[(0,it.jsx)("img",{src:"birthday-person-avatar-uri",alt:"Birthday Person",className:"w-10 h-10 rounded-full"}),(0,it.jsxs)("div",{className:"ml-4",children:[(0,it.jsx)("p",{className:"font-bold",children:"John Doe"}),(0,it.jsx)("p",{className:"text-gray-500",children:"Teacher"})]})]})]}),XZ=()=>(0,it.jsxs)("div",{className:"p-4",children:[(0,it.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:[(0,it.jsx)(oq,{title:"Total Students",value:"1000"}),(0,it.jsx)(oq,{title:"Teachers",value:"48"}),(0,it.jsx)(oq,{title:"Non Teaching Staff",value:"48"}),(0,it.jsx)(oq,{title:"Classrooms",value:"234"}),(0,it.jsx)(oq,{title:"Labs",value:"48"})]}),(0,it.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[(0,it.jsx)(rq,{}),(0,it.jsx)(sq,{}),(0,it.jsx)(aq,{}),(0,it.jsx)(KZ,{}),(0,it.jsx)(qZ,{})]})]});var ZZ=i(7201);const QZ=kg(Ag()),JZ=()=>{const[e,t]=(0,n.useState)(null),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[b,C]=(0,n.useState)([]),w=e=>{o(e.target.value),s("")},x=()=>{g(!1)},S=()=>{f(!1)},R=()=>{y(!1)};(0,n.useEffect)((()=>{C([{label:"Present",value:"Present"===r?1:0},{label:"Absent",value:"Absent"===r?1:0}])}),[r]);const M={data:b,series:[{type:"pie",angleKey:"value",labelKey:"label",fills:["#4caf50","#f44336"]}]};return(0,it.jsxs)("div",{className:"flex flex-col p-6 bg-gray-100 min-h-screen",children:[(0,it.jsxs)("div",{className:"flex flex-row w-full max-w-8xl space-x-6",children:[(0,it.jsx)(xg,{localizer:QZ,events:[],startAccessor:"start",endAccessor:"end",style:{height:"700px",width:"100%"},selectable:!0,onSelectSlot:e=>{let{start:i}=e;t(i),s(""),l(""),d(""),h("")}}),(0,it.jsxs)(At,{className:"flex flex-col w-1/3 space-y-4",children:[(0,it.jsx)(ss,{value:i,onChange:w,label:"Student ID",variant:"outlined",fullWidth:!0}),(0,it.jsx)(oa,{onClick:()=>{(async()=>{if(e&&i){const n=Ag()(e).format("YYYY-MM-DD");console.log(n);try{const e=await fetch("".concat(Ga).concat("/admin_attendance_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:i,date:n})}),t=await e.json();if(console.log(t),e.ok)if(t.data&&t.data.length>0){const e=t.data[0];s(e.status||"No data available"),l(e.check_in_time||""),d(e.check_out_time||""),h(e.type||"")}else alert("No attendance data found for the selected date.");else alert("Failed to fetch attendance data")}catch(t){console.error("Error fetching attendance data:",t)}}else alert("Please select a date and enter a student ID.")})()},variant:"contained",color:"primary",fullWidth:!0,children:"Submit"}),(0,it.jsx)(oa,{onClick:()=>{f(!0)},variant:"contained",color:"success",fullWidth:!0,startIcon:(0,it.jsx)(ZZ.A,{}),children:"Add Attendance"}),(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md",children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold mb-4",children:"Monthly Attendance"}),(0,it.jsx)(KF,{options:M})]}),r&&(0,it.jsxs)(tr,{className:"p-4 bg-white rounded shadow-md cursor-pointer rounded flex items-center justify-between",onClick:()=>{g(!0)},children:[(0,it.jsxs)("div",{children:[(0,it.jsx)(ei,{variant:"h6",component:"h3",className:"font-bold",children:"Attendance Status"}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Date:"})," ",Ag()(e).format("YYYY-MM-DD")]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Student ID:"})," ",i]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Status:"})," ",r]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Check-In Time:"})," ",a]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Check-Out Time:"})," ",c]}),(0,it.jsxs)(ei,{children:[(0,it.jsx)("strong",{children:"Attendance Type:"})," ",u]})]}),(0,it.jsx)(Ks,{onClick:()=>{y(!0)},color:"error",children:(0,it.jsx)(WY.A,{})})]})]})]}),(0,it.jsxs)(Bg,{open:m,onClose:S,children:[(0,it.jsx)(Wg,{children:"Add Attendance"}),(0,it.jsxs)(Xg,{children:[(0,it.jsx)(ss,{autoFocus:!0,margin:"dense",id:"enrollment_or_employee_id",label:"Student ID",type:"text",fullWidth:!0,value:i,onChange:w}),(0,it.jsx)(ss,{margin:"dense",id:"attendanceStatus",label:"Attendance Status",type:"text",fullWidth:!0,value:r,onChange:e=>s(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"check_in_time",label:"Check-In Time",type:"time",fullWidth:!0,value:a,onChange:e=>l(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"check_out_time",label:"Check-Out Time",type:"time",fullWidth:!0,value:c,onChange:e=>d(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"type",label:"Attendance Type",type:"text",fullWidth:!0,value:u,onChange:e=>h(e.target.value)})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:S,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{const t=Ag()(e).format("YYYY-MM-DD");(await fetch("".concat(Ga).concat("/admin_put_attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:i,date:t,status:r,check_in_time:a,check_out_time:c,type:u})})).ok?alert("Attendance added successfully"):alert("Failed to add attendance")}catch(t){console.error("Error adding attendance:",t)}S()},color:"primary",children:"Add Attendance"})]})]}),(0,it.jsxs)(Bg,{open:p,onClose:x,children:[(0,it.jsx)(Wg,{children:"Edit Attendance"}),(0,it.jsxs)(Xg,{children:[(0,it.jsx)(ss,{autoFocus:!0,margin:"dense",id:"enrollment_or_employee_id",label:"Student ID",type:"text",fullWidth:!0,value:i,disabled:!0}),(0,it.jsx)(ss,{margin:"dense",id:"attendanceStatus",label:"Attendance Status",type:"text",fullWidth:!0,value:r,onChange:e=>s(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"check_in_time",label:"Check-In Time",type:"time",fullWidth:!0,value:a,onChange:e=>l(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"check_out_time",label:"Check-Out Time",type:"time",fullWidth:!0,value:c,onChange:e=>d(e.target.value)}),(0,it.jsx)(ss,{margin:"dense",id:"type",label:"Attendance Type",type:"text",fullWidth:!0,value:u,onChange:e=>h(e.target.value)})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:x,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{const t=Ag()(e).format("YYYY-MM-DD");(await fetch("".concat(Ga).concat("/admin_attendance_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:i,date:t,status:r,check_in_time:a,check_out_time:c,type:u})})).ok?alert("Attendance updated successfully"):alert("Failed to update attendance")}catch(t){console.error("Error updating attendance:",t)}x()},color:"primary",children:"Save Changes"})]})]}),(0,it.jsxs)(Bg,{open:v,onClose:R,children:[(0,it.jsx)(Wg,{children:"Delete Attendance"}),(0,it.jsx)(Xg,{children:(0,it.jsx)(ei,{children:"Are you sure you want to delete the attendance record?"})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:R,color:"secondary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{const t=Ag()(e).format("YYYY-MM-DD");(await fetch("".concat(Ga).concat("/admin_attendance_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:i,date:t,check_in_time:"10:00",check_out_time:"23:00",type:"halfday"})})).ok?(alert("Attendance deleted successfully"),s(""),l(""),d(""),h("")):alert("Failed to delete attendance")}catch(t){console.error("Error deleting attendance:",t)}R()},color:"error",children:"Delete"})]})]})]})},$Z=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,s]=(0,n.useState)(null),[a,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),[v,y]=(0,n.useState)({profile_type:"teacher",Name:"",phone:"",email:"",section_or_department:"",city:"",country:"",state:"",postal_code:"",address:"",date_of_birth:"",father_name:"",mother_name:"",from_year:"",to_year:"",joining_date_or_admission_date:"",gender:"",age:""});(0,n.useEffect)((()=>{b()}),[]);const b=async()=>{l(!0);try{const e=await fetch("".concat(Ga,"/admin_teacher_fetch")),i=await e.json(),n=i.Teachers.map(((e,t)=>({id:e.id,Name:e.Name,phone:e.phone,email:e.email,section_or_department:e.section_or_department,address:e.address,EmployeeID:e["Employee ID"],date_of_birth:e.date_of_birth,joining_date_or_admission_date:e.joining_date_or_admission_date,age:e.Age})));t(n),o(i.Deparments),l(!1)}catch(c){d("Failed to fetch data"),l(!1)}},C=e=>{e?(f(e),g(!0)):(f(v),g(!1)),h(!0)},w=()=>{h(!1),f(null)},x=(e,t)=>{f((i=>({...i,[e]:t})))},S=[{headerName:"Name",field:"Name",sortable:!0,filter:!0},{headerName:"Phone",field:"phone",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Department",field:"section_or_department",sortable:!0,filter:!0},{headerName:"Actions",cellRenderer:e=>(0,it.jsxs)("div",{className:"m-2 flex justify-center items-center space-x-6",children:[(0,it.jsx)(GY.A,{onClick:()=>C(e.data),className:"text-yellow-500 cursor-pointer"}),(0,it.jsx)(WY.A,{onClick:()=>(async e=>{if(console.log("Teacher id",e),window.confirm("Do you really want to delete this teacher?"))try{(await fetch("".concat(Ga,"/admin_teacher_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacher_id:e})})).ok?b():d("Failed to delete teacher")}catch(c){d("Failed to delete teacher")}})(e.data.EmployeeID),className:"text-red-500 cursor-pointer"})]})}];return(0,it.jsxs)("div",{className:"flex flex-col items-center",children:[(0,it.jsxs)("div",{className:"flex flex-row space-x-7 m-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Teacher"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>C(null),className:"mb-4 rounded",children:"+ Add Teacher"})]}),(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"75%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:S})}),(0,it.jsxs)(Bg,{open:u,onClose:w,children:[(0,it.jsx)(Wg,{children:p?"Edit Teacher":"Add Teacher"}),(0,it.jsx)(Xg,{children:m&&(0,it.jsxs)("div",{className:"flex flex-col space-y-4 max-w-3xl mx-auto",children:[(0,it.jsxs)("div",{className:"flex flex-col-2 space-x-4",children:[(0,it.jsx)(ss,{label:"Name",value:m.Name,onChange:e=>x("Name",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Phone",value:m.phone,onChange:e=>x("phone",e.target.value),fullWidth:!0})]}),(0,it.jsxs)("div",{className:"flex flex-col-2 space-x-4",children:[(0,it.jsx)(ss,{label:"Email",value:m.email,onChange:e=>x("email",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Address",value:m.address,onChange:e=>x("address",e.target.value),fullWidth:!0})]}),(0,it.jsxs)("div",{className:"flex flex-col-2 space-x-4",children:[(0,it.jsx)(ss,{label:"Department",value:m.section_or_department,onChange:e=>x("section_or_department",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Employee ID",value:m.EmployeeID,onChange:e=>x("EmployeeID",e.target.value),fullWidth:!0})]}),(0,it.jsxs)("div",{className:"flex flex-col-2 space-x-4",children:[(0,it.jsx)(ss,{label:"Date of Birth",value:m.date_of_birth,onChange:e=>x("date_of_birth",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Joining Date",value:m.joining_date_or_admission_date,onChange:e=>x("joining_date_or_admission_date",e.target.value),fullWidth:!0})]}),(0,it.jsx)("div",{className:"flex flex-col-2 space-x-4",children:(0,it.jsx)(ss,{label:"Age",value:m.age,onChange:e=>x("age",e.target.value),fullWidth:!0})})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:w,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{(await fetch("".concat(Ga).concat(p?"/admin_teacher_update":"/add_user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok?(b(),w()):d("Failed to ".concat(p?"update":"add"," teacher"))}catch(c){d("Failed to ".concat(p?"update":"add"," teacher"))}},color:"primary",children:"Save"})]})]})]})},eQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)(!0),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=await fetch("".concat(Ga,"/admin_student_fetch")),i=await e.json();t(i.Students),s(!1)}catch(a){l("Failed to fetch data"),s(!1)}},h=e=>{o(e),d(!0)},p=()=>{d(!1),o(null)},g=(e,t)=>{o((i=>({...i,[e]:t})))},m=[{headerName:"Name",field:"Name",sortable:!0,filter:!0},{headerName:"Phone",field:"phone",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Grade",field:"Class",sortable:!0,filter:!0},{headerName:"DOB",field:"date_of_birth",sortable:!0,filter:!0},{headerName:"Actions",cellRenderer:e=>(0,it.jsxs)("div",{className:"m-2 flex justify-center items-center space-x-6",children:[(0,it.jsx)(GY.A,{onClick:()=>h(e.data),className:"text-yellow-500 cursor-pointer"}),(0,it.jsx)(WY.A,{onClick:()=>(async e=>{if(window.confirm("Do you really want to delete this data?"))try{(await fetch("".concat(Ga,"/admin_student_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:e})})).ok?u():l("Failed to delete data")}catch(a){l("Failed to delete data")}})(e.data.student_id),className:"text-red-500 cursor-pointer"})]})}];return(0,it.jsxs)("div",{className:"flex flex-col items-center",children:[(0,it.jsxs)("div",{className:"flex flex-row space-x-6 m-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Student"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>h({Name:"",phone:"",email:"",address:"",student_class:"",date_of_birth:""}),className:"mb-4 text-2xl",children:"+"})]}),(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"75%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:m})}),r&&(0,it.jsx)("p",{children:"Loading..."}),a&&(0,it.jsx)("p",{className:"text-red-500",children:a}),(0,it.jsxs)(Bg,{open:c,onClose:p,children:[(0,it.jsx)(Wg,{children:i&&i.id?"Edit Student":"Add Student"}),(0,it.jsx)(Xg,{children:i&&(0,it.jsxs)("div",{className:"flex flex-col space-y-4 max-w-3xl mx-auto",children:[(0,it.jsx)(ss,{label:"Name",value:i.Name,onChange:e=>g("Name",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Phone",value:i.phone,onChange:e=>g("phone",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Email",value:i.email,onChange:e=>g("email",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Address",value:i.address,onChange:e=>g("address",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"age",value:i.age,onChange:e=>g("age",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Date of Birth",value:i.date_of_birth,onChange:e=>g("date_of_birth",e.target.value),fullWidth:!0})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:p,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{try{const e={...i};e.student_id||(e.profile_type="student");(await fetch("".concat(Ga,"/").concat(e.student_id?"admin_student_update":"add_user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(u(),p()):l("Failed to save data")}catch(a){l("Failed to save data")}},color:"primary",children:"Save"})]})]})]})};function tQ(e){return(0,Fe.Ay)("MuiCardActions",e)}(0,Rt.A)("MuiCardActions",["root","spacing"]);const iQ=["disableSpacing","className"],nQ=(0,lt.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),oQ=n.forwardRef((function(e,t){const i=(0,ct.b)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:o}=i,r=(0,Ee.A)(i,iQ),s=(0,Te.A)({},i,{disableSpacing:n}),a=(e=>{const{classes:t,disableSpacing:i}=e,n={root:["root",!i&&"spacing"]};return(0,Ne.A)(n,tQ,t)})(s);return(0,it.jsx)(nQ,(0,Te.A)({className:(0,Pe.A)(a.root,o),ownerState:s,ref:t},r))})),rQ=oQ,sQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[r,s]=(0,n.useState)(null),[a,l]=(0,n.useState)({eventname:"",date:"",month:"",description:""}),[c,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)(Ag()().format("MM"));(0,n.useEffect)((()=>{p(u)}),[u]);const p=async e=>{d(!0);try{const i=Ag()().format("YYYY"),n=Ag()(e,"MM").format("MMMM"),o=await fetch("".concat(Ga,"/events"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:n,year:i})}),r=(await o.json()).events.map((e=>({eventname:e.eventname,date:e.date,month:e.month||"",description:e.description||""})));t(r)}catch(i){console.error("Error fetching events:",i)}finally{d(!1)}},g=e=>{s(e),l(e||{eventname:"",date:"",month:"",description:""}),o(!0)},m=()=>{o(!1),s(null)};return(0,it.jsxs)("div",{className:"flex flex-col items-center",children:[(0,it.jsxs)("div",{className:"flex flex-row space-x-6 m-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Event"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>g(null),className:"mb-4 text-2xl",children:"+"})]}),(0,it.jsx)(xg,{onNavigate:e=>{const t=Ag()(e).format("MM");h(t)},localizer:kg(Ag()),events:e,startAccessor:"start",endAccessor:"end",style:{height:400,width:"100%"},view:"month"}),(0,it.jsx)(va,{container:!0,spacing:3,className:"my-4",children:e.map(((e,t)=>(0,it.jsx)(va,{item:!0,xs:12,sm:6,md:4,children:(0,it.jsxs)(FY,{children:[(0,it.jsxs)(jY,{children:[(0,it.jsx)(ei,{variant:"h6",children:e.eventname}),(0,it.jsx)(ei,{color:"textSecondary",children:e.date}),(0,it.jsx)(ei,{color:"textSecondary",children:e.month}),(0,it.jsx)(ei,{children:e.description})]}),(0,it.jsxs)(rQ,{children:[(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>g(e),children:"Edit"}),(0,it.jsx)(oa,{variant:"contained",color:"secondary",onClick:()=>(async e=>{console.log(e);try{(await fetch("".concat(Ga,"/admin_events_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?p(u):console.error("Failed to delete event")}catch(t){console.error("Error deleting event:",t)}})(e),children:"Delete"})]})]})},t)))}),(0,it.jsxs)(Bg,{open:i,onClose:m,children:[(0,it.jsx)(Wg,{children:r?"Edit Event":"Add Event"}),(0,it.jsx)(Xg,{children:(0,it.jsxs)("div",{className:"flex flex-col space-y-4 max-w-3xl mx-auto",children:[(0,it.jsx)(ss,{label:"eventname",value:a.eventname,onChange:e=>l({...a,eventname:e.target.value}),fullWidth:!0}),(0,it.jsx)(ss,{label:"Date",type:"date",value:a.date,onChange:e=>l({...a,date:e.target.value}),fullWidth:!0,InputLabelProps:{shrink:!0}}),(0,it.jsx)(ss,{label:"month",value:a.month,onChange:e=>l({...a,month:e.target.value}),fullWidth:!0}),(0,it.jsx)(ss,{label:"Description",value:a.description,onChange:e=>l({...a,description:e.target.value}),fullWidth:!0})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:m,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{if(r)try{(await fetch("".concat(Ga,"/admin_events_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,id:r.id})})).ok?(p(u),m()):console.error("Failed to update event")}catch(e){console.error("Error updating event:",e)}else try{(await fetch("".concat(Ga,"/admin_events_create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(p(u),m()):console.error("Failed to add event")}catch(e){console.error("Error adding event:",e)}},color:"primary",children:"Save"})]})]})]})},aQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[r,s]=(0,n.useState)({id:null,name:"",date:"",day:""});(0,n.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=await fetch("".concat(Ga,"/holidays"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:"january"})}),i=await e.json();console.log(i),t(i.holidays||[])}catch(e){console.error("Error fetching holidays:",e)}},l=e=>{s(e),o(!0)},c=()=>{s({id:null,name:"",date:"",day:""}),o(!1)},d=(e,t)=>{s({...r,[e]:t})},u=[{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Date",field:"date",sortable:!0,filter:!0},{headerName:"Description",field:"dayOfWeek",sortable:!0,filter:!0},{headerName:"Actions",cellRenderer:e=>(0,it.jsxs)("div",{className:"m-2 flex justify-center items-center space-x-6",children:[(0,it.jsx)(GY.A,{onClick:()=>l(e.data),className:"text-yellow-500 cursor-pointer"}),(0,it.jsx)(WY.A,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this holiday?"))try{(await fetch("".concat(Ga,"/admin_holidays_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&a()}catch(t){console.error("Error deleting holiday:",t)}})(e.data),className:"text-red-500 cursor-pointer"})]})}];return(0,it.jsxs)("div",{className:"flex flex-col items-center",children:[(0,it.jsxs)("div",{className:"flex flex-row space-x-6 m-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Holiday"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>l({id:null,name:"",date:"",day:""}),className:"mb-4 text-2xl",children:"+"})]}),(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"75%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:u})}),(0,it.jsxs)(Bg,{open:i,onClose:c,children:[(0,it.jsx)(Wg,{children:r.id?"Edit Holiday":"Add Holiday"}),(0,it.jsx)(Xg,{children:(0,it.jsxs)("div",{className:"flex flex-col space-y-4 max-w-3xl mx-auto",children:[(0,it.jsx)(ss,{label:"Name",value:r.name,onChange:e=>d("name",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Date",type:"date",value:r.date,onChange:e=>d("date",e.target.value),fullWidth:!0}),(0,it.jsx)(ss,{label:"Description",value:r.day,onChange:e=>d("day",e.target.value),fullWidth:!0})]})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:c,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:async()=>{const{id:e,name:t,date:i,day:n}=r;if(t&&i)try{const o="POST",r="".concat(Ga,e?"/admin_holidays_update":"/admin_holidays_create");(await fetch(r,{method:o,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,date:i,day:n})})).ok&&(a(),c())}catch(o){console.error("Error saving holiday:",o)}},color:"primary",children:"Save"})]})]})]})};var lQ=i(5382),cQ=i(4802);const dQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0);(0,n.useEffect)((()=>{r()}),[]);const r=async()=>{const e=(new Date).toISOString().split("T")[0];console.log(e);try{const i=await fetch("".concat(Ga,"/admin_leaves_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e})}),n=await i.json();t(n.leaves||[])}catch(i){console.error("Error fetching leave requests:",i)}finally{o(!1)}},s=async(e,t)=>{try{(await fetch("".concat(Ga,"/admin_leaves_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,from_date:t.startDate,to_date:t.endDate,status:e})})).ok?r():console.log("Failed to ".concat(e," leave"))}catch(i){console.error("Error handling leave action (".concat(e,"):"),i)}},a=[{headerName:"Employee Name",field:"employeeName",sortable:!0,filter:!0},{headerName:"Employee Id",field:"Id",sortable:!0,filter:!0},{headerName:"Leave Type",field:"type",sortable:!0,filter:!0},{headerName:"Start Date",field:"from_date",sortable:!0,filter:!0},{headerName:"End Date",field:"to_date",sortable:!0,filter:!0},{headerName:"Reason",field:"reason",sortable:!0,filter:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Actions",cellRendererFramework:e=>(0,it.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,it.jsx)(lQ.A,{onClick:()=>{return t=e.data,s("Approved",t);var t},className:"text-green-500 cursor-pointer"}),(0,it.jsx)(cQ.A,{onClick:()=>{return t=e.data,s("Declined",t);var t},className:"text-red-500 cursor-pointer"})]})}];return(0,it.jsxs)("div",{className:"flex flex-col items-center",children:[(0,it.jsx)("div",{className:"flex flex-row justify-between items-center w-full max-w-3xl p-4",children:(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Leave Management"})}),i?(0,it.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,it.jsx)(qK,{})}):(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"75%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:a})})]})},uQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[r,s]=(0,n.useState)("new"),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)("");(0,n.useEffect)((()=>{v()}),[]);const v=async()=>{g(!0),f("");try{const e=await fetch("".concat(Ga,"/admin_enquiry_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enrollment_or_employee_id:"admin"})});if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));const i=(await e.json()).data.map(((e,t)=>({id:t,title:"Enquiry ".concat(t+1),submitDate:e.date,studentName:e.Name,class:e.Class,section:e.Section,contactNo:e["Phone Number"],parentName:e["Parent Name"],message:e.Message,student:e.Student_id})));t(i)}catch(m){f("Failed to fetch data"),console.error("Failed to fetch data:",m)}finally{g(!1)}},y=i=>{const n=[...e].sort(((e,t)=>"new"===i?new Date(t.submitDate)-new Date(e.submitDate):new Date(e.submitDate)-new Date(t.submitDate)));s(i),t(n)};return(0,it.jsxs)("div",{className:"container mx-auto p-4",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Admin Enquiries"}),p&&(0,it.jsx)("p",{children:"Loading..."}),m&&(0,it.jsx)("p",{className:"text-red-500",children:m}),(0,it.jsxs)("div",{className:"mb-4",children:[(0,it.jsx)("button",{className:"px-4 py-2 mr-2 rounded ".concat("new"===r?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>y("new"),children:"Newest First"}),(0,it.jsx)("button",{className:"px-4 py-2 rounded ".concat("old"===r?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>y("old"),children:"Oldest First"})]}),e.map(((t,i)=>(0,it.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4",children:[(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Student Name:"})," ",t.studentName]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Class:"})," ",t.class]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Section:"})," ",t.section]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Parent Name:"})," ",t.parentName]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Contact No:"})," ",t.contactNo]}),(0,it.jsxs)("p",{className:"mb-2",children:[(0,it.jsx)("strong",{children:"Message:"})," ",t.message]}),c===i?(0,it.jsxs)("div",{children:[(0,it.jsx)("textarea",{className:"w-full p-2 border rounded mb-2",value:u,onChange:e=>h(e.target.value),placeholder:"Write your reply here"}),(0,it.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",onClick:()=>(async t=>{const i=e[t],n=(new Date).toISOString().split("T")[0],o={date:i.submitDate,student_id:i.student,student_name:i.studentName,class:i.class,section:i.section,parent_name:i.parentName,contact_number:i.contactNo,message:i.message,replied_message:u,replied_by:"Admin",replied_date:n};try{const e=await fetch("".concat(Ga,"/admin_enquiry_replied"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));alert("Reply sent successfully!"),d(null),h("")}catch(m){console.error("Failed to send reply:",m)}})(i),children:"Send Reply"}),(0,it.jsx)("button",{className:"ml-2 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>{d(null),h("")},children:"Cancel"})]}):(0,it.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:()=>d(i),children:"Reply"})]},i)))]})},hQ={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},pQ=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)({class:"",section:"",date:"",subject:"",homework:""}),[p,g]=(0,n.useState)(null);(0,n.useEffect)((()=>{e&&i&&m()}),[e,i]);const m=async()=>{l(!0);try{const t=(new Date).toISOString().split("T")[0],n=await fetch("".concat(Ga,"/admin_homework_fetch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:e,section:i,date:t})}),o=await n.json();console.log(o),s(o)}catch(t){console.error("Failed to fetch homework data:",t)}finally{l(!1)}},f=e=>{e?(g(e),h(e)):(g(null),h({class:"",section:"",date:"",subject:"",homework:""})),d(!0)},v=()=>{d(!1)},y=async()=>{try{(await fetch("".concat(Ga,"/admin_homework_create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok&&m()}catch(e){console.error("Failed to add homework:",e)}},b=async()=>{try{(await fetch("".concat(Ga,"/admin_homework_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok&&m()}catch(e){console.error("Failed to edit homework:",e)}},C=e=>{h({...u,[e.target.name]:e.target.value})};return(0,it.jsxs)("div",{className:"container mx-auto p-4",children:[(0,it.jsxs)("div",{className:"flex flex-row space-x-6 m-4",children:[(0,it.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Manage Homework"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>f(null),children:"Add Homework"})]}),(0,it.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,it.jsxs)(yn,{fullWidth:!0,margin:"normal",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsxs)(es,{value:e,onChange:e=>t(e.target.value),label:"Class",children:[(0,it.jsx)(VU,{value:"10",children:"10"}),(0,it.jsx)(VU,{value:"12",children:"12"})]})]}),(0,it.jsxs)(yn,{fullWidth:!0,margin:"normal",children:[(0,it.jsx)(hn,{children:"Section"}),(0,it.jsxs)(es,{value:i,onChange:e=>o(e.target.value),label:"Section",children:[(0,it.jsx)(VU,{value:"A",children:"A"}),(0,it.jsx)(VU,{value:"B",children:"B"})]})]})]}),a?(0,it.jsx)("p",{children:"Loading..."}):(0,it.jsx)("ul",{className:"mt-4",children:r.map((e=>(0,it.jsxs)("li",{className:"border p-2 mb-2 flex justify-between items-center",children:[(0,it.jsxs)("div",{children:[(0,it.jsx)("h2",{className:"font-bold",children:e.subject}),(0,it.jsx)("p",{children:e.homework})]}),(0,it.jsxs)("div",{children:[(0,it.jsx)(GY.A,{onClick:()=>f(e),className:"text-yellow-500 cursor-pointer"}),(0,it.jsx)(WY.A,{onClick:()=>(async e=>{try{(await fetch("".concat(Ga,"/admin_homework_delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok&&m()}catch(t){console.error("Failed to delete homework:",t)}})(e.id),className:"text-red-500 cursor-pointer"})]})]},e.id)))}),(0,it.jsx)(qo,{open:c,onClose:v,children:(0,it.jsxs)(At,{sx:hQ,children:[(0,it.jsx)(ei,{variant:"h6",component:"h2",children:p?"Edit Homework":"Add Homework"}),(0,it.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{p?await b():await y(),v()})()},children:[(0,it.jsxs)(yn,{fullWidth:!0,margin:"normal",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsxs)(es,{name:"class",value:u.class,onChange:C,label:"Class",children:[(0,it.jsx)(VU,{value:"1",children:"Class 1"}),(0,it.jsx)(VU,{value:"2",children:"Class 2"})]})]}),(0,it.jsxs)(yn,{fullWidth:!0,margin:"normal",children:[(0,it.jsx)(hn,{children:"Section"}),(0,it.jsxs)(es,{name:"section",value:u.section,onChange:C,label:"Section",children:[(0,it.jsx)(VU,{value:"A",children:"Section A"}),(0,it.jsx)(VU,{value:"B",children:"Section B"})]})]}),(0,it.jsx)(ss,{name:"date",type:"date",value:u.date,onChange:C,label:"Date",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,it.jsx)(ss,{name:"subject",value:u.subject,onChange:C,label:"Subject",fullWidth:!0,margin:"normal"}),(0,it.jsx)(ss,{name:"homework",value:u.homework,onChange:C,label:"Homework",fullWidth:!0,margin:"normal",multiline:!0,rows:4}),(0,it.jsx)(oa,{type:"submit",variant:"contained",color:"primary",children:p?"Update":"Create"})]})]})})]})},gQ=(0,Et.A)((0,it.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),mQ=(0,Et.A)((0,it.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),fQ=(0,Et.A)((0,it.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),vQ={123:{name:"Certificate123.pdf",file:"https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf",examType:"Final",class:"10"},456:{name:"Certificate456.pdf",file:null,examType:"Half Year",class:"12"},789:{name:"Certificate789.pdf",file:null,examType:"Quarterly",class:"11"}},yQ=["Final","Half Year","Quarterly"],bQ=["10","11","12"],CQ=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(vQ),[r,s]=(0,n.useState)(null),[a,l]=(0,n.useState)("Final"),[c,d]=(0,n.useState)("10"),[u,h]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Student Certificates Management"}),(0,it.jsxs)("div",{className:"flex mb-4",children:[(0,it.jsxs)("div",{className:"flex-1 pr-4 space-y-4",children:[(0,it.jsx)(ss,{label:"Student ID",value:e,onChange:e=>t(e.target.value),className:"mb-4 w-full"}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsx)(es,{value:a,onChange:e=>l(e.target.value),label:"Exam Type",children:yQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:c,onChange:e=>d(e.target.value),label:"Class",children:bQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)("div",{className:"flex space-x-4",children:[(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>{i[e]?alert("Certificate fetched successfully"):alert("No certificate found for this student ID")},className:"mb-4",children:"Fetch Certificate"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(gQ,{}),onClick:()=>h(!0),children:"Add Certificate"})]}),i[e]&&(0,it.jsxs)("div",{className:"flex flex-col",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Certificate Actions"}),(0,it.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,it.jsx)(oa,{variant:"contained",color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{const t={...i};delete t[e],o(t),alert("Certificate deleted successfully")},children:"Delete"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>h(!0),children:"Replace"})]})]})]}),(0,it.jsx)("div",{className:"flex-1",children:i[e]&&i[e].file&&(0,it.jsx)("div",{className:"flex justify-center",children:(0,it.jsx)("object",{data:i[e].file,type:"application/pdf",width:"800",height:"600",children:(0,it.jsx)("p",{children:"PDF preview is not available."})})})})]}),(0,it.jsxs)(Bg,{open:u,onClose:()=>h(!1),children:[(0,it.jsxs)(Wg,{children:[i[e]?"Replace":"Add"," Certificate"]}),(0,it.jsxs)(Xg,{className:"p-5 flex flex-col space-y-6",children:[(0,it.jsx)(yn,{fullWidth:!0,className:"mb-4",children:(0,it.jsx)(ss,{label:"Student ID",value:e,onChange:e=>t(e.target.value),className:"w-full"})}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsx)(es,{value:a,onChange:e=>l(e.target.value),label:"Exam Type",children:yQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:c,onChange:e=>d(e.target.value),label:"Class",children:bQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>s(e.target.files[0]),className:"mt-4 w-full"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>h(!1),color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:i[e]?()=>{if(r){const t={...i,[e]:{name:r.name,file:URL.createObjectURL(r),examType:a,class:c}};o(t),s(null),h(!1),alert("Certificate replaced successfully")}}:()=>{if(r){const t={...i,[e]:{name:r.name,file:URL.createObjectURL(r),examType:a,class:c}};o(t),s(null),h(!1),alert("Certificate added successfully")}},color:"primary",children:i[e]?"Replace":"Add"})]})]})]})},wQ={123:{name:"Result123.pdf",file:"https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf",examType:"Final",class:"10"},456:{name:"Result456.pdf",file:null,examType:"Half Year",class:"12"},789:{name:"Result789.pdf",file:null,examType:"Quarterly",class:"11"}},xQ=["Final","Half Year","Quarterly"],SQ=["10","11","12"],RQ=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(wQ),[r,s]=(0,n.useState)(null),[a,l]=(0,n.useState)("Final"),[c,d]=(0,n.useState)("10"),[u,h]=(0,n.useState)(!1);return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Student Results Management"}),(0,it.jsxs)("div",{className:"flex mb-4",children:[(0,it.jsxs)("div",{className:"flex-1 pr-4 space-y-4",children:[(0,it.jsx)(ss,{label:"Student ID",value:e,onChange:e=>t(e.target.value),className:"mb-4 w-full"}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsx)(es,{value:a,onChange:e=>l(e.target.value),label:"Exam Type",children:xQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:c,onChange:e=>d(e.target.value),label:"Class",children:SQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)("div",{className:"flex space-x-4",children:[(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>{i[e]?alert("Result fetched successfully"):alert("No result found for this student ID")},className:"mb-4",children:"Fetch Result"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(gQ,{}),onClick:()=>h(!0),children:"Add Result"})]}),i[e]&&(0,it.jsxs)("div",{className:"flex flex-col",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Result Actions"}),(0,it.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,it.jsx)(oa,{variant:"contained",color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{const t={...i};delete t[e],o(t),alert("Result deleted successfully")},children:"Delete"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>h(!0),children:"Replace"})]})]})]}),(0,it.jsx)("div",{className:"flex-1",children:i[e]&&i[e].file&&(0,it.jsx)("div",{className:"flex justify-center",children:(0,it.jsx)("object",{data:i[e].file,type:"application/pdf",width:"800",height:"600",children:(0,it.jsx)("p",{children:"PDF preview is not available."})})})})]}),(0,it.jsxs)(Bg,{open:u,onClose:()=>h(!1),children:[(0,it.jsxs)(Wg,{children:[i[e]?"Replace":"Add"," Result"]}),(0,it.jsxs)(Xg,{className:"p-5 flex flex-col space-y-6",children:[(0,it.jsx)(yn,{fullWidth:!0,className:"mb-4",children:(0,it.jsx)(ss,{label:"Student ID",value:e,onChange:e=>t(e.target.value),className:"w-full"})}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsx)(es,{value:a,onChange:e=>l(e.target.value),label:"Exam Type",children:xQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsxs)(yn,{fullWidth:!0,className:"mb-4",children:[(0,it.jsx)(hn,{children:"Class"}),(0,it.jsx)(es,{value:c,onChange:e=>d(e.target.value),label:"Class",children:SQ.map((e=>(0,it.jsx)(VU,{value:e,children:e},e)))})]}),(0,it.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>s(e.target.files[0]),className:"mt-4 w-full"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>h(!1),color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:i[e]?()=>{if(r){const t={...i,[e]:{name:r.name,file:URL.createObjectURL(r),examType:a,class:c}};o(t),s(null),h(!1),alert("Result replaced successfully")}}:()=>{if(r){const t={...i,[e]:{name:r.name,file:URL.createObjectURL(r),examType:a,class:c}};o(t),s(null),h(!1),alert("Result added successfully")}},color:"primary",children:i[e]?"Replace":"Add"})]})]})]})},MQ={"Math-101":{name:"Paper101.pdf",file:"https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf"},"Science-102":{name:"Paper102.pdf",file:null},"History-103":{name:"Paper103.pdf",file:null}},kQ=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(MQ),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),u=()=>"".concat(i,"-").concat(e);return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Paper Management"}),(0,it.jsxs)("div",{className:"flex mb-4",children:[(0,it.jsxs)("div",{className:"flex-1 pr-4 space-y-4",children:[(0,it.jsx)(ss,{label:"Class",value:e,onChange:e=>t(e.target.value),className:"mb-4 w-full"}),(0,it.jsx)(ss,{label:"Subject",value:i,onChange:e=>o(e.target.value),className:"mb-4 w-full"}),(0,it.jsxs)("div",{className:"flex space-x-10",children:[(0,it.jsx)(oa,{variant:"contained",color:"primary",onClick:()=>{const e=u();r[e]?alert("Paper fetched successfully"):alert("No paper found for this class and subject")},className:"mb-4",children:"Search"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(gQ,{}),onClick:()=>d(!0),children:"Add Paper"})]}),r[u()]&&(0,it.jsxs)("div",{className:"flex flex-col",children:[(0,it.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Paper Actions"}),(0,it.jsxs)("div",{className:"flex flex-row space-x-2 mb-4",children:[(0,it.jsx)(oa,{variant:"contained",color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{const e=u(),t={...r};delete t[e],s(t),alert("Paper deleted successfully")},children:"Delete"}),(0,it.jsx)(oa,{variant:"contained",color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>d(!0),children:"Replace"})]})]})]}),(0,it.jsx)("div",{className:"flex-1",children:r[u()]&&r[u()].file&&(0,it.jsx)("div",{className:"flex justify-center",children:(0,it.jsx)("object",{data:r[u()].file,type:"application/pdf",width:"800",height:"600",children:(0,it.jsx)("p",{children:"PDF preview is not available."})})})})]}),(0,it.jsxs)(Bg,{open:c,onClose:()=>d(!1),children:[(0,it.jsxs)(Wg,{children:[r[u()]?"Replace":"Add"," Paper"]}),(0,it.jsx)(Xg,{children:(0,it.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>l(e.target.files[0]),className:"mt-4 w-full"})}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:()=>d(!1),color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:r[u()]?()=>{if(a){const e=u(),t={...r,[e]:{name:a.name,file:URL.createObjectURL(a)}};s(t),l(null),d(!1),alert("Paper replaced successfully")}}:()=>{if(a){const e=u(),t={...r,[e]:{name:a.name,file:URL.createObjectURL(a)}};s(t),l(null),d(!1),alert("Paper added successfully")}},color:"primary",children:r[u()]?"Replace":"Add"})]})]})]})},DQ=(0,Et.A)((0,it.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var AQ=i(573);const EQ=[{id:1,route:["Route 1"],driver:"John Doe"},{id:2,route:["Route 2"],driver:"Jane Smith"}],TQ=[{id:1,studentName:"Charlie Davis",route:"Route 1"},{id:2,studentName:"Dana White",route:"Route 2"}],PQ=[{id:3,studentName:"Eve Black",route:"Route 3"},{id:4,studentName:"Frank Green",route:"Route 4"}],FQ=()=>{const[e,t]=(0,n.useState)(EQ),[i,o]=(0,n.useState)(TQ),[r,s]=(0,n.useState)(PQ),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)({id:null,route:[""],driver:""}),[p,g]=(0,n.useState)(!1),m=()=>d(!1),f=e=>{e?(h(e),g(!0)):(h({id:null,route:[""],driver:""}),g(!1)),l(!0)},v=()=>{l(!1),h({id:null,route:[""],driver:""})},y=e=>{s(r.filter((t=>t.id!==e)))};return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsxs)("div",{className:"flex flex-row p-4 justify-between",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Bus Management"}),(0,it.jsxs)("div",{className:"space-x-10",children:[(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(DQ,{}),onClick:()=>f(null),children:"Add Bus"}),(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(AQ.A,{}),onClick:()=>d(!0),children:"Pending Requests"})]}),(0,it.jsx)(qo,{open:c,onClose:m,children:(0,it.jsxs)(At,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded shadow-lg w-1/2",children:[(0,it.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,it.jsx)(ei,{variant:"h6",children:"Pending Bus Requests"}),(0,it.jsx)(Ks,{onClick:m,children:(0,it.jsx)(Ua,{})})]}),r.length>0?(0,it.jsxs)("table",{className:"min-w-full border border-gray-300 mx-auto",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Student Name"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Route"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:r.map(((e,t)=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.studentName}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.route}),(0,it.jsxs)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:[(0,it.jsx)(oa,{color:"primary",onClick:()=>(e=>{const t=r.find((t=>t.id===e));o([...i,t]),s(r.filter((t=>t.id!==e)))})(e.id),children:"Approve"}),(0,it.jsx)(oa,{color:"secondary",onClick:()=>y(e.id),children:"Decline"})]})]},t)))})]}):(0,it.jsx)(ei,{children:"No pending requests."})]})})]}),(0,it.jsx)("div",{className:"flex flex-col space-y-4 mb-6",children:(0,it.jsxs)("div",{children:[(0,it.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Bus Routes"}),(0,it.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Route"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Driver"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:e.map((i=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b item-center",children:i.route.join(", ")}),(0,it.jsx)("td",{className:"py-2 px-4 border-b content-center",children:i.driver}),(0,it.jsxs)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:[(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>f(i),className:"mr-2",children:"Edit"}),(0,it.jsx)(oa,{color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{return n=i.id,void t(e.filter((e=>e.id!==n)));var n},children:"Delete"})]})]},i.id)))})]})]})}),(0,it.jsxs)("div",{children:[(0,it.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Student List"}),(0,it.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Student Name"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Route"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:i.map((e=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.studentName}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.route}),(0,it.jsx)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:(0,it.jsx)(oa,{color:"secondary",startIcon:(0,it.jsx)(Ua,{}),onClick:()=>y(e.id),children:"Decline"})})]},e.id)))})]})]}),(0,it.jsxs)(Bg,{open:a,onClose:v,children:[(0,it.jsx)("div",{className:"flex flex-row p-4 justify-between",children:(0,it.jsx)(Wg,{children:p?"Edit Bus":"Add Bus"})}),(0,it.jsxs)(Xg,{children:[u.route.map(((e,t)=>(0,it.jsxs)("div",{className:"flex items-center mt-4",children:[(0,it.jsx)(ss,{label:"Route ".concat(t+1),value:e,onChange:e=>((e,t)=>{const i=u.route.map(((i,n)=>n===e?t:i));h({...u,route:i})})(t,e.target.value),className:"w-full"}),u.route.length>1&&(0,it.jsx)(Ks,{onClick:()=>(e=>{const t=u.route.filter(((t,i)=>i!==e));h({...u,route:t})})(t),children:(0,it.jsx)(Ua,{})})]},t))),(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(DQ,{}),onClick:()=>{h({...u,route:[...u.route,""]})},className:"mt-4",children:"Add Route"}),(0,it.jsx)(ss,{label:"Driver",value:u.driver,onChange:e=>h({...u,driver:e.target.value}),className:"mt-4 w-full"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:v,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{t(p?e.map((e=>e.id===u.id?u:e)):[...e,{...u,id:Date.now()}]),v()},color:"primary",children:p?"Save Changes":"Add Bus"})]})]})]})},NQ=(0,Et.A)((0,it.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHorizTwoTone"),LQ=()=>{const[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[r,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a()}),[]);const a=async()=>{try{const e=await fetch("".concat(Ga,"/admin_hostel_applied_fetch")),i=await e.json();t(i),o(!1)}catch(e){console.error("Error fetching hostel requests:",e),o(!1)}},l=async(i,n)=>{try{if((await fetch("".concat(Ga,"/hostel_decision_update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:i,enrollment_or_employee_id:n.enrollment_or_employee_id,building_name:n.building_name,date_applied:n.date_applied})})).ok){const o=e.map((e=>e.enrollment_or_employee_id===n.enrollment_or_employee_id?{...e,status:i}:e));t(o)}}catch(o){console.error("Error updating request status:",o)}},c=()=>s(!1);return i?(0,it.jsx)("div",{children:"Loading..."}):(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsxs)("div",{className:"flex flex-row p-4 justify-between",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Hostel Management"}),(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(NQ,{}),onClick:()=>s(!0),children:"Pending Requests"})]}),(0,it.jsx)(qo,{open:r,onClose:c,children:(0,it.jsxs)(At,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded shadow-lg w-1/2",children:[(0,it.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,it.jsx)(ei,{variant:"h6",children:"Pending Hostel Requests"}),(0,it.jsx)(Ks,{onClick:c,children:(0,it.jsx)(Ua,{})})]}),"Pending"==e.status?(0,it.jsxs)("table",{className:"min-w-full border border-gray-300 mx-auto",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Student Name"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Parent Name"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Phone Number"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Building"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Date Applied"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Status"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:e.map(((e,t)=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.name}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.parent_name}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.phone_number}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.building_name}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.date_applied}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.status}),(0,it.jsxs)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:[(0,it.jsx)(oa,{color:"primary",onClick:()=>l("Approved",e),children:"Approve"}),(0,it.jsx)(oa,{color:"secondary",onClick:()=>l("Declined",e),children:"Decline"})]})]},t)))})]}):(0,it.jsx)(ei,{children:"No pending requests."})]})})]})},IQ=[{id:1,title:"The Great Gatsby",author:"F. Scott Fitzgerald"},{id:2,title:"To Kill a Mockingbird",author:"Harper Lee"}],OQ=[{id:3,studentName:"Alice Johnson",bookTitle:"1984"},{id:4,studentName:"Bob Brown",bookTitle:"Moby Dick"}],jQ=()=>{const[e,t]=(0,n.useState)(IQ),[i,o]=(0,n.useState)(OQ),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)({id:null,title:"",author:""}),[u,h]=(0,n.useState)(!1),p=e=>{e?(d(e),h(!0)):(d({id:null,title:"",author:""}),h(!1)),s(!0)},g=()=>{s(!1),d({id:null,title:"",author:""})},m=()=>l(!1);return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsxs)("div",{className:"flex flex-row p-4 justify-between",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Library Management"}),(0,it.jsxs)("div",{className:"space-x-10",children:[(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(DQ,{}),onClick:()=>p(null),children:"Add Book"}),(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(NQ,{}),onClick:()=>l(!0),children:"Book Requests"})]}),(0,it.jsx)(qo,{open:a,onClose:m,children:(0,it.jsxs)(At,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded shadow-lg w-1/2",children:[(0,it.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,it.jsx)(ei,{variant:"h6",children:"Pending Book Requests"}),(0,it.jsx)(Ks,{onClick:m,children:(0,it.jsx)(Ua,{})})]}),i.length>0?(0,it.jsxs)("table",{className:"min-w-full border border-gray-300 mx-auto",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Student Name"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Book Title"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:i.map(((e,t)=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.studentName}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:e.bookTitle}),(0,it.jsxs)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:[(0,it.jsx)(oa,{color:"primary",onClick:()=>{return t=e.id,void o(i.filter((e=>e.id!==t)));var t},children:"Approve"}),(0,it.jsx)(oa,{color:"secondary",onClick:()=>{return t=e.id,void o(i.filter((e=>e.id!==t)));var t},children:"Decline"})]})]},t)))})]}):(0,it.jsx)(ei,{children:"No pending requests."})]})})]}),(0,it.jsx)("div",{className:"flex flex-col space-y-4 mb-6",children:(0,it.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Book Title"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Author"}),(0,it.jsx)("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),(0,it.jsx)("tbody",{children:e.map((i=>(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:i.title}),(0,it.jsx)("td",{className:"py-2 px-4 border-b",children:i.author}),(0,it.jsxs)("td",{className:"py-2 px-4 border-b flex flex-row space-x-10",children:[(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>p(i),children:"Edit"}),(0,it.jsx)(oa,{color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{return n=i.id,void t(e.filter((e=>e.id!==n)));var n},children:"Delete"})]})]},i.id)))})]})}),(0,it.jsxs)(Bg,{open:r,onClose:g,children:[(0,it.jsx)("div",{className:"flex flex-row p-4 justify-between",children:(0,it.jsx)(Wg,{children:u?"Edit Book":"Add Book"})}),(0,it.jsxs)(Xg,{children:[(0,it.jsx)(ss,{label:"Book Title",value:c.title,onChange:e=>d({...c,title:e.target.value}),className:"m-4 w-full"}),(0,it.jsx)(ss,{label:"Author",value:c.author,onChange:e=>d({...c,author:e.target.value}),className:"m-4 w-full"})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:g,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{t(u?e.map((e=>e.id===c.id?c:e)):[...e,{...c,id:Date.now()}]),g()},color:"primary",children:u?"Save Changes":"Add Book"})]})]})]})},BQ=()=>{const[e,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)({class:"",subject:"",date:"",examType:"",time:"",endTime:""}),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[b,C]=(0,n.useState)(""),[w,x]=(0,n.useState)("");(0,n.useEffect)((()=>{e&&i&&S()}),[e,i]);const S=async()=>{try{const t=await fetch("".concat(Ga,"/exam_time_table"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class:e,exam_type:i})}),n=await t.json();if(!t.ok)throw new Error("Failed to fetch data");l(n["Exam Time Table"])}catch(t){console.error("Error fetching exam data:",t)}},R=e=>{const t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},M=e=>{const t=new Date(e);let i=t.getHours();const n=t.getMinutes(),o=i>=12?"PM":"AM";return i%=12,i=i||12,"".concat(i,":").concat(n<10?"0"+n:n," ").concat(o)},k=e=>{e?(h(e),f(!0)):(h({class:"",subject:"",date:"",examType:"",time:"",endTime:""}),f(!1)),y(!0)},D=()=>{y(!1)},A=[{headerName:"Subject",field:"subject",sortable:!0,filter:!0},{headerName:"Date",field:"date",sortable:!0,filter:!0},{headerName:"Time",field:"time",sortable:!0,filter:!0},{headerName:"Class",field:"class",sortable:!0,filter:!0},{headerName:"Exam Type",field:"examType",sortable:!0,filter:!0},{headerName:"Actions",field:"actions",cellRenderer:e=>(0,it.jsxs)("div",{className:"space-x-6",children:[(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(fQ,{}),onClick:()=>k(e.data),children:"Edit"}),(0,it.jsx)(oa,{color:"secondary",startIcon:(0,it.jsx)(mQ,{}),onClick:()=>{e.data.id},children:"Delete"})]})}],E=a.filter((e=>(!b||e.class===b)&&(!w||e.examType===w)));return(0,it.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,it.jsxs)("div",{className:"flex flex-row p-4 justify-between",children:[(0,it.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Examination Management"}),(0,it.jsx)(oa,{color:"primary",startIcon:(0,it.jsx)(DQ,{}),onClick:()=>k(null),children:"Add Examination"})]}),(0,it.jsxs)("div",{className:"flex flex-col space-y-4 mb-6",children:[(0,it.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,it.jsx)(ss,{label:"Search by Class",value:b,onChange:e=>C(e.target.value),className:"w-1/2"}),(0,it.jsxs)(yn,{className:"w-1/2",children:[(0,it.jsx)(hn,{children:"Search by Exam Type"}),(0,it.jsxs)(es,{value:w,onChange:e=>x(e.target.value),children:[(0,it.jsx)(VU,{value:"",children:(0,it.jsx)("em",{children:"None"})}),(0,it.jsx)(VU,{value:"Final",children:"Final"}),(0,it.jsx)(VU,{value:"Half Yearly",children:"Half Yearly"}),(0,it.jsx)(VU,{value:"Quarterly",children:"Quarterly"})]})]})]}),(0,it.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"100%"},children:(0,it.jsx)(dW,{rowData:E,columnDefs:A,defaultColDef:{flex:1,minWidth:100,resizable:!0}})})]}),(0,it.jsxs)(Bg,{open:v,onClose:D,children:[(0,it.jsx)(Wg,{children:m?"Edit Examination":"Add Examination"}),(0,it.jsxs)(Xg,{className:"space-y-6",children:[(0,it.jsx)(ss,{label:"Subject",value:u.subject,onChange:e=>h({...u,subject:e.target.value}),className:"mt-4 w-full"}),(0,it.jsx)(ss,{label:"Date",type:"date",value:u.date,onChange:e=>h({...u,date:e.target.value}),className:"mt-4 w-full",InputLabelProps:{shrink:!0}}),(0,it.jsx)(ss,{label:"Time",type:"time",value:u.time,onChange:e=>h({...u,time:e.target.value}),className:"mt-4 w-full",InputLabelProps:{shrink:!0}}),(0,it.jsx)(ss,{label:"End Time",type:"time",value:u.endTime,onChange:e=>h({...u,endTime:e.target.value}),className:"mt-4 w-full",InputLabelProps:{shrink:!0}}),(0,it.jsx)(ss,{label:"Class",value:u.class,onChange:e=>h({...u,class:e.target.value}),className:"mt-4 w-full"}),(0,it.jsxs)(yn,{className:"mt-4 w-full",children:[(0,it.jsx)(hn,{children:"Exam Type"}),(0,it.jsxs)(es,{value:u.examType,onChange:e=>h({...u,examType:e.target.value}),children:[(0,it.jsx)(VU,{value:"Final",children:"Final"}),(0,it.jsx)(VU,{value:"Half Yearly",children:"Half Yearly"}),(0,it.jsx)(VU,{value:"Quarterly",children:"Quarterly"})]})]})]}),(0,it.jsxs)(em,{children:[(0,it.jsx)(oa,{onClick:D,color:"primary",children:"Cancel"}),(0,it.jsx)(oa,{onClick:()=>{m||(()=>{const e={...u,date:R(u.date),time:M(u.time),endTime:M(u.endTime)};d((t=>[...t,e])),h({class:"",subject:"",date:"",examType:"",time:"",endTime:""}),y(!1)})()},color:"primary",children:m?"Save Changes":"Add Examination"})]})]})]})},_Q=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],GQ=["1st Period","2nd Period","3rd Period","Lunch","4th Period","5th Period"],zQ={Monday:["Mathematics","Physics","Chemistry","Lunch","Biology","English"],Tuesday:["English","Chemistry","Physics","Lunch","Mathematics","Biology"],Wednesday:["Biology","English","Physics","Lunch","Mathematics","Chemistry"],Thursday:["Chemistry","Mathematics","English","Lunch","Physics","Biology"],Friday:["Physics","Biology","Mathematics","Lunch","Chemistry","English"],Saturday:["English","Mathematics","Biology","Lunch","Physics","Chemistry"]},HQ=()=>{const[e,t]=(0,n.useState)(GQ.map(((e,t)=>{const i={period:e};return _Q.forEach((e=>{i[e]=zQ[e][t]})),i})));return(0,it.jsx)("div",{className:"ag-theme-alpine mt-10",style:{height:400,width:"100%"},children:(0,it.jsx)(dW,{rowData:e,columnDefs:[{headerName:"Period",field:"period",sortable:!0,filter:!0,resizable:!0},{headerName:"Monday",field:"Monday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Tuesday",field:"Tuesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Wednesday",field:"Wednesday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Thursday",field:"Thursday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Friday",field:"Friday",editable:!0,sortable:!0,filter:!0,resizable:!0},{headerName:"Saturday",field:"Saturday",editable:!0,sortable:!0,filter:!0,resizable:!0}],defaultColDef:{flex:1,minWidth:100,resizable:!0},onCellValueChanged:i=>{const n=[...e];n[i.node.rowIndex]=i.data,t(n)}})})};const VQ=function(){const[e,t]=(0,n.useState)(!1),i=localStorage.getItem("userProfile");return console.log(i),(0,it.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,it.jsx)(nq,{isOpen:e,toggleSidebar:()=>{t(!e)}}),(0,it.jsx)("div",{className:"flex-1 flex flex-col",children:(0,it.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:[(0,it.jsx)(Wa,{}),(0,it.jsxs)(ve,{children:[(0,it.jsx)(me,{path:"/Admin-Dashboard",element:(0,it.jsx)(XZ,{})}),(0,it.jsx)(me,{path:"/Admin-Attendance",element:(0,it.jsx)(JZ,{})}),(0,it.jsx)(me,{path:"/Admin-Teacher",element:(0,it.jsx)($Z,{})}),(0,it.jsx)(me,{path:"/Admin-Student",element:(0,it.jsx)(eQ,{})}),(0,it.jsx)(me,{path:"/Admin-Event",element:(0,it.jsx)(sQ,{})}),(0,it.jsx)(me,{path:"/Admin-Holiday",element:(0,it.jsx)(aQ,{})}),(0,it.jsx)(me,{path:"/Admin-Leave",element:(0,it.jsx)(dQ,{})}),(0,it.jsx)(me,{path:"/Admin-Enquiry",element:(0,it.jsx)(uQ,{})}),(0,it.jsx)(me,{path:"/Admin-Homework",element:(0,it.jsx)(pQ,{})}),(0,it.jsx)(me,{path:"/Admin-Certificate",element:(0,it.jsx)(CQ,{})}),(0,it.jsx)(me,{path:"/Admin-Setpaper",element:(0,it.jsx)(kQ,{})}),(0,it.jsx)(me,{path:"/Admin-Result",element:(0,it.jsx)(RQ,{})}),(0,it.jsx)(me,{path:"/Admin-Bus",element:(0,it.jsx)(FQ,{})}),(0,it.jsx)(me,{path:"/Admin-Hostel",element:(0,it.jsx)(LQ,{})}),(0,it.jsx)(me,{path:"/Admin-Library",element:(0,it.jsx)(jQ,{})}),(0,it.jsx)(me,{path:"/Admin-Examination",element:(0,it.jsx)(BQ,{})}),(0,it.jsx)(me,{path:"/Admin-TimeTable",element:(0,it.jsx)(HQ,{})})]})]})})]})};const WQ=function(){const[e,t]=(0,n.useState)(!1);return(0,it.jsx)(Se,{children:(0,it.jsxs)(ve,{children:[(0,it.jsx)(me,{path:"/",element:(0,it.jsx)(Ha,{})}),(0,it.jsx)(me,{path:"/Student/*",element:(0,it.jsx)(wY,{})}),(0,it.jsx)(me,{path:"/Teacher/*",element:(0,it.jsx)(eq,{})}),(0,it.jsx)(me,{path:"/Admin/*",element:(0,it.jsx)(VQ,{})})]})})},UQ=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,6453)).then((t=>{let{getCLS:i,getFID:n,getFCP:o,getLCP:r,getTTFB:s}=t;i(e),n(e),o(e),r(e),s(e)}))};r.createRoot(document.getElementById("root")).render((0,it.jsx)(n.StrictMode,{children:(0,it.jsx)(WQ,{})})),UQ()})()})();
//# sourceMappingURL=main.2e23d6d1.js.map